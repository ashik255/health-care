(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-vendors"],{"0029":function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"00fd":function(t,e,r){var i=r("9e69"),n=Object.prototype,o=n.hasOwnProperty,s=n.toString,a=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),r=t[a];try{var i=!(t[a]=void 0)}catch(t){}var n=s.call(t);return i&&(e?t[a]=r:delete t[a]),n}},"012f":function(t,e,r){"use strict";var i=r("d13f"),n=r("f2fe"),o=r("bc25"),s=r("560b");t.exports=function(t){i(i.S,t,{from:function(t,e,r){var i,a,c,l,u=e;return n(this),(i=void 0!==u)&&n(u),null==t?new this:(a=[],i?(c=0,l=o(u,r,2),s(t,!1,function(t){a.push(l(t,c++))})):s(t,!1,a.push,a),new this(a))}})}},"013f":function(t,e,r){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.d(e,"a",function(){return i})},"0185":function(t,e,r){var i=r("e5fa");t.exports=function(t){return Object(i(t))}},"0196":function(t,e,r){var i=r("5a88"),n=r("bbf0");function o(t){this.mode=n.BYTE,this.data=new i(t)}o.getBitsLength=function(t){return 8*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)},t.exports=o},"01f9":function(t,e,r){"use strict";function i(){return this}var n=r("2d00"),o=r("5ca1"),s=r("2aba"),a=r("32e9"),c=r("84f2"),l=r("41a0"),u=r("7f20"),h=r("38fd"),f=r("2b4c")("iterator"),m=!([].keys&&"next"in[].keys()),d="values";t.exports=function(t,e,r,p,_,g,v){function y(t){if(!m&&t in E)return E[t];switch(t){case"keys":case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}}l(r,e,p);var b,x,w,S=e+" Iterator",C=_==d,T=!1,E=t.prototype,O=E[f]||E["@@iterator"]||_&&E[_],k=O||y(_),A=_?C?y("entries"):k:void 0,M="Array"==e&&E.entries||O;if(M&&(w=h(M.call(new t)))!==Object.prototype&&w.next&&(u(w,S,!0),n||"function"==typeof w[f]||a(w,f,i)),C&&O&&O.name!==d&&(T=!0,k=function(){return O.call(this)}),n&&!v||!m&&!T&&E[f]||a(E,f,k),c[e]=k,c[S]=i,_)if(b={values:C?k:y(d),keys:g?k:y("keys"),entries:A},v)for(x in b)x in E||s(E,x,b[x]);else o(o.P+o.F*(m||T),e,b);return b}},"0244":function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},"02d7":function(t,e,r){var i=r("6f8a"),n=r("b5aa"),o=r("1b55")("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},"02f4":function(t,e,r){var i=r("4588"),n=r("be13");t.exports=function(t){return function(e,r){var o,s,a=String(n(e)),c=i(r),l=a.length;return c<0||l<=c?t?"":void 0:(o=a.charCodeAt(c))<55296||56319<o||c+1===l||(s=a.charCodeAt(c+1))<56320||57343<s?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},"0342":function(t,e,r){function i(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function n(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function o(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function s(t){var e=t.a.offsetWidth,r=e+100;return t.f.style.width=r+"px",t.c.scrollLeft=r,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function a(t,e){function r(){var t=n;s(t)&&t.a.parentNode&&e(t.g)}var n=t;i(t.b,r),i(t.c,r),s(t)}function c(t,e){var r=e||{};this.family=t,this.style=r.style||"normal",this.weight=r.weight||"normal",this.stretch=r.stretch||"normal"}function l(){return null===d&&(d=!!document.fonts),d}function u(t,e){return[t.style,t.weight,function(){if(null===m){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}m=""!==t.style.font}return m}()?t.stretch:"","100px",e].join(" ")}var h,f,m,d;d=m=f=h=null,c.prototype.load=function(t,e){var r=this,i=t||"BESbswy",s=0,c=e||3e3,m=(new Date).getTime();return new Promise(function(t,e){if(l()&&!function(){if(null===f)if(l()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);f=!!t&&parseInt(t[1],10)<603}else f=!1;return f}()){var d=new Promise(function(t,e){!function n(){(new Date).getTime()-m>=c?e(Error(c+"ms timeout exceeded")):document.fonts.load(u(r,'"'+r.family+'"'),i).then(function(e){1<=e.length?t():setTimeout(n,25)},e)}()}),p=new Promise(function(t,e){s=setTimeout(function(){e(Error(c+"ms timeout exceeded"))},c)});Promise.race([p,d]).then(function(){clearTimeout(s),t(r)},e)}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}(function(){function l(){var e;(e=-1!=_&&-1!=g||-1!=_&&-1!=v||-1!=g&&-1!=v)&&((e=_!=g&&_!=v&&g!=v)||(null===h&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),h=!!e&&(parseInt(e[1],10)<536||536===parseInt(e[1],10)&&parseInt(e[2],10)<=11)),e=h&&(_==y&&g==y&&v==y||_==b&&g==b&&v==b||_==x&&g==x&&v==x)),e=!e),e&&(w.parentNode&&w.parentNode.removeChild(w),clearTimeout(s),t(r))}var f=new n(i),d=new n(i),p=new n(i),_=-1,g=-1,v=-1,y=-1,b=-1,x=-1,w=document.createElement("div");w.dir="ltr",o(f,u(r,"sans-serif")),o(d,u(r,"serif")),o(p,u(r,"monospace")),w.appendChild(f.a),w.appendChild(d.a),w.appendChild(p.a),document.body.appendChild(w),y=f.a.offsetWidth,b=d.a.offsetWidth,x=p.a.offsetWidth,function t(){if((new Date).getTime()-m>=c)w.parentNode&&w.parentNode.removeChild(w),e(Error(c+"ms timeout exceeded"));else{var r=document.hidden;!0!==r&&void 0!==r||(_=f.a.offsetWidth,g=d.a.offsetWidth,v=p.a.offsetWidth,l()),s=setTimeout(t,50)}}(),a(f,function(t){_=t,l()}),o(f,u(r,'"'+r.family+'",sans-serif')),a(d,function(t){g=t,l()}),o(d,u(r,'"'+r.family+'",serif')),a(p,function(t){v=t,l()}),o(p,u(r,'"'+r.family+'",monospace'))})})},t.exports=c},"034c":function(t,e,r){var i=r("7d8a"),n=r("adf3");t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},"0390":function(t,e,r){"use strict";var i=r("02f4")(!0);t.exports=function(t,e,r){return e+(r?i(t,e).length:1)}},"03ca":function(t,e,r){"use strict";var i=r("f2fe");function n(t){var e,r;this.promise=new t(function(t,i){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=i}),this.resolve=i(e),this.reject=i(r)}t.exports.f=function(t){return new n(t)}},"03cc":function(t,e,r){t.exports=r("d896")},"03d6":function(t,e,r){var i=r("9c0e"),n=r("6ca1"),o=r("39ad")(!1),s=r("5a94")("IE_PROTO");t.exports=function(t,e){var r,a=n(t),c=0,l=[];for(r in a)r!=s&&i(a,r)&&l.push(r);for(;e.length>c;)i(a,r=e[c++])&&(~o(l,r)||l.push(r));return l}},"03dd":function(t,e,r){var i=r("eac5"),n=r("57a5"),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return n(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},"0425":function(t,e){var r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";e.KANJI=new RegExp(r,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(i,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var n=new RegExp("^"+r+"$"),o=new RegExp("^[0-9]+$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return n.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return s.test(t)}},"044b":function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},"04cf":function(t,e,r){var i=r("4a89"),n=Math.min;t.exports=function(t){return 0<t?n(i(t),9007199254740991):0}},"051b":function(t,e,r){var i=r("1a14"),n=r("10db");t.exports=r("0bad")?function(t,e,r){return i.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}},"05f5":function(t,e,r){var i=r("7a41"),n=r("ef08").document,o=i(n)&&i(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},"061b":function(t,e,r){t.exports=r("7017")},"06db":function(t,e,r){"use strict";var i=r("23c6"),n={};n[r("2b4c")("toStringTag")]="z",n+""!="[object z]"&&r("2aba")(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},"06f1":function(t,e,r){},"072d":function(t,e,r){"use strict";var i=r("9876"),n=r("fed5"),o=r("1917"),s=r("0983"),a=r("9fbb"),c=Object.assign;t.exports=!c||r("4b8b")(function(){var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(t){e[t]=t}),7!=c({},t)[r]||Object.keys(c({},e)).join("")!=i})?function(t,e){for(var r=s(t),c=arguments.length,l=1,u=n.f,h=o.f;l<c;)for(var f,m=a(arguments[l++]),d=u?i(m).concat(u(m)):i(m),p=d.length,_=0;_<p;)h.call(m,f=d[_++])&&(r[f]=m[f]);return r}:c},"075a":function(t,e,r){},"0780":function(t,e,r){"use strict";function i(t,e){var r,i=d(e);if("F"!==i)return t._i[i];for(r=t._f;r;r=r.n)if(r.k==e)return r}var n=r("3adc").f,o=r("7108"),s=r("3904"),a=r("bc25"),c=r("b0bc"),l=r("560b"),u=r("e4a9"),h=r("245b"),f=r("1be4"),m=r("7d95"),d=r("6277").fastKey,p=r("1fca"),_=m?"_s":"size";t.exports={getConstructor:function(t,e,r,u){var h=t(function(t,i){c(t,h,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[_]=0,null!=i&&l(i,r,t[u],t)});return s(h.prototype,{clear:function(){for(var t=p(this,e),r=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];t._f=t._l=void 0,t[_]=0},delete:function(t){var r=p(this,e),n=i(r,t);if(n){var o=n.n,s=n.p;delete r._i[n.i],n.r=!0,s&&(s.n=o),o&&(o.p=s),r._f==n&&(r._f=o),r._l==n&&(r._l=s),r[_]--}return!!n},forEach:function(t,r){p(this,e);for(var i,n=a(t,1<arguments.length?r:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!i(p(this,e),t)}}),m&&n(h.prototype,"size",{get:function(){return p(this,e)[_]}}),h},def:function(t,e,r){var n,o,s=i(t,e);return s?s.v=r:(t._l=s={i:o=d(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=s),n&&(n.n=s),t[_]++,"F"!==o&&(t._i[o]=s)),t},getEntry:i,setStrong:function(t,e,r){u(t,e,function(t,r){this._t=p(t,e),this._k=r,this._l=void 0},function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?h(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(t._t=void 0,h(1))},r?"entries":"values",!r,!0),f(e)}}},"07c7":function(t,e){t.exports=function(){return!1}},"07c8":function(t,e,r){var i=r("d13f");i(i.S,"Object",{setPrototypeOf:r("6494").set})},"087d":function(t,e){t.exports=function(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}},"08c1":function(t,e,r){"use strict";function i(){}function n(t){var e;return!(!_(t)||"function"!=typeof(e=t.then))&&e}function o(t,e){if(!t._n){t._n=!0;var r=t._c;w(function(){for(var i=t._v,o=1==t._s,s=0,a=function(e){var r,s,a,c=o?e.ok:e.fail,l=e.resolve,u=e.reject,h=e.domain;try{c?(o||(2==t._h&&L(t),t._h=1),!0===c?r=i:(h&&h.enter(),r=c(i),h&&(h.exit(),a=!0)),r===e.promise?u(k("Promise-chain cycle")):(s=n(r))?s.call(r,l,u):l(r)):u(i)}catch(e){h&&!a&&h.exit(),u(e)}};r.length>s;)a(r[s++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}}function s(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),o(e,!0))}var a,c,l,u,h=r("e6a1"),f=r("b808"),m=r("a9f2"),d=r("a274"),p=r("569f"),_=r("ab4c"),g=r("9184"),v=r("8115"),y=r("88b8"),b=r("1aa7"),x=r("1ad4").set,w=r("a24c")(),S=r("cc20"),C=r("73c3"),T=r("4b9e"),E=r("1c08"),O="Promise",k=f.TypeError,A=f.process,M=A&&A.versions,P=M&&M.v8||"",D=f[O],j="process"==d(A),z=c=S.f,I=!!function(){try{var t=D.resolve(1),e=(t.constructor={})[r("b67f")("species")]=function(t){t(i,i)};return(j||"function"==typeof PromiseRejectionEvent)&&t.then(i)instanceof e&&0!==P.indexOf("6.6")&&-1===T.indexOf("Chrome/66")}catch(t){}}(),R=function(t){x.call(f,function(){var e,r,i,n=t._v,o=F(t);if(o&&(e=C(function(){j?A.emit("unhandledRejection",n,t):(r=f.onunhandledrejection)?r({promise:t,reason:n}):(i=f.console)&&i.error&&i.error("Unhandled promise rejection",n)}),t._h=j||F(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){x.call(f,function(){var e;j?A.emit("rejectionHandled",t):(e=f.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw k("Promise can't be resolved itself");(e=n(t))?w(function(){var i={_w:r,_d:!1};try{e.call(t,m(N,i,1),m(s,i,1))}catch(t){s.call(i,t)}}):(r._v=t,r._s=1,o(r,!1))}catch(t){s.call({_w:r,_d:!1},t)}}};I||(D=function(t){v(this,D,O,"_h"),g(t),a.call(this);try{t(m(N,this,1),m(s,this,1))}catch(t){s.call(this,t)}},(a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r("9faf")(D.prototype,{then:function(t,e){var r=z(b(this,D));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=j?A.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&o(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),l=function(){var t=new a;this.promise=t,this.resolve=m(N,t,1),this.reject=m(s,t,1)},S.f=z=function(t){return t===D||t===u?new l(t):c(t)}),p(p.G+p.W+p.F*!I,{Promise:D}),r("aab6")(D,O),r("0ec0")(O),u=r("ca38")[O],p(p.S+p.F*!I,O,{reject:function(t){var e=z(this);return(0,e.reject)(t),e.promise}}),p(p.S+p.F*(h||!I),O,{resolve:function(t){return E(h&&this===u?D:this,t)}}),p(p.S+p.F*!(I&&r("2299")(function(t){D.all(t).catch(i)})),O,{all:function(t){var e=this,r=z(e),i=r.resolve,n=r.reject,o=C(function(){var r=[],o=0,s=1;y(t,!1,function(t){var a=o++,c=!1;r.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,r[a]=t,--s||i(r))},n)}),--s||i(r)});return o.e&&n(o.v),r.promise},race:function(t){var e=this,r=z(e),i=r.reject,n=C(function(){y(t,!1,function(t){e.resolve(t).then(r.resolve,i)})});return n.e&&i(n.v),r.promise}})},"08cc":function(t,e,r){var i=r("1a8c");t.exports=function(t){return t==t&&!i(t)}},"08f1":function(t,e,r){"use strict";var i=r("0780"),n=r("1fca");t.exports=r("f2f6")("Set",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{add:function(t){return i.def(n(this,"Set"),t=0===t?0:t,t)}},i)},"0965":function(t,e,r){r("384fc"),t.exports=r("a7d3").parseFloat},"0983":function(t,e,r){var i=r("c901");t.exports=function(t){return Object(i(t))}},"099a":function(t,e){t.exports=function(t,e,r){for(var i=r-1,n=t.length;++i<n;)if(t[i]===e)return i;return-1}},"09fa":function(t,e,r){var i=r("4588"),n=r("9def");t.exports=function(t){if(void 0===t)return 0;var e=i(t),r=n(e);if(e!==r)throw RangeError("Wrong length!");return r}},"0a06":function(t,e,r){"use strict";var i=r("2444"),n=r("c532"),o=r("f6b4"),s=r("5270");function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t,e){"string"==typeof t&&(t=n.merge({url:arguments[0]},e)),(t=n.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var r=[s,void 0],o=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){r.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){r.push(t.fulfilled,t.rejected)});r.length;)o=o.then(r.shift(),r.shift());return o},n.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,r){return this.request(n.merge(r||{},{method:t,url:e}))}}),n.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,r,i){return this.request(n.merge(i||{},{method:t,url:e,data:r}))}}),t.exports=a},"0a0a":function(t,e,r){var i=r("da3c"),n=r("a7d3"),o=r("b457"),s=r("fda1"),a=r("3adc").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},"0a0d":function(t,e,r){t.exports=r("82e3")},"0a49":function(t,e,r){var i=r("9b43"),n=r("626aa"),o=r("4bf8"),s=r("9def"),a=r("cd1c");t.exports=function(t,e){var r=1==t,c=2==t,l=3==t,u=4==t,h=6==t,f=5==t||h,m=e||a;return function(e,a,d){for(var p,_,g=o(e),v=n(g),y=i(a,d,3),b=s(v.length),x=0,w=r?m(e,b):c?m(e,0):void 0;x<b;x++)if((f||x in v)&&(_=y(p=v[x],x,g),t))if(r)w[x]=_;else if(_)switch(t){case 3:return!0;case 5:return p;case 6:return x;case 2:w.push(p)}else if(u)return!1;return h?-1:l||u?u:w}}},"0a91f":function(t,e,r){r("b42c"),r("93c4"),t.exports=r("b77f")},"0ae2":function(t,e,r){var i=r("9876"),n=r("fed5"),o=r("1917");t.exports=function(t){var e=i(t),r=n.f;if(r)for(var s,a=r(t),c=o.f,l=0;a.length>l;)c.call(t,s=a[l++])&&e.push(s);return e}},"0b07":function(t,e,r){var i=r("34ac"),n=r("3698");t.exports=function(t,e){var r=n(t,e);return i(r)?r:void 0}},"0b99":function(t,e,r){"use strict";var i=r("19fa")(!0);r("393a")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=i(e,r),this._i+=t.length,{value:t,done:!1})})},"0bad":function(t,e,r){t.exports=!r("4b8b")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"0bfb":function(t,e,r){"use strict";var i=r("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0c67":function(t,e,r){},"0d24":function(t,e,r){(function(t){var i=r("2b3e"),n=r("07c7"),o=e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?i.Buffer:void 0,c=(a?a.isBuffer:void 0)||n;t.exports=c}).call(this,r("62e4")(t))},"0d58":function(t,e,r){var i=r("ce10"),n=r("e11e");t.exports=Object.keys||function(t){return i(t,n)}},"0d7b":function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},4:function(t,e){t.exports=r("d010")},92:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"el-radio-button",class:[t.size?"el-radio-button--"+t.size:"",{"is-active":t.value===t.label},{"is-disabled":t.isDisabled},{"is-focus":t.focus}],attrs:{role:"radio","aria-checked":t.value===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.value=t.isDisabled?t.value:t.label}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"el-radio-button__orig-radio",attrs:{type:"radio",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.value,t.label)},on:{change:[function(e){t.value=t.label},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}),r("span",{staticClass:"el-radio-button__inner",style:t.value===t.label?t.activeStyle:null,on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])}r.r(e),i._withStripped=!0;var n=r(4),o={name:"ElRadioButton",mixins:[r.n(n).a],inject:{elForm:{default:""},elFormItem:{default:""}},props:{label:{},disabled:Boolean,name:String},data:function(){return{focus:!1}},computed:{value:{get:function(){return this._radioGroup.value},set:function(t){this._radioGroup.$emit("input",t)}},_radioGroup:function(){for(var t=this.$parent;t;){if("ElRadioGroup"===t.$options.componentName)return t;t=t.$parent}return!1},activeStyle:function(){return{backgroundColor:this._radioGroup.fill||"",borderColor:this._radioGroup.fill||"",boxShadow:this._radioGroup.fill?"-1px 0 0 0 "+this._radioGroup.fill:"",color:this._radioGroup.textColor||""}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._radioGroup.radioGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isDisabled:function(){return this.disabled||this._radioGroup.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this._radioGroup&&this.value!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.dispatch("ElRadioGroup","handleChange",t.value)})}}},s=r(0),a=Object(s.a)(o,i,[],!1,null,null,null);a.options.__file="packages/radio/src/radio-button.vue";var c=a.exports;c.install=function(t){t.component(c.name,c)},e.default=c}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=92))},"0df6":function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"0e15":function(t,e,r){var i=r("597f");t.exports=function(t,e,r){return void 0===r?i(t,e,!1):i(t,r,!1!==e)}},"0ec0":function(t,e,r){"use strict";var i=r("b808"),n=r("e4e1"),o=r("45e2"),s=r("b67f")("species");t.exports=function(t){var e=i[t];o&&e&&!e[s]&&n.f(e,s,{configurable:!0,get:function(){return this}})}},"0f0f":function(t,e,r){var i=r("8eeb"),n=r("9934");t.exports=function(t,e){return t&&i(e,n(e),t)}},"0f4a":function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},"0f88":function(t,e,r){for(var i,n=r("7726"),o=r("32e9"),s=r("ca5a"),a=s("typed_array"),c=s("view"),l=!(!n.ArrayBuffer||!n.DataView),u=l,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=n[f[h++]])?(o(i.prototype,a,!0),o(i.prototype,c,!0)):u=!1;t.exports={ABV:l,CONSTR:u,TYPED:a,VIEW:c}},"0f89":function(t,e,r){var i=r("6f8a");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},"0fb7":function(t,e,r){},"100e":function(t,e,r){var i=r("cd9d"),n=r("2286"),o=r("c1c9");t.exports=function(t,e){return o(n(t,e,i),t+"")}},"103a":function(t,e,r){var i=r("da3c").document;t.exports=i&&i.documentElement},1041:function(t,e,r){var i=r("8eeb"),n=r("a029");t.exports=function(t,e){return i(t,n(t),e)}},1098:function(t,e,r){"use strict";e.__esModule=!0;var i=s(r("17ed")),n=s(r("f893")),o="function"==typeof n.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof n.default&&"symbol"===o(i.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":void 0===t?"undefined":o(t)}},"10b0":function(t,e,r){"use strict";var i={single_source_shortest_paths:function(t,e,r){var n={},o={};o[e]=0;var s,a,c,l,u,h,f,m=i.PriorityQueue.make();for(m.push(e,0);!m.empty();)for(c in a=(s=m.pop()).value,l=s.cost,u=t[a]||{})u.hasOwnProperty(c)&&(h=l+u[c],f=o[c],(void 0===o[c]||h<f)&&(o[c]=h,m.push(c,h),n[c]=a));if(void 0===r||void 0!==o[r])return n;var d=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(d)},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],i=e;i;)r.push(i),t[i],i=t[i];return r.reverse(),r},find_path:function(t,e,r){var n=i.single_source_shortest_paths(t,e,r);return i.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(t){var e,r=i.PriorityQueue,n={};for(e in t=t||{},r)r.hasOwnProperty(e)&&(n[e]=r[e]);return n.queue=[],n.sorter=t.sorter||r.default_sorter,n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=i},"10cb":function(t,e,r){},"10db":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"111f":function(t,e,r){"use strict";var i=r("d13f");t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},1157:function(t,e,r){var i;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */!function(e,r){"use strict";"object"==typeof t.exports?t.exports=e.document?r(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return r(t)}:r(e)}("undefined"!=typeof window?window:this,function(r,n){"use strict";function o(t){return null!=t&&t===t.window}var s=[],a=r.document,c=Object.getPrototypeOf,l=s.slice,u=s.concat,h=s.push,f=s.indexOf,m={},d=m.toString,p=m.hasOwnProperty,_=p.toString,g=_.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b={type:!0,src:!0,noModule:!0};function x(t,e,r){var i,n=(e=e||a).createElement("script");if(n.text=t,r)for(i in b)r[i]&&(n[i]=r[i]);e.head.appendChild(n).parentNode.removeChild(n)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?m[d.call(t)]||"object":typeof t}var S=function(t,e){return new S.fn.init(t,e)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(t){var e=!!t&&"length"in t&&t.length,r=w(t);return!y(t)&&!o(t)&&("array"===r||0===e||"number"==typeof e&&0<e&&e-1 in t)}S.fn=S.prototype={jquery:"3.3.1",constructor:S,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,function(e,r){return t.call(e,r,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,r=+t+(t<0?e:0);return this.pushStack(0<=r&&r<e?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:s.sort,splice:s.splice},S.extend=S.fn.extend=function(){var t,e,r,i,n,o,s=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===c&&(s=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)r=s[e],s!==(i=t[e])&&(l&&i&&(S.isPlainObject(i)||(n=Array.isArray(i)))?(o=n?(n=!1,r&&Array.isArray(r)?r:[]):r&&S.isPlainObject(r)?r:{},s[e]=S.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},S.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,r;return!(!t||"[object Object]"!==d.call(t))&&(!(e=c(t))||"function"==typeof(r=p.call(e,"constructor")&&e.constructor)&&_.call(r)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){x(t)},each:function(t,e){var r,i=0;if(T(t))for(r=t.length;i<r&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(C,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(T(Object(t))?S.merge(r,"string"==typeof t?[t]:t):h.call(r,t)),r},inArray:function(t,e,r){return null==e?-1:f.call(e,t,r)},merge:function(t,e){for(var r=+e.length,i=0,n=t.length;i<r;i++)t[n++]=e[i];return t.length=n,t},grep:function(t,e,r){for(var i=[],n=0,o=t.length,s=!r;n<o;n++)!e(t[n],n)!=s&&i.push(t[n]);return i},map:function(t,e,r){var i,n,o=0,s=[];if(T(t))for(i=t.length;o<i;o++)null!=(n=e(t[o],o,r))&&s.push(n);else for(o in t)null!=(n=e(t[o],o,r))&&s.push(n);return u.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=s[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){m["[object "+e+"]"]=e.toLowerCase()});var E=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){function e(t,e,r){var i="0x"+e-65536;return i!=i||r?e:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function r(){d()}var i,n,o,s,a,c,l,u,h,f,m,d,p,_,g,v,y,b,x,w="sizzle"+1*new Date,S=t.document,C=0,T=0,E=st(),O=st(),k=st(),A=function(t,e){return t===e&&(m=!0),0},M={}.hasOwnProperty,P=[],D=P.pop,j=P.push,z=P.push,I=P.slice,R=function(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+L+"*("+N+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",$=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",U=new RegExp(L+"+","g"),q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),H=new RegExp("^"+L+"*,"+L+"*"),V=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),X=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),W=new RegExp($),Y=new RegExp("^"+N+"$"),G={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=vt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{z.apply(P=I.call(S.childNodes),S.childNodes),P[S.childNodes.length].nodeType}catch(i){z={apply:P.length?function(t,e){j.apply(t,I.call(e))}:function(t,e){for(var r=t.length,i=0;t[r++]=e[i++];);t.length=r-1}}}function ot(t,e,r,i){var o,s,a,l,h,f,m,_=e&&e.ownerDocument,y=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==y&&9!==y&&11!==y)return r;if(!i&&((e?e.ownerDocument||e:S)!==p&&d(e),e=e||p,g)){if(11!==y&&(h=Z.exec(t)))if(o=h[1]){if(9===y){if(!(a=e.getElementById(o)))return r;if(a.id===o)return r.push(a),r}else if(_&&(a=_.getElementById(o))&&x(e,a)&&a.id===o)return r.push(a),r}else{if(h[2])return z.apply(r,e.getElementsByTagName(t)),r;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return z.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!k[t+" "]&&(!v||!v.test(t))){if(1!==y)_=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((l=e.getAttribute("id"))?l=l.replace(rt,it):e.setAttribute("id",l=w),s=(f=c(t)).length;s--;)f[s]="#"+l+" "+gt(f[s]);m=f.join(","),_=tt.test(t)&&pt(e.parentNode)||e}if(m)try{return z.apply(r,_.querySelectorAll(m)),r}catch(t){}finally{l===w&&e.removeAttribute("id")}}}return u(t.replace(q,"$1"),e,r,i)}function st(){var t=[];return function e(r,i){return t.push(r+" ")>o.cacheLength&&delete e[t.shift()],e[r+" "]=i}}function at(t){return t[w]=!0,t}function ct(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var r=t.split("|"),i=r.length;i--;)o.attrHandle[r[i]]=e}function ut(t,e){var r=e&&t,i=r&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(r)for(;r=r.nextSibling;)if(r===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var r=e.nodeName.toLowerCase();return("input"===r||"button"===r)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&nt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return at(function(e){return e=+e,at(function(r,i){for(var n,o=t([],r.length,e),s=o.length;s--;)r[n=o[s]]&&(r[n]=!(i[n]=r[n]))})})}function pt(t){return t&&void 0!==t.getElementsByTagName&&t}for(i in n=ot.support={},a=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=ot.setDocument=function(t){var i,s,c=t?t.ownerDocument||t:S;return c!==p&&9===c.nodeType&&c.documentElement&&(_=(p=c).documentElement,g=!a(p),S!==p&&(s=p.defaultView)&&s.top!==s&&(s.addEventListener?s.addEventListener("unload",r,!1):s.attachEvent&&s.attachEvent("onunload",r)),n.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ct(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=ct(function(t){return _.appendChild(t).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),n.getById?(o.filter.ID=function(t){var r=t.replace(et,e);return function(t){return t.getAttribute("id")===r}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var r=e.getElementById(t);return r?[r]:[]}}):(o.filter.ID=function(t){var r=t.replace(et,e);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===r}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var r,i,n,o=e.getElementById(t);if(o){if((r=o.getAttributeNode("id"))&&r.value===t)return[o];for(n=e.getElementsByName(t),i=0;o=n[i++];)if((r=o.getAttributeNode("id"))&&r.value===t)return[o]}return[]}}),o.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var r,i=[],n=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;r=o[n++];)1===r.nodeType&&i.push(r);return i},o.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},y=[],v=[],(n.qsa=Q.test(p.querySelectorAll))&&(ct(function(t){_.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+L+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+L+"*(?:value|"+F+")"),t.querySelectorAll("[id~="+w+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+L+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),_.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=Q.test(b=_.matches||_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&ct(function(t){n.disconnectedMatch=b.call(t,"*"),b.call(t,"[s!='']:x"),y.push("!=",$)}),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),i=Q.test(_.compareDocumentPosition),x=i||Q.test(_.contains)?function(t,e){var r=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=i?function(t,e){if(t===e)return m=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===p||t.ownerDocument===S&&x(S,t)?-1:e===p||e.ownerDocument===S&&x(S,e)?1:f?R(f,t)-R(f,e):0:4&r?-1:1)}:function(t,e){if(t===e)return m=!0,0;var r,i=0,n=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!n||!o)return t===p?-1:e===p?1:n?-1:o?1:f?R(f,t)-R(f,e):0;if(n===o)return ut(t,e);for(r=t;r=r.parentNode;)s.unshift(r);for(r=e;r=r.parentNode;)a.unshift(r);for(;s[i]===a[i];)i++;return i?ut(s[i],a[i]):s[i]===S?-1:a[i]===S?1:0}),p},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&d(t),e=e.replace(X,"='$1']"),n.matchesSelector&&g&&!k[e+" "]&&(!y||!y.test(e))&&(!v||!v.test(e)))try{var r=b.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return 0<ot(e,p,null,[t]).length},ot.contains=function(t,e){return(t.ownerDocument||t)!==p&&d(t),x(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==p&&d(t);var r=o.attrHandle[e.toLowerCase()],i=r&&M.call(o.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==i?i:n.attributes||!g?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},ot.escape=function(t){return(t+"").replace(rt,it)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,r=[],i=0,o=0;if(m=!n.detectDuplicates,f=!n.sortStable&&t.slice(0),t.sort(A),m){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return f=null,t},s=ot.getText=function(t){var e,r="",i=0,n=t.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=s(t)}else if(3===n||4===n)return t.nodeValue}else for(;e=t[i++];)r+=s(e);return r},(o=ot.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,e),t[3]=(t[3]||t[4]||t[5]||"").replace(et,e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,r=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":r&&W.test(r)&&(e=c(r,!0))&&(e=r.indexOf(")",r.length-e)-r.length)&&(t[0]=t[0].slice(0,e),t[2]=r.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var r=t.replace(et,e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===r}},CLASS:function(t){var e=E[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&E(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,r){return function(i){var n=ot.attr(i,t);return null==n?"!="===e:!e||(n+="","="===e?n===r:"!="===e?n!==r:"^="===e?r&&0===n.indexOf(r):"*="===e?r&&-1<n.indexOf(r):"$="===e?r&&n.slice(-r.length)===r:"~="===e?-1<(" "+n.replace(U," ")+" ").indexOf(r):"|="===e&&(n===r||n.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,r,i,n){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===n?function(t){return!!t.parentNode}:function(e,r,c){var l,u,h,f,m,d,p=o!=s?"nextSibling":"previousSibling",_=e.parentNode,g=a&&e.nodeName.toLowerCase(),v=!c&&!a,y=!1;if(_){if(o){for(;p;){for(f=e;f=f[p];)if(a?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;d=p="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?_.firstChild:_.lastChild],s&&v){for(y=(m=(l=(u=(h=(f=_)[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===C&&l[1])&&l[2],f=m&&_.childNodes[m];f=++m&&f&&f[p]||(y=m=0)||d.pop();)if(1===f.nodeType&&++y&&f===e){u[t]=[C,m,y];break}}else if(v&&(y=m=(l=(u=(h=(f=e)[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===C&&l[1]),!1===y)for(;(f=++m&&f&&f[p]||(y=m=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++y||(v&&((u=(h=f[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[C,y]),f!==e)););return(y-=n)===i||y%i==0&&0<=y/i}}},PSEUDO:function(t,e){var r,i=o.pseudos[t]||o.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return i[w]?i(e):1<i.length?(r=[t,t,"",e],o.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,r){for(var n,o=i(t,e),s=o.length;s--;)t[n=R(t,o[s])]=!(r[n]=o[s])}):function(t){return i(t,0,r)}):i}},pseudos:{not:at(function(t){var e=[],r=[],i=l(t.replace(q,"$1"));return i[w]?at(function(t,e,r,n){for(var o,s=i(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,i(e,null,o,r),e[0]=null,!r.pop()}}),has:at(function(t){return function(e){return 0<ot(t,e).length}}),contains:at(function(t){return t=t.replace(et,e),function(e){return-1<(e.textContent||e.innerText||s(e)).indexOf(t)}}),lang:at(function(t){return Y.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(et,e).toLowerCase(),function(e){var r;do{if(r=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(r=r.toLowerCase())===t||0===r.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var r=t.location&&t.location.hash;return r&&r.slice(1)===e.id},root:function(t){return t===_},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!o.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,r){return[r<0?r+e:r]}),even:dt(function(t,e){for(var r=0;r<e;r+=2)t.push(r);return t}),odd:dt(function(t,e){for(var r=1;r<e;r+=2)t.push(r);return t}),lt:dt(function(t,e,r){for(var i=r<0?r+e:r;0<=--i;)t.push(i);return t}),gt:dt(function(t,e,r){for(var i=r<0?r+e:r;++i<e;)t.push(i);return t})}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[i]=ht(i);for(i in{submit:!0,reset:!0})o.pseudos[i]=ft(i);function _t(){}function gt(t){for(var e=0,r=t.length,i="";e<r;e++)i+=t[e].value;return i}function vt(t,e,r){var i=e.dir,n=e.next,o=n||i,s=r&&"parentNode"===o,a=T++;return e.first?function(e,r,n){for(;e=e[i];)if(1===e.nodeType||s)return t(e,r,n);return!1}:function(e,r,c){var l,u,h,f=[C,a];if(c){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,r,c))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(u=(h=e[w]||(e[w]={}))[e.uniqueID]||(h[e.uniqueID]={}),n&&n===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=u[o])&&l[0]===C&&l[1]===a)return f[2]=l[2];if((u[o]=f)[2]=t(e,r,c))return!0}return!1}}function yt(t){return 1<t.length?function(e,r,i){for(var n=t.length;n--;)if(!t[n](e,r,i))return!1;return!0}:t[0]}function bt(t,e,r,i,n){for(var o,s=[],a=0,c=t.length,l=null!=e;a<c;a++)(o=t[a])&&(r&&!r(o,i,n)||(s.push(o),l&&e.push(a)));return s}function xt(t,e,r,i,n,o){return i&&!i[w]&&(i=xt(i)),n&&!n[w]&&(n=xt(n,o)),at(function(o,s,a,c){var l,u,h,f=[],m=[],d=s.length,p=o||function(t,e,r){for(var i=0,n=e.length;i<n;i++)ot(t,e[i],r);return r}(e||"*",a.nodeType?[a]:a,[]),_=!t||!o&&e?p:bt(p,f,t,a,c),g=r?n||(o?t:d||i)?[]:s:_;if(r&&r(_,g,a,c),i)for(l=bt(g,m),i(l,[],a,c),u=l.length;u--;)(h=l[u])&&(g[m[u]]=!(_[m[u]]=h));if(o){if(n||t){if(n){for(l=[],u=g.length;u--;)(h=g[u])&&l.push(_[u]=h);n(null,g=[],l,c)}for(u=g.length;u--;)(h=g[u])&&-1<(l=n?R(o,h):f[u])&&(o[l]=!(s[l]=h))}}else g=bt(g===s?g.splice(d,g.length):g),n?n(null,s,g,c):z.apply(s,g)})}function wt(t){for(var e,r,i,n=t.length,s=o.relative[t[0].type],a=s||o.relative[" "],c=s?1:0,l=vt(function(t){return t===e},a,!0),u=vt(function(t){return-1<R(e,t)},a,!0),f=[function(t,r,i){var n=!s&&(i||r!==h)||((e=r).nodeType?l(t,r,i):u(t,r,i));return e=null,n}];c<n;c++)if(r=o.relative[t[c].type])f=[vt(yt(f),r)];else{if((r=o.filter[t[c].type].apply(null,t[c].matches))[w]){for(i=++c;i<n&&!o.relative[t[i].type];i++);return xt(1<c&&yt(f),1<c&&gt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(q,"$1"),r,c<i&&wt(t.slice(c,i)),i<n&&wt(t=t.slice(i)),i<n&&gt(t))}f.push(r)}return yt(f)}function St(t,e){function r(r,s,a,c,l){var u,f,m,_=0,v="0",y=r&&[],b=[],x=h,w=r||n&&o.find.TAG("*",l),S=C+=null==x?1:Math.random()||.1,T=w.length;for(l&&(h=s===p||s||l);v!==T&&null!=(u=w[v]);v++){if(n&&u){for(f=0,s||u.ownerDocument===p||(d(u),a=!g);m=t[f++];)if(m(u,s||p,a)){c.push(u);break}l&&(C=S)}i&&((u=!m&&u)&&_--,r&&y.push(u))}if(_+=v,i&&v!==_){for(f=0;m=e[f++];)m(y,b,s,a);if(r){if(0<_)for(;v--;)y[v]||b[v]||(b[v]=D.call(c));b=bt(b)}z.apply(c,b),l&&!r&&0<b.length&&1<_+e.length&&ot.uniqueSort(c)}return l&&(C=S,h=x),y}var i=0<e.length,n=0<t.length;return i?at(r):r}return _t.prototype=o.filters=o.pseudos,o.setFilters=new _t,c=ot.tokenize=function(t,e){var r,i,n,s,a,c,l,u=O[t+" "];if(u)return e?0:u.slice(0);for(a=t,c=[],l=o.preFilter;a;){for(s in r&&!(i=H.exec(a))||(i&&(a=a.slice(i[0].length)||a),c.push(n=[])),r=!1,(i=V.exec(a))&&(r=i.shift(),n.push({value:r,type:i[0].replace(q," ")}),a=a.slice(r.length)),o.filter)!(i=G[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),n.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return e?a.length:a?ot.error(t):O(t,c).slice(0)},l=ot.compile=function(t,e){var r,i=[],n=[],o=k[t+" "];if(!o){for(r=(e=e||c(t)).length;r--;)(o=wt(e[r]))[w]?i.push(o):n.push(o);(o=k(t,St(n,i))).selector=t}return o},u=ot.select=function(t,r,i,n){var s,a,u,h,f,m="function"==typeof t&&t,d=!n&&c(t=m.selector||t);if(i=i||[],1===d.length){if(2<(a=d[0]=d[0].slice(0)).length&&"ID"===(u=a[0]).type&&9===r.nodeType&&g&&o.relative[a[1].type]){if(!(r=(o.find.ID(u.matches[0].replace(et,e),r)||[])[0]))return i;m&&(r=r.parentNode),t=t.slice(a.shift().value.length)}for(s=G.needsContext.test(t)?0:a.length;s--&&(u=a[s],!o.relative[h=u.type]);)if((f=o.find[h])&&(n=f(u.matches[0].replace(et,e),tt.test(a[0].type)&&pt(r.parentNode)||r))){if(a.splice(s,1),!(t=n.length&&gt(a)))return z.apply(i,n),i;break}}return(m||l(t,d))(n,r,!g,i,!r||tt.test(t)&&pt(r.parentNode)||r),i},n.sortStable=w.split("").sort(A).join("")===w,n.detectDuplicates=!!m,d(),n.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,r){if(!r)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,r){if(!r&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||lt(F,function(t,e,r){var i;if(!r)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(r);function O(t,e,r){for(var i=[],n=void 0!==r;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&S(t).is(r))break;i.push(t)}return i}function k(t,e){for(var r=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&r.push(t);return r}S.find=E,S.expr=E.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=E.uniqueSort,S.text=E.getText,S.isXMLDoc=E.isXML,S.contains=E.contains,S.escapeSelector=E.escape;var A=S.expr.match.needsContext;function M(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(t,e,r){return y(e)?S.grep(t,function(t,i){return!!e.call(t,i,t)!==r}):e.nodeType?S.grep(t,function(t){return t===e!==r}):"string"!=typeof e?S.grep(t,function(t){return-1<f.call(e,t)!==r}):S.filter(e,t,r)}S.filter=function(t,e,r){var i=e[0];return r&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?S.find.matchesSelector(i,t)?[i]:[]:S.find.matches(t,S.grep(e,function(t){return 1===t.nodeType}))},S.fn.extend({find:function(t){var e,r,i=this.length,n=this;if("string"!=typeof t)return this.pushStack(S(t).filter(function(){for(e=0;e<i;e++)if(S.contains(n[e],this))return!0}));for(r=this.pushStack([]),e=0;e<i;e++)S.find(t,n[e],r);return 1<i?S.uniqueSort(r):r},filter:function(t){return this.pushStack(D(this,t||[],!1))},not:function(t){return this.pushStack(D(this,t||[],!0))},is:function(t){return!!D(this,"string"==typeof t&&A.test(t)?S(t):t||[],!1).length}});var j,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,r){var i,n;if(!t)return this;if(r=r||j,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==r.ready?r.ready(t):t(S):S.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:z.exec(t))||!i[1]&&e)return!e||e.jquery?(e||r).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),P.test(i[1])&&S.isPlainObject(e))for(i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(n=a.getElementById(i[2]))&&(this[0]=n,this.length=1),this}).prototype=S.fn,j=S(a);var I=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function F(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),r=e.length;return this.filter(function(){for(var t=0;t<r;t++)if(S.contains(this,e[t]))return!0})},closest:function(t,e){var r,i=0,n=this.length,o=[],s="string"!=typeof t&&S(t);if(!A.test(t))for(;i<n;i++)for(r=this[i];r&&r!==e;r=r.parentNode)if(r.nodeType<11&&(s?-1<s.index(r):1===r.nodeType&&S.find.matchesSelector(r,t))){o.push(r);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?f.call(S(t),this[0]):f.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return O(t,"parentNode")},parentsUntil:function(t,e,r){return O(t,"parentNode",r)},next:function(t){return F(t,"nextSibling")},prev:function(t){return F(t,"previousSibling")},nextAll:function(t){return O(t,"nextSibling")},prevAll:function(t){return O(t,"previousSibling")},nextUntil:function(t,e,r){return O(t,"nextSibling",r)},prevUntil:function(t,e,r){return O(t,"previousSibling",r)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return M(t,"iframe")?t.contentDocument:(M(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},function(t,e){S.fn[t]=function(r,i){var n=S.map(this,e,r);return"Until"!==t.slice(-5)&&(i=r),i&&"string"==typeof i&&(n=S.filter(i,n)),1<this.length&&(R[t]||S.uniqueSort(n),I.test(t)&&n.reverse()),this.pushStack(n)}});var L=/[^\x20\t\r\n\f]+/g;function N(t){return t}function B(t){throw t}function $(t,e,r,i){var n;try{t&&y(n=t.promise)?n.call(t).done(e).fail(r):t&&y(n=t.then)?n.call(t,e,r):e.apply(void 0,[t].slice(i))}catch(t){r.apply(void 0,[t])}}S.Callbacks=function(t){function e(){for(o=o||t.once,n=r=!0;a.length;c=-1)for(i=a.shift();++c<s.length;)!1===s[c].apply(i[0],i[1])&&t.stopOnFalse&&(c=s.length,i=!1);t.memory||(i=!1),r=!1,o&&(s=i?[]:"")}t="string"==typeof t?function(t){var e={};return S.each(t.match(L)||[],function(t,r){e[r]=!0}),e}(t):S.extend({},t);var r,i,n,o,s=[],a=[],c=-1,l={add:function(){return s&&(i&&!r&&(c=s.length-1,a.push(i)),function e(r){S.each(r,function(r,i){y(i)?t.unique&&l.has(i)||s.push(i):i&&i.length&&"string"!==w(i)&&e(i)})}(arguments),i&&!r&&e()),this},remove:function(){return S.each(arguments,function(t,e){for(var r;-1<(r=S.inArray(e,s,r));)s.splice(r,1),r<=c&&c--}),this},has:function(t){return t?-1<S.inArray(t,s):0<s.length},empty:function(){return s=s&&[],this},disable:function(){return o=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return o=a=[],i||r||(s=i=""),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=[t,(i=i||[]).slice?i.slice():i],a.push(i),r||e()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return n.then(null,t)},pipe:function(){var t=arguments;return S.Deferred(function(r){S.each(e,function(e,i){var n=y(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=n&&n.apply(this,arguments);t&&y(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[i[0]+"With"](this,n?[t]:arguments)})}),t=null}).promise()},then:function(t,i,n){var o=0;function s(t,e,i,n){return function(){function a(){var r,a;if(!(t<o)){if((r=i.apply(c,l))===e.promise())throw new TypeError("Thenable self-resolution");a=r&&("object"==typeof r||"function"==typeof r)&&r.then,y(a)?n?a.call(r,s(o,e,N,n),s(o,e,B,n)):(o++,a.call(r,s(o,e,N,n),s(o,e,B,n),s(o,e,N,e.notifyWith))):(i!==N&&(c=void 0,l=[r]),(n||e.resolveWith)(c,l))}}var c=this,l=arguments,u=n?a:function(){try{a()}catch(a){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(a,u.stackTrace),o<=t+1&&(i!==B&&(c=void 0,l=[a]),e.rejectWith(c,l))}};t?u():(S.Deferred.getStackHook&&(u.stackTrace=S.Deferred.getStackHook()),r.setTimeout(u))}}return S.Deferred(function(r){e[0][3].add(s(0,r,y(n)?n:N,r.notifyWith)),e[1][3].add(s(0,r,y(t)?t:N)),e[2][3].add(s(0,r,y(i)?i:B))}).promise()},promise:function(t){return null!=t?S.extend(t,n):n}},o={};return S.each(e,function(t,r){var s=r[2],a=r[5];n[r[1]]=s.add,a&&s.add(function(){i=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){function e(t){return function(e){n[t]=this,o[t]=1<arguments.length?l.call(arguments):e,--r||s.resolveWith(n,o)}}var r=arguments.length,i=r,n=Array(i),o=l.call(arguments),s=S.Deferred();if(r<=1&&($(t,s.done(e(i)).resolve,s.reject,!r),"pending"===s.state()||y(o[i]&&o[i].then)))return s.then();for(;i--;)$(o[i],e(i),s.reject);return s.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&U.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){r.setTimeout(function(){throw t})};var q=S.Deferred();function H(){a.removeEventListener("DOMContentLoaded",H),r.removeEventListener("load",H),S.ready()}S.fn.ready=function(t){return q.then(t).catch(function(t){S.readyException(t)}),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0)!==t&&0<--S.readyWait||q.resolveWith(a,[S])}}),S.ready.then=q.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?r.setTimeout(S.ready):(a.addEventListener("DOMContentLoaded",H),r.addEventListener("load",H));var V=function(t,e,r,i,n,o,s){var a=0,c=t.length,l=null==r;if("object"===w(r))for(a in n=!0,r)V(t,e,a,r[a],!0,o,s);else if(void 0!==i&&(n=!0,y(i)||(s=!0),l&&(e=s?(e.call(t,i),null):(l=e,function(t,e,r){return l.call(S(t),r)})),e))for(;a<c;a++)e(t[a],r,s?i:i.call(t[a],a,e(t[a],r)));return n?t:l?e.call(t):c?e(t[0],r):o},X=/^-ms-/,W=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function G(t){return t.replace(X,"ms-").replace(W,Y)}function K(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function J(){this.expando=S.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,r){var i,n=this.cache(t);if("string"==typeof e)n[G(e)]=r;else for(i in e)n[G(i)]=e[i];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,r){return void 0===e||e&&"string"==typeof e&&void 0===r?this.get(t,e):(this.set(t,e,r),void 0!==r?r:e)},remove:function(t,e){var r,i=t[this.expando];if(void 0!==i){if(void 0!==e){r=(e=Array.isArray(e)?e.map(G):(e=G(e))in i?[e]:e.match(L)||[]).length;for(;r--;)delete i[e[r]]}void 0!==e&&!S.isEmptyObject(i)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var Q=new J,Z=new J,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function rt(t,e,r){var i;if(void 0===r&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(r=t.getAttribute(i))){try{r=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(r)}catch(t){}Z.set(t,e,r)}else r=void 0;return r}function it(t,e,r,i){var n,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in n=r.apply(t,i||[]),e)t.style[o]=s[o];return n}S.extend({hasData:function(t){return Z.hasData(t)||Q.hasData(t)},data:function(t,e,r){return Z.access(t,e,r)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,r){return Q.access(t,e,r)},_removeData:function(t,e){Q.remove(t,e)}}),S.fn.extend({data:function(t,e){var r,i,n,o=this[0],s=o&&o.attributes;if(void 0!==t)return"object"==typeof t?this.each(function(){Z.set(this,t)}):V(this,function(e){var r;if(o&&void 0===e)return void 0!==(r=Z.get(o,t))?r:void 0!==(r=rt(o,t))?r:void 0;this.each(function(){Z.set(this,t,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(n=Z.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(r=s.length;r--;)s[r]&&0===(i=s[r].name).indexOf("data-")&&(i=G(i.slice(5)),rt(o,i,n[i]));Q.set(o,"hasDataAttrs",!0)}return n},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),S.extend({queue:function(t,e,r){var i;if(t)return e=(e||"fx")+"queue",i=Q.get(t,e),r&&(!i||Array.isArray(r)?i=Q.access(t,e,S.makeArray(r)):i.push(r)),i||[]},dequeue:function(t,e){e=e||"fx";var r=S.queue(t,e),i=r.length,n=r.shift(),o=S._queueHooks(t,e);"inprogress"===n&&(n=r.shift(),i--),n&&("fx"===e&&r.unshift("inprogress"),delete o.stop,n.call(t,function(){S.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var r=e+"queueHooks";return Q.get(t,r)||Q.access(t,r,{empty:S.Callbacks("once memory").add(function(){Q.remove(t,[e+"queue",r])})})}}),S.fn.extend({queue:function(t,e){var r=2;return"string"!=typeof t&&(e=t,t="fx",r--),arguments.length<r?S.queue(this[0],t):void 0===e?this:this.each(function(){var r=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==r[0]&&S.dequeue(this,t)})},dequeue:function(t){return this.each(function(){S.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function r(){--n||o.resolveWith(s,[s])}var i,n=1,o=S.Deferred(),s=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=Q.get(s[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(r));return r(),o.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),st=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&S.contains(t.ownerDocument,t)&&"none"===S.css(t,"display")};function ct(t,e,r,i){var n,o,s=20,a=i?function(){return i.cur()}:function(){return S.css(t,e,"")},c=a(),l=r&&r[3]||(S.cssNumber[e]?"":"px"),u=(S.cssNumber[e]||"px"!==l&&+c)&&ot.exec(S.css(t,e));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;s--;)S.style(t,e,u+l),(1-o)*(1-(o=a()/c||.5))<=0&&(s=0),u/=o;u*=2,S.style(t,e,u+l),r=r||[]}return r&&(u=+u||+c||0,n=r[1]?u+(r[1]+1)*r[2]:+r[2],i&&(i.unit=l,i.start=u,i.end=n)),n}var lt={};function ut(t,e){for(var r,i,n,o,s,a,c,l=[],u=0,h=t.length;u<h;u++)(i=t[u]).style&&(r=i.style.display,e?("none"===r&&(l[u]=Q.get(i,"display")||null,l[u]||(i.style.display="")),""===i.style.display&&at(i)&&(l[u]=(c=s=o=void 0,s=(n=i).ownerDocument,a=n.nodeName,(c=lt[a])||(o=s.body.appendChild(s.createElement(a)),c=S.css(o,"display"),o.parentNode.removeChild(o),"none"===c&&(c="block"),lt[a]=c)))):"none"!==r&&(l[u]="none",Q.set(i,"display",r)));for(u=0;u<h;u++)null!=l[u]&&(t[u].style.display=l[u]);return t}S.fn.extend({show:function(){return ut(this,!0)},hide:function(){return ut(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?S(this).show():S(this).hide()})}});var ht=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,mt=/^$|^module$|\/(?:java|ecma)script/i,dt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pt(t,e){var r;return r=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&M(t,e)?S.merge([t],r):r}function _t(t,e){for(var r=0,i=t.length;r<i;r++)Q.set(t[r],"globalEval",!e||Q.get(e[r],"globalEval"))}dt.optgroup=dt.option,dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td;var gt,vt,yt=/<|&#?\w+;/;function bt(t,e,r,i,n){for(var o,s,a,c,l,u,h=e.createDocumentFragment(),f=[],m=0,d=t.length;m<d;m++)if((o=t[m])||0===o)if("object"===w(o))S.merge(f,o.nodeType?[o]:o);else if(yt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(ft.exec(o)||["",""])[1].toLowerCase(),c=dt[a]||dt._default,s.innerHTML=c[1]+S.htmlPrefilter(o)+c[2],u=c[0];u--;)s=s.lastChild;S.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",m=0;o=f[m++];)if(i&&-1<S.inArray(o,i))n&&n.push(o);else if(l=S.contains(o.ownerDocument,o),s=pt(h.appendChild(o),"script"),l&&_t(s),r)for(u=0;o=s[u++];)mt.test(o.type||"")&&r.push(o);return h}gt=a.createDocumentFragment().appendChild(a.createElement("div")),(vt=a.createElement("input")).setAttribute("type","radio"),vt.setAttribute("checked","checked"),vt.setAttribute("name","t"),gt.appendChild(vt),v.checkClone=gt.cloneNode(!0).cloneNode(!0).lastChild.checked,gt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!gt.cloneNode(!0).lastChild.defaultValue;var xt=a.documentElement,wt=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ct=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Et(){return!1}function Ot(){try{return a.activeElement}catch(n){}}function kt(t,e,r,i,n,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof r&&(i=i||r,r=void 0),e)kt(t,a,r,i,e[a],o);return t}if(null==i&&null==n?(n=r,i=r=void 0):null==n&&("string"==typeof r?(n=i,i=void 0):(n=i,i=r,r=void 0)),!1===n)n=Et;else if(!n)return t;return 1===o&&(s=n,(n=function(t){return S().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),t.each(function(){S.event.add(this,e,n,i,r)})}S.event={global:{},add:function(t,e,r,i,n){var o,s,a,c,l,u,h,f,m,d,p,_=Q.get(t);if(_)for(r.handler&&(r=(o=r).handler,n=o.selector),n&&S.find.matchesSelector(xt,n),r.guid||(r.guid=S.guid++),(c=_.events)||(c=_.events={}),(s=_.handle)||(s=_.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(L)||[""]).length;l--;)m=p=(a=Ct.exec(e[l])||[])[1],d=(a[2]||"").split(".").sort(),m&&(h=S.event.special[m]||{},m=(n?h.delegateType:h.bindType)||m,h=S.event.special[m]||{},u=S.extend({type:m,origType:p,data:i,handler:r,guid:r.guid,selector:n,needsContext:n&&S.expr.match.needsContext.test(n),namespace:d.join(".")},o),(f=c[m])||((f=c[m]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,d,s)||t.addEventListener&&t.addEventListener(m,s)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=r.guid)),n?f.splice(f.delegateCount++,0,u):f.push(u),S.event.global[m]=!0)},remove:function(t,e,r,i,n){var o,s,a,c,l,u,h,f,m,d,p,_=Q.hasData(t)&&Q.get(t);if(_&&(c=_.events)){for(l=(e=(e||"").match(L)||[""]).length;l--;)if(m=p=(a=Ct.exec(e[l])||[])[1],d=(a[2]||"").split(".").sort(),m){for(h=S.event.special[m]||{},f=c[m=(i?h.delegateType:h.bindType)||m]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)u=f[o],!n&&p!==u.origType||r&&r.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,h.remove&&h.remove.call(t,u));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,d,_.handle)||S.removeEvent(t,m,_.handle),delete c[m])}else for(m in c)S.event.remove(t,m+e[l],r,i,!0);S.isEmptyObject(c)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,r,i,n,o,s,a=S.event.fix(t),c=new Array(arguments.length),l=(Q.get(this,"events")||{})[a.type]||[],u=S.event.special[a.type]||{};for(c[0]=a,e=1;e<arguments.length;e++)c[e]=arguments[e];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(s=S.event.handlers.call(this,a,l),e=0;(n=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=n.elem,r=0;(o=n.handlers[r++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((S.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,c))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(t,e){var r,i,n,o,s,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!("click"===t.type&&1<=t.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},r=0;r<c;r++)void 0===s[n=(i=e[r]).selector+" "]&&(s[n]=i.needsContext?-1<S(n,this).index(l):S.find(n,this,null,[l]).length),s[n]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ot()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ot()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&M(this,"input"))return this.click(),!1},_default:function(t){return M(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,r){t.removeEventListener&&t.removeEventListener(e,r)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Et,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&wt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},S.event.addProp),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var r,i=t.relatedTarget,n=t.handleObj;return i&&(i===this||S.contains(this,i))||(t.type=n.origType,r=n.handler.apply(this,arguments),t.type=e),r}}}),S.fn.extend({on:function(t,e,r,i){return kt(this,t,e,r,i)},one:function(t,e,r,i){return kt(this,t,e,r,i,1)},off:function(t,e,r){var i,n;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,S(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(r=e,e=void 0),!1===r&&(r=Et),this.each(function(){S.event.remove(this,t,r,e)});for(n in t)this.off(n,e,t[n]);return this}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Mt=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function jt(t,e){return M(t,"table")&&M(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function zt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function It(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var r,i,n,o,s,a,c,l;if(1===e.nodeType){if(Q.hasData(t)&&(o=Q.access(t),s=Q.set(e,o),l=o.events))for(n in delete s.handle,s.events={},l)for(r=0,i=l[n].length;r<i;r++)S.event.add(e,n,l[n][r]);Z.hasData(t)&&(a=Z.access(t),c=S.extend({},a),Z.set(e,c))}}function Ft(t,e,r,i){e=u.apply([],e);var n,o,s,a,c,l,h=0,f=t.length,m=f-1,d=e[0],p=y(d);if(p||1<f&&"string"==typeof d&&!v.checkClone&&Pt.test(d))return t.each(function(n){var o=t.eq(n);p&&(e[0]=d.call(this,n,o.html())),Ft(o,e,r,i)});if(f&&(o=(n=bt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===n.childNodes.length&&(n=o),o||i)){for(a=(s=S.map(pt(n,"script"),zt)).length;h<f;h++)c=n,h!==m&&(c=S.clone(c,!0,!0),a&&S.merge(s,pt(c,"script"))),r.call(t[h],c,h);if(a)for(l=s[s.length-1].ownerDocument,S.map(s,It),h=0;h<a;h++)c=s[h],mt.test(c.type||"")&&!Q.access(c,"globalEval")&&S.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?S._evalUrl&&S._evalUrl(c.src):x(c.textContent.replace(Dt,""),l,c))}return t}function Lt(t,e,r){for(var i,n=e?S.filter(e,t):t,o=0;null!=(i=n[o]);o++)r||1!==i.nodeType||S.cleanData(pt(i)),i.parentNode&&(r&&S.contains(i.ownerDocument,i)&&_t(pt(i,"script")),i.parentNode.removeChild(i));return t}S.extend({htmlPrefilter:function(t){return t.replace(At,"<$1></$2>")},clone:function(t,e,r){var i,n,o,s,a,c,l,u=t.cloneNode(!0),h=S.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(s=pt(u),i=0,n=(o=pt(t)).length;i<n;i++)a=o[i],c=s[i],"input"===(l=c.nodeName.toLowerCase())&&ht.test(a.type)?c.checked=a.checked:"input"!==l&&"textarea"!==l||(c.defaultValue=a.defaultValue);if(e)if(r)for(o=o||pt(t),s=s||pt(u),i=0,n=o.length;i<n;i++)Rt(o[i],s[i]);else Rt(t,u);return 0<(s=pt(u,"script")).length&&_t(s,!h&&pt(t,"script")),u},cleanData:function(t){for(var e,r,i,n=S.event.special,o=0;void 0!==(r=t[o]);o++)if(K(r)){if(e=r[Q.expando]){if(e.events)for(i in e.events)n[i]?S.event.remove(r,i):S.removeEvent(r,i,e.handle);r[Q.expando]=void 0}r[Z.expando]&&(r[Z.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Lt(this,t,!0)},remove:function(t){return Lt(this,t)},text:function(t){return V(this,function(t){return void 0===t?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ft(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||jt(this,t).appendChild(t)})},prepend:function(){return Ft(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=jt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(pt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return S.clone(this,t,e)})},html:function(t){return V(this,function(t){var e=this[0]||{},r=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!dt[(ft.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;r<i;r++)1===(e=this[r]||{}).nodeType&&(S.cleanData(pt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ft(this,arguments,function(e){var r=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(pt(this)),r&&r.replaceChild(e,this))},t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){S.fn[t]=function(t){for(var r,i=[],n=S(t),o=n.length-1,s=0;s<=o;s++)r=s===o?this:this.clone(!0),S(n[s])[e](r),h.apply(i,r.get());return this.pushStack(i)}});var Nt,Bt,$t,Ut,qt,Ht,Vt,Xt=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),Wt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)},Yt=new RegExp(st.join("|"),"i");function Gt(){if(Vt){Ht.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Vt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xt.appendChild(Ht).appendChild(Vt);var t=r.getComputedStyle(Vt);Nt="1%"!==t.top,qt=12===Kt(t.marginLeft),Vt.style.right="60%",Ut=36===Kt(t.right),Bt=36===Kt(t.width),Vt.style.position="absolute",$t=36===Vt.offsetWidth||"absolute",xt.removeChild(Ht),Vt=null}}function Kt(t){return Math.round(parseFloat(t))}function Jt(t,e,r){var i,n,o,s,a=t.style;return(r=r||Wt(t))&&(""!==(s=r.getPropertyValue(e)||r[e])||S.contains(t.ownerDocument,t)||(s=S.style(t,e)),!v.pixelBoxStyles()&&Xt.test(s)&&Yt.test(e)&&(i=a.width,n=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=r.width,a.width=i,a.minWidth=n,a.maxWidth=o)),void 0!==s?s+"":s}function Qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}Ht=a.createElement("div"),(Vt=a.createElement("div")).style&&(Vt.style.backgroundClip="content-box",Vt.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===Vt.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return Gt(),Bt},pixelBoxStyles:function(){return Gt(),Ut},pixelPosition:function(){return Gt(),Nt},reliableMarginLeft:function(){return Gt(),qt},scrollboxSize:function(){return Gt(),$t}}));var Zt=/^(none|table(?!-c[ea]).+)/,te=/^--/,ee={position:"absolute",visibility:"hidden",display:"block"},re={letterSpacing:"0",fontWeight:"400"},ie=["Webkit","Moz","ms"],ne=a.createElement("div").style;function oe(t){var e=S.cssProps[t];return e||(S.cssProps[t]=function(t){if(t in ne)return t;for(var e=t[0].toUpperCase()+t.slice(1),r=ie.length;r--;)if((t=ie[r]+e)in ne)return t}(t)||t)}function se(t,e,r){var i=ot.exec(e);return i?Math.max(0,i[2]-(r||0))+(i[3]||"px"):e}function ae(t,e,r,i,n,o){var s="width"===e?1:0,a=0,c=0;if(r===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===r&&(c+=S.css(t,r+st[s],!0,n)),i?("content"===r&&(c-=S.css(t,"padding"+st[s],!0,n)),"margin"!==r&&(c-=S.css(t,"border"+st[s]+"Width",!0,n))):(c+=S.css(t,"padding"+st[s],!0,n),"padding"!==r?c+=S.css(t,"border"+st[s]+"Width",!0,n):a+=S.css(t,"border"+st[s]+"Width",!0,n));return!i&&0<=o&&(c+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-c-a-.5))),c}function ce(t,e,r){var i=Wt(t),n=Jt(t,e,i),o="border-box"===S.css(t,"boxSizing",!1,i),s=o;if(Xt.test(n)){if(!r)return n;n="auto"}return s=s&&(v.boxSizingReliable()||n===t.style[e]),"auto"!==n&&(parseFloat(n)||"inline"!==S.css(t,"display",!1,i))||(n=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(n=parseFloat(n)||0)+ae(t,e,r||(o?"border":"content"),s,i,n)+"px"}function le(t,e,r,i,n){return new le.prototype.init(t,e,r,i,n)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var r=Jt(t,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,r,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,o,s,a=G(e),c=te.test(e),l=t.style;if(c||(e=oe(a)),s=S.cssHooks[e]||S.cssHooks[a],void 0===r)return s&&"get"in s&&void 0!==(n=s.get(t,!1,i))?n:l[e];"string"===(o=typeof r)&&(n=ot.exec(r))&&n[1]&&(r=ct(t,e,n),o="number"),null!=r&&r==r&&("number"===o&&(r+=n&&n[3]||(S.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==r||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(r=s.set(t,r,i))||(c?l.setProperty(e,r):l[e]=r))}},css:function(t,e,r,i){var n,o,s,a=G(e);return te.test(e)||(e=oe(a)),(s=S.cssHooks[e]||S.cssHooks[a])&&"get"in s&&(n=s.get(t,!0,r)),void 0===n&&(n=Jt(t,e,i)),"normal"===n&&e in re&&(n=re[e]),""===r||r?(o=parseFloat(n),!0===r||isFinite(o)?o||0:n):n}}),S.each(["height","width"],function(t,e){S.cssHooks[e]={get:function(t,r,i){if(r)return!Zt.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ce(t,e,i):it(t,ee,function(){return ce(t,e,i)})},set:function(t,r,i){var n,o=Wt(t),s="border-box"===S.css(t,"boxSizing",!1,o),a=i&&ae(t,e,i,s,o);return s&&v.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ae(t,e,"border",!1,o)-.5)),a&&(n=ot.exec(r))&&"px"!==(n[3]||"px")&&(t.style[e]=r,r=S.css(t,e)),se(0,r,a)}}}),S.cssHooks.marginLeft=Qt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Jt(t,"marginLeft"))||t.getBoundingClientRect().left-it(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(t,e){S.cssHooks[t+e]={expand:function(r){for(var i=0,n={},o="string"==typeof r?r.split(" "):[r];i<4;i++)n[t+st[i]+e]=o[i]||o[i-2]||o[0];return n}},"margin"!==t&&(S.cssHooks[t+e].set=se)}),S.fn.extend({css:function(t,e){return V(this,function(t,e,r){var i,n,o={},s=0;if(Array.isArray(e)){for(i=Wt(t),n=e.length;s<n;s++)o[e[s]]=S.css(t,e[s],!1,i);return o}return void 0!==r?S.style(t,e,r):S.css(t,e)},t,e,1<arguments.length)}}),((S.Tween=le).prototype={constructor:le,init:function(t,e,r,i,n,o){this.elem=t,this.prop=r,this.easing=n||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(S.cssNumber[r]?"":"px")},cur:function(){var t=le.propHooks[this.prop];return t&&t.get?t.get(this):le.propHooks._default.get(this)},run:function(t){var e,r=le.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):le.propHooks._default.set(this),this}}).init.prototype=le.prototype,(le.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[S.cssProps[t.prop]]&&!S.cssHooks[t.prop]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=le.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=le.prototype.init,S.fx.step={};var ue,he,fe,me,de=/^(?:toggle|show|hide)$/,pe=/queueHooks$/;function _e(){he&&(!1===a.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(_e):r.setTimeout(_e,S.fx.interval),S.fx.tick())}function ge(){return r.setTimeout(function(){ue=void 0}),ue=Date.now()}function ve(t,e){var r,i=0,n={height:t};for(e=e?1:0;i<4;i+=2-e)n["margin"+(r=st[i])]=n["padding"+r]=t;return e&&(n.opacity=n.width=t),n}function ye(t,e,r){for(var i,n=(be.tweeners[e]||[]).concat(be.tweeners["*"]),o=0,s=n.length;o<s;o++)if(i=n[o].call(r,e,t))return i}function be(t,e,r){var i,n,o=0,s=be.prefilters.length,a=S.Deferred().always(function(){delete c.elem}),c=function(){if(n)return!1;for(var e=ue||ge(),r=Math.max(0,l.startTime+l.duration-e),i=1-(r/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(i);return a.notifyWith(t,[l,i,r]),i<1&&s?r:(s||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},r),originalProperties:e,originalOptions:r,startTime:ue||ge(),duration:r.duration,tweens:[],createTween:function(e,r){var i=S.Tween(t,l.opts,e,r,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var r=0,i=e?l.tweens.length:0;if(n)return this;for(n=!0;r<i;r++)l.tweens[r].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),u=l.props;for(!function(t,e){var r,i,n,o,s;for(r in t)if(n=e[i=G(r)],o=t[r],Array.isArray(o)&&(n=o[1],o=t[r]=o[0]),r!==i&&(t[i]=o,delete t[r]),(s=S.cssHooks[i])&&"expand"in s)for(r in o=s.expand(o),delete t[i],o)r in t||(t[r]=o[r],e[r]=n);else e[i]=n}(u,l.opts.specialEasing);o<s;o++)if(i=be.prefilters[o].call(l,t,u,l.opts))return y(i.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return S.map(u,ye,l),y(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(be,{tweeners:{"*":[function(t,e){var r=this.createTween(t,e);return ct(r.elem,t,ot.exec(e),r),r}]},tweener:function(t,e){for(var r,i=0,n=(t=y(t)?(e=t,["*"]):t.match(L)).length;i<n;i++)r=t[i],be.tweeners[r]=be.tweeners[r]||[],be.tweeners[r].unshift(e)},prefilters:[function(t,e,r){var i,n,o,s,a,c,l,u,h="width"in e||"height"in e,f=this,m={},d=t.style,p=t.nodeType&&at(t),_=Q.get(t,"fxshow");for(i in r.queue||(null==(s=S._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,S.queue(t,"fx").length||s.empty.fire()})})),e)if(n=e[i],de.test(n)){if(delete e[i],o=o||"toggle"===n,n===(p?"hide":"show")){if("show"!==n||!_||void 0===_[i])continue;p=!0}m[i]=_&&_[i]||S.style(t,i)}if((c=!S.isEmptyObject(e))||!S.isEmptyObject(m))for(i in h&&1===t.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],null==(l=_&&_.display)&&(l=Q.get(t,"display")),"none"===(u=S.css(t,"display"))&&(l?u=l:(ut([t],!0),l=t.style.display||l,u=S.css(t,"display"),ut([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===S.css(t,"float")&&(c||(f.done(function(){d.display=l}),null==l&&(u=d.display,l="none"===u?"":u)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]})),c=!1,m)c||(_?"hidden"in _&&(p=_.hidden):_=Q.access(t,"fxshow",{display:l}),o&&(_.hidden=!p),p&&ut([t],!0),f.done(function(){for(i in p||ut([t]),Q.remove(t,"fxshow"),m)S.style(t,i,m[i])})),c=ye(p?_[i]:0,i,f),i in _||(_[i]=c.start,p&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?be.prefilters.unshift(t):be.prefilters.push(t)}}),S.speed=function(t,e,r){var i=t&&"object"==typeof t?S.extend({},t):{complete:r||!r&&e||y(t)&&t,duration:t,easing:r&&e||e&&!y(e)&&e};return S.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in S.fx.speeds?i.duration=S.fx.speeds[i.duration]:i.duration=S.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(t,e,r,i){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,r,i)},animate:function(t,e,r,i){function n(){var e=be(this,S.extend({},t),s);(o||Q.get(this,"finish"))&&e.stop(!0)}var o=S.isEmptyObject(t),s=S.speed(e,r,i);return n.finish=n,o||!1===s.queue?this.each(n):this.queue(s.queue,n)},stop:function(t,e,r){function i(t){var e=t.stop;delete t.stop,e(r)}return"string"!=typeof t&&(r=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=S.timers,s=Q.get(this);if(n)s[n]&&s[n].stop&&i(s[n]);else for(n in s)s[n]&&s[n].stop&&pe.test(n)&&i(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(r),e=!1,o.splice(n,1));!e&&r||S.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,r=Q.get(this),i=r[t+"queue"],n=r[t+"queueHooks"],o=S.timers,s=i?i.length:0;for(r.finish=!0,S.queue(this,t,[]),n&&n.stop&&n.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete r.finish})}}),S.each(["toggle","show","hide"],function(t,e){var r=S.fn[e];S.fn[e]=function(t,i,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(ve(e,!0),t,i,n)}}),S.each({slideDown:ve("show"),slideUp:ve("hide"),slideToggle:ve("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){S.fn[t]=function(t,r,i){return this.animate(e,t,r,i)}}),S.timers=[],S.fx.tick=function(){var t,e=0,r=S.timers;for(ue=Date.now();e<r.length;e++)(t=r[e])()||r[e]!==t||r.splice(e--,1);r.length||S.fx.stop(),ue=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){he||(he=!0,_e())},S.fx.stop=function(){he=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var n=r.setTimeout(e,t);i.stop=function(){r.clearTimeout(n)}})},fe=a.createElement("input"),me=a.createElement("select").appendChild(a.createElement("option")),fe.type="checkbox",v.checkOn=""!==fe.value,v.optSelected=me.selected,(fe=a.createElement("input")).value="t",fe.type="radio",v.radioValue="t"===fe.value;var xe,we=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return V(this,S.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){S.removeAttr(this,t)})}}),S.extend({attr:function(t,e,r){var i,n,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,r):(1===o&&S.isXMLDoc(t)||(n=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?xe:void 0)),void 0!==r?null===r?void S.removeAttr(t,e):n&&"set"in n&&void 0!==(i=n.set(t,r,e))?i:(t.setAttribute(e,r+""),r):n&&"get"in n&&null!==(i=n.get(t,e))?i:null==(i=S.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&M(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}}},removeAttr:function(t,e){var r,i=0,n=e&&e.match(L);if(n&&1===t.nodeType)for(;r=n[i++];)t.removeAttribute(r)}}),xe={set:function(t,e,r){return!1===e?S.removeAttr(t,r):t.setAttribute(r,r),r}},S.each(S.expr.match.bool.source.match(/\w+/g),function(t,e){var r=we[e]||S.find.attr;we[e]=function(t,e,i){var n,o,s=e.toLowerCase();return i||(o=we[s],we[s]=n,n=null!=r(t,e,i)?s:null,we[s]=o),n}});var Se=/^(?:input|select|textarea|button)$/i,Ce=/^(?:a|area)$/i;function Te(t){return(t.match(L)||[]).join(" ")}function Ee(t){return t.getAttribute&&t.getAttribute("class")||""}function Oe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(L)||[]}S.fn.extend({prop:function(t,e){return V(this,S.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[S.propFix[t]||t]})}}),S.extend({prop:function(t,e,r){var i,n,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(e=S.propFix[e]||e,n=S.propHooks[e]),void 0!==r?n&&"set"in n&&void 0!==(i=n.set(t,r,e))?i:t[e]=r:n&&"get"in n&&null!==(i=n.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):Se.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,r,i,n,o,s,a,c=0;if(y(t))return this.each(function(e){S(this).addClass(t.call(this,e,Ee(this)))});if((e=Oe(t)).length)for(;r=this[c++];)if(n=Ee(r),i=1===r.nodeType&&" "+Te(n)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");n!==(a=Te(i))&&r.setAttribute("class",a)}return this},removeClass:function(t){var e,r,i,n,o,s,a,c=0;if(y(t))return this.each(function(e){S(this).removeClass(t.call(this,e,Ee(this)))});if(!arguments.length)return this.attr("class","");if((e=Oe(t)).length)for(;r=this[c++];)if(n=Ee(r),i=1===r.nodeType&&" "+Te(n)+" "){for(s=0;o=e[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");n!==(a=Te(i))&&r.setAttribute("class",a)}return this},toggleClass:function(t,e){var r=typeof t,i="string"==r||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(r){S(this).toggleClass(t.call(this,r,Ee(this),e),e)}):this.each(function(){var e,n,o,s;if(i)for(n=0,o=S(this),s=Oe(t);e=s[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!=r||((e=Ee(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))})},hasClass:function(t){var e,r,i=0;for(e=" "+t+" ";r=this[i++];)if(1===r.nodeType&&-1<(" "+Te(Ee(r))+" ").indexOf(e))return!0;return!1}});var ke=/\r/g;function Ae(t){t.stopPropagation()}S.fn.extend({val:function(t){var e,r,i,n=this[0];return arguments.length?(i=y(t),this.each(function(r){var n;1===this.nodeType&&(null==(n=i?t.call(this,r,S(this).val()):t)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=S.map(n,function(t){return null==t?"":t+""})),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,n,"value")||(this.value=n))})):n?(e=S.valHooks[n.type]||S.valHooks[n.nodeName.toLowerCase()])&&"get"in e&&void 0!==(r=e.get(n,"value"))?r:"string"==typeof(r=n.value)?r.replace(ke,""):null==r?"":r:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:Te(S.text(t))}},select:{get:function(t){var e,r,i,n=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],c=s?o+1:n.length;for(i=o<0?c:s?o:0;i<c;i++)if(((r=n[i]).selected||i===o)&&!r.disabled&&(!r.parentNode.disabled||!M(r.parentNode,"optgroup"))){if(e=S(r).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var r,i,n=t.options,o=S.makeArray(e),s=n.length;s--;)((i=n[s]).selected=-1<S.inArray(S.valHooks.option.get(i),o))&&(r=!0);return r||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<S.inArray(S(t).val(),e)}},v.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in r;var Me=/^(?:focusinfocus|focusoutblur)$/;S.extend(S.event,{trigger:function(t,e,i,n){var s,c,l,u,h,f,m,d,_=[i||a],g=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(c=d=l=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!Me.test(g+S.event.triggered)&&(-1<g.indexOf(".")&&(g=(v=g.split(".")).shift(),v.sort()),h=g.indexOf(":")<0&&"on"+g,(t=t[S.expando]?t:new S.Event(g,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:S.makeArray(e,[t]),m=S.event.special[g]||{},n||!m.trigger||!1!==m.trigger.apply(i,e))){if(!n&&!m.noBubble&&!o(i)){for(u=m.delegateType||g,Me.test(u+g)||(c=c.parentNode);c;c=c.parentNode)_.push(c),l=c;l===(i.ownerDocument||a)&&_.push(l.defaultView||l.parentWindow||r)}for(s=0;(c=_[s++])&&!t.isPropagationStopped();)d=c,t.type=1<s?u:m.bindType||g,(f=(Q.get(c,"events")||{})[t.type]&&Q.get(c,"handle"))&&f.apply(c,e),(f=h&&c[h])&&f.apply&&K(c)&&(t.result=f.apply(c,e),!1===t.result&&t.preventDefault());return t.type=g,n||t.isDefaultPrevented()||m._default&&!1!==m._default.apply(_.pop(),e)||!K(i)||h&&y(i[g])&&!o(i)&&((l=i[h])&&(i[h]=null),S.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,Ae),i[g](),t.isPropagationStopped()&&d.removeEventListener(g,Ae),S.event.triggered=void 0,l&&(i[h]=l)),t.result}},simulate:function(t,e,r){var i=S.extend(new S.Event,r,{type:t,isSimulated:!0});S.event.trigger(i,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each(function(){S.event.trigger(t,e,this)})},triggerHandler:function(t,e){var r=this[0];if(r)return S.event.trigger(t,e,r,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(t,e){function r(t){S.event.simulate(e,t.target,S.event.fix(t))}S.event.special[e]={setup:function(){var i=this.ownerDocument||this,n=Q.access(i,e);n||i.addEventListener(t,r,!0),Q.access(i,e,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this,n=Q.access(i,e)-1;n?Q.access(i,e,n):(i.removeEventListener(t,r,!0),Q.remove(i,e))}}});var Pe=r.location,De=Date.now(),je=/\?/;S.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+t),e};var ze=/\[\]$/,Ie=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,Fe=/^(?:input|select|textarea|keygen)/i;function Le(t,e,r,i){var n;if(Array.isArray(e))S.each(e,function(e,n){r||ze.test(t)?i(t,n):Le(t+"["+("object"==typeof n&&null!=n?e:"")+"]",n,r,i)});else if(r||"object"!==w(e))i(t,e);else for(n in e)Le(t+"["+n+"]",e[n],r,i)}S.param=function(t,e){function r(t,e){var r=y(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==r?"":r)}var i,n=[];if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,function(){r(this.name,this.value)});else for(i in t)Le(i,t[i],e,r);return n.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Fe.test(this.nodeName)&&!Re.test(t)&&(this.checked||!ht.test(t))}).map(function(t,e){var r=S(this).val();return null==r?null:Array.isArray(r)?S.map(r,function(t){return{name:e.name,value:t.replace(Ie,"\r\n")}}):{name:e.name,value:r.replace(Ie,"\r\n")}}).get()}});var Ne=/%20/g,Be=/#.*$/,$e=/([?&])_=[^&]*/,Ue=/^(.*?):[ \t]*([^\r\n]*)$/gm,qe=/^(?:GET|HEAD)$/,He=/^\/\//,Ve={},Xe={},We="*/".concat("*"),Ye=a.createElement("a");function Ge(t){return function(e,r){"string"!=typeof e&&(r=e,e="*");var i,n=0,o=e.toLowerCase().match(L)||[];if(y(r))for(;i=o[n++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(r)):(t[i]=t[i]||[]).push(r)}}function Ke(t,e,r,i){var n={},o=t===Xe;function s(a){var c;return n[a]=!0,S.each(t[a]||[],function(t,a){var l=a(e,r,i);return"string"!=typeof l||o||n[l]?o?!(c=l):void 0:(e.dataTypes.unshift(l),s(l),!1)}),c}return s(e.dataTypes[0])||!n["*"]&&s("*")}function Je(t,e){var r,i,n=S.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((n[r]?t:i=i||{})[r]=e[r]);return i&&S.extend(!0,t,i),t}Ye.href=Pe.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Pe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":We,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Je(Je(t,S.ajaxSettings),e):Je(S.ajaxSettings,t)},ajaxPrefilter:Ge(Ve),ajaxTransport:Ge(Xe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,n,o,s,c,l,u,h,f,m,d=S.ajaxSetup({},e),p=d.context||d,_=d.context&&(p.nodeType||p.jquery)?S(p):S.event,g=S.Deferred(),v=S.Callbacks("once memory"),y=d.statusCode||{},b={},x={},w="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=Ue.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==u&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)C.always(t[C.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||w;return i&&i.abort(e),T(0,e),this}};if(g.promise(C),d.url=((t||d.url||Pe.href)+"").replace(He,Pe.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(L)||[""],null==d.crossDomain){l=a.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Ye.protocol+"//"+Ye.host!=l.protocol+"//"+l.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=S.param(d.data,d.traditional)),Ke(Ve,d,e,C),u)return C;for(f in(h=S.event&&d.global)&&0==S.active++&&S.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!qe.test(d.type),n=d.url.replace(Be,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ne,"+")):(m=d.url.slice(n.length),d.data&&(d.processData||"string"==typeof d.data)&&(n+=(je.test(n)?"&":"?")+d.data,delete d.data),!1===d.cache&&(n=n.replace($e,"$1"),m=(je.test(n)?"&":"?")+"_="+De+++m),d.url=n+m),d.ifModified&&(S.lastModified[n]&&C.setRequestHeader("If-Modified-Since",S.lastModified[n]),S.etag[n]&&C.setRequestHeader("If-None-Match",S.etag[n])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+We+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(p,C,d)||u))return C.abort();if(w="abort",v.add(d.complete),C.done(d.success),C.fail(d.error),i=Ke(Xe,d,e,C)){if(C.readyState=1,h&&_.trigger("ajaxSend",[C,d]),u)return C;d.async&&0<d.timeout&&(c=r.setTimeout(function(){C.abort("timeout")},d.timeout));try{u=!1,i.send(b,T)}catch(t){if(u)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,s,a){var l,f,m,b,x,w=e;u||(u=!0,c&&r.clearTimeout(c),i=void 0,o=a||"",C.readyState=0<t?4:0,l=200<=t&&t<300||304===t,s&&(b=function(t,e,r){for(var i,n,o,s,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(n in a)if(a[n]&&a[n].test(i)){c.unshift(n);break}if(c[0]in r)o=c[0];else{for(n in r){if(!c[0]||t.converters[n+" "+c[0]]){o=n;break}s=s||n}o=o||s}if(o)return o!==c[0]&&c.unshift(o),r[o]}(d,C,s)),b=function(t,e,r,i){var n,o,s,a,c,l={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(r[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(s=l[c+" "+o]||l["* "+o]))for(n in l)if((a=n.split(" "))[1]===o&&(s=l[c+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[n]:!0!==l[n]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}(d,b,C,l),l?(d.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(S.lastModified[n]=x),(x=C.getResponseHeader("etag"))&&(S.etag[n]=x)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=b.state,f=b.data,l=!(m=b.error))):(m=w,!t&&w||(w="error",t<0&&(t=0))),C.status=t,C.statusText=(e||w)+"",l?g.resolveWith(p,[f,w,C]):g.rejectWith(p,[C,w,m]),C.statusCode(y),y=void 0,h&&_.trigger(l?"ajaxSuccess":"ajaxError",[C,d,l?f:m]),v.fireWith(p,[C,w]),h&&(_.trigger("ajaxComplete",[C,d]),--S.active||S.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,r){return S.get(t,e,r,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],function(t,e){S[e]=function(t,r,i,n){return y(r)&&(n=n||i,i=r,r=void 0),S.ajax(S.extend({url:t,type:e,dataType:n,data:r,success:i},S.isPlainObject(t)&&t))}}),S._evalUrl=function(t){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){S(this).wrapInner(t.call(this,e))}):this.each(function(){var e=S(this),r=e.contents();r.length?r.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(r){S(this).wrapAll(e?t.call(this,r):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(n){}};var Qe={0:200,1223:204},Ze=S.ajaxSettings.xhr();v.cors=!!Ze&&"withCredentials"in Ze,v.ajax=Ze=!!Ze,S.ajaxTransport(function(t){var e,i;if(v.cors||Ze&&!t.crossDomain)return{send:function(n,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)a.setRequestHeader(s,n[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Qe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(n){if(e)throw n}},abort:function(){e&&e()}}}),S.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),S.ajaxTransport("script",function(t){var e,r;if(t.crossDomain)return{send:function(i,n){e=S("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",r=function(t){e.remove(),r=null,t&&n("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){r&&r()}}});var tr,er=[],rr=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=er.pop()||S.expando+"_"+De++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",function(t,e,i){var n,o,s,a=!1!==t.jsonp&&(rr.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&rr.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(rr,"$1"+n):!1!==t.jsonp&&(t.url+=(je.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return s||S.error(n+" was not called"),s[0]},t.dataTypes[0]="json",o=r[n],r[n]=function(){s=arguments},i.always(function(){void 0===o?S(r).removeProp(n):r[n]=o,t[n]&&(t.jsonpCallback=e.jsonpCallback,er.push(n)),s&&y(o)&&o(s[0]),s=o=void 0}),"script"}),v.createHTMLDocument=((tr=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===tr.childNodes.length),S.parseHTML=function(t,e,r){return"string"!=typeof t?[]:("boolean"==typeof e&&(r=e,e=!1),e||(v.createHTMLDocument?((i=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(i)):e=a),o=!r&&[],(n=P.exec(t))?[e.createElement(n[1])]:(n=bt([t],e,o),o&&o.length&&S(o).remove(),S.merge([],n.childNodes)));var i,n,o},S.fn.load=function(t,e,r){var i,n,o,s=this,a=t.indexOf(" ");return-1<a&&(i=Te(t.slice(a)),t=t.slice(0,a)),y(e)?(r=e,e=void 0):e&&"object"==typeof e&&(n="POST"),0<s.length&&S.ajax({url:t,type:n||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?S("<div>").append(S.parseHTML(t)).find(i):t)}).always(r&&function(t,e){s.each(function(){r.apply(this,o||[t.responseText,e,t])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){S.fn[e]=function(t){return this.on(e,t)}}),S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(t,e,r){var i,n,o,s,a,c,l=S.css(t,"position"),u=S(t),h={};"static"===l&&(t.style.position="relative"),a=u.offset(),o=S.css(t,"top"),c=S.css(t,"left"),n=("absolute"===l||"fixed"===l)&&-1<(o+c).indexOf("auto")?(s=(i=u.position()).top,i.left):(s=parseFloat(o)||0,parseFloat(c)||0),y(e)&&(e=e.call(t,r,S.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+n),"using"in e?e.using.call(t,h):u.css(h)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,r,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),r=i.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,r,i=this[0],n={top:0,left:0};if("fixed"===S.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),r=i.ownerDocument,t=i.offsetParent||r.documentElement;t&&(t===r.body||t===r.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((n=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),n.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-n.top-S.css(i,"marginTop",!0),left:e.left-n.left-S.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||xt})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var r="pageYOffset"===e;S.fn[t]=function(i){return V(this,function(t,i,n){var s;if(o(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===n)return s?s[e]:t[i];s?s.scrollTo(r?s.pageXOffset:n,r?n:s.pageYOffset):t[i]=n},t,i,arguments.length)}}),S.each(["top","left"],function(t,e){S.cssHooks[e]=Qt(v.pixelPosition,function(t,r){if(r)return r=Jt(t,e),Xt.test(r)?S(t).position()[e]+"px":r})}),S.each({Height:"height",Width:"width"},function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},function(r,i){S.fn[i]=function(n,s){var a=arguments.length&&(r||"boolean"!=typeof n),c=r||(!0===n||!0===s?"margin":"border");return V(this,function(e,r,n){var s;return o(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===n?S.css(e,r,c):S.style(e,r,n,c)},e,a?n:void 0,a)}})}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){S.fn[e]=function(t,r){return 0<arguments.length?this.on(e,null,t,r):this.trigger(e)}}),S.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.fn.extend({bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,i){return this.on(e,t,r,i)},undelegate:function(t,e,r){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",r)}}),S.proxy=function(t,e){var r,i,n;if("string"==typeof e&&(r=t[e],e=t,t=r),y(t))return i=l.call(arguments,2),(n=function(){return t.apply(e||this,i.concat(l.call(arguments)))}).guid=t.guid=t.guid||S.guid++,n},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=M,S.isFunction=y,S.isWindow=o,S.camelCase=G,S.type=w,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return S}.apply(e,[]))||(t.exports=i);var ir=r.jQuery,nr=r.$;return S.noConflict=function(t){return r.$===S&&(r.$=nr),t&&r.jQuery===S&&(r.jQuery=ir),S},n||(r.jQuery=r.$=S),S})},1169:function(t,e,r){var i=r("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"11c1":function(t,e,r){var i=r("c437"),n=r("c64e"),o=n;o.v1=i,o.v4=n,t.exports=o},"11e9":function(t,e,r){var i=r("52a7"),n=r("4630"),o=r("6821"),s=r("6a99"),a=r("69a8"),c=r("c69a"),l=Object.getOwnPropertyDescriptor;e.f=r("9e1e")?l:function(t,e){if(t=o(t),e=s(e,!0),c)try{return l(t,e)}catch(t){}if(a(t,e))return n(!i.f.call(t,e),t[e])}},"11ff":function(t,e,r){var i=r("da3c").parseFloat,n=r("633a").trim;t.exports=1/i(r("702a")+"-0")!=-1/0?function(t){var e=n(String(t),3),r=i(e);return 0===r&&"-"==e.charAt(0)?-0:r}:i},1290:function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},"12f2":function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){return{methods:{focus:function(){this.$refs[t].focus()}}}}},"12fd":function(t,e){},"12fd8":function(t,e,r){var i=r("6f8a"),n=r("da3c").document,o=i(n)&&i(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},1310:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},1368:function(t,e,r){var i,n=r("da03"),o=(i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";t.exports=function(t){return!!o&&o in t}},1495:function(t,e,r){var i=r("86cc"),n=r("cb7c"),o=r("0d58");t.exports=r("9e1e")?Object.defineProperties:function(t,e){n(t);for(var r,s=o(e),a=s.length,c=0;c<a;)i.f(t,r=s[c++],e[r]);return t}},"14b9":function(t,e,r){var i=r("5ca1");i(i.P,"String",{repeat:r("9744")})},"14c6":function(t,e,r){"use strict";var i=r("3bb1"),n=r("b5cb"),o=r("a638"),s=r("58b9");t.exports=r("fa2d")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"14e9":function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={122:function(t,e,r){"use strict";r.r(e);var i=r(15),n=r(37),o=r.n(n),s=r(3),a=r(2),c={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},l={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return c[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(t){var e=this.size,r=this.move,i=this.bar;return t("div",{class:["el-scrollbar__bar","is-"+i.key],on:{mousedown:this.clickTrackHandler}},[t("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:function(t){var e=t.move,r=t.size,i=t.bar,n={},o="translate"+i.axis+"("+e+"%)";return n[i.size]=r,n.transform=o,n.msTransform=o,n.webkitTransform=o,n}({size:e,move:r,bar:i})})])},methods:{clickThumbHandler:function(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(t){var e=100*(Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=e*this.wrap[this.bar.scrollSize]/100},startDrag:function(t){t.stopImmediatePropagation(),this.cursorDown=!0,Object(a.on)(document,"mousemove",this.mouseMoveDocumentHandler),Object(a.on)(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(t){if(!1!==this.cursorDown){var e=this[this.bar.axis];if(e){var r=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-(this.$refs.thumb[this.bar.offset]-e))/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=r*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(t){this.cursorDown=!1,this[this.bar.axis]=0,Object(a.off)(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(a.off)(document,"mouseup",this.mouseUpDocumentHandler)}},u={name:"ElScrollbar",components:{Bar:l},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(t){var e=o()(),r=this.wrapStyle;if(e){var i="-"+e+"px",n="margin-bottom: "+i+"; margin-right: "+i+";";Array.isArray(this.wrapStyle)?(r=Object(s.toObject)(this.wrapStyle)).marginRight=r.marginBottom=i:"string"==typeof this.wrapStyle?r+=n:r=n}var a=t(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),c=t("div",{ref:"wrap",style:r,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",e?"":"el-scrollbar__wrap--hidden-default"]},[[a]]);return t("div",{class:"el-scrollbar"},this.native?[t("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:r},[[a]])]:[c,t(l,{attrs:{move:this.moveX,size:this.sizeWidth}}),t(l,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})])},methods:{handleScroll:function(){var t=this.wrap;this.moveY=100*t.scrollTop/t.clientHeight,this.moveX=100*t.scrollLeft/t.clientWidth},update:function(){var t,e,r=this.wrap;r&&(t=100*r.clientHeight/r.scrollHeight,e=100*r.clientWidth/r.scrollWidth,this.sizeHeight=t<100?t+"%":"",this.sizeWidth=e<100?e+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),this.noresize||Object(i.addResizeListener)(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||this.noresize||Object(i.removeResizeListener)(this.$refs.resize,this.update)},install:function(t){t.component(u.name,u)}};e.default=u},15:function(t,e){t.exports=r("4010")},2:function(t,e){t.exports=r("5924")},3:function(t,e){t.exports=r("8122")},37:function(t,e){t.exports=r("e62d")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=122))},1609:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"16e7":function(t,e,r){var i=r("d13f"),n=r("7704");i(i.G+i.F*(parseInt!=n),{parseInt:n})},"17ed":function(t,e,r){t.exports={default:r("511f"),__esModule:!0}},1835:function(t,e,r){r("111f")("Set")},1836:function(t,e,r){var i=r("6ca1"),n=r("6438").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return n(t)}catch(t){return s.slice()}}(t):n(i(t))}},1838:function(t,e,r){var i=r("c05f"),n=r("9b02"),o=r("8604"),s=r("f608"),a=r("08cc"),c=r("20ec"),l=r("f4d6");t.exports=function(t,e){return s(t)&&a(e)?c(l(t),e):function(r){var s=n(r,t);return void 0===s&&s===e?o(r,t):i(e,s,3)}}},"18d8":function(t,e,r){var i=r("234d"),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=i(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(n,function(t,r,i,n){e.push(i?n.replace(o,"$1"):r||t)}),e});t.exports=s},"18ff":function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},4:function(t,e){t.exports=r("d010")},84:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"el-dropdown-menu__item",class:{"is-disabled":t.disabled,"el-dropdown-menu__item--divided":t.divided},attrs:{"aria-disabled":t.disabled,tabindex:t.disabled?null:-1},on:{click:t.handleClick}},[t.icon?r("i",{class:t.icon}):t._e(),t._t("default")],2)}r.r(e),i._withStripped=!0;var n=r(4),o={name:"ElDropdownItem",mixins:[r.n(n).a],props:{command:{},disabled:Boolean,divided:Boolean,icon:String},methods:{handleClick:function(t){this.dispatch("ElDropdown","menu-item-click",[this.command,this])}}},s=r(0),a=Object(s.a)(o,i,[],!1,null,null,null);a.options.__file="packages/dropdown/src/dropdown-item.vue";var c=a.exports;c.install=function(t){t.component(c.name,c)},e.default=c}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=84))},1917:function(t,e){e.f={}.propertyIsEnumerable},1938:function(t,e,r){var i=r("d13f");i(i.S,"Array",{isArray:r("b5aa")})},1951:function(t,e,r){},"196c":function(t,e){t.exports=function(t,e,r){var i=void 0===r;switch(e.length){case 0:return i?t():t.call(r);case 1:return i?t(e[0]):t.call(r,e[0]);case 2:return i?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},"19fa":function(t,e,r){var i=r("fc5e"),n=r("c901");t.exports=function(t){return function(e,r){var o,s,a=String(n(e)),c=i(r),l=a.length;return c<0||l<=c?t?"":void 0:(o=a.charCodeAt(c))<55296||56319<o||c+1===l||(s=a.charCodeAt(c+1))<56320||57343<s?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},"1a14":function(t,e,r){var i=r("77e9"),n=r("faf5"),o=r("3397"),s=Object.defineProperty;e.f=r("0bad")?Object.defineProperty:function(t,e,r){if(i(t),e=o(e,!0),i(r),n)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},"1a2d":function(t,e,r){var i=r("42a2"),n=r("1310");t.exports=function(t){return n(t)&&"[object Map]"==i(t)}},"1a8c":function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},"1aa7":function(t,e,r){var i=r("27b2"),n=r("9184"),o=r("b67f")("species");t.exports=function(t,e){var r,s=i(t).constructor;return void 0===s||null==(r=i(s)[o])?e:n(r)}},"1ad4":function(t,e,r){function i(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}}function n(t){i.call(t.data)}var o,s,a,c=r("a9f2"),l=r("ef26"),u=r("d8db"),h=r("781f"),f=r("b808"),m=f.process,d=f.setImmediate,p=f.clearImmediate,_=f.MessageChannel,g=f.Dispatch,v=0,y={},b="onreadystatechange";d&&p||(d=function(t){for(var e=[],r=1;r<arguments.length;)e.push(arguments[r++]);return y[++v]=function(){l("function"==typeof t?t:Function(t),e)},o(v),v},p=function(t){delete y[t]},"process"==r("71fa")(m)?o=function(t){m.nextTick(c(i,t,1))}:g&&g.now?o=function(t){g.now(c(i,t,1))}:_?(a=(s=new _).port2,s.port1.onmessage=n,o=c(a.postMessage,a,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(o=function(t){f.postMessage(t+"","*")},f.addEventListener("message",n,!1)):o=b in h("script")?function(t){u.appendChild(h("script"))[b]=function(){u.removeChild(this),i.call(t)}}:function(t){setTimeout(c(i,t,1),0)}),t.exports={set:d,clear:p}},"1b55":function(t,e,r){var i=r("7772")("wks"),n=r("7b00"),o=r("da3c").Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:n)("Symbol."+t))}).store=i},"1b8f":function(t,e,r){var i=r("a812"),n=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?n(t+e,0):o(t,e)}},"1bac":function(t,e,r){var i=r("7d1f"),n=r("a029"),o=r("9934");t.exports=function(t){return i(t,o,n)}},"1be4":function(t,e,r){"use strict";var i=r("da3c"),n=r("a7d3"),o=r("3adc"),s=r("7d95"),a=r("1b55")("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:i[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},"1c01":function(t,e,r){var i=r("a7d3"),n=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},"1c08":function(t,e,r){var i=r("27b2"),n=r("ab4c"),o=r("cc20");t.exports=function(t,e){if(i(t),n(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},"1c3c":function(t,e,r){var i=r("9e69"),n=r("2474"),o=r("9638"),s=r("a2be"),a=r("edfa"),c=r("ac41"),l=i?i.prototype:void 0,u=l?l.valueOf:void 0;t.exports=function(t,e,r,i,l,h,f){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new n(t),new n(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var m=a;case"[object Set]":var d=1&i;if(m=m||c,t.size!=e.size&&!d)return!1;var p=f.get(t);if(p)return p==e;i|=2,f.set(t,e);var _=s(m(t),m(e),i,l,h,f);return f.delete(t),_;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},"1cec":function(t,e,r){var i=r("0b07")(r("2b3e"),"Promise");t.exports=i},"1d27":function(t,e,r){var i=r("27b2");t.exports=function(t,e,r,n){try{return n?e(i(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},"1d2b":function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return t.apply(e,r)}}},"1d73":function(t,e,r){t.exports=r("312a")("native-function-to-string",Function.toString)},"1efc":function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},"1f1a":function(t,e,r){},"1f51":function(t,e,r){var i=r("b808"),n=r("a0a8"),o=r("0f4a"),s=r("c0f4")("src"),a=r("1d73"),c="toString",l=(""+a).split(c);r("ca38").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,r,a){var c="function"==typeof r;c&&(o(r,"name")||n(r,"name",e)),t[e]!==r&&(c&&(o(r,s)||n(r,s,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=r:a?t[e]?t[e]=r:n(t,e,r):(delete t[e],n(t,e,r)))})(Function.prototype,c,function(){return"function"==typeof this&&this[s]||a.call(this)})},"1fb5":function(t,e,r){"use strict";e.byteLength=function(t){var e=l(t),r=e[0],i=e[1];return 3*(r+i)/4-i},e.toByteArray=function(t){for(var e,r=l(t),i=r[0],s=r[1],a=new o(function(t,e,r){return 3*(e+r)/4-r}(0,i,s)),c=0,u=0<s?i-4:i,h=0;h<u;h+=4)e=n[t.charCodeAt(h)]<<18|n[t.charCodeAt(h+1)]<<12|n[t.charCodeAt(h+2)]<<6|n[t.charCodeAt(h+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=255&e;return 2===s&&(e=n[t.charCodeAt(h)]<<2|n[t.charCodeAt(h+1)]>>4,a[c++]=255&e),1===s&&(e=n[t.charCodeAt(h)]<<10|n[t.charCodeAt(h+1)]<<4|n[t.charCodeAt(h+2)]>>2,a[c++]=e>>8&255,a[c++]=255&e),a},e.fromByteArray=function(t){for(var e,r=t.length,n=r%3,o=[],s=0,a=r-n;s<a;s+=16383)o.push(u(t,s,a<s+16383?a:s+16383));return 1==n?(e=t[r-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2==n&&(e=(t[r-2]<<8)+t[r-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),o.join("")};for(var i=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)i[a]=s[a],n[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,r){for(var n,o,s=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=n)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},"1fc8":function(t,e,r){var i=r("4245");t.exports=function(t,e){var r=i(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}},"1fca":function(t,e,r){var i=r("6f8a");t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},"20cf":function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},29:function(t,e){t.exports=r("299c")},4:function(t,e){t.exports=r("d010")},49:function(t,e){t.exports=r("e450")},61:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"el-slider",class:{"is-vertical":t.vertical,"el-slider--with-input":t.showInput},attrs:{role:"slider","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":t.vertical?"vertical":"horizontal","aria-disabled":t.sliderDisabled}},[t.showInput&&!t.range?r("el-input-number",{ref:"input",staticClass:"el-slider__input",attrs:{step:t.step,disabled:t.sliderDisabled,controls:t.showInputControls,min:t.min,max:t.max,debounce:t.debounce,size:t.inputSize},on:{change:t.emitChange},model:{value:t.firstValue,callback:function(e){t.firstValue=e},expression:"firstValue"}}):t._e(),r("div",{ref:"slider",staticClass:"el-slider__runway",class:{"show-input":t.showInput,disabled:t.sliderDisabled},style:t.runwayStyle,on:{click:t.onSliderClick}},[r("div",{staticClass:"el-slider__bar",style:t.barStyle}),r("slider-button",{ref:"button1",attrs:{vertical:t.vertical,"tooltip-class":t.tooltipClass},model:{value:t.firstValue,callback:function(e){t.firstValue=e},expression:"firstValue"}}),t.range?r("slider-button",{ref:"button2",attrs:{vertical:t.vertical,"tooltip-class":t.tooltipClass},model:{value:t.secondValue,callback:function(e){t.secondValue=e},expression:"secondValue"}}):t._e(),t._l(t.stops,function(e,i){return t.showStops?r("div",{key:i,staticClass:"el-slider__stop",style:t.getStopStyle(e)}):t._e()}),0<t.markList.length?[r("div",t._l(t.markList,function(e,i){return r("div",{key:i,staticClass:"el-slider__stop el-slider__marks-stop",style:t.getStopStyle(e.position)})}),0),r("div",{staticClass:"el-slider__marks"},t._l(t.markList,function(e,i){return r("slider-marker",{key:i,style:t.getStopStyle(e.position),attrs:{mark:e.mark}})}),1)]:t._e()],2)],1)}function n(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"button",staticClass:"el-slider__button-wrapper",class:{hover:t.hovering,dragging:t.dragging},style:t.wrapperStyle,attrs:{tabindex:"0"},on:{mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave,mousedown:t.onButtonDown,touchstart:t.onButtonDown,focus:t.handleMouseEnter,blur:t.handleMouseLeave,keydown:[function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:t.onLeftKeyDown(e):null},function(e){return"button"in e||!t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?"button"in e&&2!==e.button?null:t.onRightKeyDown(e):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.onLeftKeyDown(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.onRightKeyDown(e)):null}]}},[r("el-tooltip",{ref:"tooltip",attrs:{placement:"top","popper-class":t.tooltipClass,disabled:!t.showTooltip}},[r("span",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.formatValue))]),r("div",{staticClass:"el-slider__button",class:{hover:t.hovering,dragging:t.dragging}})])],1)}r.r(e),i._withStripped=!0;var o=r(49),s=r.n(o);n._withStripped=!0;var a=r(29),c={name:"ElSliderButton",components:{ElTooltip:r.n(a).a},props:{value:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:String},data:function(){return{hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.sliderDisabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},showTooltip:function(){return this.$parent.showTooltip},precision:function(){return this.$parent.precision},currentPosition:function(){return(this.value-this.min)/(this.max-this.min)*100+"%"},enableFormat:function(){return this.$parent.formatTooltip instanceof Function},formatValue:function(){return this.enableFormat&&this.$parent.formatTooltip(this.value)||this.value},wrapperStyle:function(){return this.vertical?{bottom:this.currentPosition}:{left:this.currentPosition}}},watch:{dragging:function(t){this.$parent.dragging=t}},methods:{displayTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!0)},hideTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!1)},handleMouseEnter:function(){this.hovering=!0,this.displayTooltip()},handleMouseLeave:function(){this.hovering=!1,this.hideTooltip()},onButtonDown:function(t){this.disabled||(t.preventDefault(),this.onDragStart(t),window.addEventListener("mousemove",this.onDragging),window.addEventListener("touchmove",this.onDragging),window.addEventListener("mouseup",this.onDragEnd),window.addEventListener("touchend",this.onDragEnd),window.addEventListener("contextmenu",this.onDragEnd))},onLeftKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onRightKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onDragStart:function(t){this.dragging=!0,this.isClick=!0,"touchstart"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.vertical?this.startY=t.clientY:this.startX=t.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(t){if(this.dragging){this.isClick=!1,this.displayTooltip(),this.$parent.resetSize();var e=0;"touchmove"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),e=this.vertical?(this.currentY=t.clientY,(this.startY-this.currentY)/this.$parent.sliderSize*100):(this.currentX=t.clientX,(this.currentX-this.startX)/this.$parent.sliderSize*100),this.newPosition=this.startPosition+e,this.setPosition(this.newPosition)}},onDragEnd:function(){var t=this;this.dragging&&(setTimeout(function(){t.dragging=!1,t.hideTooltip(),t.isClick||(t.setPosition(t.newPosition),t.$parent.emitChange())},0),window.removeEventListener("mousemove",this.onDragging),window.removeEventListener("touchmove",this.onDragging),window.removeEventListener("mouseup",this.onDragEnd),window.removeEventListener("touchend",this.onDragEnd),window.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(t){var e=this;if(null!==t&&!isNaN(t)){t<0?t=0:100<t&&(t=100);var r=100/((this.max-this.min)/this.step),i=Math.round(t/r)*r*(this.max-this.min)*.01+this.min;i=parseFloat(i.toFixed(this.precision)),this.$emit("input",i),this.$nextTick(function(){e.displayTooltip(),e.$refs.tooltip&&e.$refs.tooltip.updatePopper()}),this.dragging||this.value===this.oldValue||(this.oldValue=this.value)}}}},l=r(0),u=Object(l.a)(c,n,[],!1,null,null,null);u.options.__file="packages/slider/src/button.vue";var h=u.exports,f={name:"ElMarker",props:{mark:{type:[String,Object]}},render:function(t){var e=t,r="string"==typeof this.mark?this.mark:this.mark.label;return e("div",{class:"el-slider__marks-text",style:this.mark.style||{}},[r])}},m=r(4),d={name:"ElSlider",mixins:[r.n(m).a],inject:{elForm:{default:""}},props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},value:{type:[Number,Array],default:0},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},inputSize:{type:String,default:"small"},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:Function,disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String},debounce:{type:Number,default:300},label:{type:String},tooltipClass:String,marks:Object},components:{ElInputNumber:s.a,SliderButton:h,SliderMarker:f},data:function(){return{firstValue:null,secondValue:null,oldValue:null,dragging:!1,sliderSize:1}},watch:{value:function(t,e){this.dragging||Array.isArray(t)&&Array.isArray(e)&&t.every(function(t,r){return t===e[r]})||this.setValues()},dragging:function(t){t||this.setValues()},firstValue:function(t){this.range?this.$emit("input",[this.minValue,this.maxValue]):this.$emit("input",t)},secondValue:function(){this.range&&this.$emit("input",[this.minValue,this.maxValue])},min:function(){this.setValues()},max:function(){this.setValues()}},methods:{valueChanged:function(){var t=this;return this.range?![this.minValue,this.maxValue].every(function(e,r){return e===t.oldValue[r]}):this.value!==this.oldValue},setValues:function(){if(!(this.min>this.max)){var t=this.value;this.range&&Array.isArray(t)?t[1]<this.min?this.$emit("input",[this.min,this.min]):t[0]>this.max?this.$emit("input",[this.max,this.max]):t[0]<this.min?this.$emit("input",[this.min,t[1]]):t[1]>this.max?this.$emit("input",[t[0],this.max]):(this.firstValue=t[0],this.secondValue=t[1],this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",[this.minValue,this.maxValue]),this.oldValue=t.slice())):this.range||"number"!=typeof t||isNaN(t)||(t<this.min?this.$emit("input",this.min):t>this.max?this.$emit("input",this.max):(this.firstValue=t,this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",t),this.oldValue=t)))}},setPosition:function(t){var e=this.min+t*(this.max-this.min)/100;if(this.range){var r=void 0;r=Math.abs(this.minValue-e)<Math.abs(this.maxValue-e)?this.firstValue<this.secondValue?"button1":"button2":this.firstValue>this.secondValue?"button1":"button2",this.$refs[r].setPosition(t)}else this.$refs.button1.setPosition(t)},onSliderClick:function(t){if(!this.sliderDisabled&&!this.dragging){if(this.resetSize(),this.vertical){var e=this.$refs.slider.getBoundingClientRect().bottom;this.setPosition((e-t.clientY)/this.sliderSize*100)}else{var r=this.$refs.slider.getBoundingClientRect().left;this.setPosition((t.clientX-r)/this.sliderSize*100)}this.emitChange()}},resetSize:function(){this.$refs.slider&&(this.sliderSize=this.$refs.slider["client"+(this.vertical?"Height":"Width")])},emitChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.range?[t.minValue,t.maxValue]:t.value)})},getStopStyle:function(t){return this.vertical?{bottom:t+"%"}:{left:t+"%"}}},computed:{stops:function(){var t=this;if(!this.showStops||this.min>this.max)return[];if(0===this.step)return[];for(var e=(this.max-this.min)/this.step,r=100*this.step/(this.max-this.min),i=[],n=1;n<e;n++)i.push(n*r);return this.range?i.filter(function(e){return e<100*(t.minValue-t.min)/(t.max-t.min)||e>100*(t.maxValue-t.min)/(t.max-t.min)}):i.filter(function(e){return e>100*(t.firstValue-t.min)/(t.max-t.min)})},markList:function(){var t=this;return this.marks?Object.keys(this.marks).map(parseFloat).sort(function(t,e){return t-e}).filter(function(e){return e<=t.max&&e>=t.min}).map(function(e){return{point:e,position:100*(e-t.min)/(t.max-t.min),mark:t.marks[e]}}):[]},minValue:function(){return Math.min(this.firstValue,this.secondValue)},maxValue:function(){return Math.max(this.firstValue,this.secondValue)},barSize:function(){return this.range?100*(this.maxValue-this.minValue)/(this.max-this.min)+"%":100*(this.firstValue-this.min)/(this.max-this.min)+"%"},barStart:function(){return this.range?100*(this.minValue-this.min)/(this.max-this.min)+"%":"0%"},precision:function(){var t=[this.min,this.max,this.step].map(function(t){var e=(""+t).split(".")[1];return e?e.length:0});return Math.max.apply(null,t)},runwayStyle:function(){return this.vertical?{height:this.height}:{}},barStyle:function(){return this.vertical?{height:this.barSize,bottom:this.barStart}:{width:this.barSize,left:this.barStart}},sliderDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},mounted:function(){var t=void 0;t=this.range?(Array.isArray(this.value)?(this.firstValue=Math.max(this.min,this.value[0]),this.secondValue=Math.min(this.max,this.value[1])):(this.firstValue=this.min,this.secondValue=this.max),this.oldValue=[this.firstValue,this.secondValue],this.firstValue+"-"+this.secondValue):("number"!=typeof this.value||isNaN(this.value)?this.firstValue=this.min:this.firstValue=Math.min(this.max,Math.max(this.min,this.value)),this.oldValue=this.firstValue,this.firstValue),this.$el.setAttribute("aria-valuetext",t),this.$el.setAttribute("aria-label",this.label?this.label:"slider between "+this.min+" and "+this.max),this.resetSize(),window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)}},p=Object(l.a)(d,i,[],!1,null,null,null);p.options.__file="packages/slider/src/main.vue";var _=p.exports;_.install=function(t){t.component(_.name,_)},e.default=_}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=61))},"20d6":function(t,e,r){"use strict";var i=r("5ca1"),n=r("0a49")(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(t,e){return n(this,t,1<arguments.length?e:void 0)}}),r("9c6c")(o)},"20ec":function(t,e){t.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},"214f":function(t,e,r){"use strict";r("b0c5");var i=r("2aba"),n=r("32e9"),o=r("79e5"),s=r("be13"),a=r("2b4c"),c=r("520a"),l=a("species"),u=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var f=a(t),m=!o(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),d=m?!o(function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[l]=function(){return r}),r[f](""),!e}):void 0;if(!m||!d||"replace"===t&&!u||"split"===t&&!h){var p=/./[f],_=r(s,f,""[t],function(t,e,r,i,n){return e.exec===c?m&&!n?{done:!0,value:p.call(e,r,i)}:{done:!0,value:t.call(r,e,i)}:{done:!1}}),g=_[0],v=_[1];i(String.prototype,t,g),n(RegExp.prototype,f,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},2286:function(t,e,r){var i=r("85e3"),n=Math.max;t.exports=function(t,e,r){return e=n(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=n(o.length-e,0),c=Array(a);++s<a;)c[s]=o[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=o[s];return l[e]=r(c),i(t,this,l)}}},2299:function(t,e,r){var i=r("b67f")("iterator"),n=!1;try{var o=[7][i]();o.return=function(){n=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:r=!0}},o[i]=function(){return s},t(o)}catch(t){}return r}},"22b5":function(t,e,r){var i=r("d13f");i(i.P+i.R,"Set",{toJSON:r("034c")("Set")})},"230e":function(t,e,r){var i=r("d3f4"),n=r("7726").document,o=i(n)&&i(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},2312:function(t,e,r){t.exports=r("8ce0")},"234d":function(t,e,r){var i=r("e380");t.exports=function(t){var e=i(t,function(t){return 500===r.size&&r.clear(),t}),r=e.cache;return e}},2366:function(t,e){for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0,n=r;return[n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]]].join("")}},"23c6":function(t,e,r){var i=r("2d95"),n=r("2b4c")("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?r:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},2418:function(t,e,r){var i=r("6a9b"),n=r("a5ab"),o=r("1b8f");t.exports=function(t){return function(e,r,s){var a,c=i(e),l=n(c.length),u=o(s,l);if(t&&r!=r){for(;u<l;)if((a=c[u++])!=a)return!0}else for(;u<l;u++)if((t||u in c)&&c[u]===r)return t||u||0;return!t&&-1}}},2444:function(t,e,r){"use strict";(function(e){var i=r("c532"),n=r("c8af"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,c={adapter:("undefined"!=typeof XMLHttpRequest?a=r("b50d"):void 0!==e&&(a=r("b50d")),a),transformRequest:[function(t,e){return n(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){c.headers[t]={}}),i.forEach(["post","put","patch"],function(t){c.headers[t]=i.merge(o)}),t.exports=c}).call(this,r("4362"))},"245b":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},2474:function(t,e,r){var i=r("2b3e").Uint8Array;t.exports=i},2478:function(t,e,r){var i=r("4245");t.exports=function(t){return i(this,t).get(t)}},2524:function(t,e,r){var i=r("6044");t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this}},"253c":function(t,e,r){var i=r("3729"),n=r("1310");t.exports=function(t){return n(t)&&"[object Arguments]"==i(t)}},"261e":function(t,e,r){r("012f")("Map")},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"268f":function(t,e,r){t.exports=r("2a04")},2695:function(t,e,r){var i=r("43c8"),n=r("6a9b"),o=r("2418")(!1),s=r("5d8f")("IE_PROTO");t.exports=function(t,e){var r,a=n(t),c=0,l=[];for(r in a)r!=s&&i(a,r)&&l.push(r);for(;e.length>c;)i(a,r=e[c++])&&(~o(l,r)||l.push(r));return l}},"26dd":function(t,e,r){"use strict";var i=r("6f4f"),n=r("10db"),o=r("92f0"),s={};r("051b")(s,r("cc15")("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=i(s,{next:n(1,r)}),o(t,e+" Iterator")}},"26e8":function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},2732:function(t,e,r){var i=r("5a88"),n=r("699e");e.mul=function(t,e){var r=new i(t.length+e.length-1);r.fill(0);for(var o=0;o<t.length;o++)for(var s=0;s<e.length;s++)r[o+s]^=n.mul(t[o],e[s]);return r},e.mod=function(t,e){for(var r=new i(t);0<=r.length-e.length;){for(var o=r[0],s=0;s<e.length;s++)r[s]^=n.mul(e[s],o);for(var a=0;a<r.length&&0===r[a];)a++;r=r.slice(a)}return r},e.generateECPolynomial=function(t){for(var r=new i([1]),o=0;o<t;o++)r=e.mul(r,[1,n.exp(o)]);return r}},"27a3":function(t,e){e.isValid=function(t){return!isNaN(t)&&1<=t&&t<=40}},"27aa":function(t,e,r){},"27b2":function(t,e,r){var i=r("ab4c");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},"27ee":function(t,e,r){var i=r("23c6"),n=r("2b4c")("iterator"),o=r("84f2");t.exports=r("8378").getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||o[i(t)]}},2877:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},"28a5":function(t,e,r){"use strict";var i=r("aae3"),n=r("cb7c"),o=r("ebd6"),s=r("0390"),a=r("9def"),c=r("5f1b"),l=r("520a"),u=r("79e5"),h=Math.min,f=[].push,m="split",d="length",p="lastIndex",_=4294967295,g=!u(function(){RegExp(_,"y")});r("214f")("split",2,function(t,e,r,u){var v;return v="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[d]||2!="ab"[m](/(?:ab)*/)[d]||4!="."[m](/(.?)(.?)/)[d]||1<"."[m](/()()/)[d]||""[m](/.?/)[d]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return r.call(n,t,e);for(var o,s,a,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,m=void 0===e?_:e>>>0,g=new RegExp(t.source,u+"g");(o=l.call(g,n))&&!(h<(s=g[p])&&(c.push(n.slice(h,o.index)),1<o[d]&&o.index<n[d]&&f.apply(c,o.slice(1)),a=o[0][d],h=s,c[d]>=m));)g[p]===o.index&&g[p]++;return h===n[d]?!a&&g.test("")||c.push(""):c.push(n.slice(h)),c[d]>m?c.slice(0,m):c}:"0"[m](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,i){var n=t(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,n,i):v.call(String(n),r,i)},function(t,e){var i=u(v,t,this,e,v!==r);if(i.done)return i.value;var l=n(t),f=String(this),m=o(l,RegExp),d=l.unicode,p=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(g?"y":"g"),y=new m(g?l:"^(?:"+l.source+")",p),b=void 0===e?_:e>>>0;if(0==b)return[];if(0===f.length)return null===c(y,f)?[f]:[];for(var x=0,w=0,S=[];w<f.length;){y.lastIndex=g?w:0;var C,T=c(y,g?f:f.slice(w));if(null===T||(C=h(a(y.lastIndex+(g?0:w)),f.length))===x)w=s(f,w,d);else{if(S.push(f.slice(x,w)),S.length===b)return S;for(var E=1;E<=T.length-1;E++)if(S.push(T[E]),S.length===b)return S;w=x=C}}return S.push(f.slice(x)),S}]})},"28b2":function(t,e,r){},"28c9":function(t,e){t.exports=function(){this.__data__=[],this.size=0}},"299c":function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={129:function(t,e,r){"use strict";r.r(e);var i=r(5),n=r.n(i),o=r(16),s=r.n(o),a=r(2),c=r(3),l=r(7),u=r.n(l),h={name:"ElTooltip",mixins:[n.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(c.generateId)(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var t=this;this.$isServer||(this.popperVM=new u.a({data:{node:""},render:function(t){return this.node}}).$mount(),this.debounceClose=s()(200,function(){return t.handleClosePopper()}))},render:function(t){var e=this;this.popperVM&&(this.popperVM.node=t("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[t("div",{on:{mouseleave:function(){e.setExpectedState(!1),e.debounceClose()},mouseenter:function(){e.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var r=this.getFirstElement();if(!r)return null;var i=r.data=r.data||{};return i.staticClass=this.addTooltipClass(i.staticClass),r},mounted:function(){var t=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(a.on)(this.referenceElm,"mouseenter",this.show),Object(a.on)(this.referenceElm,"mouseleave",this.hide),Object(a.on)(this.referenceElm,"focus",function(){if(t.$slots.default&&t.$slots.default.length){var e=t.$slots.default[0].componentInstance;e&&e.focus?e.focus():t.handleFocus()}else t.handleFocus()}),Object(a.on)(this.referenceElm,"blur",this.handleBlur),Object(a.on)(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick(function(){t.value&&t.updatePopper()})},watch:{focusing:function(t){t?Object(a.addClass)(this.referenceElm,"focusing"):Object(a.removeClass)(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(t){return t?"el-tooltip "+t.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var t=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.showPopper=!0},this.openDelay),0<this.hideAfter&&(this.timeoutPending=setTimeout(function(){t.showPopper=!1},this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(t){!1===t&&clearTimeout(this.timeoutPending),this.expectedState=t},getFirstElement:function(){var t=this.$slots.default;if(!Array.isArray(t))return null;for(var e=null,r=0;r<t.length;r++)t[r]&&t[r].tag&&(e=t[r]);return e}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var t=this.referenceElm;1===t.nodeType&&(Object(a.off)(t,"mouseenter",this.show),Object(a.off)(t,"mouseleave",this.hide),Object(a.off)(t,"focus",this.handleFocus),Object(a.off)(t,"blur",this.handleBlur),Object(a.off)(t,"click",this.removeFocusing))},install:function(t){t.component(h.name,h)}};e.default=h},16:function(t,e){t.exports=r("0e15")},2:function(t,e){t.exports=r("5924")},3:function(t,e){t.exports=r("8122")},5:function(t,e){t.exports=r("e974")},7:function(t,e){t.exports=r("2b0e")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=129))},"29f3":function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},"2a04":function(t,e,r){r("4938");var i=r("a7d3").Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},"2a4e":function(t,e,r){var i=r("a812"),n=r("e5fa");t.exports=function(t){return function(e,r){var o,s,a=String(n(e)),c=i(r),l=a.length;return c<0||l<=c?t?"":void 0:(o=a.charCodeAt(c))<55296||56319<o||c+1===l||(s=a.charCodeAt(c+1))<56320||57343<s?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},"2a5e":function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){if(!o.default.prototype.$isServer)if(e){for(var r=[],i=e.offsetParent;i&&t!==i&&t.contains(i);)r.push(i),i=i.offsetParent;var n=e.offsetTop+r.reduce(function(t,e){return t+e.offsetTop},0),s=n+e.offsetHeight,a=t.scrollTop,c=a+t.clientHeight;n<a?t.scrollTop=n:c<s&&(t.scrollTop=s-t.clientHeight)}else t.scrollTop=0};var i,n=r("2b0e"),o=(i=n)&&i.__esModule?i:{default:i}},"2a88":function(t,e,r){"use strict";var i=r("268f"),n=r.n(i),o=r("8feb"),s=r.n(o),a=r("6bb5");function c(t,e,r){return(c="undefined"!=typeof Reflect&&s.a?s.a:function(t,e,r){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(a.a)(t)););return t}(t,e);if(i){var o=n()(i,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}r.d(e,"a",function(){return c})},"2aba":function(t,e,r){var i=r("7726"),n=r("32e9"),o=r("69a8"),s=r("ca5a")("src"),a=r("fa5b"),c=(""+a).split("toString");r("8378").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,r,a){var l="function"==typeof r;l&&(o(r,"name")||n(r,"name",e)),t[e]!==r&&(l&&(o(r,s)||n(r,s,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=r:a?t[e]?t[e]=r:n(t,e,r):(delete t[e],n(t,e,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},"2ad6":function(t,e,r){"use strict";var i,n;"undefined"!=typeof window&&window,void 0===(n="function"==typeof(i=function(){if("undefined"==typeof window)return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};function e(t,e){var r=Object.prototype.toString.call(t),i="[object Array]"===r||"[object NodeList]"===r||"[object HTMLCollection]"===r||"[object Object]"===r||"undefined"!=typeof jQuery&&t instanceof jQuery||"undefined"!=typeof Elements&&t instanceof Elements,n=0,o=t.length;if(i)for(;n<o;n++)e(t[n]);else e(t)}function r(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}var i=function(n,o){function s(){var t,e,r=[];this.add=function(t){r.push(t)},this.call=function(i){for(t=0,e=r.length;t<e;t++)r[t].call(this,i)},this.remove=function(i){var n=[];for(t=0,e=r.length;t<e;t++)r[t]!==i&&n.push(r[t]);r=n},this.length=function(){return r.length}}function a(e,i){if(e)if(e.resizedAttached)e.resizedAttached.add(i);else{e.resizedAttached=new s,e.resizedAttached.add(i),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var n="pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;",o="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=n,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+n+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+n+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor);var a=window.getComputedStyle(e),c=a?a.getPropertyValue("position"):null;"absolute"!==c&&"relative"!==c&&"fixed"!==c&&(e.style.position="relative");var l,u,h=e.resizeSensor.childNodes[0],f=h.childNodes[0],m=e.resizeSensor.childNodes[1],d=r(e),p=d.width,_=d.height,g=!0,v=0,y=function(){if(g){var r=0===e.offsetWidth&&0===e.offsetHeight;if(r)return void(v=v||t(function(){v=0,y()}));g=!1}!function(){var t=e.offsetWidth,r=e.offsetHeight;f.style.width=t+10+"px",f.style.height=r+10+"px",h.scrollLeft=t+10,h.scrollTop=r+10,m.scrollLeft=t+10,m.scrollTop=r+10}()};e.resizeSensor.resetSensor=y;var b=function(){u=0,l&&(p=d.width,_=d.height,e.resizedAttached&&e.resizedAttached.call(d))},x=function(){d=r(e),(l=d.width!==p||d.height!==_)&&!u&&(u=t(b)),y()},w=function(t,e,r){t.attachEvent?t.attachEvent("on"+e,r):t.addEventListener(e,r)};w(h,"scroll",x),w(m,"scroll",x),t(y)}}e(n,function(t){a(t,o)}),this.detach=function(t){i.detach(n,t)},this.reset=function(){n.resizeSensor.resetSensor()}};if(i.reset=function(t){e(t,function(t){t.resizeSensor.resetSensor()})},i.detach=function(t,r){e(t,function(t){t&&(t.resizedAttached&&"function"==typeof r&&(t.resizedAttached.remove(r),t.resizedAttached.length())||t.resizeSensor&&(t.contains(t.resizeSensor)&&t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached))})},"undefined"!=typeof MutationObserver){var n=new MutationObserver(function(t){for(var e in t)if(t.hasOwnProperty(e))for(var r=t[e].addedNodes,n=0;n<r.length;n++)r[n].resizeSensor&&i.reset(r[n])});document.addEventListener("DOMContentLoaded",function(t){n.observe(document.body,{childList:!0,subtree:!0})})}return i})?i.call(e,r,e,t):i)||(t.exports=n)},"2aeb":function(t,e,r){function i(){}var n=r("cb7c"),o=r("1495"),s=r("e11e"),a=r("613b")("IE_PROTO"),c="prototype",l=function(){var t,e=r("230e")("iframe"),i=s.length;for(e.style.display="none",r("fab2").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l[c][s[i]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(i[c]=n(t),r=new i,i[c]=null,r[a]=t):r=l(),void 0===e?r:o(r,e)}},"2b03":function(t,e){t.exports=function(t,e,r,i){for(var n=t.length,o=r+(i?1:-1);i?o--:++o<n;)if(e(t[o],o,t))return o;return-1}},"2b0e":function(t,e,r){"use strict";r.r(e),function(t){
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({});function i(t){return null==t}function n(t){return null!=t}function o(t){return!0===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function a(t){return null!==t&&"object"==typeof t}var c=Object.prototype.toString;function l(t){return"[object Object]"===c.call(t)}function u(t){return"[object RegExp]"===c.call(t)}function h(t){var e=parseFloat(String(t));return 0<=e&&Math.floor(e)===e&&isFinite(t)}function f(t){return n(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function m(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function d(t){var e=parseFloat(t);return isNaN(e)?t:e}function p(t,e){for(var r=Object.create(null),i=t.split(","),n=0;n<i.length;n++)r[i[n]]=!0;return e?function(t){return r[t.toLowerCase()]}:function(t){return r[t]}}p("slot,component",!0);var _=p("key,ref,slot,slot-scope,is");function g(t,e){if(t.length){var r=t.indexOf(e);if(-1<r)return t.splice(r,1)}}var v=Object.prototype.hasOwnProperty;function y(t,e){return v.call(t,e)}function b(t){var e=Object.create(null);return function(r){return e[r]||(e[r]=t(r))}}var x=/-(\w)/g,w=b(function(t){return t.replace(x,function(t,e){return e?e.toUpperCase():""})}),S=b(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),C=/\B([A-Z])/g,T=b(function(t){return t.replace(C,"-$1").toLowerCase()}),E=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function r(r){var i=arguments.length;return i?1<i?t.apply(e,arguments):t.call(e,r):t.call(e)}return r._length=t.length,r};function O(t,e){e=e||0;for(var r=t.length-e,i=new Array(r);r--;)i[r]=t[r+e];return i}function k(t,e){for(var r in e)t[r]=e[r];return t}function A(t){for(var e={},r=0;r<t.length;r++)t[r]&&k(e,t[r]);return e}function M(t,e,r){}function P(t,e,r){return!1}var D=function(t){return t};function j(t,e){if(t===e)return!0;var r=a(t),i=a(e);if(!r||!i)return!r&&!i&&String(t)===String(e);try{var n=Array.isArray(t),o=Array.isArray(e);if(n&&o)return t.length===e.length&&t.every(function(t,r){return j(t,e[r])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(n||o)return!1;var s=Object.keys(t),c=Object.keys(e);return s.length===c.length&&s.every(function(r){return j(t[r],e[r])})}catch(r){return!1}}function z(t,e){for(var r=0;r<t.length;r++)if(j(t[r],e))return r;return-1}function I(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var R="data-server-rendered",F=["component","directive","filter"],L=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],N={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:P,isReservedAttr:P,isUnknownElement:P,getTagNamespace:M,parsePlatformTagName:D,mustUseProp:P,async:!0,_lifecycleHooks:L},B=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function $(t,e,r,i){Object.defineProperty(t,e,{value:r,enumerable:!!i,writable:!0,configurable:!0})}var U,q=new RegExp("[^"+B.source+".$_\\d]"),H="__proto__"in{},V="undefined"!=typeof window,X="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,W=X&&WXEnvironment.platform.toLowerCase(),Y=V&&window.navigator.userAgent.toLowerCase(),G=Y&&/msie|trident/.test(Y),K=Y&&0<Y.indexOf("msie 9.0"),J=Y&&0<Y.indexOf("edge/"),Q=(Y&&Y.indexOf("android"),Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===W),Z=(Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y),Y&&Y.match(/firefox\/(\d+)/)),tt={}.watch,et=!1;if(V)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){et=!0}}),window.addEventListener("test-passive",null,rt)}catch(t){}var it=function(){return void 0===U&&(U=!V&&!X&&void 0!==t&&t.process&&"server"===t.process.env.VUE_ENV),U},nt=V&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ot(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,at="undefined"!=typeof Symbol&&ot(Symbol)&&"undefined"!=typeof Reflect&&ot(Reflect.ownKeys);st="undefined"!=typeof Set&&ot(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ct=M,lt=0,ut=function(){this.id=lt++,this.subs=[]};ut.prototype.addSub=function(t){this.subs.push(t)},ut.prototype.removeSub=function(t){g(this.subs,t)},ut.prototype.depend=function(){ut.target&&ut.target.addDep(this)},ut.prototype.notify=function(){for(var t=this.subs.slice(),e=0,r=t.length;e<r;e++)t[e].update()},ut.target=null;var ht=[];function ft(t){ht.push(t),ut.target=t}function mt(){ht.pop(),ut.target=ht[ht.length-1]}var dt=function(t,e,r,i,n,o,s,a){this.tag=t,this.data=e,this.children=r,this.text=i,this.elm=n,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},pt={child:{configurable:!0}};pt.child.get=function(){return this.componentInstance},Object.defineProperties(dt.prototype,pt);var _t=function(t){void 0===t&&(t="");var e=new dt;return e.text=t,e.isComment=!0,e};function gt(t){return new dt(void 0,void 0,void 0,String(t))}function vt(t){var e=new dt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var yt=Array.prototype,bt=Object.create(yt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=yt[t];$(bt,t,function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];var n,o=e.apply(this,r),s=this.__ob__;switch(t){case"push":case"unshift":n=r;break;case"splice":n=r.slice(2)}return n&&s.observeArray(n),s.dep.notify(),o})});var xt=Object.getOwnPropertyNames(bt),wt=!0;function St(t){wt=t}var Ct=function(t){this.value=t,this.dep=new ut,this.vmCount=0,$(t,"__ob__",this),Array.isArray(t)?(H?function(t,e){t.__proto__=e}(t,bt):function(t,e,r){for(var i=0,n=r.length;i<n;i++){var o=r[i];$(t,o,e[o])}}(t,bt,xt),this.observeArray(t)):this.walk(t)};function Tt(t,e){var r;if(a(t)&&!(t instanceof dt))return y(t,"__ob__")&&t.__ob__ instanceof Ct?r=t.__ob__:wt&&!it()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(r=new Ct(t)),e&&r&&r.vmCount++,r}function Et(t,e,r,i,n){var o=new ut,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,c=s&&s.set;a&&!c||2!==arguments.length||(r=t[e]);var l=!n&&Tt(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):r;return ut.target&&(o.depend(),l&&(l.dep.depend(),Array.isArray(e)&&function t(e){for(var r=void 0,i=0,n=e.length;i<n;i++)(r=e[i])&&r.__ob__&&r.__ob__.dep.depend(),Array.isArray(r)&&t(r)}(e))),e},set:function(e){var i=a?a.call(t):r;e===i||e!=e&&i!=i||a&&!c||(c?c.call(t,e):r=e,l=!n&&Tt(e),o.notify())}})}}function Ot(t,e,r){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(e in t&&!(e in Object.prototype))return t[e]=r;var i=t.__ob__;return t._isVue||i&&i.vmCount?r:i?(Et(i.value,e,r),i.dep.notify(),r):t[e]=r}function kt(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var r=t.__ob__;t._isVue||r&&r.vmCount||y(t,e)&&(delete t[e],r&&r.dep.notify())}}Ct.prototype.walk=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)Et(t,e[r])},Ct.prototype.observeArray=function(t){for(var e=0,r=t.length;e<r;e++)Tt(t[e])};var At=N.optionMergeStrategies;function Mt(t,e){if(!e)return t;for(var r,i,n,o=at?Reflect.ownKeys(e):Object.keys(e),s=0;s<o.length;s++)"__ob__"!==(r=o[s])&&(i=t[r],n=e[r],y(t,r)?i!==n&&l(i)&&l(n)&&Mt(i,n):Ot(t,r,n));return t}function Pt(t,e,r){return r?function(){var i="function"==typeof e?e.call(r,r):e,n="function"==typeof t?t.call(r,r):t;return i?Mt(i,n):n}:e?t?function(){return Mt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Dt(t,e){var r=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return r?function(t){for(var e=[],r=0;r<t.length;r++)-1===e.indexOf(t[r])&&e.push(t[r]);return e}(r):r}function jt(t,e,r,i){var n=Object.create(t||null);return e?k(n,e):n}At.data=function(t,e,r){return r?Pt(t,e,r):e&&"function"!=typeof e?t:Pt(t,e)},L.forEach(function(t){At[t]=Dt}),F.forEach(function(t){At[t+"s"]=jt}),At.watch=function(t,e,r,i){if(t===tt&&(t=void 0),e===tt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var n={};for(var o in k(n,t),e){var s=n[o],a=e[o];s&&!Array.isArray(s)&&(s=[s]),n[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return n},At.props=At.methods=At.inject=At.computed=function(t,e,r,i){if(!t)return e;var n=Object.create(null);return k(n,t),e&&k(n,e),n},At.provide=Pt;var zt=function(t,e){return void 0===e?t:e};function It(t,e,r){if("function"==typeof e&&(e=e.options),function(t){var e=t.props;if(e){var r,i,n={};if(Array.isArray(e))for(r=e.length;r--;)"string"==typeof(i=e[r])&&(n[w(i)]={type:null});else if(l(e))for(var o in e)i=e[o],n[w(o)]=l(i)?i:{type:i};t.props=n}}(e),function(t){var e=t.inject;if(e){var r=t.inject={};if(Array.isArray(e))for(var i=0;i<e.length;i++)r[e[i]]={from:e[i]};else if(l(e))for(var n in e){var o=e[n];r[n]=l(o)?k({from:n},o):{from:o}}}}(e),function(t){var e=t.directives;if(e)for(var r in e){var i=e[r];"function"==typeof i&&(e[r]={bind:i,update:i})}}(e),!e._base&&(e.extends&&(t=It(t,e.extends,r)),e.mixins))for(var i=0,n=e.mixins.length;i<n;i++)t=It(t,e.mixins[i],r);var o,s={};for(o in t)a(o);for(o in e)y(t,o)||a(o);function a(i){var n=At[i]||zt;s[i]=n(t[i],e[i],r,i)}return s}function Rt(t,e,r){if("string"==typeof r){var i=t[e];if(y(i,r))return i[r];var n=w(r);if(y(i,n))return i[n];var o=S(n);return y(i,o)?i[o]:i[r]||i[n]||i[o]}}function Ft(t,e,r,i){var n=e[t],o=!y(r,t),s=r[t],a=Bt(Boolean,n.type);if(-1<a)if(o&&!y(n,"default"))s=!1;else if(""===s||s===T(t)){var c=Bt(String,n.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=function(t,e,r){if(y(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t._props[r]?t._props[r]:"function"==typeof i&&"Function"!==Lt(e.type)?i.call(t):i}}(i,n,t);var l=wt;St(!0),Tt(s),St(l)}return s}function Lt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Nt(t,e){return Lt(t)===Lt(e)}function Bt(t,e){if(!Array.isArray(e))return Nt(e,t)?0:-1;for(var r=0,i=e.length;r<i;r++)if(Nt(e[r],t))return r;return-1}function $t(t,e,r){ft();try{if(e)for(var i=e;i=i.$parent;){var n=i.$options.errorCaptured;if(n)for(var o=0;o<n.length;o++)try{if(!1===n[o].call(i,t,e,r))return}catch(t){qt(t,i,"errorCaptured hook")}}qt(t,e,r)}finally{mt()}}function Ut(t,e,r,i,n){var o;try{(o=r?t.apply(e,r):t.call(e))&&!o._isVue&&f(o)&&!o._handled&&(o.catch(function(t){return $t(t,i,n+" (Promise/async)")}),o._handled=!0)}catch(t){$t(t,i,n)}return o}function qt(t,e,r){if(N.errorHandler)try{return N.errorHandler.call(null,t,e,r)}catch(e){e!==t&&Ht(e,null,"config.errorHandler")}Ht(t,e,r)}function Ht(t){if(!V&&!X||"undefined"==typeof console)throw t}var Vt,Xt=!1,Wt=[],Yt=!1;function Gt(){Yt=!1;for(var t=Wt.slice(0),e=Wt.length=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&ot(Promise)){var Kt=Promise.resolve();Vt=function(){Kt.then(Gt),Q&&setTimeout(M)},Xt=!0}else if(G||"undefined"==typeof MutationObserver||!ot(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Vt="undefined"!=typeof setImmediate&&ot(setImmediate)?function(){setImmediate(Gt)}:function(){setTimeout(Gt,0)};else{var Jt=1,Qt=new MutationObserver(Gt),Zt=document.createTextNode(String(Jt));Qt.observe(Zt,{characterData:!0}),Vt=function(){Jt=(Jt+1)%2,Zt.data=String(Jt)},Xt=!0}function te(t,e){var r;if(Wt.push(function(){if(t)try{t.call(e)}catch(t){$t(t,e,"nextTick")}else r&&r(e)}),Yt||(Yt=!0,Vt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){r=t})}var ee=new st;function re(t){!function t(e,r){var i,n,o=Array.isArray(e);if(!(!o&&!a(e)||Object.isFrozen(e)||e instanceof dt)){if(e.__ob__){var s=e.__ob__.dep.id;if(r.has(s))return;r.add(s)}if(o)for(i=e.length;i--;)t(e[i],r);else for(n=Object.keys(e),i=n.length;i--;)t(e[n[i]],r)}}(t,ee),ee.clear()}var ie=b(function(t){var e="&"===t.charAt(0),r="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=r?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:r,capture:i,passive:e}});function ne(t,e){function r(){var t=arguments,i=r.fns;if(!Array.isArray(i))return Ut(i,null,arguments,e,"v-on handler");for(var n=i.slice(),o=0;o<n.length;o++)Ut(n[o],null,t,e,"v-on handler")}return r.fns=t,r}function oe(t,e,r,n,s,a){var c,l,u,h;for(c in t)l=t[c],u=e[c],h=ie(c),i(l)||(i(u)?(i(l.fns)&&(l=t[c]=ne(l,a)),o(h.once)&&(l=t[c]=s(h.name,l,h.capture)),r(h.name,l,h.capture,h.passive,h.params)):l!==u&&(u.fns=l,t[c]=u));for(c in e)i(t[c])&&n((h=ie(c)).name,e[c],h.capture)}function se(t,e,r){var s;t instanceof dt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function c(){r.apply(this,arguments),g(s.fns,c)}i(a)?s=ne([c]):n(a.fns)&&o(a.merged)?(s=a).fns.push(c):s=ne([a,c]),s.merged=!0,t[e]=s}function ae(t,e,r,i,o){if(n(e)){if(y(e,r))return t[r]=e[r],o||delete e[r],!0;if(y(e,i))return t[r]=e[i],o||delete e[i],!0}return!1}function ce(t){return s(t)?[gt(t)]:Array.isArray(t)?function t(e,r){var a,c,l,u,h=[];for(a=0;a<e.length;a++)i(c=e[a])||"boolean"==typeof c||(l=h.length-1,u=h[l],Array.isArray(c)?0<c.length&&(le((c=t(c,(r||"")+"_"+a))[0])&&le(u)&&(h[l]=gt(u.text+c[0].text),c.shift()),h.push.apply(h,c)):s(c)?le(u)?h[l]=gt(u.text+c):""!==c&&h.push(gt(c)):le(c)&&le(u)?h[l]=gt(u.text+c.text):(o(e._isVList)&&n(c.tag)&&i(c.key)&&n(r)&&(c.key="__vlist"+r+"_"+a+"__"),h.push(c)));return h}(t):void 0}function le(t){return n(t)&&n(t.text)&&function(t){return!1===t}(t.isComment)}function ue(t,e){if(t){for(var r=Object.create(null),i=at?Reflect.ownKeys(t):Object.keys(t),n=0;n<i.length;n++){var o=i[n];if("__ob__"!==o){for(var s=t[o].from,a=e;a;){if(a._provided&&y(a._provided,s)){r[o]=a._provided[s];break}a=a.$parent}if(!a&&"default"in t[o]){var c=t[o].default;r[o]="function"==typeof c?c.call(e):c}}}return r}}function he(t,e){if(!t||!t.length)return{};for(var r={},i=0,n=t.length;i<n;i++){var o=t[i],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(r.default||(r.default=[])).push(o);else{var a=s.slot,c=r[a]||(r[a]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var l in r)r[l].every(fe)&&delete r[l];return r}function fe(t){return t.isComment&&!t.asyncFactory||" "===t.text}function me(t,e,i){var n,o=0<Object.keys(e).length,s=t?!!t.$stable:!o,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&i&&i!==r&&a===i.$key&&!o&&!i.$hasNormal)return i;for(var c in n={},t)t[c]&&"$"!==c[0]&&(n[c]=de(e,c,t[c]))}else n={};for(var l in e)l in n||(n[l]=pe(e,l));return t&&Object.isExtensible(t)&&(t._normalized=n),$(n,"$stable",s),$(n,"$key",a),$(n,"$hasNormal",o),n}function de(t,e,r){function i(){var t=arguments.length?r.apply(null,arguments):r({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:ce(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t}return r.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function pe(t,e){return function(){return t[e]}}function _e(t,e){var r,i,o,s,c;if(Array.isArray(t)||"string"==typeof t)for(r=new Array(t.length),i=0,o=t.length;i<o;i++)r[i]=e(t[i],i);else if("number"==typeof t)for(r=new Array(t),i=0;i<t;i++)r[i]=e(i+1,i);else if(a(t))if(at&&t[Symbol.iterator]){r=[];for(var l=t[Symbol.iterator](),u=l.next();!u.done;)r.push(e(u.value,r.length)),u=l.next()}else for(s=Object.keys(t),r=new Array(s.length),i=0,o=s.length;i<o;i++)c=s[i],r[i]=e(t[c],c,i);return n(r)||(r=[]),r._isVList=!0,r}function ge(t,e,r,i){var n,o=this.$scopedSlots[t];n=o?(r=r||{},i&&(r=k(k({},i),r)),o(r)||e):this.$slots[t]||e;var s=r&&r.slot;return s?this.$createElement("template",{slot:s},n):n}function ve(t){return Rt(this.$options,"filters",t)||D}function ye(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function be(t,e,r,i,n){var o=N.keyCodes[e]||r;return n&&i&&!N.keyCodes[e]?ye(n,i):o?ye(o,t):i?T(i)!==e:void 0}function xe(t,e,r,i,n){if(r&&a(r)){var o;Array.isArray(r)&&(r=A(r));var s=function(s){if("class"===s||"style"===s||_(s))o=t;else{var a=t.attrs&&t.attrs.type;o=i||N.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=w(s),l=T(s);c in o||l in o||(o[s]=r[s],n&&((t.on||(t.on={}))["update:"+s]=function(t){r[s]=t}))};for(var c in r)s(c)}return t}function we(t,e){var r=this._staticTrees||(this._staticTrees=[]),i=r[t];return i&&!e||Ce(i=r[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),i}function Se(t,e,r){return Ce(t,"__once__"+e+(r?"_"+r:""),!0),t}function Ce(t,e,r){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&Te(t[i],e+"_"+i,r);else Te(t,e,r)}function Te(t,e,r){t.isStatic=!0,t.key=e,t.isOnce=r}function Ee(t,e){if(e&&l(e)){var r=t.on=t.on?k({},t.on):{};for(var i in e){var n=r[i],o=e[i];r[i]=n?[].concat(n,o):o}}return t}function Oe(t,e,r,i){e=e||{$stable:!r};for(var n=0;n<t.length;n++){var o=t[n];Array.isArray(o)?Oe(o,e,r):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return i&&(e.$key=i),e}function ke(t,e){for(var r=0;r<e.length;r+=2){var i=e[r];"string"==typeof i&&i&&(t[e[r]]=e[r+1])}return t}function Ae(t,e){return"string"==typeof t?e+t:t}function Me(t){t._o=Se,t._n=d,t._s=m,t._l=_e,t._t=ge,t._q=j,t._i=z,t._m=we,t._f=ve,t._k=be,t._b=xe,t._v=gt,t._e=_t,t._u=Oe,t._g=Ee,t._d=ke,t._p=Ae}function Pe(t,e,i,n,s){var a,c=this,l=s.options;y(n,"_uid")?(a=Object.create(n))._original=n:n=(a=n)._original;var u=o(l._compiled),h=!u;this.data=t,this.props=e,this.children=i,this.parent=n,this.listeners=t.on||r,this.injections=ue(l.inject,n),this.slots=function(){return c.$slots||me(t.scopedSlots,c.$slots=he(i,n)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return me(t.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=me(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,r,i){var o=Be(a,t,e,r,i,h);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=n),o}:this._c=function(t,e,r,i){return Be(a,t,e,r,i,h)}}function De(t,e,r,i){var n=vt(t);return n.fnContext=r,n.fnOptions=i,e.slot&&((n.data||(n.data={})).slot=e.slot),n}function je(t,e){for(var r in e)t[w(r)]=e[r]}Me(Pe.prototype);var ze={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var r=t;ze.prepatch(r,r)}else(t.componentInstance=function(t,e){var r={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return n(i)&&(r.render=i.render,r.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(r)}(t,Ke)).$mount(e?t.elm:void 0,e)},prepatch:function(t,e){var i=e.componentOptions;!function(t,e,i,n,o){var s=n.data.scopedSlots,a=t.$scopedSlots,c=!!(s&&!s.$stable||a!==r&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key),l=!!(o||t.$options._renderChildren||c);if(t.$options._parentVnode=n,t.$vnode=n,t._vnode&&(t._vnode.parent=n),t.$options._renderChildren=o,t.$attrs=n.data.attrs||r,t.$listeners=i||r,e&&t.$options.props){St(!1);for(var u=t._props,h=t.$options._propKeys||[],f=0;f<h.length;f++){var m=h[f],d=t.$options.props;u[m]=Ft(m,d,e,t)}St(!0),t.$options.propsData=e}i=i||r;var p=t.$options._parentListeners;t.$options._parentListeners=i,Ge(t,i,p),l&&(t.$slots=he(o,n.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,i.propsData,i.listeners,e,i.children)},insert:function(t){var e=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,tr(r,"mounted")),t.data.keepAlive&&(e._isMounted?function(t){t._inactive=!1,rr.push(t)}(r):Ze(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,r){if((!r||(e._directInactive=!0,!Qe(e)))&&!e._inactive){e._inactive=!0;for(var i=0;i<e.$children.length;i++)t(e.$children[i]);tr(e,"deactivated")}}(e,!0):e.$destroy())}},Ie=Object.keys(ze);function Re(t,e,s,c,l){if(!i(t)){var u=s.$options._base;if(a(t)&&(t=u.extend(t)),"function"==typeof t){var h;if(i(t.cid)&&void 0===(t=function(t,e){if(o(t.error)&&n(t.errorComp))return t.errorComp;if(n(t.resolved))return t.resolved;var r=Ue;if(r&&n(t.owners)&&-1===t.owners.indexOf(r)&&t.owners.push(r),o(t.loading)&&n(t.loadingComp))return t.loadingComp;if(r&&!n(t.owners)){var s=t.owners=[r],c=!0,l=null,u=null;r.$on("hook:destroyed",function(){return g(s,r)});var h=function(t){for(var e=0,r=s.length;e<r;e++)s[e].$forceUpdate();t&&(s.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},m=I(function(r){t.resolved=qe(r,e),c?s.length=0:h(!0)}),d=I(function(e){n(t.errorComp)&&(t.error=!0,h(!0))}),p=t(m,d);return a(p)&&(f(p)?i(t.resolved)&&p.then(m,d):f(p.component)&&(p.component.then(m,d),n(p.error)&&(t.errorComp=qe(p.error,e)),n(p.loading)&&(t.loadingComp=qe(p.loading,e),0===p.delay?t.loading=!0:l=setTimeout(function(){l=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,h(!1))},p.delay||200)),n(p.timeout)&&(u=setTimeout(function(){u=null,i(t.resolved)&&d(null)},p.timeout)))),c=!1,t.loading?t.loadingComp:t.resolved}}(h=t,u)))return function(t,e,r,i,n){var o=_t();return o.asyncFactory=t,o.asyncMeta={data:e,context:r,children:i,tag:n},o}(h,e,s,c,l);e=e||{},Ar(t),n(e.model)&&function(t,e){var r=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[r]=e.model.value;var o=e.on||(e.on={}),s=o[i],a=e.model.callback;n(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[i]=[a].concat(s)):o[i]=a}(t.options,e);var m=function(t,e){var r=e.options.props;if(!i(r)){var o={},s=t.attrs,a=t.props;if(n(s)||n(a))for(var c in r){var l=T(c);ae(o,a,c,l,!0)||ae(o,s,c,l,!1)}return o}}(e,t);if(o(t.options.functional))return function(t,e,i,o,s){var a=t.options,c={},l=a.props;if(n(l))for(var u in l)c[u]=Ft(u,l,e||r);else n(i.attrs)&&je(c,i.attrs),n(i.props)&&je(c,i.props);var h=new Pe(i,c,s,o,t),f=a.render.call(null,h._c,h);if(f instanceof dt)return De(f,i,h.parent,a,h);if(Array.isArray(f)){for(var m=ce(f)||[],d=new Array(m.length),p=0;p<m.length;p++)d[p]=De(m[p],i,h.parent,a,h);return d}}(t,m,e,s,c);var d=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}!function(t){for(var e=t.hook||(t.hook={}),r=0;r<Ie.length;r++){var i=Ie[r],n=e[i],o=ze[i];n===o||n&&n._merged||(e[i]=n?Fe(o,n):o)}}(e);var _=t.options.name||l;return new dt("vue-component-"+t.cid+(_?"-"+_:""),e,void 0,void 0,void 0,s,{Ctor:t,propsData:m,listeners:d,tag:l,children:c},h)}}}function Fe(t,e){function r(r,i){t(r,i),e(r,i)}return r._merged=!0,r}var Le=1,Ne=2;function Be(t,e,r,c,l,u){return(Array.isArray(r)||s(r))&&(l=c,c=r,r=void 0),o(u)&&(l=Ne),function(t,e,r,s,c){if(n(r)&&n(r.__ob__))return _t();if(n(r)&&n(r.is)&&(e=r.is),!e)return _t();var l,u,h;(Array.isArray(s)&&"function"==typeof s[0]&&((r=r||{}).scopedSlots={default:s[0]},s.length=0),c===Ne?s=ce(s):c===Le&&(s=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(s)),"string"==typeof e)?(u=t.$vnode&&t.$vnode.ns||N.getTagNamespace(e),l=N.isReservedTag(e)?new dt(N.parsePlatformTagName(e),r,s,void 0,void 0,t):r&&r.pre||!n(h=Rt(t.$options,"components",e))?new dt(e,r,s,void 0,void 0,t):Re(h,r,t,s,e)):l=Re(e,r,t,s);return Array.isArray(l)?l:n(l)?(n(u)&&function t(e,r,s){if(e.ns=r,"foreignObject"===e.tag&&(s=!(r=void 0)),n(e.children))for(var a=0,c=e.children.length;a<c;a++){var l=e.children[a];n(l.tag)&&(i(l.ns)||o(s)&&"svg"!==l.tag)&&t(l,r,s)}}(l,u),n(r)&&function(t){a(t.style)&&re(t.style),a(t.class)&&re(t.class)}(r),l):_t()}(t,e,r,c,l)}var $e,Ue=null;function qe(t,e){return(t.__esModule||at&&"Module"===t[Symbol.toStringTag])&&(t=t.default),a(t)?e.extend(t):t}function He(t){return t.isComment&&t.asyncFactory}function Ve(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var r=t[e];if(n(r)&&(n(r.componentOptions)||He(r)))return r}}function Xe(t,e){$e.$on(t,e)}function We(t,e){$e.$off(t,e)}function Ye(t,e){var r=$e;return function i(){null!==e.apply(null,arguments)&&r.$off(t,i)}}function Ge(t,e,r){oe(e,r||{},Xe,We,Ye,$e=t),$e=void 0}var Ke=null;function Je(t){var e=Ke;return Ke=t,function(){Ke=e}}function Qe(t){for(;t=t&&t.$parent;)if(t._inactive)return!0;return!1}function Ze(t,e){if(e){if(t._directInactive=!1,Qe(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var r=0;r<t.$children.length;r++)Ze(t.$children[r]);tr(t,"activated")}}function tr(t,e){ft();var r=t.$options[e],i=e+" hook";if(r)for(var n=0,o=r.length;n<o;n++)Ut(r[n],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),mt()}var er=[],rr=[],ir={},nr=!1,or=!1,sr=0,ar=0,cr=Date.now;if(V&&!G){var lr=window.performance;lr&&"function"==typeof lr.now&&cr()>document.createEvent("Event").timeStamp&&(cr=function(){return lr.now()})}function ur(){var t,e;for(ar=cr(),or=!0,er.sort(function(t,e){return t.id-e.id}),sr=0;sr<er.length;sr++)(t=er[sr]).before&&t.before(),e=t.id,ir[e]=null,t.run();var r=rr.slice(),i=er.slice();sr=er.length=rr.length=0,nr=or=!(ir={}),function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ze(t[e],!0)}(r),function(t){for(var e=t.length;e--;){var r=t[e],i=r.vm;i._watcher===r&&i._isMounted&&!i._isDestroyed&&tr(i,"updated")}}(i),nt&&N.devtools&&nt.emit("flush")}var hr=0,fr=function(t,e,r,i,n){this.vm=t,n&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++hr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!q.test(t)){var e=t.split(".");return function(t){for(var r=0;r<e.length;r++){if(!t)return;t=t[e[r]]}return t}}}(e),this.getter||(this.getter=M)),this.value=this.lazy?void 0:this.get()};fr.prototype.get=function(){var t;ft(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;$t(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&re(t),mt(),this.cleanupDeps()}return t},fr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},fr.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},fr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==ir[e]){if(ir[e]=!0,or){for(var r=er.length-1;sr<r&&er[r].id>t.id;)r--;er.splice(r+1,0,t)}else er.push(t);nr||(nr=!0,te(ur))}}(this)},fr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||a(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){$t(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},fr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},fr.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},fr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var mr={enumerable:!0,configurable:!0,get:M,set:M};function dr(t,e,r){mr.get=function(){return this[e][r]},mr.set=function(t){this[e][r]=t},Object.defineProperty(t,r,mr)}function pr(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var r=t.$options.propsData||{},i=t._props={},n=t.$options._propKeys=[];function o(o){n.push(o);var s=Ft(o,e,r,t);Et(i,o,s),o in t||dr(t,"_props",o)}for(var s in t.$parent&&St(!1),e)o(s);St(!0)}(t,e.props),e.methods&&function(t,e){for(var r in t.$options.props,e)t[r]="function"!=typeof e[r]?M:E(e[r],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){ft();try{return t.call(e,e)}catch(t){return $t(t,e,"data()"),{}}finally{mt()}}(e,t):e||{})||(e={});for(var r,i=Object.keys(e),n=t.$options.props,o=(t.$options.methods,i.length);o--;){var s=i[o];n&&y(n,s)||36!==(r=(s+"").charCodeAt(0))&&95!==r&&dr(t,"_data",s)}Tt(e,!0)}(t):Tt(t._data={},!0),e.computed&&function(t,e){var r=t._computedWatchers=Object.create(null),i=it();for(var n in e){var o=e[n],s="function"==typeof o?o:o.get;i||(r[n]=new fr(t,s||M,M,_r)),n in t||gr(t,n,o)}}(t,e.computed),e.watch&&e.watch!==tt&&function(t,e){for(var r in e){var i=e[r];if(Array.isArray(i))for(var n=0;n<i.length;n++)br(t,r,i[n]);else br(t,r,i)}}(t,e.watch)}var _r={lazy:!0};function gr(t,e,r){var i=!it();"function"==typeof r?(mr.get=i?vr(e):yr(r),mr.set=M):(mr.get=r.get?i&&!1!==r.cache?vr(e):yr(r.get):M,mr.set=r.set||M),Object.defineProperty(t,e,mr)}function vr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ut.target&&e.depend(),e.value}}function yr(t){return function(){return t.call(this,this)}}function br(t,e,r,i){return l(r)&&(r=(i=r).handler),"string"==typeof r&&(r=t[r]),t.$watch(e,r,i)}var xr,wr,Sr,Cr,Tr,Er,Or,kr=0;function Ar(t){var e=t.options;if(t.super){var r=Ar(t.super);if(r!==t.superOptions){t.superOptions=r;var i=function(t){var e,r=t.options,i=t.sealedOptions;for(var n in r)r[n]!==i[n]&&((e=e||{})[n]=r[n]);return e}(t);i&&k(t.extendOptions,i),(e=t.options=It(r,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Mr(t){this._init(t)}function Pr(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,i=r.cid,n=t._Ctor||(t._Ctor={});if(n[i])return n[i];var o=t.name||r.options.name;function s(t){this._init(t)}return((s.prototype=Object.create(r.prototype)).constructor=s).cid=e++,s.options=It(r.options,t),s.super=r,s.options.props&&function(t){var e=t.options.props;for(var r in e)dr(t.prototype,"_props",r)}(s),s.options.computed&&function(t){var e=t.options.computed;for(var r in e)gr(t.prototype,r,e[r])}(s),s.extend=r.extend,s.mixin=r.mixin,s.use=r.use,F.forEach(function(t){s[t]=r[t]}),o&&(s.options.components[o]=s),s.superOptions=r.options,s.extendOptions=t,s.sealedOptions=k({},s.options),n[i]=s}}function Dr(t){return t&&(t.Ctor.options.name||t.tag)}function jr(t,e){return Array.isArray(t)?-1<t.indexOf(e):"string"==typeof t?-1<t.split(",").indexOf(e):!!u(t)&&t.test(e)}function zr(t,e){var r=t.cache,i=t.keys,n=t._vnode;for(var o in r){var s=r[o];if(s){var a=Dr(s.componentOptions);a&&!e(a)&&Ir(r,o,i,n)}}}function Ir(t,e,r,i){var n=t[e];!n||i&&n.tag===i.tag||n.componentInstance.$destroy(),t[e]=null,g(r,e)}Mr.prototype._init=function(t){var e=this;e._uid=kr++,e._isVue=!0,t&&t._isComponent?function(t,e){var r=t.$options=Object.create(t.constructor.options),i=e._parentVnode;r.parent=e.parent;var n=(r._parentVnode=i).componentOptions;r.propsData=n.propsData,r._parentListeners=n.listeners,r._renderChildren=n.children,r._componentTag=n.tag,e.render&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=It(Ar(e.constructor),t||{},e),function(t){var e=t.$options,r=e.parent;if(r&&!e.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(t)}t.$parent=r,t.$root=r?r.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}((e._renderProxy=e)._self=e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ge(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,n=i&&i.context;t.$slots=he(e._renderChildren,n),t.$scopedSlots=r,t._c=function(e,r,i,n){return Be(t,e,r,i,n,!1)},t.$createElement=function(e,r,i,n){return Be(t,e,r,i,n,!0)};var o=i&&i.data;Et(t,"$attrs",o&&o.attrs||r,null,!0),Et(t,"$listeners",e._parentListeners||r,null,!0)}(e),tr(e,"beforeCreate"),function(t){var e=ue(t.$options.inject,t);e&&(St(!1),Object.keys(e).forEach(function(r){Et(t,r,e[r])}),St(!0))}(e),pr(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),tr(e,"created"),e.$options.el&&e.$mount(e.$options.el)},xr=Mr,wr={get:function(){return this._data}},Sr={get:function(){return this._props}},Object.defineProperty(xr.prototype,"$data",wr),Object.defineProperty(xr.prototype,"$props",Sr),xr.prototype.$set=Ot,xr.prototype.$delete=kt,xr.prototype.$watch=function(t,e,r){var i=this;if(l(e))return br(i,t,e,r);(r=r||{}).user=!0;var n=new fr(i,t,e,r);if(r.immediate)try{e.call(i,n.value)}catch(t){$t(t,i,'callback for immediate watcher "'+n.expression+'"')}return function(){n.teardown()}},Tr=/^hook:/,(Cr=Mr).prototype.$on=function(t,e){if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)this.$on(t[r],e);else(this._events[t]||(this._events[t]=[])).push(e),Tr.test(t)&&(this._hasHookEvent=!0);return this},Cr.prototype.$once=function(t,e){var r=this;function i(){r.$off(t,i),e.apply(r,arguments)}return i.fn=e,r.$on(t,i),r},Cr.prototype.$off=function(t,e){if(!arguments.length)return this._events=Object.create(null),this;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)this.$off(t[r],e);return this}var n,o=this._events[t];if(!o)return this;if(!e)return this._events[t]=null,this;for(var s=o.length;s--;)if((n=o[s])===e||n.fn===e){o.splice(s,1);break}return this},Cr.prototype.$emit=function(t){var e=this._events[t];if(e){e=1<e.length?O(e):e;for(var r=O(arguments,1),i='event handler for "'+t+'"',n=0,o=e.length;n<o;n++)Ut(e[n],this,r,this,i)}return this},(Er=Mr).prototype._update=function(t,e){var r=this,i=r.$el,n=r._vnode,o=Je(r);r._vnode=t,r.$el=n?r.__patch__(n,t):r.__patch__(r.$el,t,e,!1),o(),i&&(i.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},Er.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},Er.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){tr(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||g(e.$children,t),t._watcher&&t._watcher.teardown();for(var r=t._watchers.length;r--;)t._watchers[r].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),tr(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}},Me((Or=Mr).prototype),Or.prototype.$nextTick=function(t){return te(t,this)},Or.prototype._render=function(){var t,e=this,r=e.$options,i=r.render,n=r._parentVnode;n&&(e.$scopedSlots=me(n.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=n;try{Ue=e,t=i.call(e._renderProxy,e.$createElement)}catch(r){$t(r,e,"render"),t=e._vnode}finally{Ue=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof dt||(t=_t()),t.parent=n,t};var Rr,Fr,Lr,Nr=[String,RegExp,Array],Br={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Nr,exclude:Nr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ir(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){zr(t,function(t){return jr(e,t)})}),this.$watch("exclude",function(e){zr(t,function(t){return!jr(e,t)})})},render:function(){var t=this.$slots.default,e=Ve(t),r=e&&e.componentOptions;if(r){var i=Dr(r),n=this.include,o=this.exclude;if(n&&(!i||!jr(n,i))||o&&i&&jr(o,i))return e;var s=this.cache,a=this.keys,c=null==e.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):e.key;s[c]?(e.componentInstance=s[c].componentInstance,g(a,c),a.push(c)):(s[c]=e,a.push(c),this.max&&a.length>parseInt(this.max)&&Ir(s,a[0],a,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};Fr=Mr,Lr={get:function(){return N}},Object.defineProperty(Fr,"config",Lr),Fr.util={warn:ct,extend:k,mergeOptions:It,defineReactive:Et},Fr.set=Ot,Fr.delete=kt,Fr.nextTick=te,Fr.observable=function(t){return Tt(t),t},Fr.options=Object.create(null),F.forEach(function(t){Fr.options[t+"s"]=Object.create(null)}),k((Fr.options._base=Fr).options.components,Br),Fr.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(-1<e.indexOf(t))return this;var r=O(arguments,1);return r.unshift(this),"function"==typeof t.install?t.install.apply(t,r):"function"==typeof t&&t.apply(null,r),e.push(t),this},Fr.mixin=function(t){return this.options=It(this.options,t),this},Pr(Fr),Rr=Fr,F.forEach(function(t){Rr[t]=function(e,r){return r?("component"===t&&l(r)&&(r.name=r.name||e,r=this.options._base.extend(r)),"directive"===t&&"function"==typeof r&&(r={bind:r,update:r}),this.options[t+"s"][e]=r):this.options[t+"s"][e]}}),Object.defineProperty(Mr.prototype,"$isServer",{get:it}),Object.defineProperty(Mr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Mr,"FunctionalRenderContext",{value:Pe}),Mr.version="2.6.10";var $r=p("style,class"),Ur=p("input,textarea,option,select,progress"),qr=p("contenteditable,draggable,spellcheck"),Hr=p("events,caret,typing,plaintext-only"),Vr=function(t,e){return Kr(e)||"false"===e?"false":"contenteditable"===t&&Hr(e)?e:"true"},Xr=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Wr="http://www.w3.org/1999/xlink",Yr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Gr=function(t){return Yr(t)?t.slice(6,t.length):""},Kr=function(t){return null==t||!1===t};function Jr(t){for(var e=t.data,r=t,i=t;n(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=Qr(i.data,e));for(;n(r=r.parent);)r&&r.data&&(e=Qr(e,r.data));return function(t,e){return n(t)||n(e)?Zr(t,ti(e)):""}(e.staticClass,e.class)}function Qr(t,e){return{staticClass:Zr(t.staticClass,e.staticClass),class:n(t.class)?[t.class,e.class]:e.class}}function Zr(t,e){return t?e?t+" "+e:t:e||""}function ti(t){return Array.isArray(t)?function(t){for(var e,r="",i=0,o=t.length;i<o;i++)n(e=ti(t[i]))&&""!==e&&(r&&(r+=" "),r+=e);return r}(t):a(t)?function(t){var e="";for(var r in t)t[r]&&(e&&(e+=" "),e+=r);return e}(t):"string"==typeof t?t:""}function ei(t){return ii(t)||ni(t)}var ri={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ii=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ni=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oi=Object.create(null),si=p("text,number,password,search,email,tel,url"),ai=Object.freeze({createElement:function(t,e){var r=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r},createElementNS:function(t,e){return document.createElementNS(ri[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,r){t.insertBefore(e,r)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),ci={create:function(t,e){li(e)},update:function(t,e){t.data.ref!==e.data.ref&&(li(t,!0),li(e))},destroy:function(t){li(t,!0)}};function li(t,e){var r=t.data.ref;if(n(r)){var i=t.context,o=t.componentInstance||t.elm,s=i.$refs;e?Array.isArray(s[r])?g(s[r],o):s[r]===o&&(s[r]=void 0):t.data.refInFor?Array.isArray(s[r])?s[r].indexOf(o)<0&&s[r].push(o):s[r]=[o]:s[r]=o}}var ui=new dt("",{},[]),hi=["create","activate","update","remove","destroy"];function fi(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&n(t.data)===n(e.data)&&function(t,e){if("input"!==t.tag)return!0;var r,i=n(r=t.data)&&n(r=r.attrs)&&r.type,o=n(r=e.data)&&n(r=r.attrs)&&r.type;return i===o||si(i)&&si(o)}(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function mi(t,e,r){var i,o,s={};for(i=e;i<=r;++i)n(o=t[i].key)&&(s[o]=i);return s}var di={create:pi,update:pi,destroy:function(t){pi(t,ui)}};function pi(t,e){(t.data.directives||e.data.directives)&&function(t,e){var r,i,n,o=t===ui,s=e===ui,a=gi(t.data.directives,t.context),c=gi(e.data.directives,e.context),l=[],u=[];for(r in c)i=a[r],n=c[r],i?(n.oldValue=i.value,n.oldArg=i.arg,vi(n,"update",e,t),n.def&&n.def.componentUpdated&&u.push(n)):(vi(n,"bind",e,t),n.def&&n.def.inserted&&l.push(n));if(l.length){var h=function(){for(var r=0;r<l.length;r++)vi(l[r],"inserted",e,t)};o?se(e,"insert",h):h()}if(u.length&&se(e,"postpatch",function(){for(var r=0;r<u.length;r++)vi(u[r],"componentUpdated",e,t)}),!o)for(r in a)c[r]||vi(a[r],"unbind",t,t,s)}(t,e)}var _i=Object.create(null);function gi(t,e){var r,i,n,o=Object.create(null);if(!t)return o;for(r=0;r<t.length;r++)(i=t[r]).modifiers||(i.modifiers=_i),(o[(n=i).rawName||n.name+"."+Object.keys(n.modifiers||{}).join(".")]=i).def=Rt(e.$options,"directives",i.name);return o}function vi(t,e,r,i,n){var o=t.def&&t.def[e];if(o)try{o(r.elm,t,r,i,n)}catch(i){$t(i,r.context,"directive "+t.name+" "+e+" hook")}}var yi=[ci,di];function bi(t,e){var r=e.componentOptions;if(!(n(r)&&!1===r.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var o,s,a=e.elm,c=t.data.attrs||{},l=e.data.attrs||{};for(o in n(l.__ob__)&&(l=e.data.attrs=k({},l)),l)s=l[o],c[o]!==s&&xi(a,o,s);for(o in(G||J)&&l.value!==c.value&&xi(a,"value",l.value),c)i(l[o])&&(Yr(o)?a.removeAttributeNS(Wr,Gr(o)):qr(o)||a.removeAttribute(o))}}function xi(t,e,r){-1<t.tagName.indexOf("-")?wi(t,e,r):Xr(e)?Kr(r)?t.removeAttribute(e):(r="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,r)):qr(e)?t.setAttribute(e,Vr(e,r)):Yr(e)?Kr(r)?t.removeAttributeNS(Wr,Gr(e)):t.setAttributeNS(Wr,e,r):wi(t,e,r)}function wi(t,e,r){if(Kr(r))t.removeAttribute(e);else{if(G&&!K&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==r&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,r)}}var Si={create:bi,update:bi};function Ci(t,e){var r=e.elm,o=e.data,s=t.data;if(!(i(o.staticClass)&&i(o.class)&&(i(s)||i(s.staticClass)&&i(s.class)))){var a=Jr(e),c=r._transitionClasses;n(c)&&(a=Zr(a,ti(c))),a!==r._prevClass&&(r.setAttribute("class",a),r._prevClass=a)}}var Ti,Ei={create:Ci,update:Ci},Oi="__r",ki="__c";function Ai(t,e,r){var i=Ti;return function n(){null!==e.apply(null,arguments)&&Di(t,n,r,i)}}var Mi=Xt&&!(Z&&Number(Z[1])<=53);function Pi(t,e,r,i){if(Mi){var n=ar,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=n||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Ti.addEventListener(t,e,et?{capture:r,passive:i}:r)}function Di(t,e,r,i){(i||Ti).removeEventListener(t,e._wrapper||e,r)}function ji(t,e){if(!i(t.data.on)||!i(e.data.on)){var r=e.data.on||{},o=t.data.on||{};Ti=e.elm,function(t){if(n(t[Oi])){var e=G?"change":"input";t[e]=[].concat(t[Oi],t[e]||[]),delete t[Oi]}n(t[ki])&&(t.change=[].concat(t[ki],t.change||[]),delete t[ki])}(r),oe(r,o,Pi,Di,Ai,e.context),Ti=void 0}}var zi,Ii={create:ji,update:ji};function Ri(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var r,o,s,a,c=e.elm,l=t.data.domProps||{},u=e.data.domProps||{};for(r in n(u.__ob__)&&(u=e.data.domProps=k({},u)),l)r in u||(c[r]="");for(r in u){if(o=u[r],"textContent"===r||"innerHTML"===r){if(e.children&&(e.children.length=0),o===l[r])continue;1===c.childNodes.length&&c.removeChild(c.childNodes[0])}if("value"===r&&"PROGRESS"!==c.tagName){var h=i(c._value=o)?"":String(o);a=h,(s=c).composing||"OPTION"!==s.tagName&&!function(t,e){var r=!0;try{r=document.activeElement!==t}catch(t){}return r&&t.value!==e}(s,a)&&!function(t,e){var r=t.value,i=t._vModifiers;if(n(i)){if(i.number)return d(r)!==d(e);if(i.trim)return r.trim()!==e.trim()}return r!==e}(s,a)||(c.value=h)}else if("innerHTML"===r&&ni(c.tagName)&&i(c.innerHTML)){(zi=zi||document.createElement("div")).innerHTML="<svg>"+o+"</svg>";for(var f=zi.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;f.firstChild;)c.appendChild(f.firstChild)}else if(o!==l[r])try{c[r]=o}catch(t){}}}}var Fi={create:Ri,update:Ri},Li=b(function(t){var e={},r=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var i=t.split(r);1<i.length&&(e[i[0].trim()]=i[1].trim())}}),e});function Ni(t){var e=Bi(t.style);return t.staticStyle?k(t.staticStyle,e):e}function Bi(t){return Array.isArray(t)?A(t):"string"==typeof t?Li(t):t}function $i(t,e,r){if(qi.test(e))t.style.setProperty(e,r);else if(Hi.test(r))t.style.setProperty(T(e),r.replace(Hi,""),"important");else{var i=Xi(e);if(Array.isArray(r))for(var n=0,o=r.length;n<o;n++)t.style[i]=r[n];else t.style[i]=r}}var Ui,qi=/^--/,Hi=/\s*!important$/,Vi=["Webkit","Moz","ms"],Xi=b(function(t){if(Ui=Ui||document.createElement("div").style,"filter"!==(t=w(t))&&t in Ui)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<Vi.length;r++){var i=Vi[r]+e;if(i in Ui)return i}});function Wi(t,e){var r=e.data,o=t.data;if(!(i(r.staticStyle)&&i(r.style)&&i(o.staticStyle)&&i(o.style))){var s,a,c=e.elm,l=o.staticStyle,u=o.normalizedStyle||o.style||{},h=l||u,f=Bi(e.data.style)||{};e.data.normalizedStyle=n(f.__ob__)?k({},f):f;var m=function(t,e){var r,i={};if(e)for(var n=t;n.componentInstance;)(n=n.componentInstance._vnode)&&n.data&&(r=Ni(n.data))&&k(i,r);(r=Ni(t.data))&&k(i,r);for(var o=t;o=o.parent;)o.data&&(r=Ni(o.data))&&k(i,r);return i}(e,!0);for(a in h)i(m[a])&&$i(c,a,"");for(a in m)(s=m[a])!==h[a]&&$i(c,a,null==s?"":s)}}var Yi={create:Wi,update:Wi},Gi=/\s+/;function Ki(t,e){if(e=e&&e.trim())if(t.classList)-1<e.indexOf(" ")?e.split(Gi).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var r=" "+(t.getAttribute("class")||"")+" ";r.indexOf(" "+e+" ")<0&&t.setAttribute("class",(r+e).trim())}}function Ji(t,e){if(e=e&&e.trim())if(t.classList)-1<e.indexOf(" ")?e.split(Gi).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var r=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";0<=r.indexOf(i);)r=r.replace(i," ");(r=r.trim())?t.setAttribute("class",r):t.removeAttribute("class")}}function Qi(t){if(t){if("object"!=typeof t)return"string"==typeof t?Zi(t):void 0;var e={};return!1!==t.css&&k(e,Zi(t.name||"v")),k(e,t),e}}var Zi=b(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),tn=V&&!K,en="transition",rn="animation",nn="transition",on="transitionend",sn="animation",an="animationend";tn&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(nn="WebkitTransition",on="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(sn="WebkitAnimation",an="webkitAnimationEnd"));var cn=V?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ln(t){cn(function(){cn(t)})}function un(t,e){var r=t._transitionClasses||(t._transitionClasses=[]);r.indexOf(e)<0&&(r.push(e),Ki(t,e))}function hn(t,e){t._transitionClasses&&g(t._transitionClasses,e),Ji(t,e)}function fn(t,e,r){var i=dn(t,e),n=i.type,o=i.timeout,s=i.propCount;if(!n)return r();function a(){t.removeEventListener(c,u),r()}var c=n===en?on:an,l=0,u=function(e){e.target===t&&++l>=s&&a()};setTimeout(function(){l<s&&a()},o+1),t.addEventListener(c,u)}var mn=/\b(transform|all)(,|$)/;function dn(t,e){var r,i=window.getComputedStyle(t),n=(i[nn+"Delay"]||"").split(", "),o=(i[nn+"Duration"]||"").split(", "),s=pn(n,o),a=(i[sn+"Delay"]||"").split(", "),c=(i[sn+"Duration"]||"").split(", "),l=pn(a,c),u=0,h=0;return e===en?0<s&&(r=en,u=s,h=o.length):e===rn?0<l&&(r=rn,u=l,h=c.length):h=(r=0<(u=Math.max(s,l))?l<s?en:rn:null)?r===en?o.length:c.length:0,{type:r,timeout:u,propCount:h,hasTransform:r===en&&mn.test(i[nn+"Property"])}}function pn(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,r){return _n(e)+_n(t[r])}))}function _n(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function gn(t,e){var r=t.elm;n(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var o=Qi(t.data.transition);if(!i(o)&&!n(r._enterCb)&&1===r.nodeType){for(var s=o.css,c=o.type,l=o.enterClass,u=o.enterToClass,h=o.enterActiveClass,f=o.appearClass,m=o.appearToClass,p=o.appearActiveClass,_=o.beforeEnter,g=o.enter,v=o.afterEnter,y=o.enterCancelled,b=o.beforeAppear,x=o.appear,w=o.afterAppear,S=o.appearCancelled,C=o.duration,T=Ke,E=Ke.$vnode;E&&E.parent;)T=E.context,E=E.parent;var O=!T._isMounted||!t.isRootInsert;if(!O||x||""===x){var k=O&&f?f:l,A=O&&p?p:h,M=O&&m?m:u,P=O&&b||_,D=O&&"function"==typeof x?x:g,j=O&&w||v,z=O&&S||y,R=d(a(C)?C.enter:C),F=!1!==s&&!K,L=bn(D),N=r._enterCb=I(function(){F&&(hn(r,M),hn(r,A)),N.cancelled?(F&&hn(r,k),z&&z(r)):j&&j(r),r._enterCb=null});t.data.show||se(t,"insert",function(){var e=r.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),D&&D(r,N)}),P&&P(r),F&&(un(r,k),un(r,A),ln(function(){hn(r,k),N.cancelled||(un(r,M),L||(yn(R)?setTimeout(N,R):fn(r,c,N)))})),t.data.show&&(e&&e(),D&&D(r,N)),F||L||N()}}}function vn(t,e){var r=t.elm;n(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var o=Qi(t.data.transition);if(i(o)||1!==r.nodeType)return e();if(!n(r._leaveCb)){var s=o.css,c=o.type,l=o.leaveClass,u=o.leaveToClass,h=o.leaveActiveClass,f=o.beforeLeave,m=o.leave,p=o.afterLeave,_=o.leaveCancelled,g=o.delayLeave,v=o.duration,y=!1!==s&&!K,b=bn(m),x=d(a(v)?v.leave:v),w=r._leaveCb=I(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),y&&(hn(r,u),hn(r,h)),w.cancelled?(y&&hn(r,l),_&&_(r)):(e(),p&&p(r)),r._leaveCb=null});g?g(S):S()}function S(){w.cancelled||(!t.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),f&&f(r),y&&(un(r,l),un(r,h),ln(function(){hn(r,l),w.cancelled||(un(r,u),b||(yn(x)?setTimeout(w,x):fn(r,c,w)))})),m&&m(r,w),y||b||w())}}function yn(t){return"number"==typeof t&&!isNaN(t)}function bn(t){if(i(t))return!1;var e=t.fns;return n(e)?bn(Array.isArray(e)?e[0]:e):1<(t._length||t.length)}function xn(t,e){!0!==e.data.show&&gn(e)}var wn=function(t){var e,r,a={},c=t.modules,l=t.nodeOps;for(e=0;e<hi.length;++e)for(a[hi[e]]=[],r=0;r<c.length;++r)n(c[r][hi[e]])&&a[hi[e]].push(c[r][hi[e]]);function u(t){var e=l.parentNode(t);n(e)&&l.removeChild(e,t)}function h(t,e,r,i,s,c,u){if(n(t.elm)&&n(c)&&(t=c[u]=vt(t)),t.isRootInsert=!s,!function(t,e,r,i){var s=t.data;if(n(s)){var c=n(t.componentInstance)&&s.keepAlive;if(n(s=s.hook)&&n(s=s.init)&&s(t,!1),n(t.componentInstance))return f(t,e),m(r,t.elm,i),o(c)&&function(t,e,r,i){for(var o,s=t;s.componentInstance;)if(s=s.componentInstance._vnode,n(o=s.data)&&n(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](ui,s);e.push(s);break}m(r,t.elm,i)}(t,e,r,i),!0}}(t,e,r,i)){var h=t.data,p=t.children,_=t.tag;n(_)?(t.elm=t.ns?l.createElementNS(t.ns,_):l.createElement(_,t),v(t),d(t,p,e),n(h)&&g(t,e)):o(t.isComment)?t.elm=l.createComment(t.text):t.elm=l.createTextNode(t.text),m(r,t.elm,i)}}function f(t,e){n(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,_(t)?(g(t,e),v(t)):(li(t),e.push(t))}function m(t,e,r){n(t)&&(n(r)?l.parentNode(r)===t&&l.insertBefore(t,e,r):l.appendChild(t,e))}function d(t,e,r){if(Array.isArray(e))for(var i=0;i<e.length;++i)h(e[i],r,t.elm,null,!0,e,i);else s(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function _(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return n(t.tag)}function g(t,r){for(var i=0;i<a.create.length;++i)a.create[i](ui,t);n(e=t.data.hook)&&(n(e.create)&&e.create(ui,t),n(e.insert)&&r.push(t))}function v(t){var e;if(n(e=t.fnScopeId))l.setStyleScope(t.elm,e);else for(var r=t;r;)n(e=r.context)&&n(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),r=r.parent;n(e=Ke)&&e!==t.context&&e!==t.fnContext&&n(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function y(t,e,r,i,n,o){for(;i<=n;++i)h(r[i],o,t,e,!1,r,i)}function b(t){var e,r,i=t.data;if(n(i))for(n(e=i.hook)&&n(e=e.destroy)&&e(t),e=0;e<a.destroy.length;++e)a.destroy[e](t);if(n(e=t.children))for(r=0;r<t.children.length;++r)b(t.children[r])}function x(t,e,r,i){for(;r<=i;++r){var o=e[r];n(o)&&(n(o.tag)?(w(o),b(o)):u(o.elm))}}function w(t,e){if(n(e)||n(t.data)){var r,i=a.remove.length+1;for(n(e)?e.listeners+=i:e=function(t,e){function r(){0==--r.listeners&&u(t)}return r.listeners=e,r}(t.elm,i),n(r=t.componentInstance)&&n(r=r._vnode)&&n(r.data)&&w(r,e),r=0;r<a.remove.length;++r)a.remove[r](t,e);n(r=t.data.hook)&&n(r=r.remove)?r(t,e):e()}else u(t.elm)}function S(t,e,r,i){for(var o=r;o<i;o++){var s=e[o];if(n(s)&&fi(t,s))return o}}function C(t,e,r,s,c,u){if(t!==e){n(e.elm)&&n(s)&&(e=s[c]=vt(e));var f=e.elm=t.elm;if(o(t.isAsyncPlaceholder))n(e.asyncFactory.resolved)?O(t.elm,e,r):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var m,d=e.data;n(d)&&n(m=d.hook)&&n(m=m.prepatch)&&m(t,e);var p=t.children,g=e.children;if(n(d)&&_(e)){for(m=0;m<a.update.length;++m)a.update[m](t,e);n(m=d.hook)&&n(m=m.update)&&m(t,e)}i(e.text)?n(p)&&n(g)?p!==g&&function(t,e,r,o,s){var a,c,u,f=0,m=0,d=e.length-1,p=e[0],_=e[d],g=r.length-1,v=r[0],b=r[g],w=!s;for(0;f<=d&&m<=g;)i(p)?p=e[++f]:i(_)?_=e[--d]:fi(p,v)?(C(p,v,o,r,m),p=e[++f],v=r[++m]):fi(_,b)?(C(_,b,o,r,g),_=e[--d],b=r[--g]):fi(p,b)?(C(p,b,o,r,g),w&&l.insertBefore(t,p.elm,l.nextSibling(_.elm)),p=e[++f],b=r[--g]):(fi(_,v)?(C(_,v,o,r,m),w&&l.insertBefore(t,_.elm,p.elm),_=e[--d]):(i(a)&&(a=mi(e,f,d)),i(c=n(v.key)?a[v.key]:S(v,e,f,d))?h(v,o,t,p.elm,!1,r,m):fi(u=e[c],v)?(C(u,v,o,r,m),e[c]=void 0,w&&l.insertBefore(t,u.elm,p.elm)):h(v,o,t,p.elm,!1,r,m)),v=r[++m]);d<f?y(t,i(r[g+1])?null:r[g+1].elm,r,m,g,o):g<m&&x(0,e,f,d)}(f,p,g,r,u):n(g)?(n(t.text)&&l.setTextContent(f,""),y(f,null,g,0,g.length-1,r)):n(p)?x(0,p,0,p.length-1):n(t.text)&&l.setTextContent(f,""):t.text!==e.text&&l.setTextContent(f,e.text),n(d)&&n(m=d.hook)&&n(m=m.postpatch)&&m(t,e)}}}function T(t,e,r){if(o(r)&&n(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var E=p("attrs,class,staticClass,staticStyle,key");function O(t,e,r,i){var s,a=e.tag,c=e.data,l=e.children;if(i=i||c&&c.pre,e.elm=t,o(e.isComment)&&n(e.asyncFactory))return e.isAsyncPlaceholder=!0;if(n(c)&&(n(s=c.hook)&&n(s=s.init)&&s(e,!0),n(s=e.componentInstance)))return f(e,r),!0;if(n(a)){if(n(l))if(t.hasChildNodes())if(n(s=c)&&n(s=s.domProps)&&n(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,m=0;m<l.length;m++){if(!h||!O(h,l[m],r,i)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else d(e,l,r);if(n(c)){var p=!1;for(var _ in c)if(!E(_)){p=!0,g(e,r);break}!p&&c.class&&re(c.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,r,s){if(!i(e)){var c=!1,u=[];if(i(t))c=!0,h(e,u);else{var f=n(t.nodeType);if(!f&&fi(t,e))C(t,e,u,null,null,s);else{if(f){if(1===t.nodeType&&t.hasAttribute(R)&&(t.removeAttribute(R),r=!0),o(r)&&O(t,e,u))return T(e,u,!0),t;t=function(t){return new dt(l.tagName(t).toLowerCase(),{},[],void 0,t)}(t)}var m=t.elm,d=l.parentNode(m);if(h(e,u,m._leaveCb?null:d,l.nextSibling(m)),n(e.parent))for(var p=e.parent,g=_(e);p;){for(var v=0;v<a.destroy.length;++v)a.destroy[v](p);if(p.elm=e.elm,g){for(var y=0;y<a.create.length;++y)a.create[y](ui,p);var w=p.data.hook.insert;if(w.merged)for(var S=1;S<w.fns.length;S++)w.fns[S]()}else li(p);p=p.parent}n(d)?x(0,[t],0,0):n(t.tag)&&b(t)}}return T(e,u,c),e.elm}n(t)&&b(t)}}({nodeOps:ai,modules:[Si,Ei,Ii,Fi,Yi,V?{create:xn,activate:xn,remove:function(t,e){!0!==t.data.show?vn(t,e):e()}}:{}].concat(yi)});K&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Mn(t,"input")});var Sn={inserted:function(t,e,r,i){"select"===r.tag?(i.elm&&!i.elm._vOptions?se(r,"postpatch",function(){Sn.componentUpdated(t,e,r)}):Cn(t,e,r.context),t._vOptions=[].map.call(t.options,On)):"textarea"!==r.tag&&!si(t.type)||(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",kn),t.addEventListener("compositionend",An),t.addEventListener("change",An),K&&(t.vmodel=!0)))},componentUpdated:function(t,e,r){if("select"===r.tag){Cn(t,e,r.context);var i=t._vOptions,n=t._vOptions=[].map.call(t.options,On);n.some(function(t,e){return!j(t,i[e])})&&(t.multiple?e.value.some(function(t){return En(t,n)}):e.value!==e.oldValue&&En(e.value,n))&&Mn(t,"change")}}};function Cn(t,e,r){Tn(t,e,r),(G||J)&&setTimeout(function(){Tn(t,e,r)},0)}function Tn(t,e){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var n,o,s=0,a=t.options.length;s<a;s++)if(o=t.options[s],i)n=-1<z(r,On(o)),o.selected!==n&&(o.selected=n);else if(j(On(o),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function En(t,e){return e.every(function(e){return!j(e,t)})}function On(t){return"_value"in t?t._value:t.value}function kn(t){t.target.composing=!0}function An(t){t.target.composing&&(t.target.composing=!1,Mn(t.target,"input"))}function Mn(t,e){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}function Pn(t){return!t.componentInstance||t.data&&t.data.transition?t:Pn(t.componentInstance._vnode)}var Dn={model:Sn,show:{bind:function(t,e,r){var i=e.value,n=(r=Pn(r)).data&&r.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&n?(r.data.show=!0,gn(r,function(){t.style.display=o})):t.style.display=i?o:"none"},update:function(t,e,r){var i=e.value;!i!=!e.oldValue&&((r=Pn(r)).data&&r.data.transition?(r.data.show=!0,i?gn(r,function(){t.style.display=t.__vOriginalDisplay}):vn(r,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,r,i,n){n||(t.style.display=t.__vOriginalDisplay)}}},jn={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function zn(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?zn(Ve(e.children)):t}function In(t){var e={},r=t.$options;for(var i in r.propsData)e[i]=t[i];var n=r._parentListeners;for(var o in n)e[w(o)]=n[o];return e}function Rn(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Fn(t){return t.tag||He(t)}function Ln(t){return"show"===t.name}var Nn={name:"transition",props:jn,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(Fn)).length){var i=this.mode,n=r[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return n;var o=zn(n);if(!o)return n;if(this._leaving)return Rn(t,n);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var c=(o.data||(o.data={})).transition=In(this),l=this._vnode,u=zn(l);if(o.data.directives&&o.data.directives.some(Ln)&&(o.data.show=!0),u&&u.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,u)&&!He(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=k({},c);if("out-in"===i)return this._leaving=!0,se(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Rn(t,n);if("in-out"===i){if(He(o))return l;var f,m=function(){f()};se(c,"afterEnter",m),se(c,"enterCancelled",m),se(h,"delayLeave",function(t){f=t})}}return n}}},Bn=k({tag:String,moveClass:String},jn);function $n(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Un(t){t.data.newPos=t.elm.getBoundingClientRect()}function qn(t){var e=t.data.pos,r=t.data.newPos,i=e.left-r.left,n=e.top-r.top;if(i||n){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+n+"px)",o.transitionDuration="0s"}}delete Bn.mode;var Hn={Transition:Nn,TransitionGroup:{props:Bn,beforeMount:function(){var t=this,e=this._update;this._update=function(r,i){var n=Je(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,n(),e.call(t,r,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),i=this.prevChildren=this.children,n=this.$slots.default||[],o=this.children=[],s=In(this),a=0;a<n.length;a++){var c=n[a];c.tag&&null!=c.key&&0!==String(c.key).indexOf("__vlist")&&(o.push(c),((r[c.key]=c).data||(c.data={})).transition=s)}if(i){for(var l=[],u=[],h=0;h<i.length;h++){var f=i[h];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),r[f.key]?l.push(f):u.push(f)}this.kept=t(e,null,l),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach($n),t.forEach(Un),t.forEach(qn),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var r=t.elm,i=r.style;un(r,e),i.transform=i.WebkitTransform=i.transitionDuration="",r.addEventListener(on,r._moveCb=function t(i){i&&i.target!==r||i&&!/transform$/.test(i.propertyName)||(r.removeEventListener(on,t),r._moveCb=null,hn(r,e))})}}))},methods:{hasMove:function(t,e){if(!tn)return!1;if(this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Ji(r,t)}),Ki(r,e),r.style.display="none",this.$el.appendChild(r);var i=dn(r);return this.$el.removeChild(r),this._hasMove=i.hasTransform}}}};Mr.config.mustUseProp=function(t,e,r){return"value"===r&&Ur(t)&&"button"!==e||"selected"===r&&"option"===t||"checked"===r&&"input"===t||"muted"===r&&"video"===t},Mr.config.isReservedTag=ei,Mr.config.isReservedAttr=$r,Mr.config.getTagNamespace=function(t){return ni(t)?"svg":"math"===t?"math":void 0},Mr.config.isUnknownElement=function(t){if(!V)return!0;if(ei(t))return!1;if(t=t.toLowerCase(),null!=oi[t])return oi[t];var e=document.createElement(t);return-1<t.indexOf("-")?oi[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:oi[t]=/HTMLUnknownElement/.test(e.toString())},k(Mr.options.directives,Dn),k(Mr.options.components,Hn),Mr.prototype.__patch__=V?wn:M,Mr.prototype.$mount=function(t,e){return function(t,e,r){var i;return t.$el=e,t.$options.render||(t.$options.render=_t),tr(t,"beforeMount"),i=function(){t._update(t._render(),r)},new fr(t,i,M,{before:function(){t._isMounted&&!t._isDestroyed&&tr(t,"beforeUpdate")}},!0),r=!1,null==t.$vnode&&(t._isMounted=!0,tr(t,"mounted")),t}(this,t=t&&V?function(t){if("string"!=typeof t)return t;var e=document.querySelector(t);return e||document.createElement("div")}(t):void 0,e)},V&&setTimeout(function(){N.devtools&&nt&&nt.emit("init",Mr)},0),e.default=Mr}.call(this,r("c8ba"))},"2b3e":function(t,e,r){var i=r("585a"),n="object"==typeof self&&self&&self.Object===Object&&self,o=i||n||Function("return this")();t.exports=o},"2b4c":function(t,e,r){var i=r("5537")("wks"),n=r("ca5a"),o=r("7726").Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:n)("Symbol."+t))}).store=i},"2bb5":function(t,e,r){"use strict";e.__esModule=!0,r("8122"),e.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},"2c66":function(t,e,r){var i=r("d612"),n=r("8db3"),o=r("5edf"),s=r("c584"),a=r("750a"),c=r("ac41");t.exports=function(t,e,r){var l=-1,u=n,h=t.length,f=!0,m=[],d=m;if(r)f=!1,u=o;else if(200<=h){var p=e?null:a(t);if(p)return c(p);f=!1,u=s,d=new i}else d=e?[]:m;t:for(;++l<h;){var _=t[l],g=e?e(_):_;if(_=r||0!==_?_:0,f&&g==g){for(var v=d.length;v--;)if(d[v]===g)continue t;e&&d.push(g),m.push(_)}else u(d,g,r)||(d!==m&&d.push(g),m.push(_))}return m}},"2d00":function(t,e){t.exports=!1},"2d7c":function(t,e){t.exports=function(t,e){for(var r=-1,i=null==t?0:t.length,n=0,o=[];++r<i;){var s=t[r];e(s,r,t)&&(o[n++]=s)}return o}},"2d7d":function(t,e,r){t.exports=r("b347")},"2d83":function(t,e,r){"use strict";var i=r("387f");t.exports=function(t,e,r,n,o){var s=new Error(t);return i(s,e,r,n,o)}},"2d95":function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},"2dcb":function(t,e,r){var i=r("91e9")(Object.getPrototypeOf,Object);t.exports=i},"2e67":function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"2ea1":function(t,e,r){var i=r("6f8a");t.exports=function(t,e){if(!i(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!i(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},"2ec1":function(t,e,r){var i=r("100e"),n=r("9aff");t.exports=function(t){return i(function(e,r){var i=-1,o=r.length,s=1<o?r[o-1]:void 0,a=2<o?r[2]:void 0;for(s=3<t.length&&"function"==typeof s?(o--,s):void 0,a&&n(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),e=Object(e);++i<o;){var c=r[i];c&&t(e,c,i,s)}return e})}},"2f21":function(t,e,r){"use strict";var i=r("79e5");t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},"2f3a":function(t,e,r){var i=r("bbf0"),n=r("7bf0");function o(t){this.mode=i.KANJI,this.data=t}o.getBitsLength=function(t){return 13*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=n.toSJIS(this.data[e]);if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13)}},t.exports=o},"2f62":function(t,e,r){"use strict";r.d(e,"c",function(){return b}),r.d(e,"b",function(){return x});var i="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function n(t,e){Object.keys(t).forEach(function(r){return e(t[r],r)})}function o(t,e){this.runtime=e,this._children=Object.create(null);var r=(this._rawModule=t).state;this.state=("function"==typeof r?r():r)||{}}var s,a={namespaced:{configurable:!0}};function c(t){this.register([],t,!1)}function l(t){var e=this;void 0===t&&(t={}),!s&&"undefined"!=typeof window&&window.Vue&&g(window.Vue);var r=t.plugins;void 0===r&&(r=[]);var n=t.strict;void 0===n&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new s;var o=this,a=this.dispatch,l=this.commit;this.dispatch=function(t,e){return a.call(o,t,e)},this.commit=function(t,e,r){return l.call(o,t,e,r)},this.strict=n;var u=this._modules.root.state;d(this,u,[],this._modules.root),m(this,u),r.forEach(function(t){return t(e)}),(void 0!==t.devtools?t.devtools:s.config.devtools)&&function(t){i&&((t._devtoolHook=i).emit("vuex:init",t),i.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){i.emit("vuex:mutation",t,e)}))}(this)}a.namespaced.get=function(){return!!this._rawModule.namespaced},o.prototype.addChild=function(t,e){this._children[t]=e},o.prototype.removeChild=function(t){delete this._children[t]},o.prototype.getChild=function(t){return this._children[t]},o.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},o.prototype.forEachChild=function(t){n(this._children,t)},o.prototype.forEachGetter=function(t){this._rawModule.getters&&n(this._rawModule.getters,t)},o.prototype.forEachAction=function(t){this._rawModule.actions&&n(this._rawModule.actions,t)},o.prototype.forEachMutation=function(t){this._rawModule.mutations&&n(this._rawModule.mutations,t)},Object.defineProperties(o.prototype,a),c.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,r){return t+((e=e.getChild(r)).namespaced?r+"/":"")},"")},c.prototype.update=function(t){!function t(e,r,i){if(r.update(i),i.modules)for(var n in i.modules){if(!r.getChild(n))return;t(e.concat(n),r.getChild(n),i.modules[n])}}([],this.root,t)},c.prototype.register=function(t,e,r){var i=this;void 0===r&&(r=!0);var s=new o(e,r);0===t.length?this.root=s:this.get(t.slice(0,-1)).addChild(t[t.length-1],s),e.modules&&n(e.modules,function(e,n){i.register(t.concat(n),e,r)})},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),r=t[t.length-1];e.getChild(r).runtime&&e.removeChild(r)};var u={state:{configurable:!0}};function h(t,e){return e.indexOf(t)<0&&e.push(t),function(){var r=e.indexOf(t);-1<r&&e.splice(r,1)}}function f(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;d(t,r,[],t._modules.root,!0),m(t,r,e)}function m(t,e,r){var i=t._vm;t.getters={};var o=t._wrappedGetters,a={};n(o,function(e,r){a[r]=function(){return e(t)},Object.defineProperty(t.getters,r,{get:function(){return t._vm[r]},enumerable:!0})});var c=s.config.silent;s.config.silent=!0,t._vm=new s({data:{$$state:e},computed:a}),s.config.silent=c,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}(t),i&&(r&&t._withCommit(function(){i._data.$$state=null}),s.nextTick(function(){return i.$destroy()}))}function d(t,e,r,i,n){var o=!r.length,a=t._modules.getNamespace(r);if(i.namespaced&&(t._modulesNamespaceMap[a]=i),!o&&!n){var c=p(e,r.slice(0,-1)),l=r[r.length-1];t._withCommit(function(){s.set(c,l,i.state)})}var u=i.context=function(t,e,r){var i=""===e,n={dispatch:i?t.dispatch:function(r,i,n){var o=_(r,i,n),s=o.payload,a=o.options,c=o.type;return a&&a.root||(c=e+c),t.dispatch(c,s)},commit:i?t.commit:function(r,i,n){var o=_(r,i,n),s=o.payload,a=o.options,c=o.type;a&&a.root||(c=e+c),t.commit(c,s,a)}};return Object.defineProperties(n,{getters:{get:i?function(){return t.getters}:function(){return function(t,e){var r={},i=e.length;return Object.keys(t.getters).forEach(function(n){if(n.slice(0,i)===e){var o=n.slice(i);Object.defineProperty(r,o,{get:function(){return t.getters[n]},enumerable:!0})}}),r}(t,e)}},state:{get:function(){return p(t.state,r)}}}),n}(t,a,r);i.forEachMutation(function(e,r){!function(t,e,r,i){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){r.call(t,i.state,e)})}(t,a+r,e,u)}),i.forEachAction(function(e,r){var i=e.root?r:a+r,n=e.handler||e;!function(t,e,r,i){(t._actions[e]||(t._actions[e]=[])).push(function(e,n){var o=r.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e,n);return function(t){return t&&"function"==typeof t.then}(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):o})}(t,i,n,u)}),i.forEachGetter(function(e,r){!function(t,e,r,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return r(i.state,i.getters,t.state,t.getters)})}(t,a+r,e,u)}),i.forEachChild(function(i,o){d(t,e,r.concat(o),i,n)})}function p(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function _(t,e,r){return function(t){return null!==t&&"object"==typeof t}(t)&&t.type&&(r=e,t=(e=t).type),{type:t,payload:e,options:r}}function g(t){s&&t===s||
/**
 * vuex v3.1.0
 * (c) 2019 Evan You
 * @license MIT
 */
function(t){if(2<=Number(t.version.split(".")[0]))t.mixin({beforeCreate:r});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,e.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(s=t)}u.state.get=function(){return this._vm._data.$$state},u.state.set=function(t){},l.prototype.commit=function(t,e,r){var i=this,n=_(t,e,r),o=n.type,s=n.payload,a=(n.options,{type:o,payload:s}),c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(t){t(s)})}),this._subscribers.forEach(function(t){return t(a,i.state)}))},l.prototype.dispatch=function(t,e){var r=this,i=_(t,e),n=i.type,o=i.payload,s={type:n,payload:o},a=this._actions[n];if(a){try{this._actionSubscribers.filter(function(t){return t.before}).forEach(function(t){return t.before(s,r.state)})}catch(t){}return(1<a.length?Promise.all(a.map(function(t){return t(o)})):a[0](o)).then(function(t){try{r._actionSubscribers.filter(function(t){return t.after}).forEach(function(t){return t.after(s,r.state)})}catch(t){}return t})}},l.prototype.subscribe=function(t){return h(t,this._subscribers)},l.prototype.subscribeAction=function(t){return h("function"==typeof t?{before:t}:t,this._actionSubscribers)},l.prototype.watch=function(t,e,r){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},e,r)},l.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},l.prototype.registerModule=function(t,e,r){void 0===r&&(r={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),d(this,this.state,t,this._modules.get(t),r.preserveState),m(this,this.state)},l.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=p(e.state,t.slice(0,-1));s.delete(r,t[t.length-1])}),f(this)},l.prototype.hotUpdate=function(t){this._modules.update(t),f(this,!0)},l.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(l.prototype,u);var v=S(function(t,e){var r={};return w(e).forEach(function(e){var i=e.key,n=e.val;r[i]=function(){var e=this.$store.state,r=this.$store.getters;if(t){var i=C(this.$store,"mapState",t);if(!i)return;e=i.context.state,r=i.context.getters}return"function"==typeof n?n.call(this,e,r):e[n]},r[i].vuex=!0}),r}),y=S(function(t,e){var r={};return w(e).forEach(function(e){var i=e.key,n=e.val;r[i]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var i=this.$store.commit;if(t){var o=C(this.$store,"mapMutations",t);if(!o)return;i=o.context.commit}return"function"==typeof n?n.apply(this,[i].concat(e)):i.apply(this.$store,[n].concat(e))}}),r}),b=S(function(t,e){var r={};return w(e).forEach(function(e){var i=e.key,n=e.val;n=t+n,r[i]=function(){if(!t||C(this.$store,"mapGetters",t))return this.$store.getters[n]},r[i].vuex=!0}),r}),x=S(function(t,e){var r={};return w(e).forEach(function(e){var i=e.key,n=e.val;r[i]=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var i=this.$store.dispatch;if(t){var o=C(this.$store,"mapActions",t);if(!o)return;i=o.context.dispatch}return"function"==typeof n?n.apply(this,[i].concat(e)):i.apply(this.$store,[n].concat(e))}}),r});function w(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function S(t){return function(e,r){return"string"!=typeof e?(r=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,r)}}function C(t,e,r){return t._modulesNamespaceMap[r]}var T={Store:l,install:g,version:"3.1.0",mapState:v,mapMutations:y,mapGetters:b,mapActions:x,createNamespacedHelpers:function(t){return{mapState:v.bind(null,t),mapGetters:b.bind(null,t),mapMutations:y.bind(null,t),mapActions:x.bind(null,t)}}};e.a=T},"2f9a":function(t,e){t.exports=function(){}},"2fcc":function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},"2fdb":function(t,e,r){"use strict";var i=r("5ca1"),n=r("d2c8");i(i.P+i.F*r("5147")("includes"),"String",{includes:function(t,e){return!!~n(this,t,"includes").indexOf(t,1<arguments.length?e:void 0)}})},"301c":function(t,e,r){r("e198")("asyncIterator")},"302f":function(t,e,r){var i=r("0f89"),n=r("f2fe"),o=r("1b55")("species");t.exports=function(t,e){var r,s=i(t).constructor;return void 0===s||null==(r=i(s)[o])?e:n(r)}},"308d":function(t,e,r){"use strict";r.d(e,"a",function(){return o});var i=r("7618"),n=r("013f");function o(t,e){return!e||"object"!==Object(i.a)(e)&&"function"!=typeof e?Object(n.a)(t):e}},"30b5":function(t,e,r){"use strict";var i=r("c532");function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(i.isURLSearchParams(e))o=e.toString();else{var s=[];i.forEach(e,function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),s.push(n(e)+"="+n(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},"30c9":function(t,e,r){var i=r("9520"),n=r("b218");t.exports=function(t){return null!=t&&n(t.length)&&!i(t)}},"312a":function(t,e,r){var i=r("ca38"),n=r("b808"),o="__core-js_shared__",s=n[o]||(n[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:r("e6a1")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"31c2":function(t,e){e.f=Object.getOwnPropertySymbols},"32b3":function(t,e,r){var i=r("872a"),n=r("9638"),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var s=t[e];o.call(t,e)&&n(s,r)&&(void 0!==r||e in t)||i(t,e,r)}},"32e9":function(t,e,r){var i=r("86cc"),n=r("4630");t.exports=r("9e1e")?function(t,e,r){return i.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}},"32f4":function(t,e,r){var i=r("2d7c"),n=r("d327"),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),i(s(t),function(e){return o.call(t,e)}))}:n;t.exports=a},3397:function(t,e,r){var i=r("7a41");t.exports=function(t,e){if(!i(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!i(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},"33a4":function(t,e,r){var i=r("84f2"),n=r("2b4c")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[n]===t)}},"34ac":function(t,e,r){var i=r("9520"),n=r("1368"),o=r("1a8c"),s=r("dc57"),a=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,h=l.hasOwnProperty,f=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||n(t))&&(i(t)?f:a).test(s(t))}},"34ef":function(t,e,r){r("ec30")("Uint8",1,function(t){return function(e,r,i){return t(this,e,r,i)}})},"34fc":function(t,e,r){var i=r("7a43"),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case i.L:return n[4*(t-1)+0];case i.M:return n[4*(t-1)+1];case i.Q:return n[4*(t-1)+2];case i.H:return n[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case i.L:return o[4*(t-1)+0];case i.M:return o[4*(t-1)+1];case i.Q:return o[4*(t-1)+2];case i.H:return o[4*(t-1)+3];default:return}}},3698:function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},"36bd":function(t,e,r){"use strict";var i=r("4bf8"),n=r("77f1"),o=r("9def");t.exports=function(t,e,r){for(var s=i(this),a=o(s.length),c=arguments.length,l=n(1<c?e:void 0,a),u=2<c?r:void 0,h=void 0===u?a:n(u,a);l<h;)s[l++]=t;return s}},"36dc":function(t,e,r){var i=r("da3c"),n=r("df0a").set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,c="process"==r("6e1f")(s);t.exports=function(){function t(){var t,i;for(c&&(t=s.domain)&&t.exit();e;){i=e.fn,e=e.next;try{i()}catch(t){throw e?l():r=void 0,t}}r=void 0,t&&t.enter()}var e,r,l;if(c)l=function(){s.nextTick(t)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);l=function(){u.then(t)}}else l=function(){n.call(i,t)};else{var h=!0,f=document.createTextNode("");new o(t).observe(f,{characterData:!0}),l=function(){f.data=h=!h}}return function(t){var i={fn:t,next:void 0};r&&(r.next=i),e||(e=i,l()),r=i}}},3729:function(t,e,r){var i=r("9e69"),n=r("00fd"),o=r("29f3"),s=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?n(t):o(t)}},3787:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},3:function(t,e){t.exports=r("8122")},4:function(t,e){t.exports=r("d010")},48:function(t,e){t.exports=r("a15e")},65:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":t.elForm&&t.elForm.statusIcon,"is-error":"error"===t.validateState,"is-validating":"validating"===t.validateState,"is-success":"success"===t.validateState,"is-required":t.isRequired||t.required,"is-no-asterisk":t.elForm&&t.elForm.hideRequiredAsterisk},t.sizeClass?"el-form-item--"+t.sizeClass:""]},[r("label-wrap",{attrs:{"is-auto-width":t.labelStyle&&"auto"===t.labelStyle.width,"update-all":"auto"===t.form.labelWidth}},[t.label||t.$slots.label?r("label",{staticClass:"el-form-item__label",style:t.labelStyle,attrs:{for:t.labelFor}},[t._t("label",[t._v(t._s(t.label+t.form.labelSuffix))])],2):t._e()]),r("div",{staticClass:"el-form-item__content",style:t.contentStyle},[t._t("default"),r("transition",{attrs:{name:"el-zoom-in-top"}},["error"===t.validateState&&t.showMessage&&t.form.showMessage?t._t("error",[r("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof t.inlineMessage?t.inlineMessage:t.elForm&&t.elForm.inlineMessage||!1}},[t._v("\n          "+t._s(t.validateMessage)+"\n        ")])],{error:t.validateMessage}):t._e()],2)],2)],1)}r.r(e),i._withStripped=!0;var n=r(48),o=r.n(n),s=r(4),a=r.n(s),c=r(9),l=r.n(c),u=r(3),h={props:{isAutoWidth:Boolean,updateAll:Boolean},inject:["elForm","elFormItem"],render:function(t){var e=t,r=this.$slots.default;if(!r)return null;if(this.isAutoWidth){var i=this.elForm.autoLabelWidth,n={};if(i&&"auto"!==i){var o=parseInt(i,10)-this.computedWidth;o&&(n.marginLeft=o+"px")}return e("div",{class:"el-form-item__label-wrap",style:n},[r])}return r[0]},methods:{getLabelWidth:function(){if(this.$el&&this.$el.firstElementChild){var t=window.getComputedStyle(this.$el.firstElementChild).width;return Math.ceil(parseFloat(t))}return 0},updateLabelWidth:function(t){var e=0<arguments.length&&void 0!==t?t:"update";this.$slots.default&&this.isAutoWidth&&this.$el.firstElementChild&&("update"===e?this.computedWidth=this.getLabelWidth():"remove"===e&&this.elForm.deregisterLabelWidth(this.computedWidth))}},watch:{computedWidth:function(t,e){this.updateAll&&(this.elForm.registerLabelWidth(t,e),this.elFormItem.updateComputedLabelWidth(t))}},data:function(){return{computedWidth:0}},mounted:function(){this.updateLabelWidth("update")},updated:function(){this.updateLabelWidth("update")},beforeDestroy:function(){this.updateLabelWidth("remove")}},f=r(0),m=Object(f.a)(h,void 0,void 0,!1,null,null,null);m.options.__file="packages/form/src/label-wrap.vue";var d=m.exports,p={name:"ElFormItem",componentName:"ElFormItem",mixins:[a.a],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},components:{LabelWrap:d},watch:{error:{immediate:!0,handler:function(t){this.validateMessage=t,this.validateState=t?"error":""}},validateStatus:function(t){this.validateState=t}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var t={};if("top"===this.form.labelPosition)return t;var e=this.labelWidth||this.form.labelWidth;return e&&(t.width=e),t},contentStyle:function(){var t={},e=this.label;if("top"===this.form.labelPosition||this.form.inline)return t;if(!e&&!this.labelWidth&&this.isNested)return t;var r=this.labelWidth||this.form.labelWidth;return"auto"===r?"auto"===this.labelWidth?t.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(t.marginLeft=this.elForm.autoLabelWidth):t.marginLeft=r,t},form:function(){for(var t=this.$parent,e=t.$options.componentName;"ElForm"!==e;)"ElFormItem"===e&&(this.isNested=!0),e=(t=t.$parent).$options.componentName;return t},fieldValue:function(){var t=this.form.model;if(t&&this.prop){var e=this.prop;return-1!==e.indexOf(":")&&(e=e.replace(/:/,".")),Object(u.getPropByPath)(t,e,!0).v}},isRequired:function(){var t=this.getRules(),e=!1;return t&&t.length&&t.every(function(t){return!t.required||!(e=!0)}),e},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:""}},methods:{validate:function(t,e){var r=this,i=1<arguments.length&&void 0!==e?e:u.noop;this.validateDisabled=!1;var n=this.getFilteredRule(t);if((!n||0===n.length)&&void 0===this.required)return i(),!0;this.validateState="validating";var s={};n&&0<n.length&&n.forEach(function(t){delete t.trigger}),s[this.prop]=n;var a=new o.a(s),c={};c[this.prop]=this.fieldValue,a.validate(c,{firstFields:!0},function(t,e){r.validateState=t?"error":"success",r.validateMessage=t?t[0].message:"",i(r.validateMessage,e),r.elForm&&r.elForm.$emit("validate",r.prop,!t,r.validateMessage||null)})},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){var t=this;this.validateState="",this.validateMessage="";var e=this.form.model,r=this.fieldValue,i=this.prop;-1!==i.indexOf(":")&&(i=i.replace(/:/,"."));var n=Object(u.getPropByPath)(e,i,!0);this.validateDisabled=!0,Array.isArray(r)?n.o[n.k]=[].concat(this.initialValue):n.o[n.k]=this.initialValue,this.$nextTick(function(){t.validateDisabled=!1}),this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var t=this.form.rules,e=this.rules,r=void 0!==this.required?{required:!!this.required}:[],i=Object(u.getPropByPath)(t,this.prop||"");return t=t?i.o[this.prop||""]||i.v:[],[].concat(e||t||[]).concat(r)},getFilteredRule:function(t){return this.getRules().filter(function(e){return!e.trigger||""===t||(Array.isArray(e.trigger)?-1<e.trigger.indexOf(t):e.trigger===t)}).map(function(t){return l()({},t)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")},updateComputedLabelWidth:function(t){this.computedLabelWidth=t?t+"px":""},addValidateEvents:function(){!this.getRules().length&&void 0===this.required||(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))},removeValidateEvents:function(){this.$off()}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var t=this.fieldValue;Array.isArray(t)&&(t=[].concat(t)),Object.defineProperty(this,"initialValue",{value:t}),this.addValidateEvents()}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},_=Object(f.a)(p,i,[],!1,null,null,null);_.options.__file="packages/form/src/form-item.vue";var g=_.exports;g.install=function(t){t.component(g.name,g)},e.default=g},9:function(t,e){t.exports=r("7f4d")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=65))},"37c8":function(t,e,r){e.f=r("2b4c")},3818:function(t,e,r){var i=r("7e64"),n=r("8057"),o=r("32b3"),s=r("5b01"),a=r("0f0f"),c=r("e538"),l=r("4359"),u=r("54eb"),h=r("1041"),f=r("a994"),m=r("1bac"),d=r("42a2"),p=r("c87c"),_=r("c2b6"),g=r("fa21"),v=r("6747"),y=r("0d24"),b=r("cc45"),x=r("1a8c"),w=r("d7ee"),S=r("ec69"),C=1,T=2,E=4,O="[object Arguments]",k="[object Function]",A="[object GeneratorFunction]",M="[object Object]",P={};P[O]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[M]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[k]=P["[object WeakMap]"]=!1,t.exports=function t(e,r,D,j,z,I){var R,F=r&C,L=r&T,N=r&E;if(D&&(R=z?D(e,j,z,I):D(e)),void 0!==R)return R;if(!x(e))return e;var B=v(e);if(B){if(R=p(e),!F)return l(e,R)}else{var $=d(e),U=$==k||$==A;if(y(e))return c(e,F);if($==M||$==O||U&&!z){if(R=L||U?{}:g(e),!F)return L?h(e,a(R,e)):u(e,s(R,e))}else{if(!P[$])return z?e:{};R=_(e,$,F)}}var q=(I=I||new i).get(e);if(q)return q;if(I.set(e,R),w(e))return e.forEach(function(i){R.add(t(i,r,D,i,e,I))}),R;if(b(e))return e.forEach(function(i,n){R.set(n,t(i,r,D,n,e,I))}),R;var H=N?L?m:f:L?keysIn:S,V=B?void 0:H(e);return n(V||e,function(i,n){V&&(i=e[n=i]),o(R,n,t(i,r,D,n,e,I))}),R}},3846:function(t,e,r){r("9e1e")&&"g"!=/./g.flags&&r("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:r("0bfb")})},"384fc":function(t,e,r){var i=r("d13f"),n=r("11ff");i(i.G+i.F*(parseFloat!=n),{parseFloat:n})},"386b":function(t,e,r){function i(t,e,r,i){var n=String(s(t)),o="<"+e;return""!==r&&(o+=" "+r+'="'+String(i).replace(a,"&quot;")+'"'),o+">"+n+"</"+e+">"}var n=r("5ca1"),o=r("79e5"),s=r("be13"),a=/"/g;t.exports=function(t,e){var r={};r[t]=e(i),n(n.P+n.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",r)}},"386d":function(t,e,r){"use strict";var i=r("cb7c"),n=r("83a1"),o=r("5f1b");r("214f")("search",1,function(t,e,r,s){return[function(r){var i=t(this),n=null==r?void 0:r[e];return void 0!==n?n.call(r,i):new RegExp(r)[e](String(i))},function(t){var e=s(r,t,this);if(e.done)return e.value;var a=i(t),c=String(this),l=a.lastIndex;n(l,0)||(a.lastIndex=0);var u=o(a,c);return n(a.lastIndex,l)||(a.lastIndex=l),null===u?-1:u.index}]})},"387f":function(t,e,r){"use strict";t.exports=function(t,e,r,i,n){return t.config=e,r&&(t.code=r),t.request=i,t.response=n,t}},"38fd":function(t,e,r){var i=r("69a8"),n=r("4bf8"),o=r("613b")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},3904:function(t,e,r){var i=r("8ce0");t.exports=function(t,e,r){for(var n in e)r&&t[n]?t[n]=e[n]:i(t,n,e[n]);return t}},3934:function(t,e,r){"use strict";var i,n,o,s=r("c532");function a(t){var e=t;return n&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}t.exports=s.isStandardBrowserEnv()?(n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),i=a(window.location.href),function(t){var e=s.isString(t)?a(t):t;return e.protocol===i.protocol&&e.host===i.host}):function(){return!0}},"393a":function(t,e,r){"use strict";function i(){return this}var n=r("e444"),o=r("512c"),s=r("ba01"),a=r("051b"),c=r("8a0d"),l=r("26dd"),u=r("92f0"),h=r("ce7a"),f=r("cc15")("iterator"),m=!([].keys&&"next"in[].keys()),d="values";t.exports=function(t,e,r,p,_,g,v){function y(t){if(!m&&t in E)return E[t];switch(t){case"keys":case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}}l(r,e,p);var b,x,w,S=e+" Iterator",C=_==d,T=!1,E=t.prototype,O=E[f]||E["@@iterator"]||_&&E[_],k=O||y(_),A=_?C?y("entries"):k:void 0,M="Array"==e&&E.entries||O;if(M&&(w=h(M.call(new t)))!==Object.prototype&&w.next&&(u(w,S,!0),n||"function"==typeof w[f]||a(w,f,i)),C&&O&&O.name!==d&&(T=!0,k=function(){return O.call(this)}),n&&!v||!m&&!T&&E[f]||a(E,f,k),c[e]=k,c[S]=i,_)if(b={values:C?k:y(d),keys:g?k:y("keys"),entries:A},v)for(x in b)x in E||s(E,x,b[x]);else o(o.P+o.F*(m||T),e,b);return b}},"39ad":function(t,e,r){var i=r("6ca1"),n=r("d16a"),o=r("9d11");t.exports=function(t){return function(e,r,s){var a,c=i(e),l=n(c.length),u=o(s,l);if(t&&r!=r){for(;u<l;)if((a=c[u++])!=a)return!0}else for(;u<l;u++)if((t||u in c)&&c[u]===r)return t||u||0;return!t&&-1}}},"39ff":function(t,e,r){var i=r("0b07")(r("2b3e"),"WeakMap");t.exports=i},"3a72":function(t,e,r){var i=r("7726"),n=r("8378"),o=r("2d00"),s=r("37c8"),a=r("86cc").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},"3adc":function(t,e,r){var i=r("0f89"),n=r("a47f"),o=r("2ea1"),s=Object.defineProperty;e.f=r("7d95")?Object.defineProperty:function(t,e,r){if(i(t),e=o(e,!0),i(r),n)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},"3ae3":function(t,e,r){r("012f")("Set")},"3b1d":function(t,e,r){r("8a81"),r("06db"),r("ac4d"),r("c7ca"),t.exports=r("8378").Symbol},"3b2b":function(t,e,r){var i=r("7726"),n=r("5dbc"),o=r("86cc").f,s=r("9093").f,a=r("aae3"),c=r("0bfb"),l=i.RegExp,u=l,h=l.prototype,f=/a/g,m=/a/g,d=new l(f)!==f;if(r("9e1e")&&(!d||r("79e5")(function(){return m[r("2b4c")("match")]=!1,l(f)!=f||l(m)==m||"/a/i"!=l(f,"i")}))){function p(t){t in l||o(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})}l=function(t,e){var r=this instanceof l,i=a(t),o=void 0===e;return!r&&i&&t.constructor===l&&o?t:n(d?new u(i&&!o?t.source:t,e):u((i=t instanceof l)?t.source:t,i&&o?c.call(t):e),r?this:h,l)};for(var _=s(u),g=0;_.length>g;)p(_[g++]);(h.constructor=l).prototype=h,r("2aba")(i,"RegExp",l)}r("7a56")("RegExp")},"3b4a":function(t,e,r){var i=r("0b07"),n=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=n},"3b8d":function(t,e,r){"use strict";r.d(e,"a",function(){return s});var i=r("795b"),n=r.n(i);function o(t,e,r,i,o,s,a){try{var c=t[s](a),l=c.value}catch(t){return void r(t)}c.done?e(l):n.a.resolve(l).then(i,o)}function s(t){return function(){var e=this,r=arguments;return new n.a(function(i,n){var s=t.apply(e,r);function a(t){o(s,i,n,a,c,"next",t)}function c(t){o(s,i,n,a,c,"throw",t)}a(void 0)})}}},"3bb1":function(t,e,r){var i=r("b67f")("unscopables"),n=Array.prototype;null==n[i]&&r("a0a8")(n,i,{}),t.exports=function(t){n[i][t]=!0}},"3bb4":function(t,e,r){var i=r("08cc"),n=r("ec69");t.exports=function(t){for(var e=n(t),r=e.length;r--;){var o=e[r],s=t[o];e[r]=[o,s,i(s)]}return e}},"3c35":function(t,e){(function(e){t.exports=e}).call(this,{})},"3c4e":function(t,e,r){"use strict";var i=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(t,e){return e&&!0===e.clone&&i(t)?a(function(t){return Array.isArray(t)?[]:{}}(t),t,e):t}function s(t,e,r){var n=t.slice();return e.forEach(function(e,s){void 0===n[s]?n[s]=o(e,r):i(e)?n[s]=a(t[s],e,r):-1===t.indexOf(e)&&n.push(o(e,r))}),n}function a(t,e,r){var n=Array.isArray(e);return n===Array.isArray(t)?n?((r||{arrayMerge:s}).arrayMerge||s)(t,e,r):function(t,e,r){var n={};return i(t)&&Object.keys(t).forEach(function(e){n[e]=o(t[e],r)}),Object.keys(e).forEach(function(s){i(e[s])&&t[s]?n[s]=a(t[s],e[s],r):n[s]=o(e[s],r)}),n}(t,e,r):o(e,r)}a.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,r){return a(t,r,e)})};var c=a;t.exports=c},"3c52":function(t,e,r){},"3dcc":function(t,e,r){var i=r("d13f");i(i.S,"Date",{now:function(){return(new Date).getTime()}})},"3f6b":function(t,e,r){t.exports={default:r("b9c7"),__esModule:!0}},4006:function(t,e,r){var i=r("45be");function n(t,e){var r=t.a/255,i=e+'="'+t.hex+'"';return r<1?i+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':i}function o(t,e,r){var i=t+e;return void 0!==r&&(i+=" "+r),i}e.render=function(t,e,r){var s=i.getOptions(e),a=t.modules.size,c=t.modules.data,l=a+2*s.margin,u=s.color.light.a?"<path "+n(s.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",h="<path "+n(s.color.dark,"stroke")+' d="'+function(t,e,r){for(var i="",n=0,s=!1,a=0,c=0;c<t.length;c++){var l=Math.floor(c%e),u=Math.floor(c/e);l||s||(s=!0),t[c]?(a++,0<c&&0<l&&t[c-1]||(i+=s?o("M",l+r,.5+u+r):o("m",n,0),n=0,s=!1),l+1<e&&t[c+1]||(i+=o("h",a),a=0)):n++}return i}(c,a,s.margin)+'"/>',f='viewBox="0 0 '+l+" "+l+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+f+' shape-rendering="crispEdges">'+u+h+"</svg>\n";return"function"==typeof r&&r(null,m),m}},4010:function(t,e,r){"use strict";e.__esModule=!0,e.removeResizeListener=e.addResizeListener=void 0;var i,n=r("6dd8"),o=(i=n)&&i.__esModule?i:{default:i};function s(t){var e=t,r=Array.isArray(e),i=0;for(e=r?e:e[Symbol.iterator]();;){var n;if(r){if(i>=e.length)break;n=e[i++]}else{if((i=e.next()).done)break;n=i.value}var o=n.target.__resizeListeners__||[];o.length&&o.forEach(function(t){t()})}}var a="undefined"==typeof window;e.addResizeListener=function(t,e){a||(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new o.default(s),t.__ro__.observe(t)),t.__resizeListeners__.push(e))},e.removeResizeListener=function(t,e){t&&t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||t.__ro__.disconnect())}},4052:function(t,e,r){var i=r("4a89"),n=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?n(t+e,0):o(t,e)}},4105:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},104:function(t,e,r){"use strict";function i(){var t=this.$createElement;return(this._self._c||t)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)}r.r(e),i._withStripped=!0;var n=r(9),o=r.n(n),s={name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach(function(t){t.removeValidateEvents(),t.addValidateEvents()}),this.validateOnRuleChange&&this.validate(function(){})}},computed:{autoLabelWidth:function(){if(!this.potentialLabelWidthArr.length)return 0;var t=Math.max.apply(Math,this.potentialLabelWidthArr);return t?t+"px":""}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var t=this;this.$on("el.form.addField",function(e){e&&t.fields.push(e)}),this.$on("el.form.removeField",function(e){e.prop&&t.fields.splice(t.fields.indexOf(e),1)})},methods:{resetFields:function(){this.model&&this.fields.forEach(function(t){t.resetField()})},clearValidate:function(t){var e=0<arguments.length&&void 0!==t?t:[];(e.length?"string"==typeof e?this.fields.filter(function(t){return e===t.prop}):this.fields.filter(function(t){return-1<e.indexOf(t.prop)}):this.fields).forEach(function(t){t.clearValidate()})},validate:function(t){var e=this;if(this.model){var r=void 0;"function"!=typeof t&&window.Promise&&(r=new window.Promise(function(e,r){t=function(t){t?e(t):r(t)}}));var i=!0,n=0;0===this.fields.length&&t&&t(!0);var s={};return this.fields.forEach(function(r){r.validate("",function(r,a){r&&(i=!1),s=o()({},s,a),"function"==typeof t&&++n===e.fields.length&&t(i,s)})}),r||void 0}},validateField:function(t,e){t=[].concat(t);var r=this.fields.filter(function(e){return-1!==t.indexOf(e.prop)});r.length&&r.forEach(function(t){t.validate("",e)})},getLabelWidthIndex:function(t){var e=this.potentialLabelWidthArr.indexOf(t);if(-1===e)throw new Error("[ElementForm]unpected width ",t);return e},registerLabelWidth:function(t,e){if(t&&e){var r=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(r,1,t)}else t&&this.potentialLabelWidthArr.push(t)},deregisterLabelWidth:function(t){var e=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(e,1)}}},a=r(0),c=Object(a.a)(s,i,[],!1,null,null,null);c.options.__file="packages/form/src/form.vue";var l=c.exports;l.install=function(t){t.component(l.name,l)},e.default=l},9:function(t,e){t.exports=r("7f4d")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=104))},4127:function(t,e,r){"use strict";function i(t,e){u.apply(t,l(e)?e:[e])}function n(t,e,r,s,a,c,u,h,m,d,p,_,g){var v=t;if("function"==typeof u?v=u(e,v):v instanceof Date?v=d(v):"comma"===r&&l(v)&&(v=v.join(",")),null===v){if(s)return c&&!_?c(e,f.encoder,g):e;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||o.isBuffer(v))return c?[p(_?e:c(e,f.encoder,g))+"="+p(c(v,f.encoder,g))]:[p(e)+"="+p(String(v))];var y,b=[];if(void 0===v)return b;if(l(u))y=u;else{var x=Object.keys(v);y=h?x.sort(h):x}for(var w=0;w<y.length;++w){var S=y[w];a&&null===v[S]||(l(v)?i(b,n(v[S],"function"==typeof r?r(e,S):e,r,s,a,c,u,h,m,d,p,_,g)):i(b,n(v[S],e+(m?"."+S:"["+S+"]"),r,s,a,c,u,h,m,d,p,_,g)))}return b}var o=r("d233"),s=r("b313"),a=Object.prototype.hasOwnProperty,c={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Array.isArray,u=Array.prototype.push,h=Date.prototype.toISOString,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,formatter:s.formatters[s.default],indices:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1};t.exports=function(t,e){var r,o=t,u=function(t){if(!t)return f;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||f.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=s.default;if(void 0!==t.format){if(!a.call(s.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=s.formatters[r],n=f.filter;return"function"!=typeof t.filter&&!l(t.filter)||(n=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===t.allowDots?f.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:f.charsetSentinel,delimiter:void 0===t.delimiter?f.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:f.encode,encoder:"function"==typeof t.encoder?t.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:f.encodeValuesOnly,filter:n,formatter:i,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:f.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:f.strictNullHandling}}(e);"function"==typeof u.filter?o=(0,u.filter)("",o):l(u.filter)&&(r=u.filter);var h,m=[];if("object"!=typeof o||null===o)return"";h=e&&e.arrayFormat in c?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var d=c[h];r=r||Object.keys(o),u.sort&&r.sort(u.sort);for(var p=0;p<r.length;++p){var _=r[p];u.skipNulls&&null===o[_]||i(m,n(o[_],_,d,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.formatter,u.encodeValuesOnly,u.charset))}var g=m.join(u.delimiter),v=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),0<g.length?v+g:""}},4146:function(t,e,r){var i=r("45be");e.render=function(t,e,r){var n=r,o=e;void 0!==n||e&&e.getContext||(n=e,e=void 0),e||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),n=i.getOptions(n);var s=i.getImageWidth(t.modules.size,n),a=o.getContext("2d"),c=a.createImageData(s,s);return i.qrToImageData(c.data,t,n),function(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}(a,o,s),a.putImageData(c,0,0),o},e.renderToDataURL=function(t,r,i){var n=i;void 0!==n||r&&r.getContext||(n=r,r=void 0),n=n||{};var o=e.render(t,r,n),s=n.type||"image/png",a=n.rendererOpts||{};return o.toDataURL(s,a.quality)}},"417f":function(t,e,r){"use strict";e.__esModule=!0;var i,n=r("2b0e"),o=(i=n)&&i.__esModule?i:{default:i},s=r("5924"),a=[],c="@@clickoutsideContext",l=void 0,u=0;function h(t,e,r){return function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!(r&&r.context&&i.target&&n.target)||t.contains(i.target)||t.contains(n.target)||t===i.target||r.context.popperElm&&(r.context.popperElm.contains(i.target)||r.context.popperElm.contains(n.target))||(e.expression&&t[c].methodName&&r.context[t[c].methodName]?r.context[t[c].methodName]():t[c].bindingFn&&t[c].bindingFn())}}o.default.prototype.$isServer||(0,s.on)(document,"mousedown",function(t){return l=t}),o.default.prototype.$isServer||(0,s.on)(document,"mouseup",function(t){a.forEach(function(e){return e[c].documentHandler(t,l)})}),e.default={bind:function(t,e,r){a.push(t);var i=u++;t[c]={id:i,documentHandler:h(t,e,r),methodName:e.expression,bindingFn:e.value}},update:function(t,e,r){t[c].documentHandler=h(t,e,r),t[c].methodName=e.expression,t[c].bindingFn=e.value},unbind:function(t){for(var e=a.length,r=0;r<e;r++)if(a[r][c].id===t[c].id){a.splice(r,1);break}delete t[c]}}},"41a0":function(t,e,r){"use strict";var i=r("2aeb"),n=r("4630"),o=r("7f20"),s={};r("32e9")(s,r("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=i(s,{next:n(1,r)}),o(t,e+" Iterator")}},"41b2":function(t,e,r){"use strict";e.__esModule=!0;var i,n=r("3f6b"),o=(i=n)&&i.__esModule?i:{default:i};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}},"41c3":function(t,e,r){var i=r("1a8c"),n=r("eac5"),o=r("ec8c"),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return o(t);var e=n(t),r=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&r.push(a);return r}},"41f8":function(t,e,r){"use strict";e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isVNode=function(t){return null!==t&&"object"===(void 0===t?"undefined":i(t))&&(0,n.hasOwn)(t,"componentOptions")};var n=r("8122")},4245:function(t,e,r){var i=r("1290");t.exports=function(t,e){var r=t.__data__;return i(e)?r["string"==typeof e?"string":"hash"]:r.map}},42454:function(t,e,r){var i=r("f909"),n=r("2ec1")(function(t,e,r){i(t,e,r)});t.exports=n},"425f":function(t,e,r){},4284:function(t,e){t.exports=function(t,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}},"42a2":function(t,e,r){var i=r("b5a7"),n=r("79bc"),o=r("1cec"),s=r("c869"),a=r("39ff"),c=r("3729"),l=r("dc57"),u="[object Map]",h="[object Promise]",f="[object Set]",m="[object WeakMap]",d="[object DataView]",p=l(i),_=l(n),g=l(o),v=l(s),y=l(a),b=c;(i&&b(new i(new ArrayBuffer(1)))!=d||n&&b(new n)!=u||o&&b(o.resolve())!=h||s&&b(new s)!=f||a&&b(new a)!=m)&&(b=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,i=r?l(r):"";if(i)switch(i){case p:return d;case _:return u;case g:return h;case v:return f;case y:return m}return e}),t.exports=b},4328:function(t,e,r){"use strict";var i=r("4127"),n=r("9e6a"),o=r("b313");t.exports={formats:o,parse:n,stringify:i}},4359:function(t,e){t.exports=function(t,e){var r=-1,i=t.length;for(e=e||Array(i);++r<i;)e[r]=t[r];return e}},4362:function(t,e,r){var i,n;e.nextTick=function(t){setTimeout(t,0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},n="/",e.cwd=function(){return n},e.chdir=function(t){i=i||r("df7c"),n=i.resolve(t,n)},e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"436c":function(t,e,r){var i=r("1b55")("iterator"),n=!1;try{var o=[7][i]();o.return=function(){n=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:r=!0}},o[i]=function(){return s},t(o)}catch(t){}return r}},"43c8":function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},"450d":function(t,e,r){},4588:function(t,e){var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:r)(t)}},"45be":function(t,e){function r(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||8<e.length)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");var r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){(t=t||{}).color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,i=t.width&&21<=t.width?t.width:void 0,n=t.scale||4;return{width:i,scale:i?4:n,margin:e,color:{dark:r(t.color.dark||"#000000ff"),light:r(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,r){var i=e.getScale(t,r);return Math.floor((t+2*r.margin)*i)},e.qrToImageData=function(t,r,i){for(var n=r.modules.size,o=r.modules.data,s=e.getScale(n,i),a=Math.floor((n+2*i.margin)*s),c=i.margin*s,l=[i.color.light,i.color.dark],u=0;u<a;u++)for(var h=0;h<a;h++){var f=4*(u*a+h),m=i.color.light;c<=u&&c<=h&&u<a-c&&h<a-c&&(m=l[o[Math.floor((u-c)/s)*n+Math.floor((h-c)/s)]?1:0]),t[f++]=m.r,t[f++]=m.g,t[f++]=m.b,t[f]=m.a}}},"45e2":function(t,e,r){t.exports=!r("b629")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"467f":function(t,e,r){"use strict";var i=r("2d83");t.exports=function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(i("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},4726:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},13:function(t,e){t.exports=r("14e9")},17:function(t,e){t.exports=r("dcdc")},21:function(t,e){t.exports=r("d397")},26:function(t,e){t.exports=r("92fa")},3:function(t,e){t.exports=r("8122")},31:function(t,e){t.exports=r("2a5e")},39:function(t,e){t.exports=r("e452")},51:function(t,e){t.exports=r("f494")},58:function(t,e,r){"use strict";function i(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["el-cascader-panel",this.border&&"is-bordered"],on:{keydown:this.handleKeyDown}},this._l(this.menus,function(t,r){return e("cascader-menu",{key:r,ref:"menu",refInFor:!0,attrs:{index:r,nodes:t}})}),1)}function n(t){return t.stopPropagation()}r.r(e),i._withStripped=!0;var o=r(26),s=r.n(o),a=r(13),c=r.n(a),l=r(17),u=r.n(l),h=r(51),f=r.n(h),m=r(3),d={inject:["panel"],components:{ElCheckbox:u.a,ElRadio:f.a},props:{node:{required:!0},nodeId:String},computed:{config:function(){return this.panel.config},isLeaf:function(){return this.node.isLeaf},isDisabled:function(){return this.node.isDisabled},checkedValue:function(){return this.panel.checkedValue},isChecked:function(){return this.node.isSameNode(this.checkedValue)},inActivePath:function(){return this.isInPath(this.panel.activePath)},inCheckedPath:function(){var t=this;return!!this.config.checkStrictly&&this.panel.checkedNodePaths.some(function(e){return t.isInPath(e)})},value:function(){return this.node.getValueByOption()}},methods:{handleExpand:function(){var t=this,e=this.panel,r=this.node,i=this.isDisabled,n=this.config,o=n.multiple;!n.checkStrictly&&i||r.loading||(n.lazy&&!r.loaded?e.lazyLoad(r,function(){var e=t.isLeaf;if(e||t.handleExpand(),o){var i=!!e&&r.checked;t.handleMultiCheckChange(i)}}):e.handleExpand(r))},handleCheckChange:function(){var t=this.panel,e=this.value,r=this.node;t.handleCheckChange(e),t.handleExpand(r)},handleMultiCheckChange:function(t){this.node.doCheck(t),this.panel.calculateMultiCheckedValue()},isInPath:function(t){var e=this.node;return(t[e.level-1]||{}).uid===e.uid},renderPrefix:function(t){var e=this.isLeaf,r=this.isChecked,i=this.config,n=i.checkStrictly;return i.multiple?this.renderCheckbox(t):n?this.renderRadio(t):e&&r?this.renderCheckIcon(t):null},renderPostfix:function(t){var e=this.node,r=this.isLeaf;return e.loading?this.renderLoadingIcon(t):r?null:this.renderExpandIcon(t)},renderCheckbox:function(t){var e=this.node,r=this.config,i=this.isDisabled,o={on:{change:this.handleMultiCheckChange},nativeOn:{}};return r.checkStrictly&&(o.nativeOn.click=n),t("el-checkbox",s()([{attrs:{value:e.checked,indeterminate:e.indeterminate,disabled:i}},o]))},renderRadio:function(t){var e=this.checkedValue,r=this.value,i=this.isDisabled;return Object(m.isEqual)(r,e)&&(r=e),t("el-radio",{attrs:{value:e,label:r,disabled:i},on:{change:this.handleCheckChange},nativeOn:{click:n}},[t("span")])},renderCheckIcon:function(t){return t("i",{class:"el-icon-check el-cascader-node__prefix"})},renderLoadingIcon:function(t){return t("i",{class:"el-icon-loading el-cascader-node__postfix"})},renderExpandIcon:function(t){return t("i",{class:"el-icon-arrow-right el-cascader-node__postfix"})},renderContent:function(t){var e=this.panel,r=this.node,i=e.renderLabelFn;return t("span",{class:"el-cascader-node__label"},[(i?i({node:r,data:r.data}):null)||r.label])}},render:function(t){var e=this,r=this.inActivePath,i=this.inCheckedPath,n=this.isChecked,o=this.isLeaf,a=this.isDisabled,c=this.config,l=this.nodeId,u=c.expandTrigger,h=c.checkStrictly,f=c.multiple,m=!h&&a,d={on:{}};return"click"===u?d.on.click=this.handleExpand:(d.on.mouseenter=function(t){e.handleExpand(),e.$emit("expand",t)},d.on.focus=function(t){e.handleExpand(),e.$emit("expand",t)}),!o||a||h||f||(d.on.click=this.handleCheckChange),t("li",s()([{attrs:{role:"menuitem",id:l,"aria-expanded":r,tabindex:m?null:-1},class:{"el-cascader-node":!0,"is-selectable":h,"in-active-path":r,"in-checked-path":i,"is-active":n,"is-disabled":m}},d]),[this.renderPrefix(t),this.renderContent(t),this.renderPostfix(t)])}},p=r(0),_=Object(p.a)(d,void 0,void 0,!1,null,null,null);_.options.__file="packages/cascader-panel/src/cascader-node.vue";var g=_.exports,v=r(6),y={name:"ElCascaderMenu",mixins:[r.n(v).a],inject:["panel"],components:{ElScrollbar:c.a,CascaderNode:g},props:{nodes:{type:Array,required:!0},index:Number},data:function(){return{activeNode:null,hoverTimer:null,id:Object(m.generateId)()}},computed:{isEmpty:function(){return!this.nodes.length},menuId:function(){return"cascader-menu-"+this.id+"-"+this.index}},methods:{handleExpand:function(t){this.activeNode=t.target},handleMouseMove:function(t){var e=this.activeNode,r=this.hoverTimer,i=this.$refs.hoverZone;if(e&&i)if(e.contains(t.target)){clearTimeout(r);var n=this.$el.getBoundingClientRect().left,o=t.clientX-n,s=this.$el,a=s.offsetWidth,c=s.offsetHeight,l=e.offsetTop,u=l+e.offsetHeight;i.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+l+" L"+a+" 0 V"+l+' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+u+" L"+a+" "+c+" V"+u+' Z" />\n        '}else r||(this.hoverTimer=setTimeout(this.clearHoverZone,this.panel.config.hoverThreshold))},clearHoverZone:function(){var t=this.$refs.hoverZone;t&&(t.innerHTML="")},renderEmptyText:function(t){return t("div",{class:"el-cascader-menu__empty-text"},[this.t("el.cascader.noData")])},renderNodeList:function(t){var e=this.menuId,r=this.panel.isHoverMenu,i={on:{}};r&&(i.on.expand=this.handleExpand);var n=this.nodes.map(function(r,n){var o=r.hasChildren;return t("cascader-node",s()([{key:r.uid,attrs:{node:r,"node-id":e+"-"+n,"aria-haspopup":o,"aria-owns":o?e:null}},i]))});return[].concat(n,[r?t("svg",{ref:"hoverZone",class:"el-cascader-menu__hover-zone"}):null])}},render:function(t){var e=this.isEmpty,r=this.menuId,i={nativeOn:{}};return this.panel.isHoverMenu&&(i.nativeOn.mousemove=this.handleMouseMove),t("el-scrollbar",s()([{attrs:{tag:"ul",role:"menu",id:r,"wrap-class":"el-cascader-menu__wrap","view-class":{"el-cascader-menu__list":!0,"is-empty":e}},class:"el-cascader-menu"},i]),[e?this.renderEmptyText(t):this.renderNodeList(t)])}},b=Object(p.a)(y,void 0,void 0,!1,null,null,null);b.options.__file="packages/cascader-panel/src/cascader-menu.vue";var x=b.exports,w=r(21),S=function(t,e,r){return e&&C(t.prototype,e),r&&C(t,r),t};function C(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var T=0;function E(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,E),this.data=t,this.config=e,this.parent=r||null,this.level=this.parent?this.parent.level+1:1,this.uid=T++,this.initState(),this.initChildren()}var O=(E.prototype.initState=function(){var t=this.config,e=t.value,r=t.label;this.value=this.data[e],this.label=this.data[r],this.pathNodes=this.calculatePathNodes(),this.path=this.pathNodes.map(function(t){return t.value}),this.pathLabels=this.pathNodes.map(function(t){return t.label}),this.loading=!1,this.loaded=!1},E.prototype.initChildren=function(){var t=this,e=this.config,r=e.children,i=this.data[r];this.hasChildren=Array.isArray(i),this.children=(i||[]).map(function(r){return new E(r,e,t)})},E.prototype.calculatePathNodes=function(){for(var t=[this],e=this.parent;e;)t.unshift(e),e=e.parent;return t},E.prototype.getPath=function(){return this.path},E.prototype.getValue=function(){return this.value},E.prototype.getValueByOption=function(){return this.config.emitPath?this.getPath():this.getValue()},E.prototype.getText=function(t,e){return t?this.pathLabels.join(e):this.label},E.prototype.isSameNode=function(t){var e=this.getValueByOption();return this.config.multiple&&Array.isArray(t)?t.some(function(t){return Object(m.isEqual)(t,e)}):Object(m.isEqual)(t,e)},E.prototype.broadcast=function(t){for(var e=arguments.length,r=Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var n="onParent"+Object(m.capitalize)(t);this.children.forEach(function(e){e&&(e.broadcast.apply(e,[t].concat(r)),e[n]&&e[n].apply(e,r))})},E.prototype.emit=function(t){var e=this.parent,r="onChild"+Object(m.capitalize)(t);if(e){for(var i=arguments.length,n=Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];e[r]&&e[r].apply(e,n),e.emit.apply(e,[t].concat(n))}},E.prototype.onParentCheck=function(t){this.isDisabled||this.setCheckState(t)},E.prototype.onChildCheck=function(){var t=this.children.filter(function(t){return!t.isDisabled}),e=!!t.length&&t.every(function(t){return t.checked});this.setCheckState(e)},E.prototype.setCheckState=function(t){var e=this.children.length,r=this.children.reduce(function(t,e){return t+(e.checked?1:e.indeterminate?.5:0)},0);this.checked=t,this.indeterminate=r!==e&&0<r},E.prototype.syncCheckState=function(t){var e=this.getValueByOption(),r=this.isSameNode(t,e);this.doCheck(r)},E.prototype.doCheck=function(t){this.checked!==t&&(this.config.checkStrictly?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check")))},S(E,[{key:"isDisabled",get:function(){var t=this.data,e=this.parent,r=this.config,i=r.disabled,n=r.checkStrictly;return t[i]||!n&&e&&e.isDisabled}},{key:"isLeaf",get:function(){var t=this.data,e=this.loaded,r=this.hasChildren,i=this.children,n=this.config,o=n.lazy,s=n.leaf;if(o){var a=Object(w.isDef)(t[s])?t[s]:!!e&&!i.length;return this.hasChildren=!a,a}return!r}}]),E);function k(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,k),this.config=e,this.initNodes(t)}function A(t){return!t.getAttribute("aria-owns")}function M(t,e){var r=t.parentNode;if(r){var i=r.querySelectorAll('.el-cascader-node[tabindex="-1"]');return i[Array.prototype.indexOf.call(i,t)+e]||null}return null}function P(t,e){if(t){var r=t.id.split("-");return Number(r[r.length-2])}}function D(t){t&&(t.focus(),A(t)||t.click())}var j=(k.prototype.initNodes=function(t){var e=this;t=Object(m.coerceTruthyValueToArray)(t),this.nodes=t.map(function(t){return new O(t,e.config)}),this.flattedNodes=this.getFlattedNodes(!1,!1),this.leafNodes=this.getFlattedNodes(!0,!1)},k.prototype.appendNode=function(t,e){var r=new O(t,this.config,e);(e?e.children:this.nodes).push(r)},k.prototype.appendNodes=function(t,e){var r=this;(t=Object(m.coerceTruthyValueToArray)(t)).forEach(function(t){return r.appendNode(t,e)})},k.prototype.getNodes=function(){return this.nodes},k.prototype.getFlattedNodes=function(t,e){var r=!(1<arguments.length&&void 0!==e)||e,i=t?this.leafNodes:this.flattedNodes;return r?i:function t(e,r){return e.reduce(function(e,i){return i.isLeaf?e.push(i):(r||e.push(i),e=e.concat(t(i.children,r))),e},[])}(this.nodes,t)},k.prototype.getNodeByValue=function(t){if(t){var e=this.getFlattedNodes(!1,!this.config.lazy).filter(function(e){return Object(m.valueEquals)(e.path,t)||e.value===t});return e&&e.length?e[0]:null}return null},k),z=r(9),I=r.n(z),R=r(39),F=r.n(R),L=r(31),N=r.n(L),B=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$=F.a.keys,U={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:m.noop,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},q={name:"ElCascaderPanel",components:{CascaderMenu:x},props:{value:{},options:Array,props:Object,border:{type:Boolean,default:!0},renderLabel:Function},provide:function(){return{panel:this}},data:function(){return{checkedValue:null,checkedNodePaths:[],store:[],menus:[],activePath:[],loadCount:0}},computed:{config:function(){return I()(B({},U),this.props||{})},multiple:function(){return this.config.multiple},checkStrictly:function(){return this.config.checkStrictly},leafOnly:function(){return!this.checkStrictly},isHoverMenu:function(){return"hover"===this.config.expandTrigger},renderLabelFn:function(){return this.renderLabel||this.$scopedSlots.default}},watch:{options:{handler:function(){this.initStore()},immediate:!0,deep:!0},value:function(){this.syncCheckedValue(),this.checkStrictly&&this.calculateCheckedNodePaths()},checkedValue:function(t){Object(m.isEqual)(t,this.value)||(this.checkStrictly&&this.calculateCheckedNodePaths(),this.$emit("input",t),this.$emit("change",t))}},mounted:function(){Object(m.isEmpty)(this.value)||this.syncCheckedValue()},methods:{initStore:function(){var t=this.config,e=this.options;t.lazy&&Object(m.isEmpty)(e)?this.lazyLoad():(this.store=new j(e,t),this.menus=[this.store.getNodes()],this.syncMenuState())},syncCheckedValue:function(){var t=this.value,e=this.checkedValue;Object(m.isEqual)(t,e)||(this.checkedValue=t,this.syncMenuState())},syncMenuState:function(){var t=this.multiple,e=this.checkStrictly;this.syncActivePath(),t&&this.syncMultiCheckState(),e&&this.calculateCheckedNodePaths(),this.$nextTick(this.scrollIntoView)},syncMultiCheckState:function(){var t=this;this.getFlattedNodes(this.leafOnly).forEach(function(e){e.syncCheckState(t.checkedValue)})},syncActivePath:function(){var t=this,e=this.store,r=this.multiple,i=this.activePath,n=this.checkedValue;if(Object(m.isEmpty)(i))if(Object(m.isEmpty)(n))this.activePath=[],this.menus=[e.getNodes()];else{var o=r?n[0]:n,s=((this.getNodeByValue(o)||{}).pathNodes||[]).slice(0,-1);this.expandNodes(s)}else{var a=i.map(function(e){return t.getNodeByValue(e.getValue())});this.expandNodes(a)}},expandNodes:function(t){var e=this;t.forEach(function(t){return e.handleExpand(t,!0)})},calculateCheckedNodePaths:function(){var t=this,e=this.checkedValue,r=this.multiple?Object(m.coerceTruthyValueToArray)(e):[e];this.checkedNodePaths=r.map(function(e){var r=t.getNodeByValue(e);return r?r.pathNodes:[]})},handleKeyDown:function(t){var e=t.target;switch(t.keyCode){case $.up:var r=M(e,-1);D(r);break;case $.down:var i=M(e,1);D(i);break;case $.left:var n=this.$refs.menu[P(e)-1];if(n){var o=n.$el.querySelector('.el-cascader-node[aria-expanded="true"]');D(o)}break;case $.right:var s=this.$refs.menu[P(e)+1];if(s){var a=s.$el.querySelector('.el-cascader-node[tabindex="-1"]');D(a)}break;case $.enter:!function(t){if(t){var e=t.querySelector("input");e?e.click():A(t)&&t.click()}}(e);break;case $.esc:case $.tab:this.$emit("close");break;default:return}},handleExpand:function(t,e){var r=this.activePath,i=t.level,n=r.slice(0,i-1),o=this.menus.slice(0,i);if(t.isLeaf||(n.push(t),o.push(t.children)),this.activePath=n,this.menus=o,!e){var s=n.map(function(t){return t.getValue()}),a=r.map(function(t){return t.getValue()});Object(m.valueEquals)(s,a)||(this.$emit("active-item-change",s),this.$emit("expand-change",s))}},handleCheckChange:function(t){this.checkedValue=t},lazyLoad:function(t,e){var r=this,i=this.config;t||(t=t||{root:!0,level:0},this.store=new j([],i),this.menus=[this.store.getNodes()]),t.loading=!0,i.lazyLoad(t,function(i){var n=t.root?null:t;if(i&&i.length&&r.store.appendNodes(i,n),t.loading=!1,t.loaded=!0,Array.isArray(r.checkedValue)){var o=r.checkedValue[r.loadCount++],s=r.config.value,a=r.config.leaf;if(Array.isArray(i)&&0<i.filter(function(t){return t[s]===o}).length){var c=r.store.getNodeByValue(o);c.data[a]||r.lazyLoad(c,function(){r.handleExpand(c)}),r.loadCount===r.checkedValue.length&&r.$parent.computePresentText()}}e&&e(i)})},calculateMultiCheckedValue:function(){this.checkedValue=this.getCheckedNodes(this.leafOnly).map(function(t){return t.getValueByOption()})},scrollIntoView:function(){this.$isServer||(this.$refs.menu||[]).forEach(function(t){var e=t.$el;if(e){var r=e.querySelector(".el-scrollbar__wrap"),i=e.querySelector(".el-cascader-node.is-active")||e.querySelector(".el-cascader-node.in-active-path");N()(r,i)}})},getNodeByValue:function(t){return this.store.getNodeByValue(t)},getFlattedNodes:function(t){var e=!this.config.lazy;return this.store.getFlattedNodes(t,e)},getCheckedNodes:function(t){var e=this.checkedValue;return this.multiple?this.getFlattedNodes(t).filter(function(t){return t.checked}):Object(m.isEmpty)(e)?[]:[this.getNodeByValue(e)]},clearCheckedNodes:function(){var t=this.config,e=this.leafOnly,r=t.multiple,i=t.emitPath;r?(this.getCheckedNodes(e).filter(function(t){return!t.isDisabled}).forEach(function(t){return t.doCheck(!1)}),this.calculateMultiCheckedValue()):this.checkedValue=i?[]:null}}},H=Object(p.a)(q,i,[],!1,null,null,null);H.options.__file="packages/cascader-panel/src/cascader-panel.vue";var V=H.exports;V.install=function(t){t.component(V.name,V)},e.default=V},6:function(t,e){t.exports=r("6b7c")},9:function(t,e){t.exports=r("7f4d")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=58))},"47f5":function(t,e,r){var i=r("2b03"),n=r("d9a8"),o=r("099a");t.exports=function(t,e,r){return e==e?o(t,e,r):i(t,n,r)}},4842:function(t,e,r){var i=r("569f");i(i.S+i.F,"Object",{assign:r("a402")})},4897:function(t,e,r){"use strict";e.__esModule=!0,e.i18n=e.use=e.t=void 0;var i=s(r("f0d9")),n=s(r("2b0e")),o=s(r("3c4e"));function s(t){return t&&t.__esModule?t:{default:t}}var a=(0,s(r("9d7e")).default)(n.default),c=i.default,l=!1,u=function(){var t=Object.getPrototypeOf(this||n.default).$t;if("function"==typeof t&&n.default.locale)return l||(l=!0,n.default.locale(n.default.config.lang,(0,o.default)(c,n.default.locale(n.default.config.lang)||{},{clone:!0}))),t.apply(this,arguments)},h=e.t=function(t,e){var r=u.apply(this,arguments);if(null!=r)return r;for(var i=t.split("."),n=c,o=0,s=i.length;o<s;o++){if(r=n[i[o]],o===s-1)return a(r,e);if(!r)return"";n=r}return""},f=e.use=function(t){c=t||c},m=e.i18n=function(t){u=t||u};e.default={use:f,t:h,i18n:m}},4917:function(t,e,r){"use strict";var i=r("cb7c"),n=r("9def"),o=r("0390"),s=r("5f1b");r("214f")("match",1,function(t,e,r,a){return[function(r){var i=t(this),n=null==r?void 0:r[e];return void 0!==n?n.call(r,i):new RegExp(r)[e](String(i))},function(t){var e=a(r,t,this);if(e.done)return e.value;var c=i(t),l=String(this);if(!c.global)return s(c,l);for(var u,h=c.unicode,f=[],m=c.lastIndex=0;null!==(u=s(c,l));){var d=String(u[0]);""===(f[m]=d)&&(c.lastIndex=o(l,n(c.lastIndex),h)),m++}return 0===m?null:f}]})},4938:function(t,e,r){var i=r("6a9b"),n=r("626e").f;r("c165")("getOwnPropertyDescriptor",function(){return function(t,e){return n(i(t),e)}})},"49c1":function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"49f4":function(t,e,r){var i=r("6044");t.exports=function(){this.__data__=i?i(null):{},this.size=0}},"4a89":function(t,e){var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:r)(t)}},"4aa6":function(t,e,r){t.exports=r("af7e")},"4b26":function(t,e,r){"use strict";e.__esModule=!0;var i,n=r("2b0e"),o=(i=n)&&i.__esModule?i:{default:i},s=r("5924");function a(){if(!o.default.prototype.$isServer){var t=f.modalDom;return t?c=!0:(c=!1,t=document.createElement("div"),(f.modalDom=t).addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),t.addEventListener("click",function(){f.doOnModalClick&&f.doOnModalClick()})),t}}var c=!1,l=!1,u=void 0,h={},f={modalFade:!0,getInstance:function(t){return h[t]},register:function(t,e){t&&e&&(h[t]=e)},deregister:function(t){t&&(h[t]=null,delete h[t])},nextZIndex:function(){return f.zIndex++},modalStack:[],doOnModalClick:function(){var t=f.modalStack[f.modalStack.length-1];if(t){var e=f.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,r,i,n){if(!o.default.prototype.$isServer&&t&&void 0!==e){this.modalFade=n;for(var l=this.modalStack,u=0,h=l.length;u<h;u++)if(l[u].id===t)return;var f=a();(0,s.addClass)(f,"v-modal"),this.modalFade&&!c&&(0,s.addClass)(f,"v-modal-enter"),i&&i.trim().split(/\s+/).forEach(function(t){return(0,s.addClass)(f,t)}),setTimeout(function(){(0,s.removeClass)(f,"v-modal-enter")},200),r&&r.parentNode&&11!==r.parentNode.nodeType?r.parentNode.appendChild(f):document.body.appendChild(f),e&&(f.style.zIndex=e),f.tabIndex=0,f.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:i})}},closeModal:function(t){var e=this.modalStack,r=a();if(0<e.length){var i=e[e.length-1];if(i.id===t)i.modalClass&&i.modalClass.trim().split(/\s+/).forEach(function(t){return(0,s.removeClass)(r,t)}),e.pop(),0<e.length&&(r.style.zIndex=e[e.length-1].zIndex);else for(var n=e.length-1;0<=n;n--)if(e[n].id===t){e.splice(n,1);break}}0===e.length&&(this.modalFade&&(0,s.addClass)(r,"v-modal-leave"),setTimeout(function(){0===e.length&&(r.parentNode&&r.parentNode.removeChild(r),r.style.display="none",f.modalDom=void 0),(0,s.removeClass)(r,"v-modal-leave")},200))}};Object.defineProperty(f,"zIndex",{configurable:!0,get:function(){return l||(u=u||(o.default.prototype.$ELEMENT||{}).zIndex||2e3,l=!0),u},set:function(t){u=t}}),o.default.prototype.$isServer||window.addEventListener("keydown",function(t){if(27===t.keyCode){var e=function(){if(!o.default.prototype.$isServer&&0<f.modalStack.length){var t=f.modalStack[f.modalStack.length-1];if(!t)return;return f.getInstance(t.id)}}();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}}),e.default=f},"4b8b":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"4b9e":function(t,e,r){var i=r("b808").navigator;t.exports=i&&i.userAgent||""},"4bf8":function(t,e,r){var i=r("be13");t.exports=function(t){return Object(i(t))}},"4cf4":function(t,e,r){var i=r("0244");t.exports=function(t){return Object(i(t))}},"4d16":function(t,e,r){t.exports=r("a438")},"4d20":function(t,e,r){var i=r("1917"),n=r("10db"),o=r("6ca1"),s=r("3397"),a=r("9c0e"),c=r("faf5"),l=Object.getOwnPropertyDescriptor;e.f=r("0bad")?l:function(t,e){if(t=o(t),e=s(e,!0),c)try{return l(t,e)}catch(t){}if(a(t,e))return n(!i.f.call(t,e),t[e])}},"4d88":function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},"4e2b":function(t,e,r){"use strict";var i=r("4aa6"),n=r.n(i),o=r("4d16"),s=r.n(o);function a(t,e){return(a=s.a||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=n()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}r.d(e,"a",function(){return c})},"4e4b":function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n=[function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},,,function(t,e){t.exports=r("8122")},function(t,e){t.exports=r("d010")},function(t,e){t.exports=r("e974")},function(t,e){t.exports=r("6b7c")},,,,,function(t,e){t.exports=r("f3ad")},function(t,e){t.exports=r("417f")},function(t,e){t.exports=r("14e9")},,function(t,e){t.exports=r("4010")},function(t,e){t.exports=r("0e15")},,,,function(t,e){t.exports=r("4897")},function(t,e){t.exports=r("d397")},function(t,e){t.exports=r("12f2")},,,,,,,,,function(t,e){t.exports=r("2a5e")},,function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[r("span",[t._v(t._s(t.currentLabel))])])],2)}i._withStripped=!0;var n=r(4),o=r.n(n),s=r(3),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c={mixins:[o.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&0<this.select.multipleLimit}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var r=this.select,i=r.remote,n=r.valueKey;if(!this.created&&!i){if(n&&"object"===(void 0===t?"undefined":a(t))&&"object"===(void 0===e?"undefined":a(e))&&t[n]===e[n])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var r=this.select.valueKey;return Object(s.getValueByPath)(t,r)===Object(s.getValueByPath)(e,r)}return t===e},contains:function(t,e){var r=0<arguments.length&&void 0!==t?t:[],i=e;if(this.isObject){var n=this.select.valueKey;return r&&r.some(function(t){return Object(s.getValueByPath)(t,n)===Object(s.getValueByPath)(i,n)})}return r&&-1<r.indexOf(i)},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(s.escapeRegexpString)(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select.cachedOptions.indexOf(this);-1<t&&this.select.cachedOptions.splice(t,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},l=r(0),u=Object(l.a)(c,i,[],!1,null,null,null);u.options.__file="packages/select/src/option.vue",e.a=u.exports},,,function(t,e){t.exports=r("8bbc")},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[t.selectSize?"el-select--"+t.selectSize:""],on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)}}},[t.multiple?r("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":t.inputWidth-32+"px",width:"100%"}},[t.collapseTags&&t.selected.length?r("span",[r("el-tag",{attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(e){t.deleteTag(e,t.selected[0])}}},[r("span",{staticClass:"el-select__tags-text"},[t._v(t._s(t.selected[0].currentLabel))])]),1<t.selected.length?r("el-tag",{attrs:{closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""}},[r("span",{staticClass:"el-select__tags-text"},[t._v("+ "+t._s(t.selected.length-1))])]):t._e()],1):t._e(),t.collapseTags?t._e():r("transition-group",{on:{"after-leave":t.resetInputHeight}},t._l(t.selected,function(e){return r("el-tag",{key:t.getValueKey(e),attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:e.hitState,type:"info","disable-transitions":""},on:{close:function(r){t.deleteTag(r,e)}}},[r("span",{staticClass:"el-select__tags-text"},[t._v(t._s(e.currentLabel))])])}),1),t.filterable?r("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[t.selectSize?"is-"+t.selectSize:""],style:{"flex-grow":"1",width:t.inputLength/(t.inputWidth-32)+"%","max-width":t.inputWidth-42+"px"},attrs:{type:"text",disabled:t.selectDisabled,autocomplete:t.autoComplete||t.autocomplete},domProps:{value:t.query},on:{focus:t.handleFocus,blur:function(e){t.softFocus=!1},keyup:t.managePlaceholder,keydown:[t.resetInputState,function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?t.deletePrevTag(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:[function(e){e.target.composing||(t.query=e.target.value)},t.debouncedQueryChange]}}):t._e()],1):t._e(),r("el-input",{ref:"reference",class:{"is-focus":t.visible},attrs:{type:"text",placeholder:t.currentPlaceholder,name:t.name,id:t.id,autocomplete:t.autoComplete||t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,tabindex:t.multiple&&t.filterable?"-1":null},on:{focus:t.handleFocus,blur:t.handleBlur},nativeOn:{keyup:function(e){return t.debouncedOnInputChange(e)},keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],paste:function(e){return t.debouncedOnInputChange(e)},mouseenter:function(e){t.inputHovering=!0},mouseleave:function(e){t.inputHovering=!1}},model:{value:t.selectedLabel,callback:function(e){t.selectedLabel=e},expression:"selectedLabel"}},[t.$slots.prefix?r("template",{slot:"prefix"},[t._t("prefix")],2):t._e(),r("template",{slot:"suffix"},[r("i",{directives:[{name:"show",rawName:"v-show",value:!t.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+t.iconClass]}),t.showClose?r("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:t.handleClearClick}}):t._e()])],2),r("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":t.handleMenuEnter,"after-leave":t.doDestroy}},[r("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:t.visible&&!1!==t.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":t.popperAppendToBody}},[r("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:0<t.options.length&&!t.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!t.allowCreate&&t.query&&0===t.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[t.showNewOption?r("el-option",{attrs:{value:t.query,created:""}}):t._e(),t._t("default")],2),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&0===t.options.length)?[t.$slots.empty?t._t("empty"):r("p",{staticClass:"el-select-dropdown__empty"},[t._v("\n          "+t._s(t.emptyText)+"\n        ")])]:t._e()],2)],1)],1)}function n(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":this.$parent.multiple},this.popperClass],style:{minWidth:this.minWidth}},[this._t("default")],2)}r.r(e),i._withStripped=!0;var o=r(4),s=r.n(o),a=r(22),c=r.n(a),l=r(6),u=r.n(l),h=r(11),f=r.n(h);n._withStripped=!0;var m=r(5),d={name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[r.n(m).a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var t=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",function(){t.$parent.visible&&t.updatePopper()}),this.$on("destroyPopper",this.destroyPopper)}},p=r(0),_=Object(p.a)(d,n,[],!1,null,null,null);_.options.__file="packages/select/src/select-dropdown.vue";var g=_.exports,v=r(33),y=r(36),b=r.n(y),x=r(13),w=r.n(x),S=r(16),C=r.n(S),T=r(12),E=r.n(T),O=r(15),k=r(20),A=r(31),M=r.n(A),P=r(3),D=r(21),j={mixins:[s.a,u.a,c()("reference"),{data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter(function(t){return t.visible}).every(function(t){return t.disabled})}},watch:{hoverIndex:function(t){var e=this;"number"==typeof t&&-1<t&&(this.hoverOption=this.options[t]||{}),this.options.forEach(function(t){t.hover=e.hoverOption===t})}},methods:{navigateOptions:function(t){var e=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===t?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===t&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var r=this.options[this.hoverIndex];!0!==r.disabled&&!0!==r.groupDisabled&&r.visible||this.navigateOptions(t),this.$nextTick(function(){return e.scrollToOption(e.hoverOption)})}}else this.visible=!0}}}],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(P.isIE)()&&!Object(P.isEdge)()&&!this.visible},showClose:function(){var t=this.multiple?Array.isArray(this.value)&&0<this.value.length:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&!this.selectDisabled&&this.inputHovering&&t},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&0<this.options.length&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var t=this,e=this.options.filter(function(t){return!t.created}).some(function(e){return e.currentLabel===t.query});return this.filterable&&this.allowCreate&&""!==this.query&&!e},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return-1<["small","mini"].indexOf(this.selectSize)?"mini":"small"}},components:{ElInput:f.a,ElSelectMenu:g,ElOption:v.a,ElTag:b.a,ElScrollbar:w.a},directives:{Clickoutside:E.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,default:function(){return Object(k.t)("el.select.placeholder")}},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var t=this;this.$nextTick(function(){t.resetInputHeight()})},placeholder:function(t){this.cachedPlaceHolder=this.currentPlaceholder=t},value:function(t,e){this.multiple&&(this.resetInputHeight(),t&&0<t.length||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(P.valueEquals)(t,e)||this.dispatch("ElFormItem","el.form.change",t)},visible:function(t){var e=this;t?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick(function(){e.$refs.input&&""===e.$refs.input.value&&0===e.selected.length&&(e.currentPlaceholder=e.cachedPlaceHolder)}),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",t)},options:function(){var t=this;if(!this.$isServer){this.$nextTick(function(){t.broadcast("ElSelectDropdown","updatePopper")}),this.multiple&&this.resetInputHeight();var e=this.$el.querySelectorAll("input");-1===[].indexOf.call(e,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleComposition:function(t){var e=this,r=t.target.value;if("compositionend"===t.type)this.isOnComposition=!1,this.$nextTick(function(t){return e.handleQueryChange(r)});else{var i=r[r.length-1]||"";this.isOnComposition=!Object(D.isKorean)(i)}},handleQueryChange:function(t){var e=this;this.previousQuery===t||this.isOnComposition||(null!==this.previousQuery||"function"!=typeof this.filterMethod&&"function"!=typeof this.remoteMethod?(this.previousQuery=t,this.$nextTick(function(){e.visible&&e.broadcast("ElSelectDropdown","updatePopper")}),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick(function(){var t=15*e.$refs.input.value.length+20;e.inputLength=e.collapseTags?Math.min(50,t):t,e.managePlaceholder(),e.resetInputHeight()}),this.remote&&"function"==typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(t)):("function"==typeof this.filterMethod?this.filterMethod(t):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",t)),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=t)},scrollToOption:function(t){var e=Array.isArray(t)&&t[0]?t[0].$el:t.$el;if(this.$refs.popper&&e){var r=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");M()(r,e)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var t=this;this.$nextTick(function(){return t.scrollToOption(t.selected)})},emitChange:function(t){Object(P.valueEquals)(this.value,t)||this.$emit("change",t)},getOption:function(t){for(var e=void 0,r="[object object]"===Object.prototype.toString.call(t).toLowerCase(),i="[object null]"===Object.prototype.toString.call(t).toLowerCase(),n="[object undefined]"===Object.prototype.toString.call(t).toLowerCase(),o=this.cachedOptions.length-1;0<=o;o--){var s=this.cachedOptions[o];if(r?Object(P.getValueByPath)(s.value,this.valueKey)===Object(P.getValueByPath)(t,this.valueKey):s.value===t){e=s;break}}if(e)return e;var a={value:t,currentLabel:r||i||n?"":t};return this.multiple&&(a.hitState=!1),a},setSelected:function(){var t=this;if(!this.multiple){var e=this.getOption(this.value);return e.created?(this.createdLabel=e.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=e.currentLabel,this.selected=e,void(this.filterable&&(this.query=this.selectedLabel))}var r=[];Array.isArray(this.value)&&this.value.forEach(function(e){r.push(t.getOption(e))}),this.selected=r,this.$nextTick(function(){t.resetInputHeight()})},handleFocus:function(t){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.visible=!0,this.filterable&&(this.menuVisibleOnFocus=!0)),this.$emit("focus",t))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(t){var e=this;setTimeout(function(){e.isSilentBlur?e.isSilentBlur=!1:e.$emit("blur",t)},50),this.softFocus=!1},handleClearClick:function(t){this.deleteSelected(t)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(t){if(Array.isArray(this.selected)){var e=this.selected[this.selected.length-1];if(e)return!0===t||!1===t?e.hitState=t:(e.hitState=!e.hitState,e.hitState)}},deletePrevTag:function(t){if(t.target.value.length<=0&&!this.toggleLastOptionHitState()){var e=this.value.slice();e.pop(),this.$emit("input",e),this.emitChange(e)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(t){8!==t.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var t=this;this.collapseTags&&!this.filterable||this.$nextTick(function(){if(t.$refs.reference){var e=t.$refs.reference.$el.childNodes,r=[].filter.call(e,function(t){return"INPUT"===t.tagName})[0],i=t.$refs.tags,n=t.initialInputHeight||40;r.style.height=0===t.selected.length?n+"px":Math.max(i?i.clientHeight+(i.clientHeight>n?6:0):0,n)+"px",t.visible&&!1!==t.emptyText&&t.broadcast("ElSelectDropdown","updatePopper")}})},resetHoverIndex:function(){var t=this;setTimeout(function(){t.multiple?0<t.selected.length?t.hoverIndex=Math.min.apply(null,t.selected.map(function(e){return t.options.indexOf(e)})):t.hoverIndex=-1:t.hoverIndex=t.options.indexOf(t.selected)},300)},handleOptionSelect:function(t,e){var r=this;if(this.multiple){var i=(this.value||[]).slice(),n=this.getValueIndex(i,t.value);-1<n?i.splice(n,1):(this.multipleLimit<=0||i.length<this.multipleLimit)&&i.push(t.value),this.$emit("input",i),this.emitChange(i),t.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",t.value),this.emitChange(t.value),this.visible=!1;this.isSilentBlur=e,this.setSoftFocus(),this.visible||this.$nextTick(function(){r.scrollToOption(t)})},setSoftFocus:function(){this.softFocus=!0;var t=this.$refs.input||this.$refs.reference;t&&t.focus()},getValueIndex:function(t,e){var r=0<arguments.length&&void 0!==t?t:[],i=e;if("[object object]"!==Object.prototype.toString.call(i).toLowerCase())return r.indexOf(i);var n=this.valueKey,o=-1;return r.some(function(t,e){return Object(P.getValueByPath)(t,n)===Object(P.getValueByPath)(i,n)&&(o=e,!0)}),o},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(t){t.stopPropagation();var e=this.multiple?[]:"";this.$emit("input",e),this.emitChange(e),this.visible=!1,this.$emit("clear")},deleteTag:function(t,e){var r=this.selected.indexOf(e);if(-1<r&&!this.selectDisabled){var i=this.value.slice();i.splice(r,1),this.$emit("input",i),this.emitChange(i),this.$emit("remove-tag",e.value)}t.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(t){-1<t&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(t,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){for(var t=!(this.hoverIndex=-1),e=this.options.length-1;0<=e;e--)if(this.options[e].created){t=!0,this.hoverIndex=e;break}if(!t)for(var r=0;r!==this.options.length;++r){var i=this.options[r];if(this.query){if(!i.disabled&&!i.groupDisabled&&i.visible){this.hoverIndex=r;break}}else if(i.itemSelected){this.hoverIndex=r;break}}},getValueKey:function(t){return"[object object]"!==Object.prototype.toString.call(t.value).toLowerCase()?t.value:Object(P.getValueByPath)(t.value,this.valueKey)}},created:function(){var t=this;this.cachedPlaceHolder=this.currentPlaceholder=this.placeholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=C()(this.debounce,function(){t.onInputChange()}),this.debouncedQueryChange=C()(this.debounce,function(e){t.handleQueryChange(e.target.value)}),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var t=this;this.multiple&&Array.isArray(this.value)&&0<this.value.length&&(this.currentPlaceholder=""),Object(O.addResizeListener)(this.$el,this.handleResize);var e=this.$refs.reference;if(e&&e.$el){var r=e.$el.querySelector("input");this.initialInputHeight=r.getBoundingClientRect().height||{medium:36,small:32,mini:28}[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick(function(){e&&e.$el&&(t.inputWidth=e.$el.getBoundingClientRect().width)}),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(O.removeResizeListener)(this.$el,this.handleResize)}},z=Object(p.a)(j,i,[],!1,null,null,null);z.options.__file="packages/select/src/select.vue";var I=z.exports;I.install=function(t){t.component(I.name,I)},e.default=I}],i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=60))},"4e71":function(t,e,r){r("e198")("observable")},"4ebc":function(t,e,r){var i=r("4d88");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"4f50":function(t,e,r){var i=r("b760"),n=r("e538"),o=r("c8fe"),s=r("4359"),a=r("fa21"),c=r("d370"),l=r("6747"),u=r("dcbe"),h=r("0d24"),f=r("9520"),m=r("1a8c"),d=r("60ed"),p=r("73ac"),_=r("8adb"),g=r("8de2");t.exports=function(t,e,r,v,y,b,x){var w=_(t,r),S=_(e,r),C=x.get(S);if(C)i(t,r,C);else{var T=b?b(w,S,r+"",t,e,x):void 0,E=void 0===T;if(E){var O=l(S),k=!O&&h(S),A=!O&&!k&&p(S);T=S,O||k||A?T=l(w)?w:u(w)?s(w):k?n(S,!(E=!1)):A?o(S,!(E=!1)):[]:d(S)||c(S)?c(T=w)?T=g(w):m(w)&&!f(w)||(T=a(S)):E=!1}E&&(x.set(S,T),y(T,S,v,b,x),x.delete(S)),i(t,r,T)}}},"4f5e":function(t,e,r){
/*!
 * iro-transparency-plugin v1.0.2
 * Adds comprehensive transparency support to iro.js
 * 2019 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro-transparency-plugin
 */
var i;"undefined"!=typeof self&&self,i=function(){return(r={},t.m=e={"./TransparencySlider.jsx":
/*!********************************!*\
  !*** ./TransparencySlider.jsx ***!
  \********************************/
/*! exports provided: default */function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}r.r(e),e.default=function(t,e){var r=t.h,i=t.Slider,c=t.Handle,l=e.resolveUrl;return function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,s(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,i),function(t,e,r){e&&n(t.prototype,e),r&&n(t,r)}(t,[{key:"render",value:function(t){var e=t.width,i=t.sliderHeight,n=t.borderWidth,o=t.handleRadius;i=i||2*t.padding+2*o+2*n,this.width=e;var s=(this.height=i)/2,a=e-2*s,u=t.color.hslString,h=t.color.hsva.a;return r("svg",{class:"iro__slider iro__slider--transparency",width:e,height:i,style:{marginTop:t.sliderMargin,overflow:"visible",display:"block"}},r("defs",null,r("linearGradient",{id:"gradient_".concat(this.uid)},r("stop",{offset:"0%","stop-color":u,"stop-opacity":"0"}),r("stop",{offset:"100%","stop-color":u,"stop-opacity":"1"})),r("pattern",{id:"grid_".concat(this.uid),width:"8",height:"8",patternUnits:"userSpaceOnUse"},r("rect",{class:"iro__slider__grid",x:"0",y:"0",width:"4",height:"4",fill:"#fff"}),r("rect",{class:"iro__slider__grid iro__slider__grid--alt",x:"4",y:"0",width:"4",height:"4",fill:"#ccc"}),r("rect",{class:"iro__slider__grid",x:"4",y:"4",width:"4",height:"4",fill:"#fff"}),r("rect",{class:"iro__slider__grid iro__slider__grid--alt",x:"0",y:"4",width:"4",height:"4",fill:"#ccc"})),r("pattern",{id:"fill_".concat(this.uid),width:"100%",height:"100%"},r("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(".concat(l("#grid_"+this.uid),")")}),r("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(".concat(l("#gradient_"+this.uid),")")}))),r("rect",{class:"iro__slider__value",rx:s,ry:s,x:n/2,y:n/2,width:e-n,height:i-n,"stroke-width":n,stroke:t.borderColor,fill:"url(".concat(l("#fill_"+this.uid),")")}),r(c,{r:o,url:t.handleSvg,origin:t.handleOrigin,x:s+h*a,y:i/2}))}},{key:"handleInput",value:function(t,e,r,i){this.props.onInput(i,{a:this.getValueFromPoint(t,e,r)/100})}}]),t}()}},"./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! exports provided: default */function(t,e,r){"use strict";r.r(e);var i=r(/*! ./TransparencySlider.jsx */"./TransparencySlider.jsx");function n(t,e){if(null==t)return{};var r,i,n=function(t,e){if(null==t)return{};var r,i,n={},o=Object.keys(t);for(i=0;i<o.length;i++)r=o[i],0<=e.indexOf(r)||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),i.forEach(function(e){s(t,e,r[e])})}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.default=function(t,e){var r=Object(i.default)(t.ui,t.util),s=t.util,c=(s.parseHexInt,s.parseUnit,s.intToHex);t.ColorPicker.addHook("init:after",function(){this.props.transparency&&this.layout.push({component:r,options:{}})});var l=t.Color.prototype.set;t.Color.prototype.set=function(t){var e="object"===a(t);e&&"r"in t&&"g"in t&&"b"in t&&"a"in t?this.rgba=t:e&&"h"in t&&"s"in t&&"v"in t&&"a"in t?this.hsva=t:e&&"h"in t&&"s"in t&&"l"in t&&"a"in t?this.hsla=t:l.call(this,t)},Object.defineProperties(t.Color.prototype,{hsva:{get:function(){var t=this._value;return{h:t.h,s:t.s,v:t.v,a:t.a}},set:function(t){this.hsv=t}},alpha:{get:function(){return this._value.a},set:function(t){this.hsv=o({},this.hsv,{a:t})}},rgba:{get:function(){return o({},this.rgb,{a:this.alpha})},set:function(t){var e=t.a,r=n(t,["a"]);this.rgb=r,this.alpha=e}},hsla:{get:function(){return o({},this.hsl,{a:this.alpha})},set:function(t){var e=t.a,r=n(t,["a"]);this.hsl=r,this.alpha=e}},hex8String:{get:function(){var t=this.rgba,e=t.r,r=t.g,i=t.b,n=t.a;return"#".concat(c(e)).concat(c(r)).concat(c(i)).concat(c(Math.floor(255*n)))},set:function(t){this.hexString=t}},rgbaString:{get:function(){var t=this.rgba,e=t.r,r=t.g,i=t.b,n=t.a;return"rgba(".concat(e,", ").concat(r,", ").concat(i,", ").concat(n,")")},set:function(t){this.rgbString=t}},hslaString:{get:function(){var t=this.hsla,e=t.h,r=t.s,i=t.l,n=t.a;return"hsla(".concat(e,", ").concat(r,"%, ").concat(i,"%, ").concat(n,")")},set:function(t){this.hslString=t}}}),t.ui.TransparencySlider=r,t.transparencyPlugin={version:"1.0.2"}}},0:
/*!************************!*\
  !*** multi ./index.js ***!
  \************************/
/*! no static exports found */function(t,e,r){t.exports=r(/*! ./index.js */"./index.js")}},t.c=r,t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:i})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(i,n,function(t){return e[t]}.bind(null,n));return i},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s=0)).default;function t(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var e,r},t.exports=i()},"50d8":function(t,e){t.exports=function(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}},"50e9":function(t,e,r){var i=r("d13f");i(i.S,"Object",{create:r("7108")})},"511f":function(t,e,r){r("0b99"),r("658f"),t.exports=r("fcd4").f("iterator")},5128:function(t,e,r){"use strict";e.__esModule=!0,e.PopupManager=void 0;var i=c(r("2b0e")),n=c(r("7f4d")),o=c(r("4b26")),s=c(r("e62d")),a=r("5924");function c(t){return t&&t.__esModule?t:{default:t}}var l=1,u=void 0;e.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+l++,o.default.register(this._popupId,this)},beforeDestroy:function(){o.default.deregister(this._popupId),o.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,i.default.nextTick(function(){e.open()}))}else this.close()}},methods:{open:function(t){var e=this;this.rendered||(this.rendered=!0);var r=(0,n.default)({},this.$props||this,t);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var i=Number(r.openDelay);0<i?this._openTimer=setTimeout(function(){e._openTimer=null,e.doOpen(r)},i):this.doOpen(r)},doOpen:function(t){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var e=this.$el,r=t.modal,i=t.zIndex;if(i&&(o.default.zIndex=i),r&&(this._closing&&(o.default.closeModal(this._popupId),this._closing=!1),o.default.openModal(this._popupId,o.default.nextZIndex(),this.modalAppendToBody?void 0:e,t.modalClass,t.modalFade),t.lockScroll)){this.withoutHiddenClass=!(0,a.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,a.getStyle)(document.body,"paddingRight"),10)),u=(0,s.default)();var n=document.documentElement.clientHeight<document.body.scrollHeight,c=(0,a.getStyle)(document.body,"overflowY");0<u&&(n||"scroll"===c)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+u+"px"),(0,a.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=o.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);0<e?this._closeTimer=setTimeout(function(){t._closeTimer=null,t.doClose()},e):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){o.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,a.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},e.PopupManager=o.default},"512c":function(t,e,r){var i=r("ef08"),n=r("5524"),o=r("9c0c"),s=r("051b"),a=r("9c0e"),c="prototype",l=function(t,e,r){var u,h,f,m=t&l.F,d=t&l.G,p=t&l.S,_=t&l.P,g=t&l.B,v=t&l.W,y=d?n:n[e]||(n[e]={}),b=y[c],x=d?i:p?i[e]:(i[e]||{})[c];for(u in d&&(r=e),r)(h=!m&&x&&void 0!==x[u])&&a(y,u)||(f=h?x[u]:r[u],y[u]=d&&"function"!=typeof x[u]?r[u]:g&&h?o(f,i):v&&x[u]==f?function(t){function e(e,r,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,i)}return t.apply(this,arguments)}return e[c]=t[c],e}(f):_&&"function"==typeof f?o(Function.call,f):f,_&&((y.virtual||(y.virtual={}))[u]=f,t&l.R&&b&&!b[u]&&s(b,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},5147:function(t,e,r){var i=r("2b4c")("match");t.exports=function(e){var r=/./;try{"/./"[e](r)}catch(t){try{return r[i]=!1,!"/./"[e](r)}catch(t){}}return!0}},5176:function(t,e,r){t.exports=r("81ee")},"520a":function(t,e,r){"use strict";var i,n,o=r("0bfb"),s=RegExp.prototype.exec,a=String.prototype.replace,c=s,l="lastIndex",u=(i=/a/,n=/b*/g,s.call(i,"a"),s.call(n,"a"),0!==i[l]||0!==n[l]),h=void 0!==/()??/.exec("")[1];(u||h)&&(c=function(t){var e,r,i,n;return h&&(r=new RegExp("^"+this.source+"$(?!\\s)",o.call(this))),u&&(e=this[l]),i=s.call(this,t),u&&i&&(this[l]=this.global?i.index+i[0].length:e),h&&i&&1<i.length&&a.call(i[0],r,function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(i[n]=void 0)}),i}),t.exports=c},5270:function(t,e,r){"use strict";var i=r("c532"),n=r("c401"),o=r("2e67"),s=r("2444"),a=r("d925"),c=r("e683");function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!a(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=n(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return l(t),e.data=n(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=n(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5488:function(t,e,r){"use strict";e.__esModule=!0;var i=r("5924"),n=(o.prototype.beforeEnter=function(t){(0,i.addClass)(t,"collapse-transition"),t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height="0",t.style.paddingTop=0,t.style.paddingBottom=0},o.prototype.enter=function(t){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?t.style.height=t.scrollHeight+"px":t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"},o.prototype.afterEnter=function(t){(0,i.removeClass)(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow},o.prototype.beforeLeave=function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},o.prototype.leave=function(t){0!==t.scrollHeight&&((0,i.addClass)(t,"collapse-transition"),t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0)},o.prototype.afterLeave=function(t){(0,i.removeClass)(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},o);function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o)}e.default={name:"ElCollapseTransition",functional:!0,render:function(t,e){var r=e.children;return t("transition",{on:new n},r)}}},"54aa":function(t,e,r){r("16e7"),t.exports=r("a7d3").parseInt},"54eb":function(t,e,r){var i=r("8eeb"),n=r("32f4");t.exports=function(t,e){return i(t,n(t),e)}},5524:function(t,e){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},5537:function(t,e,r){var i=r("8378"),n=r("7726"),o="__core-js_shared__",s=n[o]||(n[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:r("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"55a3":function(t,e){t.exports=function(t){return this.__data__.has(t)}},"55dd":function(t,e,r){"use strict";var i=r("5ca1"),n=r("d8e8"),o=r("4bf8"),s=r("79e5"),a=[].sort,c=[1,2,3];i(i.P+i.F*(s(function(){c.sort(void 0)})||!s(function(){c.sort(null)})||!r("2f21")(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),n(t))}})},"560b":function(t,e,r){var i=r("bc25"),n=r("9c93"),o=r("c227"),s=r("0f89"),a=r("a5ab"),c=r("f159"),l={},u={};(e=t.exports=function(t,e,r,h,f){var m,d,p,_,g=f?function(){return t}:c(t),v=i(r,h,e?2:1),y=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(m=a(t.length);y<m;y++)if((_=e?v(s(d=t[y])[0],d[1]):v(t[y]))===l||_===u)return _}else for(p=g.call(t);!(d=p.next()).done;)if((_=n(p,v,d.value,e))===l||_===u)return _}).BREAK=l,e.RETURN=u},"560b4":function(t,e,r){},"565d":function(t,e,r){var i=r("6a9b"),n=r("d876").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return n(t)}catch(t){return s.slice()}}(t):n(i(t))}},5698:function(t,e,r){r("d256"),t.exports=r("a7d3").Object.getOwnPropertySymbols},"569f":function(t,e,r){var i=r("b808"),n=r("ca38"),o=r("a0a8"),s=r("1f51"),a=r("a9f2"),c="prototype",l=function(t,e,r){var u,h,f,m,d=t&l.F,p=t&l.G,_=t&l.S,g=t&l.P,v=t&l.B,y=p?i:_?i[e]||(i[e]={}):(i[e]||{})[c],b=p?n:n[e]||(n[e]={}),x=b[c]||(b[c]={});for(u in p&&(r=e),r)f=((h=!d&&y&&void 0!==y[u])?y:r)[u],m=v&&h?a(f,i):g&&"function"==typeof f?a(Function.call,f):f,y&&s(y,u,f,t&l.U),b[u]!=f&&o(b,u,m),g&&x[u]!=f&&(x[u]=f)};i.core=n,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"577e":function(t,e,r){var i=r("5a88");function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new i(t*t),this.data.fill(0),this.reservedBit=new i(t*t),this.reservedBit.fill(0)}n.prototype.set=function(t,e,r,i){var n=t*this.size+e;this.data[n]=r,i&&(this.reservedBit[n]=!0)},n.prototype.get=function(t,e){return this.data[t*this.size+e]},n.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},n.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=n},"57a5":function(t,e,r){var i=r("91e9")(Object.keys,Object);t.exports=i},"57f7":function(t,e,r){r("93c4"),r("6109"),t.exports=r("a7d3").Array.from},"585a":function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(this,r("c8ba"))},"58b9":function(t,e,r){var i=r("d43f"),n=r("0244");t.exports=function(t){return i(n(t))}},5924:function(t,e,r){"use strict";e.__esModule=!0,e.isInContainer=e.getScrollContainer=e.isScroll=e.getStyle=e.once=e.off=e.on=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.hasClass=d,e.addClass=function(t,e){if(t){for(var r=t.className,i=(e||"").split(" "),n=0,o=i.length;n<o;n++){var s=i[n];s&&(t.classList?t.classList.add(s):d(t,s)||(r+=" "+s))}t.classList||(t.className=r)}},e.removeClass=function(t,e){if(t&&e){for(var r=e.split(" "),i=" "+t.className+" ",n=0,o=r.length;n<o;n++){var s=r[n];s&&(t.classList?t.classList.remove(s):d(t,s)&&(i=i.replace(" "+s+" "," ")))}t.classList||(t.className=u(i))}},e.setStyle=function t(e,r,n){if(e&&r)if("object"===(void 0===r?"undefined":i(r)))for(var o in r)r.hasOwnProperty(o)&&t(e,o,r[o]);else"opacity"===(r=h(r))&&l<9?e.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":e.style[r]=n};var n,o=r("2b0e"),s=((n=o)&&n.__esModule?n:{default:n}).default.prototype.$isServer,a=/([\:\-\_]+(.))/g,c=/^moz([A-Z])/,l=s?0:Number(document.documentMode),u=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},h=function(t){return t.replace(a,function(t,e,r,i){return i?r.toUpperCase():r}).replace(c,"Moz$1")},f=e.on=!s&&document.addEventListener?function(t,e,r){t&&e&&r&&t.addEventListener(e,r,!1)}:function(t,e,r){t&&e&&r&&t.attachEvent("on"+e,r)},m=e.off=!s&&document.removeEventListener?function(t,e,r){t&&e&&t.removeEventListener(e,r,!1)}:function(t,e,r){t&&e&&t.detachEvent("on"+e,r)};function d(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):-1<(" "+t.className+" ").indexOf(" "+e+" ")}e.once=function(t,e,r){f(t,e,function i(){r&&r.apply(this,arguments),m(t,e,i)})};var p=e.getStyle=l<9?function(e,r){if(!s){if(!e||!r)return null;"float"===(r=h(r))&&(r="styleFloat");try{switch(r){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(t){return 1}default:return e.style[r]||e.currentStyle?e.currentStyle[r]:null}}catch(t){return e.style[r]}}}:function(t,e){if(!s){if(!t||!e)return null;"float"===(e=h(e))&&(e="cssFloat");try{var r=document.defaultView.getComputedStyle(t,"");return t.style[e]||r?r[e]:null}catch(r){return t.style[e]}}},_=e.isScroll=function(t,e){if(!s)return p(t,null!==e||void 0!==e?e?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)};e.getScrollContainer=function(t,e){if(!s){for(var r=t;r;){if([window,document,document.documentElement].includes(r))return window;if(_(r,e))return r;r=r.parentNode}return r}},e.isInContainer=function(t,e){if(s||!t||!e)return!1;var r=t.getBoundingClientRect(),i=void 0;return i=[window,document,document.documentElement,null,void 0].includes(e)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:e.getBoundingClientRect(),r.top<i.bottom&&r.bottom>i.top&&r.right>i.left&&r.left<i.right}},5927:function(t,e,r){r("93c4"),r("b42c"),t.exports=r("fda1").f("iterator")},"597f":function(t,e){t.exports=function(t,e,r,i){var n,o=0;return"boolean"!=typeof e&&(i=r,r=e,e=void 0),function(){var s=this,a=Number(new Date)-o,c=arguments;function l(){o=Number(new Date),r.apply(s,c)}i&&!n&&l(),n&&clearTimeout(n),void 0===i&&t<a?l():!0!==e&&(n=setTimeout(i?function(){n=void 0}:l,void 0===i?t-a:t))}}},"59ad":function(t,e,r){t.exports=r("0965")},"5a0c":function(t,e,r){t.exports=function(){"use strict";var t="millisecond",e="second",r="minute",i="hour",n="day",o="week",s="month",a="year",c="date",l="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,r){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(r)+t},d={s:m,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),i=Math.floor(r/60),n=r%60;return(e<=0?"+":"-")+m(i,2,"0")+":"+m(n,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var i=12*(r.year()-e.year())+(r.month()-e.month()),n=e.clone().add(i,s),o=r-n<0,a=e.clone().add(i+(o?-1:1),s);return+(-(i+(r-n)/(o?n-a:a-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:s,y:a,w:o,d:n,D:c,h:i,m:r,s:e,ms:t,Q:"quarter"}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p="en",_={};_[p]=f;var g=function(t){return t instanceof x},v=function(t,e,r){var i;if(!t)return p;if("string"==typeof t)_[t]&&(i=t),e&&(_[t]=e,i=t);else{var n=t.name;_[n]=t,i=n}return!r&&i&&(p=i),i||!r&&p},y=function(t,e){if(g(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new x(r)},b=d;b.l=v,b.i=g,b.w=function(t,e){return y(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var x=function(){function f(t){this.$L=v(t.locale,null,!0),this.parse(t)}var m=f.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(u);if(i){var n=i[2]-1||0,o=(i[7]||"0").substring(0,3);return r?new Date(Date.UTC(i[1],n,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],n,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var r=y(t);return this.startOf(e)<=r&&r<=this.endOf(e)},m.isAfter=function(t,e){return y(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<y(t)},m.$g=function(t,e,r){return b.u(t)?this[e]:this.set(r,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,l){var u=this,h=!!b.u(l)||l,f=b.p(t),m=function(t,e){var r=b.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return h?r:r.endOf(n)},d=function(t,e){return b.w(u.toDate()[t].apply(u.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},p=this.$W,_=this.$M,g=this.$D,v="set"+(this.$u?"UTC":"");switch(f){case a:return h?m(1,0):m(31,11);case s:return h?m(1,_):m(0,_+1);case o:var y=this.$locale().weekStart||0,x=(p<y?p+7:p)-y;return m(h?g-x:g+(6-x),_);case n:case c:return d(v+"Hours",0);case i:return d(v+"Minutes",1);case r:return d(v+"Seconds",2);case e:return d(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(o,l){var u,h=b.p(o),f="set"+(this.$u?"UTC":""),m=((u={})[n]=f+"Date",u[c]=f+"Date",u[s]=f+"Month",u[a]=f+"FullYear",u[i]=f+"Hours",u[r]=f+"Minutes",u[e]=f+"Seconds",u[t]=f+"Milliseconds",u)[h],d=h===n?this.$D+(l-this.$W):l;if(h===s||h===a){var p=this.clone().set(c,1);p.$d[m](d),p.init(),this.$d=p.set(c,Math.min(this.$D,p.daysInMonth())).$d}else m&&this.$d[m](d);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(t,c){var l,u=this;t=Number(t);var h=b.p(c),f=function(e){var r=y(u);return b.w(r.date(r.date()+Math.round(e*t)),u)};if(h===s)return this.set(s,this.$M+t);if(h===a)return this.set(a,this.$y+t);if(h===n)return f(1);if(h===o)return f(7);var m=((l={})[r]=6e4,l[i]=36e5,l[e]=1e3,l)[h]||1,d=this.$d.getTime()+t*m;return b.w(d,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||l;var i=t||"YYYY-MM-DDTHH:mm:ssZ",n=b.z(this),o=this.$H,s=this.$m,a=this.$M,c=r.weekdays,u=r.months,f=function(t,r,n,o){return t&&(t[r]||t(e,i))||n[r].substr(0,o)},m=function(t){return b.s(o%12||12,t,"0")},d=r.meridiem||function(t,e,r){var i=t<12?"AM":"PM";return r?i.toLowerCase():i},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:b.s(a+1,2,"0"),MMM:f(r.monthsShort,a,u,3),MMMM:f(u,a),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:f(r.weekdaysMin,this.$W,c,2),ddd:f(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:b.s(o,2,"0"),h:m(1),hh:m(2),a:d(o,s,!0),A:d(o,s,!1),m:String(s),mm:b.s(s,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:n};return i.replace(h,function(t,e){return e||p[t]||n.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(t,o,c){var l,u=b.p(o),h=y(t),f=6e4*(h.utcOffset()-this.utcOffset()),m=this-h,d=b.m(this,h);return d=((l={})[a]=d/12,l[s]=d,l.quarter=d/3,l.week=(m-f)/6048e5,l[n]=(m-f)/864e5,l[i]=m/36e5,l[r]=m/6e4,l[e]=m/1e3,l)[u]||m,c?d:b.a(d)},m.daysInMonth=function(){return this.endOf(s).$D},m.$locale=function(){return _[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),i=v(t,e,!0);return i&&(r.$L=i),r},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},f}(),w=x.prototype;return y.prototype=w,[["$ms",t],["$s",e],["$m",r],["$H",i],["$W",n],["$M",s],["$y",a],["$D",c]].forEach(function(t){w[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),y.extend=function(t,e){return t.$i||(t(e,x,y),t.$i=!0),y},y.locale=v,y.isDayjs=g,y.unix=function(t){return y(1e3*t)},y.en=_[p],y.Ls=_,y.p={},y}()},"5a53":function(t,e){var r,i="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;if(i){var n=Math.pow(2,32)-1;r=function(){return Math.abs(i.getRandomValues(new Uint32Array(1))[0]/n)}}else r=Math.random;t.exports=r},"5a88":function(t,e,r){"use strict";var i=r("eee55"),n=(o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())?2147483647:1073741823;function o(t,e,r){return o.TYPED_ARRAY_SUPPORT||this instanceof o?"number"==typeof t?c(this,t):function(t,e,r,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,i){if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");var n;return n=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i),o.TYPED_ARRAY_SUPPORT?n.__proto__=o.prototype:n=l(t,n),n}(t,e,r,i):"string"!=typeof e?function(t,e){if(o.isBuffer(e)){var r=0|s(e.length),i=a(t,r);return 0===i.length||e.copy(i,0,0,r),i}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):l(t,e);if("Buffer"===e.type&&Array.isArray(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e):function(t,e){var r=0|h(e),i=a(t,r),n=i.write(e);return n!==r&&(i=i.slice(0,n)),i}(t,e)}(this,t,e,r):new o(t,e,r)}function s(t){if(n<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|t}function a(t,e){var r;return o.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e)).__proto__=o.prototype:(null===(r=t)&&(r=new o(e)),r.length=e),r}function c(t,e){var r=a(t,e<0?0:0|s(e));if(!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)r[i]=0;return r}function l(t,e){for(var r=e.length<0?0:0|s(e.length),i=a(t,r),n=0;n<r;n+=1)i[n]=255&e[n];return i}function u(t,e){var r;e=e||1/0;for(var i=t.length,n=null,o=[],s=0;s<i;++s){if(55295<(r=t.charCodeAt(s))&&r<57344){if(!n){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===i){-1<(e-=3)&&o.push(239,191,189);continue}n=r;continue}if(r<56320){-1<(e-=3)&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&-1<(e-=3)&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function h(t){return o.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:u(t).length)}function f(t,e,r,i){return function(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}(u(e,t.length-r),t,r,i)}o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),o.prototype.write=function(t,e,r){void 0===e?(r=this.length,e=0):void 0===r&&"string"==typeof e?(r=this.length,e=0):isFinite(e)&&(e|=0,isFinite(r)?r|=0:r=void 0);var i=this.length-e;if((void 0===r||i<r)&&(r=i),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return f(this,t,e,r)},o.prototype.slice=function(t,e){var r,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),e<t&&(e=t),o.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=o.prototype;else{var n=e-t;r=new o(n,void 0);for(var s=0;s<n;++s)r[s]=this[s+t]}return r},o.prototype.copy=function(t,e,r,i){if(r=r||0,i||0===i||(i=this.length),e>=t.length&&(e=t.length),e=e||0,0<i&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n,s=i-r;if(this===t&&r<e&&e<i)for(n=s-1;0<=n;--n)t[n+e]=this[n+r];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(n=0;n<s;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},o.prototype.fill=function(t,e,r){if("string"==typeof t){if("string"==typeof e?(e=0,r=this.length):"string"==typeof r&&(r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var n;if(e>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(t=t||0))for(n=e;n<r;++n)this[n]=t;else{var s=o.isBuffer(t)?t:new o(t),a=s.length;for(n=0;n<r-e;++n)this[n+e]=s[n%a]}return this},o.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a(null,0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;var n=c(null,e),s=0;for(r=0;r<t.length;++r){var l=t[r];if(!o.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(n,s),s+=l.length}return n},o.byteLength=h,o.prototype._isBuffer=!0,o.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.exports=o},"5a94":function(t,e,r){var i=r("b367")("keys"),n=r("8b1a");t.exports=function(t){return i[t]||(i[t]=n(t))}},"5b01":function(t,e,r){var i=r("8eeb"),n=r("ec69");t.exports=function(t,e){return t&&i(e,n(e),t)}},"5b5f":function(t,e,r){"use strict";function i(){}function n(t){var e;return!(!_(t)||"function"!=typeof(e=t.then))&&e}function o(t,e){if(!t._n){t._n=!0;var r=t._c;w(function(){for(var i=t._v,o=1==t._s,s=0,a=function(e){var r,s,a,c=o?e.ok:e.fail,l=e.resolve,u=e.reject,h=e.domain;try{c?(o||(2==t._h&&L(t),t._h=1),!0===c?r=i:(h&&h.enter(),r=c(i),h&&(h.exit(),a=!0)),r===e.promise?u(k("Promise-chain cycle")):(s=n(r))?s.call(r,l,u):l(r)):u(i)}catch(e){h&&!a&&h.exit(),u(e)}};r.length>s;)a(r[s++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}}function s(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),o(e,!0))}var a,c,l,u,h=r("b457"),f=r("da3c"),m=r("bc25"),d=r("7d8a"),p=r("d13f"),_=r("6f8a"),g=r("f2fe"),v=r("b0bc"),y=r("560b"),b=r("302f"),x=r("df0a").set,w=r("36dc")(),S=r("03ca"),C=r("75c9"),T=r("8a12"),E=r("decf"),O="Promise",k=f.TypeError,A=f.process,M=A&&A.versions,P=M&&M.v8||"",D=f[O],j="process"==d(A),z=c=S.f,I=!!function(){try{var t=D.resolve(1),e=(t.constructor={})[r("1b55")("species")]=function(t){t(i,i)};return(j||"function"==typeof PromiseRejectionEvent)&&t.then(i)instanceof e&&0!==P.indexOf("6.6")&&-1===T.indexOf("Chrome/66")}catch(t){}}(),R=function(t){x.call(f,function(){var e,r,i,n=t._v,o=F(t);if(o&&(e=C(function(){j?A.emit("unhandledRejection",n,t):(r=f.onunhandledrejection)?r({promise:t,reason:n}):(i=f.console)&&i.error&&i.error("Unhandled promise rejection",n)}),t._h=j||F(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){x.call(f,function(){var e;j?A.emit("rejectionHandled",t):(e=f.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw k("Promise can't be resolved itself");(e=n(t))?w(function(){var i={_w:r,_d:!1};try{e.call(t,m(N,i,1),m(s,i,1))}catch(t){s.call(i,t)}}):(r._v=t,r._s=1,o(r,!1))}catch(t){s.call({_w:r,_d:!1},t)}}};I||(D=function(t){v(this,D,O,"_h"),g(t),a.call(this);try{t(m(N,this,1),m(s,this,1))}catch(t){s.call(this,t)}},(a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r("3904")(D.prototype,{then:function(t,e){var r=z(b(this,D));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=j?A.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&o(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),l=function(){var t=new a;this.promise=t,this.resolve=m(N,t,1),this.reject=m(s,t,1)},S.f=z=function(t){return t===D||t===u?new l(t):c(t)}),p(p.G+p.W+p.F*!I,{Promise:D}),r("c0d8")(D,O),r("1be4")(O),u=r("a7d3")[O],p(p.S+p.F*!I,O,{reject:function(t){var e=z(this);return(0,e.reject)(t),e.promise}}),p(p.S+p.F*(h||!I),O,{resolve:function(t){return E(h&&this===u?D:this,t)}}),p(p.S+p.F*!(I&&r("436c")(function(t){D.all(t).catch(i)})),O,{all:function(t){var e=this,r=z(e),i=r.resolve,n=r.reject,o=C(function(){var r=[],o=0,s=1;y(t,!1,function(t){var a=o++,c=!1;r.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,r[a]=t,--s||i(r))},n)}),--s||i(r)});return o.e&&n(o.v),r.promise},race:function(t){var e=this,r=z(e),i=r.reject,n=C(function(){y(t,!1,function(t){e.resolve(t).then(r.resolve,i)})});return n.e&&i(n.v),r.promise}})},"5ca1":function(t,e,r){var i=r("7726"),n=r("8378"),o=r("32e9"),s=r("2aba"),a=r("9b43"),c="prototype",l=function(t,e,r){var u,h,f,m,d=t&l.F,p=t&l.G,_=t&l.S,g=t&l.P,v=t&l.B,y=p?i:_?i[e]||(i[e]={}):(i[e]||{})[c],b=p?n:n[e]||(n[e]={}),x=b[c]||(b[c]={});for(u in p&&(r=e),r)f=((h=!d&&y&&void 0!==y[u])?y:r)[u],m=v&&h?a(f,i):g&&"function"==typeof f?a(Function.call,f):f,y&&s(y,u,f,t&l.U),b[u]!=f&&o(b,u,m),g&&x[u]!=f&&(x[u]=f)};i.core=n,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"5cc5":function(t,e,r){var i=r("2b4c")("iterator"),n=!1;try{var o=[7][i]();o.return=function(){n=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:r=!0}},o[i]=function(){return s},t(o)}catch(t){}return r}},"5ce7":function(t,e,r){"use strict";var i=r("7108"),n=r("f845"),o=r("c0d8"),s={};r("8ce0")(s,r("1b55")("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=i(s,{next:n(1,r)}),o(t,e+" Iterator")}},"5d58":function(t,e,r){t.exports=r("5927")},"5d73":function(t,e,r){t.exports=r("0a91f")},"5d89":function(t,e,r){var i=r("f8af");t.exports=function(t,e){var r=e?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},"5d8f":function(t,e,r){var i=r("7772")("keys"),n=r("7b00");t.exports=function(t){return i[t]||(i[t]=n(t))}},"5dbc":function(t,e,r){var i=r("d3f4"),n=r("8b97").set;t.exports=function(t,e,r){var o,s=e.constructor;return s!==r&&"function"==typeof s&&(o=s.prototype)!==r.prototype&&i(o)&&n&&n(t,o),t}},"5df3":function(t,e,r){"use strict";var i=r("02f4")(!0);r("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=i(e,r),this._i+=t.length,{value:t,done:!1})})},"5e2e":function(t,e,r){var i=r("28c9"),n=r("69d5"),o=r("b4c0"),s=r("fba5"),a=r("67ca");function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=n,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},"5edf":function(t,e){t.exports=function(t,e,r){for(var i=-1,n=null==t?0:t.length;++i<n;)if(r(e,t[i]))return!0;return!1}},"5f1b":function(t,e,r){"use strict";var i=r("23c6"),n=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var o=r.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},6044:function(t,e,r){var i=r("0b07")(Object,"create");t.exports=i},"60ed":function(t,e,r){var i=r("3729"),n=r("2dcb"),o=r("1310"),s=Function.prototype,a=Object.prototype,c=s.toString,l=a.hasOwnProperty,u=c.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=i(t))return!1;var e=n(t);if(null===e)return!0;var r=l.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==u}},6109:function(t,e,r){"use strict";var i=r("bc25"),n=r("d13f"),o=r("0185"),s=r("9c93"),a=r("c227"),c=r("a5ab"),l=r("b3ec"),u=r("f159");n(n.S+n.F*!r("436c")(function(t){Array.from(t)}),"Array",{from:function(t,e,r){var n,h,f,m,d=o(t),p="function"==typeof this?this:Array,_=arguments.length,g=1<_?e:void 0,v=void 0!==g,y=0,b=u(d);if(v&&(g=i(g,2<_?r:void 0,2)),null==b||p==Array&&a(b))for(h=new p(n=c(d.length));y<n;y++)l(h,y,v?g(d[y],y):d[y]);else for(m=b.call(d),h=new p;!(f=m.next()).done;y++)l(h,y,v?s(m,g,[f.value,y],!0):f.value);return h.length=y,h}})},"613b":function(t,e,r){var i=r("5537")("keys"),n=r("ca5a");t.exports=function(t){return i[t]||(i[t]=n(t))}},6167:function(t,e,r){"use strict";var i,n;"function"==typeof Symbol&&Symbol.iterator,void 0===(n="function"==typeof(i=function(){var t=window,e={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function r(t,r,i){this._reference=t.jquery?t[0]:t,this.state={};var n=null==r,o=r&&"[object Object]"===Object.prototype.toString.call(r);return this._popper=n||o?this.parse(o?r:{}):r.jquery?r[0]:r,this._options=Object.assign({},e,i),this._options.modifiers=this._options.modifiers.map(function(t){if(-1===this._options.modifiersIgnored.indexOf(t))return"applyStyle"===t&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[t]||t}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),u(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function i(e){var r=e.style.display,i=e.style.visibility;e.style.display="block",e.style.visibility="hidden",e.offsetWidth;var n=t.getComputedStyle(e),o=parseFloat(n.marginTop)+parseFloat(n.marginBottom),s=parseFloat(n.marginLeft)+parseFloat(n.marginRight),a={width:e.offsetWidth+s,height:e.offsetHeight+o};return e.style.display=r,e.style.visibility=i,a}function n(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function o(t){var e=Object.assign({},t);return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function s(t,e){var r,i=0;for(r in t){if(t[r]===e)return i;i++}return null}function a(e,r){var i=t.getComputedStyle(e,null);return i[r]}function c(e){var r=e.offsetParent;return r!==t.document.body&&r?r:t.document.documentElement}function l(e){var r=e.parentNode;return r?r===t.document?t.document.body.scrollTop||t.document.body.scrollLeft?t.document.body:t.document.documentElement:-1!==["scroll","auto"].indexOf(a(r,"overflow"))||-1!==["scroll","auto"].indexOf(a(r,"overflow-x"))||-1!==["scroll","auto"].indexOf(a(r,"overflow-y"))?r:l(e.parentNode):e}function u(t,e){Object.keys(e).forEach(function(r){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}(e[r])&&(i="px"),t.style[r]=e[r]+i})}function h(t){var e={width:t.offsetWidth,height:t.offsetHeight,left:t.offsetLeft,top:t.offsetTop};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function f(t){var e=t.getBoundingClientRect(),r=-1!=navigator.userAgent.indexOf("MSIE"),i=r&&"HTML"===t.tagName?-t.scrollTop:e.top;return{left:e.left,top:i,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-i}}function m(e){for(var r=["","ms","webkit","moz","o"],i=0;i<r.length;i++){var n=r[i]?r[i]+e.charAt(0).toUpperCase()+e.slice(1):e;if(void 0!==t.document.body.style[n])return n}return null}return r.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[m("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},r.prototype.update=function(){var t={instance:this,styles:{}};t.placement=this._options.placement,t._originalPlacement=this._options.placement,t.offsets=this._getOffsets(this._popper,this._reference,t.placement),t.boundaries=this._getBoundaries(t,this._options.boundariesPadding,this._options.boundariesElement),t=this.runModifiers(t,this._options.modifiers),"function"==typeof this.state.updateCallback&&this.state.updateCallback(t)},r.prototype.onCreate=function(t){return t(this),this},r.prototype.onUpdate=function(t){return this.state.updateCallback=t,this},r.prototype.parse=function(e){var r={tagName:"div",classNames:["popper"],attributes:[],parent:t.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};e=Object.assign({},r,e);var i=t.document,n=i.createElement(e.tagName);if(a(n,e.classNames),c(n,e.attributes),"node"===e.contentType?n.appendChild(e.content.jquery?e.content[0]:e.content):"html"===e.contentType?n.innerHTML=e.content:n.textContent=e.content,e.arrowTagName){var o=i.createElement(e.arrowTagName);a(o,e.arrowClassNames),c(o,e.arrowAttributes),n.appendChild(o)}var s=e.parent.jquery?e.parent[0]:e.parent;if("string"==typeof s){if((s=i.querySelectorAll(e.parent)).length,0===s.length)throw"ERROR: the given `parent` doesn't exists!";s=s[0]}return 1<s.length&&s instanceof Element==0&&(s=s[0]),s.appendChild(n),n;function a(t,e){e.forEach(function(e){t.classList.add(e)})}function c(t,e){e.forEach(function(e){t.setAttribute(e.split(":")[0],e.split(":")[1]||"")})}},r.prototype._getPosition=function(e,r){return c(r),this._options.forceAbsolute?"absolute":function e(r){return r!==t.document.body&&("fixed"===a(r,"position")||(r.parentNode?e(r.parentNode):r))}(r)?"fixed":"absolute"},r.prototype._getOffsets=function(t,e,r){r=r.split("-")[0];var n={};n.position=this.state.position;var o="fixed"===n.position,s=function(t,e,r){var i=f(t),n=f(e);if(r){var o=l(e);n.top+=o.scrollTop,n.bottom+=o.scrollTop,n.left+=o.scrollLeft,n.right+=o.scrollLeft}return{top:i.top-n.top,left:i.left-n.left,bottom:i.top-n.top+i.height,right:i.left-n.left+i.width,width:i.width,height:i.height}}(e,c(t),o),a=i(t);return-1!==["right","left"].indexOf(r)?(n.top=s.top+s.height/2-a.height/2,n.left="left"===r?s.left-a.width:s.right):(n.left=s.left+s.width/2-a.width/2,n.top="top"===r?s.top-a.height:s.bottom),n.width=a.width,n.height=a.height,{popper:n,reference:s}},r.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),t.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var e=l(this._reference);e!==t.document.body&&e!==t.document.documentElement||(e=t),e.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=e}},r.prototype._removeEventListeners=function(){t.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},r.prototype._getBoundaries=function(e,r,i){var n,o,s,a={};if("window"===i){var u=t.document.body,f=t.document.documentElement;n=Math.max(u.scrollHeight,u.offsetHeight,f.clientHeight,f.scrollHeight,f.offsetHeight),a={top:0,right:Math.max(u.scrollWidth,u.offsetWidth,f.clientWidth,f.scrollWidth,f.offsetWidth),bottom:n,left:0}}else if("viewport"===i){var m=c(this._popper),d=l(this._popper),p=h(m),_="fixed"===e.offsets.popper.position?0:(s=d)==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):s.scrollTop,g="fixed"===e.offsets.popper.position?0:(o=d)==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):o.scrollLeft;a={top:0-(p.top-_),right:t.document.documentElement.clientWidth-(p.left-g),bottom:t.document.documentElement.clientHeight-(p.top-_),left:0-(p.left-g)}}else a=c(this._popper)===i?{top:0,left:0,right:i.clientWidth,bottom:i.clientHeight}:h(i);return a.left+=r,a.right-=r,a.top=a.top+r,a.bottom=a.bottom-r,a},r.prototype.runModifiers=function(t,e,r){var i=e.slice();return void 0!==r&&(i=this._options.modifiers.slice(0,s(this._options.modifiers,r))),i.forEach(function(e){!function(t){return t&&"[object Function]"==={}.toString.call(t)}(e)||(t=e.call(this,t))}.bind(this)),t},r.prototype.isModifierRequired=function(t,e){var r=s(this._options.modifiers,t);return!!this._options.modifiers.slice(0,r).filter(function(t){return t===e}).length},(r.prototype.modifiers={}).applyStyle=function(t){var e,r={position:t.offsets.popper.position},i=Math.round(t.offsets.popper.left),n=Math.round(t.offsets.popper.top);return this._options.gpuAcceleration&&(e=m("transform"))?(r[e]="translate3d("+i+"px, "+n+"px, 0)",r.top=0,r.left=0):(r.left=i,r.top=n),Object.assign(r,t.styles),u(this._popper,r),this._popper.setAttribute("x-placement",t.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&t.offsets.arrow&&u(t.arrowElement,t.offsets.arrow),t},r.prototype.modifiers.shift=function(t){var e=t.placement,r=e.split("-")[0],i=e.split("-")[1];if(i){var n=t.offsets.reference,s=o(t.offsets.popper),a={y:{start:{top:n.top},end:{top:n.top+n.height-s.height}},x:{start:{left:n.left},end:{left:n.left+n.width-s.width}}},c=-1!==["bottom","top"].indexOf(r)?"x":"y";t.offsets.popper=Object.assign(s,a[c][i])}return t},r.prototype.modifiers.preventOverflow=function(t){var e=this._options.preventOverflowOrder,r=o(t.offsets.popper),i={left:function(){var e=r.left;return r.left<t.boundaries.left&&(e=Math.max(r.left,t.boundaries.left)),{left:e}},right:function(){var e=r.left;return r.right>t.boundaries.right&&(e=Math.min(r.left,t.boundaries.right-r.width)),{left:e}},top:function(){var e=r.top;return r.top<t.boundaries.top&&(e=Math.max(r.top,t.boundaries.top)),{top:e}},bottom:function(){var e=r.top;return r.bottom>t.boundaries.bottom&&(e=Math.min(r.top,t.boundaries.bottom-r.height)),{top:e}}};return e.forEach(function(e){t.offsets.popper=Object.assign(r,i[e]())}),t},r.prototype.modifiers.keepTogether=function(t){var e=o(t.offsets.popper),r=t.offsets.reference,i=Math.floor;return e.right<i(r.left)&&(t.offsets.popper.left=i(r.left)-e.width),e.left>i(r.right)&&(t.offsets.popper.left=i(r.right)),e.bottom<i(r.top)&&(t.offsets.popper.top=i(r.top)-e.height),e.top>i(r.bottom)&&(t.offsets.popper.top=i(r.bottom)),t},r.prototype.modifiers.flip=function(t){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return t;if(t.flipped&&t.placement===t._originalPlacement)return t;var e=t.placement.split("-")[0],r=n(e),i=t.placement.split("-")[1]||"",s=[];return(s="flip"===this._options.flipBehavior?[e,r]:this._options.flipBehavior).forEach(function(a,c){if(e===a&&s.length!==c+1){e=t.placement.split("-")[0],r=n(e);var l=o(t.offsets.popper),u=-1!==["right","bottom"].indexOf(e);(u&&Math.floor(t.offsets.reference[e])>Math.floor(l[r])||!u&&Math.floor(t.offsets.reference[e])<Math.floor(l[r]))&&(t.flipped=!0,t.placement=s[c+1],i&&(t.placement+="-"+i),t.offsets.popper=this._getOffsets(this._popper,this._reference,t.placement).popper,t=this.runModifiers(t,this._options.modifiers,this._flip))}}.bind(this)),t},r.prototype.modifiers.offset=function(t){var e=this._options.offset,r=t.offsets.popper;return-1!==t.placement.indexOf("left")?r.top-=e:-1!==t.placement.indexOf("right")?r.top+=e:-1!==t.placement.indexOf("top")?r.left-=e:-1!==t.placement.indexOf("bottom")&&(r.left+=e),t},r.prototype.modifiers.arrow=function(t){var e=this._options.arrowElement,r=this._options.arrowOffset;if("string"==typeof e&&(e=this._popper.querySelector(e)),!e)return t;if(!this._popper.contains(e))return t;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return t;var n={},s=t.placement.split("-")[0],a=o(t.offsets.popper),c=t.offsets.reference,l=-1!==["left","right"].indexOf(s),u=l?"height":"width",h=l?"top":"left",f=l?"left":"top",m=l?"bottom":"right",d=i(e)[u];c[m]-d<a[h]&&(t.offsets.popper[h]-=a[h]-(c[m]-d)),c[h]+d>a[m]&&(t.offsets.popper[h]+=c[h]+d-a[m]);var p=c[h]+(r||c[u]/2-d/2)-a[h];return p=Math.max(Math.min(a[u]-d-8,p),8),n[h]=p,n[f]="",t.offsets.arrow=n,t.arrowElement=e,t},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i){i=Object(i);for(var n=Object.keys(i),o=0,s=n.length;o<s;o++){var a=n[o],c=Object.getOwnPropertyDescriptor(i,a);void 0!==c&&c.enumerable&&(e[a]=i[a])}}}return e}}),r})?i.call(e,r,e,t):i)||(t.exports=n)},"626aa":function(t,e,r){var i=r("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},"626e":function(t,e,r){var i=r("d74e"),n=r("f845"),o=r("6a9b"),s=r("2ea1"),a=r("43c8"),c=r("a47f"),l=Object.getOwnPropertyDescriptor;e.f=r("7d95")?l:function(t,e){if(t=o(t),e=s(e,!0),c)try{return l(t,e)}catch(t){}if(a(t,e))return n(!i.f.call(t,e),t[e])}},6277:function(t,e,r){function i(t){a(t,n,{value:{i:"O"+ ++c,w:{}}})}var n=r("7b00")("meta"),o=r("6f8a"),s=r("43c8"),a=r("3adc").f,c=0,l=Object.isExtensible||function(){return!0},u=!r("d782")(function(){return l(Object.preventExtensions({}))}),h=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,n)){if(!l(t))return"F";if(!e)return"E";i(t)}return t[n].i},getWeak:function(t,e){if(!s(t,n)){if(!l(t))return!0;if(!e)return!1;i(t)}return t[n].w},onFreeze:function(t){return u&&h.NEED&&l(t)&&!s(t,n)&&i(t),t}}},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},6316:function(t,e,r){var i=r("626e"),n=r("ff0c"),o=r("43c8"),s=r("d13f"),a=r("6f8a"),c=r("0f89");s(s.S,"Reflect",{get:function t(e,r){var s,l,u=arguments.length<3?e:arguments[2];return c(e)===u?e[r]:(s=i.f(e,r))?o(s,"value")?s.value:void 0!==s.get?s.get.call(u):void 0:a(l=n(e))?t(l,r,u):void 0}})},"633a":function(t,e,r){function i(t,e,r){var i={},o=s(function(){return!!a[t]()||"​"!="​"[t]()}),c=i[t]=o?e(h):a[t];r&&(i[r]=c),n(n.P+n.F*o,"String",i)}var n=r("d13f"),o=r("e5fa"),s=r("d782"),a=r("702a"),c="["+a+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),h=i.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=i},"63d9":function(t,e,r){r("ec30")("Float32",4,function(t){return function(e,r,i){return t(this,e,r,i)}})},"642a":function(t,e,r){var i=r("966f"),n=r("3bb4"),o=r("20ec");t.exports=function(t){var e=n(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(r){return r===t||i(r,t,e)}}},6438:function(t,e,r){var i=r("03d6"),n=r("9742").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},6494:function(t,e,r){function i(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var n=r("6f8a"),o=r("0f89");t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r("bc25")(Function.call,r("626e").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return i(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:i}},"656b":function(t,e,r){var i=r("e2e4"),n=r("f4d6");t.exports=function(t,e){for(var r=0,o=(e=i(e,t)).length;null!=t&&r<o;)t=t[n(e[r++])];return r&&r==o?t:void 0}},"658f":function(t,e,r){r("6858");for(var i=r("ef08"),n=r("051b"),o=r("8a0d"),s=r("cc15")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var l=a[c],u=i[l],h=u&&u.prototype;h&&!h[s]&&n(h,s,l),o[l]=o.Array}},6611:function(t,e,r){},6747:function(t,e){var r=Array.isArray;t.exports=r},6761:function(t,e,r){var i=r("d13f");i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},6762:function(t,e,r){"use strict";var i=r("5ca1"),n=r("c366")(!0);i(i.P,"Array",{includes:function(t,e){return n(this,t,1<arguments.length?e:void 0)}}),r("9c6c")("includes")},"67ab":function(t,e,r){function i(t){a(t,n,{value:{i:"O"+ ++c,w:{}}})}var n=r("ca5a")("meta"),o=r("d3f4"),s=r("69a8"),a=r("86cc").f,c=0,l=Object.isExtensible||function(){return!0},u=!r("79e5")(function(){return l(Object.preventExtensions({}))}),h=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,n)){if(!l(t))return"F";if(!e)return"E";i(t)}return t[n].i},getWeak:function(t,e){if(!s(t,n)){if(!l(t))return!0;if(!e)return!1;i(t)}return t[n].w},onFreeze:function(t){return u&&h.NEED&&l(t)&&!s(t,n)&&i(t),t}}},"67bb":function(t,e,r){t.exports=r("b258")},"67ca":function(t,e,r){var i=r("cb5a");t.exports=function(t,e){var r=this.__data__,n=i(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}},"67dd":function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6821:function(t,e,r){var i=r("626aa"),n=r("be13");t.exports=function(t){return i(n(t))}},6858:function(t,e,r){"use strict";var i=r("2f9a"),n=r("ea34"),o=r("8a0d"),s=r("6ca1");t.exports=r("393a")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"693d":function(t,e,r){"use strict";function i(t){var e=V[t]=A(F[B]);return e._k=t,e}function n(t,e){C(t);for(var r,i=w(e=E(e)),n=0,o=i.length;n<o;)Z(t,r=i[n++],e[r]);return t}function o(t){var e=q.call(this,t=O(t,!0));return!(this===W&&u(V,t)&&!u(X,t))&&(!(e||!u(this,t)||!u(V,t)||u(this,$)&&this[$][t])||e)}function s(t,e){if(t=E(t),e=O(e,!0),t!==W||!u(V,e)||u(X,e)){var r=z(t,e);return!r||!u(V,e)||u(t,$)&&t[$][e]||(r.enumerable=!0),r}}function a(t){for(var e,r=R(E(t)),i=[],n=0;r.length>n;)u(V,e=r[n++])||e==$||e==d||i.push(e);return i}function c(t){for(var e,r=t===W,i=R(r?X:E(t)),n=[],o=0;i.length>o;)!u(V,e=i[o++])||r&&!u(W,e)||n.push(V[e]);return n}var l=r("ef08"),u=r("9c0e"),h=r("0bad"),f=r("512c"),m=r("ba01"),d=r("e34a").KEY,p=r("4b8b"),_=r("b367"),g=r("92f0"),v=r("8b1a"),y=r("cc15"),b=r("fcd4"),x=r("e198"),w=r("0ae2"),S=r("4ebc"),C=r("77e9"),T=r("7a41"),E=r("6ca1"),O=r("3397"),k=r("10db"),A=r("6f4f"),M=r("1836"),P=r("4d20"),D=r("1a14"),j=r("9876"),z=P.f,I=D.f,R=M.f,F=l.Symbol,L=l.JSON,N=L&&L.stringify,B="prototype",$=y("_hidden"),U=y("toPrimitive"),q={}.propertyIsEnumerable,H=_("symbol-registry"),V=_("symbols"),X=_("op-symbols"),W=Object[B],Y="function"==typeof F,G=l.QObject,K=!G||!G[B]||!G[B].findChild,J=h&&p(function(){return 7!=A(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(t,e,r){var i=z(W,e);i&&delete W[e],I(t,e,r),i&&t!==W&&I(W,e,i)}:I,Q=Y&&"symbol"==typeof F.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof F},Z=function(t,e,r){return t===W&&Z(X,e,r),C(t),e=O(e,!0),C(r),u(V,e)?(r.enumerable?(u(t,$)&&t[$][e]&&(t[$][e]=!1),r=A(r,{enumerable:k(0,!1)})):(u(t,$)||I(t,$,k(1,{})),t[$][e]=!0),J(t,e,r)):I(t,e,r)};Y||(m((F=function(t){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var e=v(0<arguments.length?t:void 0),r=function(t){this===W&&r.call(X,t),u(this,$)&&u(this[$],e)&&(this[$][e]=!1),J(this,e,k(1,t))};return h&&K&&J(W,e,{configurable:!0,set:r}),i(e)})[B],"toString",function(){return this._k}),P.f=s,D.f=Z,r("6438").f=M.f=a,r("1917").f=o,r("fed5").f=c,h&&!r("e444")&&m(W,"propertyIsEnumerable",o,!0),b.f=function(t){return i(y(t))}),f(f.G+f.W+f.F*!Y,{Symbol:F});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)y(tt[et++]);for(var rt=j(y.store),it=0;rt.length>it;)x(rt[it++]);f(f.S+f.F*!Y,"Symbol",{for:function(t){return u(H,t+="")?H[t]:H[t]=F(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var e in H)if(H[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),f(f.S+f.F*!Y,"Object",{create:function(t,e){return void 0===e?A(t):n(A(t),e)},defineProperty:Z,defineProperties:n,getOwnPropertyDescriptor:s,getOwnPropertyNames:a,getOwnPropertySymbols:c}),L&&f(f.S+f.F*(!Y||p(function(){var t=F();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,r,i=[t],n=1;n<arguments.length;)i.push(arguments[n++]);if(r=e=i[1],(T(e)||void 0!==t)&&!Q(t))return S(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Q(e))return e}),i[1]=e,N.apply(L,i)}}),F[B][U]||r("051b")(F[B],U,F[B].valueOf),g(F,"Symbol"),g(Math,"Math",!0),g(l.JSON,"JSON",!0)},"696b":function(t,e){e.f=Object.getOwnPropertySymbols},6997:function(t,e,r){r("6761"),t.exports=9007199254740991},"699e":function(t,e,r){var i,n,o=r("5a88");n=o.alloc?(i=o.alloc(512),o.alloc(256)):(i=new o(512),new o(256)),function(){for(var t=1,e=0;e<255;e++)i[e]=t,n[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)i[e]=i[e-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return n[t]},e.exp=function(t){return i[t]},e.mul=function(t,e){return 0===t||0===e?0:i[n[t]+n[e]]}},"69a0":function(t,e,r){t.exports=function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(t,e){var r=t[0],i=t[1],n=t[2],o=t[3];r+=(i&n|~i&o)+e[0]-680876936|0,o+=((r=(r<<7|r>>>25)+i|0)&i|~r&n)+e[1]-389564586|0,n+=((o=(o<<12|o>>>20)+r|0)&r|~o&i)+e[2]+606105819|0,i+=((n=(n<<17|n>>>15)+o|0)&o|~n&r)+e[3]-1044525330|0,r+=((i=(i<<22|i>>>10)+n|0)&n|~i&o)+e[4]-176418897|0,o+=((r=(r<<7|r>>>25)+i|0)&i|~r&n)+e[5]+1200080426|0,n+=((o=(o<<12|o>>>20)+r|0)&r|~o&i)+e[6]-1473231341|0,i+=((n=(n<<17|n>>>15)+o|0)&o|~n&r)+e[7]-45705983|0,r+=((i=(i<<22|i>>>10)+n|0)&n|~i&o)+e[8]+1770035416|0,o+=((r=(r<<7|r>>>25)+i|0)&i|~r&n)+e[9]-1958414417|0,n+=((o=(o<<12|o>>>20)+r|0)&r|~o&i)+e[10]-42063|0,i+=((n=(n<<17|n>>>15)+o|0)&o|~n&r)+e[11]-1990404162|0,r+=((i=(i<<22|i>>>10)+n|0)&n|~i&o)+e[12]+1804603682|0,o+=((r=(r<<7|r>>>25)+i|0)&i|~r&n)+e[13]-40341101|0,n+=((o=(o<<12|o>>>20)+r|0)&r|~o&i)+e[14]-1502002290|0,i+=((n=(n<<17|n>>>15)+o|0)&o|~n&r)+e[15]+1236535329|0,r+=((i=(i<<22|i>>>10)+n|0)&o|n&~o)+e[1]-165796510|0,o+=((r=(r<<5|r>>>27)+i|0)&n|i&~n)+e[6]-1069501632|0,n+=((o=(o<<9|o>>>23)+r|0)&i|r&~i)+e[11]+643717713|0,i+=((n=(n<<14|n>>>18)+o|0)&r|o&~r)+e[0]-373897302|0,r+=((i=(i<<20|i>>>12)+n|0)&o|n&~o)+e[5]-701558691|0,o+=((r=(r<<5|r>>>27)+i|0)&n|i&~n)+e[10]+38016083|0,n+=((o=(o<<9|o>>>23)+r|0)&i|r&~i)+e[15]-660478335|0,i+=((n=(n<<14|n>>>18)+o|0)&r|o&~r)+e[4]-405537848|0,r+=((i=(i<<20|i>>>12)+n|0)&o|n&~o)+e[9]+568446438|0,o+=((r=(r<<5|r>>>27)+i|0)&n|i&~n)+e[14]-1019803690|0,n+=((o=(o<<9|o>>>23)+r|0)&i|r&~i)+e[3]-187363961|0,i+=((n=(n<<14|n>>>18)+o|0)&r|o&~r)+e[8]+1163531501|0,r+=((i=(i<<20|i>>>12)+n|0)&o|n&~o)+e[13]-1444681467|0,o+=((r=(r<<5|r>>>27)+i|0)&n|i&~n)+e[2]-51403784|0,n+=((o=(o<<9|o>>>23)+r|0)&i|r&~i)+e[7]+1735328473|0,i+=((n=(n<<14|n>>>18)+o|0)&r|o&~r)+e[12]-1926607734|0,r+=((i=(i<<20|i>>>12)+n|0)^n^o)+e[5]-378558|0,o+=((r=(r<<4|r>>>28)+i|0)^i^n)+e[8]-2022574463|0,n+=((o=(o<<11|o>>>21)+r|0)^r^i)+e[11]+1839030562|0,i+=((n=(n<<16|n>>>16)+o|0)^o^r)+e[14]-35309556|0,r+=((i=(i<<23|i>>>9)+n|0)^n^o)+e[1]-1530992060|0,o+=((r=(r<<4|r>>>28)+i|0)^i^n)+e[4]+1272893353|0,n+=((o=(o<<11|o>>>21)+r|0)^r^i)+e[7]-155497632|0,i+=((n=(n<<16|n>>>16)+o|0)^o^r)+e[10]-1094730640|0,r+=((i=(i<<23|i>>>9)+n|0)^n^o)+e[13]+681279174|0,o+=((r=(r<<4|r>>>28)+i|0)^i^n)+e[0]-358537222|0,n+=((o=(o<<11|o>>>21)+r|0)^r^i)+e[3]-722521979|0,i+=((n=(n<<16|n>>>16)+o|0)^o^r)+e[6]+76029189|0,r+=((i=(i<<23|i>>>9)+n|0)^n^o)+e[9]-640364487|0,o+=((r=(r<<4|r>>>28)+i|0)^i^n)+e[12]-421815835|0,n+=((o=(o<<11|o>>>21)+r|0)^r^i)+e[15]+530742520|0,i+=((n=(n<<16|n>>>16)+o|0)^o^r)+e[2]-995338651|0,r+=(n^((i=(i<<23|i>>>9)+n|0)|~o))+e[0]-198630844|0,o+=(i^((r=(r<<6|r>>>26)+i|0)|~n))+e[7]+1126891415|0,n+=(r^((o=(o<<10|o>>>22)+r|0)|~i))+e[14]-1416354905|0,i+=(o^((n=(n<<15|n>>>17)+o|0)|~r))+e[5]-57434055|0,r+=(n^((i=(i<<21|i>>>11)+n|0)|~o))+e[12]+1700485571|0,o+=(i^((r=(r<<6|r>>>26)+i|0)|~n))+e[3]-1894986606|0,n+=(r^((o=(o<<10|o>>>22)+r|0)|~i))+e[10]-1051523|0,i+=(o^((n=(n<<15|n>>>17)+o|0)|~r))+e[1]-2054922799|0,r+=(n^((i=(i<<21|i>>>11)+n|0)|~o))+e[8]+1873313359|0,o+=(i^((r=(r<<6|r>>>26)+i|0)|~n))+e[15]-30611744|0,n+=(r^((o=(o<<10|o>>>22)+r|0)|~i))+e[6]-1560198380|0,i+=(o^((n=(n<<15|n>>>17)+o|0)|~r))+e[13]+1309151649|0,r+=(n^((i=(i<<21|i>>>11)+n|0)|~o))+e[4]-145523070|0,o+=(i^((r=(r<<6|r>>>26)+i|0)|~n))+e[11]-1120210379|0,n+=(r^((o=(o<<10|o>>>22)+r|0)|~i))+e[2]+718787259|0,i=((i+=(o^((n=(n<<15|n>>>17)+o|0)|~r))+e[9]-343485551|0)<<21|i>>>11)+n|0,t[0]=r+t[0]|0,t[1]=i+t[1]|0,t[2]=n+t[2]|0,t[3]=o+t[3]|0}function i(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}function n(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return r}function o(t){var e,n,o,s,a,c,l=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=l;e+=64)r(u,i(t.substring(e-64,e)));for(t=t.substring(e-64),n=t.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),55<e)for(r(u,o),e=0;e<16;e+=1)o[e]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,r(u,o),u}function s(t){var r,i="";for(r=0;r<4;r+=1)i+=e[t>>8*r+4&15]+e[t>>8*r&15];return i}function a(t){var e;for(e=0;e<t.length;e+=1)t[e]=s(t[e]);return t.join("")}function c(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function l(t){var e,r=[],i=t.length;for(e=0;e<i-1;e+=2)r.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,r)}function u(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(r,i){var n,o,s,a,c=this.byteLength,l=e(r,c),u=c;return i!==t&&(u=e(i,c)),u<l?new ArrayBuffer(0):(n=u-l,o=new ArrayBuffer(n),s=new Uint8Array(o),a=new Uint8Array(this,l,n),s.set(a),o)}}(),u.prototype.append=function(t){return this.appendBinary(c(t)),this},u.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)r(this._hash,i(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},u.prototype.end=function(t){var e,r,i=this._buff,n=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n;e+=1)o[e>>2]|=i.charCodeAt(e)<<(e%4<<3);return this._finish(o,n),r=a(this._hash),t&&(r=l(r)),this.reset(),r},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(t,e){var i,n,o,s=e;if(t[s>>2]|=128<<(s%4<<3),55<s)for(r(this._hash,t),s=0;s<16;s+=1)t[s]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(i[2],16),o=parseInt(i[1],16)||0,t[14]=n,t[15]=o,r(this._hash,t)},u.hash=function(t,e){return u.hashBinary(c(t),e)},u.hashBinary=function(t,e){var r=a(o(t));return e?l(r):r},(u.ArrayBuffer=function(){this.reset()}).prototype.append=function(t){var e,i=function(t,e,r){var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t)),i.set(new Uint8Array(e),t.byteLength),r?i:i.buffer}(this._buff.buffer,t,!0),o=i.length;for(this._length+=t.byteLength,e=64;e<=o;e+=64)r(this._hash,n(i.subarray(e-64,e)));return this._buff=e-64<o?new Uint8Array(i.buffer.slice(e-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(t){var e,r,i=this._buff,n=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n;e+=1)o[e>>2]|=i[e]<<(e%4<<3);return this._finish(o,n),r=a(this._hash),t&&(r=l(r)),this.reset(),r},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var t=u.prototype.getState.call(this);return t.buff=function(t){return String.fromCharCode.apply(null,new Uint8Array(t))}(t.buff),t},u.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var r,i=t.length,n=new ArrayBuffer(i),o=new Uint8Array(n);for(r=0;r<i;r+=1)o[r]=t.charCodeAt(r);return e?o:n}(t.buff,!0),u.prototype.setState.call(this,t)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(t,e){var i=a(function(t){var e,i,o,s,a,c,l=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=l;e+=64)r(u,n(t.subarray(e-64,e)));for(t=e-64<l?t.subarray(e-64):new Uint8Array(0),i=t.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<i;e+=1)o[e>>2]|=t[e]<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),55<e)for(r(u,o),e=0;e<16;e+=1)o[e]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,r(u,o),u}(new Uint8Array(t)));return e?l(i):i},u}()},"69a8":function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},"69d5":function(t,e,r){var i=r("cb5a"),n=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=i(e,t);return!(r<0)&&(r==e.length-1?e.pop():n.call(e,r,1),--this.size,!0)}},"6a99":function(t,e,r){var i=r("d3f4");t.exports=function(t,e){if(!i(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!i(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},"6a9b":function(t,e,r){var i=r("8bab"),n=r("e5fa");t.exports=function(t){return i(n(t))}},"6ac5":function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},4:function(t,e){t.exports=r("d010")},77:function(t,e,r){"use strict";function i(){var t=this.$createElement;return(this._self._c||t)(this._elTag,{tag:"component",staticClass:"el-radio-group",attrs:{role:"radiogroup"},on:{keydown:this.handleKeydown}},[this._t("default")],2)}r.r(e),i._withStripped=!0;var n=r(4),o=r.n(n),s=Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40}),a={name:"ElRadioGroup",componentName:"ElRadioGroup",inject:{elFormItem:{default:""}},mixins:[o.a],props:{value:{},size:String,fill:String,textColor:String,disabled:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},_elTag:function(){return(this.$vnode.data||{}).tag||"div"},radioGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},created:function(){var t=this;this.$on("handleChange",function(e){t.$emit("change",e)})},mounted:function(){var t=this.$el.querySelectorAll("[type=radio]"),e=this.$el.querySelectorAll("[role=radio]")[0];![].some.call(t,function(t){return t.checked})&&e&&(e.tabIndex=0)},methods:{handleKeydown:function(t){var e=t.target,r="INPUT"===e.nodeName?"[type=radio]":"[role=radio]",i=this.$el.querySelectorAll(r),n=i.length,o=[].indexOf.call(i,e),a=this.$el.querySelectorAll("[role=radio]");switch(t.keyCode){case s.LEFT:case s.UP:t.stopPropagation(),t.preventDefault(),0===o?(a[n-1].click(),a[n-1].focus()):(a[o-1].click(),a[o-1].focus());break;case s.RIGHT:case s.DOWN:o===n-1?(t.stopPropagation(),t.preventDefault(),a[0].click(),a[0].focus()):(a[o+1].click(),a[o+1].focus())}}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[this.value])}}},c=r(0),l=Object(c.a)(a,i,[],!1,null,null,null);l.options.__file="packages/radio/src/radio-group.vue";var u=l.exports;u.install=function(t){t.component(u.name,u)},e.default=u}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=77))},"6ac9":function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},2:function(t,e){t.exports=r("5924")},3:function(t,e){t.exports=r("8122")},5:function(t,e){t.exports=r("e974")},7:function(t,e){t.exports=r("2b0e")},70:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[r("transition",{attrs:{name:t.transition},on:{"after-enter":t.handleAfterEnter,"after-leave":t.handleAfterLeave}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&t.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[t.popperClass,t.content&&"el-popover--plain"],style:{width:t.width+"px"},attrs:{role:"tooltip",id:t.tooltipId,"aria-hidden":t.disabled||!t.showPopper?"true":"false"}},[t.title?r("div",{staticClass:"el-popover__title",domProps:{textContent:t._s(t.title)}}):t._e(),t._t("default",[t._v(t._s(t.content))])],2)]),t._t("reference")],2)}r.r(e),i._withStripped=!0;var n=r(5),o=r.n(n),s=r(2),a=r(3),c={name:"ElPopover",mixins:[o.a],props:{trigger:{type:String,default:"click",validator:function(t){return-1<["click","focus","hover","manual"].indexOf(t)}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+Object(a.generateId)()}},watch:{showPopper:function(t){this.disabled||(t?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var t=this,e=this.referenceElm=this.reference||this.$refs.reference,r=this.popper||this.$refs.popper;!e&&this.$slots.reference&&this.$slots.reference[0]&&(e=this.referenceElm=this.$slots.reference[0].elm),e&&(Object(s.addClass)(e,"el-popover__reference"),e.setAttribute("aria-describedby",this.tooltipId),e.setAttribute("tabindex",this.tabindex),r.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(s.on)(e,"focusin",function(){t.handleFocus();var r=e.__vue__;r&&"function"==typeof r.focus&&r.focus()}),Object(s.on)(r,"focusin",this.handleFocus),Object(s.on)(e,"focusout",this.handleBlur),Object(s.on)(r,"focusout",this.handleBlur)),Object(s.on)(e,"keydown",this.handleKeydown),Object(s.on)(e,"click",this.handleClick)),"click"===this.trigger?(Object(s.on)(e,"click",this.doToggle),Object(s.on)(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(Object(s.on)(e,"mouseenter",this.handleMouseEnter),Object(s.on)(r,"mouseenter",this.handleMouseEnter),Object(s.on)(e,"mouseleave",this.handleMouseLeave),Object(s.on)(r,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex,e.querySelector("input, textarea")?(Object(s.on)(e,"focusin",this.doShow),Object(s.on)(e,"focusout",this.doClose)):(Object(s.on)(e,"mousedown",this.doShow),Object(s.on)(e,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(s.addClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){Object(s.removeClass)(this.referenceElm,"focusing")},handleBlur:function(){Object(s.removeClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var t=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){t.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(t){27===t.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var t=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout(function(){t.showPopper=!1},this.closeDelay):this.showPopper=!1},handleDocumentClick:function(t){var e=this.reference||this.$refs.reference,r=this.popper||this.$refs.popper;!e&&this.$slots.reference&&this.$slots.reference[0]&&(e=this.referenceElm=this.$slots.reference[0].elm),this.$el&&e&&!this.$el.contains(t.target)&&!e.contains(t.target)&&r&&!r.contains(t.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var t=this.reference;Object(s.off)(t,"click",this.doToggle),Object(s.off)(t,"mouseup",this.doClose),Object(s.off)(t,"mousedown",this.doShow),Object(s.off)(t,"focusin",this.doShow),Object(s.off)(t,"focusout",this.doClose),Object(s.off)(t,"mousedown",this.doShow),Object(s.off)(t,"mouseup",this.doClose),Object(s.off)(t,"mouseleave",this.handleMouseLeave),Object(s.off)(t,"mouseenter",this.handleMouseEnter),Object(s.off)(document,"click",this.handleDocumentClick)}},l=r(0),u=Object(l.a)(c,i,[],!1,null,null,null);function h(t,e,r){var i=e.expression?e.value:e.arg,n=r.context.$refs[i];n&&(Array.isArray(n)?n[0].$refs.reference=t:n.$refs.reference=t)}u.options.__file="packages/popover/src/main.vue";var f=u.exports,m={bind:function(t,e,r){h(t,e,r)},inserted:function(t,e,r){h(t,e,r)}},d=r(7);r.n(d).a.directive("popover",m),f.install=function(t){t.directive("popover",m),t.component(f.name,f)},f.directive=m,e.default=f}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=70))},"6b30":function(t,e,r){},"6b54":function(t,e,r){"use strict";function i(t){r("2aba")(RegExp.prototype,a,t,!0)}r("3846");var n=r("cb7c"),o=r("0bfb"),s=r("9e1e"),a="toString",c=/./[a];r("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?i(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?o.call(t):void 0)}):c.name!=a&&i(function(){return c.call(this)})},"6b7c":function(t,e,r){"use strict";e.__esModule=!0;var i=r("4897");e.default={methods:{t:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return i.t.apply(this,e)}}}},"6bb5":function(t,e,r){"use strict";r.d(e,"a",function(){return a});var i=r("061b"),n=r.n(i),o=r("4d16"),s=r.n(o);function a(t){return(a=s.a?n.a:function(t){return t.__proto__||n()(t)})(t)}},"6c7b":function(t,e,r){var i=r("5ca1");i(i.P,"Array",{fill:r("36bd")}),r("9c6c")("fill")},"6ca1":function(t,e,r){var i=r("9fbb"),n=r("c901");t.exports=function(t){return i(n(t))}},"6d93":function(t,e,r){"use strict";var i="URLSearchParams"in self,n="Symbol"in self&&"iterator"in Symbol,o="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in self,a="ArrayBuffer"in self;if(a)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(t){return t&&-1<c.indexOf(Object.prototype.toString.call(t))};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function m(t){this.map={},t instanceof m?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function _(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){(this._bodyInit=t)?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&o&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||l(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,r=p(e);return e.readAsText(t),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),i=0;i<e.length;i++)r[i]=String.fromCharCode(e[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}m.prototype.append=function(t,e){t=u(t),e=h(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},m.prototype.delete=function(t){delete this.map[u(t)]},m.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},m.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},m.prototype.set=function(t,e){this.map[u(t)]=h(e)},m.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},m.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),f(t)},m.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),f(t)},m.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),f(t)},n&&(m.prototype[Symbol.iterator]=m.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){var r=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new m(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new m(e.headers)),this.method=function(t){var e=t.toUpperCase();return-1<y.indexOf(e)?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function x(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(n))}}),e}function w(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new m(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var S=[301,302,303,307,308];w.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})};var C=self.DOMException;try{new C}catch(t){(C=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),C.prototype.constructor=C}function T(t,e){return new Promise(function(r,i){var n=new b(t,e);if(n.signal&&n.signal.aborted)return i(new C("Aborted","AbortError"));var s=new XMLHttpRequest;function a(){s.abort()}s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:function(t){var e=new m;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();e.append(i,n)}}),e}(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;r(new w(e,t))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new C("Aborted","AbortError"))},s.open(n.method,n.url,!0),"include"===n.credentials?s.withCredentials=!0:"omit"===n.credentials&&(s.withCredentials=!1),"responseType"in s&&o&&(s.responseType="blob"),n.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),n.signal&&(n.signal.addEventListener("abort",a),s.onreadystatechange=function(){4===s.readyState&&n.signal.removeEventListener("abort",a)}),s.send(void 0===n._bodyInit?null:n._bodyInit)})}T.polyfill=!0,self.fetch||(self.fetch=T,self.Headers=m,self.Request=b,self.Response=w)},"6dd8":function(t,e,r){"use strict";r.r(e),function(t){var r=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var r=-1;return t.some(function(t,i){return t[0]===e&&(r=i,!0)}),r}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var r=t(this.__entries__,e),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(e,r){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=r:this.__entries__.push([e,r])},e.prototype.delete=function(e){var r=this.__entries__,i=t(r,e);~i&&r.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var r=0,i=this.__entries__;r<i.length;r++){var n=i[r];t.call(e,n[1],n[0])}},e;function e(){this.__entries__=[]}}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,n=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(n):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},s=2,a=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,l=(u.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},u.prototype.removeObserver=function(t){var e=this.observers_,r=e.indexOf(t);~r&&e.splice(r,1),!e.length&&this.connected_&&this.disconnect_()},u.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},u.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),0<t.length},u.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},u.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},u.prototype.onTransitionEnd_=function(t){var e=t.propertyName,r=void 0===e?"":e;a.some(function(t){return!!~r.indexOf(t)})&&this.refresh()},u.getInstance=function(){return this.instance_||(this.instance_=new u),this.instance_},u.instance_=null,u);function u(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var r=!1,i=!1,n=0;function a(){r&&(r=!1,t()),i&&l()}function c(){o(a)}function l(){var t=Date.now();if(r){if(t-n<s)return;i=!0}else i=!(r=!0),setTimeout(c,e);n=t}return l}(this.refresh.bind(this),20)}var h=function(t,e){for(var r=0,i=Object.keys(e);r<i.length;r++){var n=i[r];Object.defineProperty(t,n,{value:e[n],enumerable:!1,writable:!1,configurable:!0})}return t},f=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||n},m=y(0,0,0,0);function d(t){return parseFloat(t)||0}function p(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(e,r){return e+d(t["border-"+r+"-width"])},0)}function _(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return m;var i=f(t).getComputedStyle(t),n=function(t){for(var e={},r=0,i=["top","right","bottom","left"];r<i.length;r++){var n=i[r],o=t["padding-"+n];e[n]=d(o)}return e}(i),o=n.left+n.right,s=n.top+n.bottom,a=d(i.width),c=d(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==e&&(a-=p(i,"left","right")+o),Math.round(c+s)!==r&&(c-=p(i,"top","bottom")+s)),!function(t){return t===f(t).document.documentElement}(t)){var l=Math.round(a+o)-e,u=Math.round(c+s)-r;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return y(n.left,n.top,a,c)}var g="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&"function"==typeof t.getBBox};function v(t){return i?g(t)?function(t){var e=t.getBBox();return y(0,0,e.width,e.height)}(t):_(t):m}function y(t,e,r,i){return{x:t,y:e,width:r,height:i}}var b=(x.prototype.isActive=function(){var t=v(this.target);return(this.contentRect_=t).width!==this.broadcastWidth||t.height!==this.broadcastHeight},x.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},x);function x(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}var w=function(t,e){var r=function(t){var e=t.x,r=t.y,i=t.width,n=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return h(s,{x:e,y:r,width:i,height:n,top:r,right:e+i,bottom:n+r,left:e}),s}(e);h(this,{target:t,contentRect:r})},S=(C.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new b(t)),this.controller_.addObserver(this),this.controller_.refresh())}},C.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},C.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},C.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},C.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new w(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},C.prototype.clearActive=function(){this.activeObservations_.splice(0)},C.prototype.hasActive=function(){return 0<this.activeObservations_.length},C);function C(t,e,i){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}var T="undefined"!=typeof WeakMap?new WeakMap:new r,E=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=l.getInstance(),i=new S(e,r,this);T.set(this,i)};["observe","unobserve","disconnect"].forEach(function(t){E.prototype[t]=function(){var e;return(e=T.get(this))[t].apply(e,arguments)}});var O=void 0!==n.ResizeObserver?n.ResizeObserver:E;e.default=O}.call(this,r("c8ba"))},"6e1f":function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},"6ed5":function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},11:function(t,e){t.exports=r("f3ad")},14:function(t,e){t.exports=r("5128")},18:function(t,e){t.exports=r("eedf")},2:function(t,e){t.exports=r("5924")},20:function(t,e){t.exports=r("4897")},23:function(t,e){t.exports=r("41f8")},47:function(t,e){t.exports=r("722f")},6:function(t,e){t.exports=r("6b7c")},7:function(t,e){t.exports=r("2b0e")},76:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"msgbox-fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1",role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[r("div",{staticClass:"el-message-box",class:[t.customClass,t.center&&"el-message-box--center"]},[null!==t.title?r("div",{staticClass:"el-message-box__header"},[r("div",{staticClass:"el-message-box__title"},[t.icon&&t.center?r("div",{class:["el-message-box__status",t.icon]}):t._e(),r("span",[t._v(t._s(t.title))])]),t.showClose?r("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.handleAction(t.distinguishCancelAndClose?"close":"cancel")},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction(t.distinguishCancelAndClose?"close":"cancel")}}},[r("i",{staticClass:"el-message-box__close el-icon-close"})]):t._e()]):t._e(),r("div",{staticClass:"el-message-box__content"},[t.icon&&!t.center&&""!==t.message?r("div",{class:["el-message-box__status",t.icon]}):t._e(),""!==t.message?r("div",{staticClass:"el-message-box__message"},[t._t("default",[t.dangerouslyUseHTMLString?r("p",{domProps:{innerHTML:t._s(t.message)}}):r("p",[t._v(t._s(t.message))])])],2):t._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[r("el-input",{ref:"input",attrs:{type:t.inputType,placeholder:t.inputPlaceholder},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleInputEnter(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),r("div",{staticClass:"el-message-box__errormsg",style:{visibility:t.editorErrorMessage?"visible":"hidden"}},[t._v(t._s(t.editorErrorMessage))])],1)]),r("div",{staticClass:"el-message-box__btns"},[t.showCancelButton?r("el-button",{class:[t.cancelButtonClasses],attrs:{loading:t.cancelButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("cancel")}},nativeOn:{click:function(e){t.handleAction("cancel")}}},[t._v("\n          "+t._s(t.cancelButtonText||t.t("el.messagebox.cancel"))+"\n        ")]):t._e(),r("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[t.confirmButtonClasses],attrs:{loading:t.confirmButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("confirm")}},nativeOn:{click:function(e){t.handleAction("confirm")}}},[t._v("\n          "+t._s(t.confirmButtonText||t.t("el.messagebox.confirm"))+"\n        ")])],1)])])])}r.r(e);var n=r(7),o=r.n(n);i._withStripped=!0;var s=r(14),a=r.n(s),c=r(6),l=r.n(c),u=r(11),h=r.n(u),f=r(18),m=r.n(f),d=r(2),p=r(20),_=r(47),g=r.n(_),v=void 0,y={success:"success",info:"info",warning:"warning",error:"error"},b={mixins:[a.a,l.a],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},closeOnHashChange:{default:!0},center:{default:!1,type:Boolean},roundButton:{default:!1,type:Boolean}},components:{ElInput:h.a,ElButton:m.a},computed:{icon:function(){var t=this.type;return this.iconClass||(t&&y[t]?"el-icon-"+y[t]:"")},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{getSafeClose:function(){var t=this,e=this.uid;return function(){t.$nextTick(function(){e===t.uid&&t.doClose()})}},doClose:function(){var t=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),v.closeDialog(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose(),setTimeout(function(){t.action&&t.callback(t.action,t)}))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction(this.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:function(){if("textarea"!==this.inputType)return this.handleAction("confirm")},handleAction:function(t){"prompt"===this.$type&&"confirm"===t&&!this.validate()||(this.action=t,"function"==typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(t,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var t=this.inputPattern;if(t&&!t.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||Object(p.t)("el.messagebox.error"),Object(d.addClass)(this.getInputElement(),"invalid"),!1;var e=this.inputValidator;if("function"==typeof e){var r=e(this.inputValue);if(!1===r)return this.editorErrorMessage=this.inputErrorMessage||Object(p.t)("el.messagebox.error"),Object(d.addClass)(this.getInputElement(),"invalid"),!1;if("string"==typeof r)return this.editorErrorMessage=r,Object(d.addClass)(this.getInputElement(),"invalid"),!1}}return this.editorErrorMessage="",Object(d.removeClass)(this.getInputElement(),"invalid"),!0},getFirstFocus:function(){var t=this.$el.querySelector(".el-message-box__btns .el-button"),e=this.$el.querySelector(".el-message-box__btns .el-message-box__title");return t||e},getInputElement:function(){var t=this.$refs.input.$refs;return t.input||t.textarea},handleClose:function(){this.handleAction("close")}},watch:{inputValue:{immediate:!0,handler:function(t){var e=this;this.$nextTick(function(r){"prompt"===e.$type&&null!==t&&e.validate()})}},visible:function(t){var e=this;t&&(this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick(function(){e.$refs.confirm.$el.focus()}),this.focusAfterClosed=document.activeElement,v=new g.a(this.$el,this.focusAfterClosed,this.getFirstFocus())),"prompt"===this.$type&&(t?setTimeout(function(){e.$refs.input&&e.$refs.input.$el&&e.getInputElement().focus()},500):(this.editorErrorMessage="",Object(d.removeClass)(this.getInputElement(),"invalid")))}},mounted:function(){var t=this;this.$nextTick(function(){t.closeOnHashChange&&window.addEventListener("hashchange",t.close)})},beforeDestroy:function(){this.closeOnHashChange&&window.removeEventListener("hashchange",this.close),setTimeout(function(){v.closeDialog()})},data:function(){return{uid:1,title:void 0,message:"",type:"",iconClass:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,dangerouslyUseHTMLString:!1,focusAfterClosed:null,isOnComposition:!1,distinguishCancelAndClose:!1}}},x=r(0),w=Object(x.a)(b,i,[],!1,null,null,null);function S(t){if(j){var e=j.callback;"function"==typeof e&&(z.showInput?e(z.inputValue,t):e(t)),j.resolve&&("confirm"===t?z.showInput?j.resolve({value:z.inputValue,action:t}):j.resolve(t):!j.reject||"cancel"!==t&&"close"!==t||j.reject(t))}}function C(){if(z||((z=new D({el:document.createElement("div")})).callback=S),z.action="",(!z.visible||z.closeTimer)&&0<I.length){var t=(j=I.shift()).options;for(var e in t)t.hasOwnProperty(e)&&(z[e]=t[e]);void 0===t.callback&&(z.callback=S);var r=z.callback;z.callback=function(t,e){r(t,e),C()},Object(A.isVNode)(z.message)?(z.$slots.default=[z.message],z.message=null):delete z.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange"].forEach(function(t){void 0===z[t]&&(z[t]=!0)}),document.body.appendChild(z.$el),o.a.nextTick(function(){z.visible=!0})}}function T(t,e){if(!o.a.prototype.$isServer){if("string"==typeof t||Object(A.isVNode)(t)?(t={message:t},"string"==typeof arguments[1]&&(t.title=arguments[1])):t.callback&&!e&&(e=t.callback),"undefined"!=typeof Promise)return new Promise(function(r,i){I.push({options:k()({},P,T.defaults,t),callback:e,resolve:r,reject:i}),C()});I.push({options:k()({},P,T.defaults,t),callback:e}),C()}}w.options.__file="packages/message-box/src/main.vue";var E=w.exports,O=r(9),k=r.n(O),A=r(23),M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P={title:null,message:"",type:"",iconClass:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,closeOnHashChange:!0,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null,dangerouslyUseHTMLString:!1,center:!1,roundButton:!1,distinguishCancelAndClose:!1},D=o.a.extend(E),j=void 0,z=void 0,I=[];T.setDefaults=function(t){T.defaults=t},T.alert=function(t,e,r){return"object"===(void 0===e?"undefined":M(e))?(r=e,e=""):void 0===e&&(e=""),T(k()({title:e,message:t,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},r))},T.confirm=function(t,e,r){return"object"===(void 0===e?"undefined":M(e))?(r=e,e=""):void 0===e&&(e=""),T(k()({title:e,message:t,$type:"confirm",showCancelButton:!0},r))},T.prompt=function(t,e,r){return"object"===(void 0===e?"undefined":M(e))?(r=e,e=""):void 0===e&&(e=""),T(k()({title:e,message:t,showCancelButton:!0,showInput:!0,$type:"prompt"},r))},T.close=function(){z.doClose(),z.visible=!1,I=[],j=null};var R=T;e.default=R},9:function(t,e){t.exports=r("7f4d")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=76))},"6f4f":function(t,e,r){function i(){}var n=r("77e9"),o=r("85e7"),s=r("9742"),a=r("5a94")("IE_PROTO"),c="prototype",l=function(){var t,e=r("05f5")("iframe"),i=s.length;for(e.style.display="none",r("9141").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l[c][s[i]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(i[c]=n(t),r=new i,i[c]=null,r[a]=t):r=l(),void 0===e?r:o(r,e)}},"6f6c":function(t,e){var r=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}},"6f8a":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"6fcd":function(t,e,r){var i=r("50d8"),n=r("d370"),o=r("6747"),s=r("0d24"),a=r("c098"),c=r("73ac"),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),u=!r&&n(t),h=!r&&!u&&s(t),f=!r&&!u&&!h&&c(t),m=r||u||h||f,d=m?i(t.length,String):[],p=d.length;for(var _ in t)!e&&!l.call(t,_)||m&&("length"==_||h&&("offset"==_||"parent"==_)||f&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||a(_,p))||d.push(_);return d}},7017:function(t,e,r){r("85cd"),t.exports=r("a7d3").Object.getPrototypeOf},"702a":function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},7108:function(t,e,r){function i(){}var n=r("0f89"),o=r("f568"),s=r("0029"),a=r("5d8f")("IE_PROTO"),c="prototype",l=function(){var t,e=r("12fd8")("iframe"),i=s.length;for(e.style.display="none",r("103a").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l[c][s[i]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(i[c]=n(t),r=new i,i[c]=null,r[a]=t):r=l(),void 0===e?r:o(r,e)}},"71fa":function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},"722f":function(t,e,r){"use strict";e.__esModule=!0;var i,n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=r("e452"),a=(i=s)&&i.__esModule?i:{default:i},c=c||{};c.Dialog=function(t,e,r){var i=this;if(this.dialogNode=t,null===this.dialogNode||"dialog"!==this.dialogNode.getAttribute("role"))throw new Error("Dialog() requires a DOM element with ARIA role of dialog.");"string"==typeof e?this.focusAfterClosed=document.getElementById(e):"object"===(void 0===e?"undefined":o(e))?this.focusAfterClosed=e:this.focusAfterClosed=null,"string"==typeof r?this.focusFirst=document.getElementById(r):"object"===(void 0===r?"undefined":o(r))?this.focusFirst=r:this.focusFirst=null,this.focusFirst?this.focusFirst.focus():a.default.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement,n=function(t){i.trapFocus(t)},this.addListeners()},c.Dialog.prototype.addListeners=function(){document.addEventListener("focus",n,!0)},c.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",n,!0)},c.Dialog.prototype.closeDialog=function(){var t=this;this.removeListeners(),this.focusAfterClosed&&setTimeout(function(){t.focusAfterClosed.focus()})},c.Dialog.prototype.trapFocus=function(t){a.default.IgnoreUtilFocusChanges||(this.dialogNode.contains(t.target)?this.lastFocus=t.target:(a.default.focusFirstDescendant(this.dialogNode),this.lastFocus===document.activeElement&&a.default.focusLastDescendant(this.dialogNode),this.lastFocus=document.activeElement))},e.default=c.Dialog},"72aa":function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},15:function(t,e){t.exports=r("4010")},3:function(t,e){t.exports=r("8122")},59:function(t,e,r){"use strict";function i(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-tabs__active-bar",class:"is-"+this.rootTabs.tabPosition,style:this.barStyle})}r.r(e),i._withStripped=!0;var n=r(3),o={name:"TabBar",props:{tabs:Array},inject:["rootTabs"],computed:{barStyle:{get:function(){function t(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})}var e=this,r={},i=0,o=0,s=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height",a="width"==s?"x":"y";this.tabs.every(function(r,a){var c=Object(n.arrayFind)(e.$parent.$refs.tabs||[],function(t){return t.id.replace("tab-","")===r.paneName});if(!c)return!1;if(r.active){o=c["client"+t(s)];var l=window.getComputedStyle(c);return"width"==s&&1<e.tabs.length&&(o-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),"width"==s&&(i+=parseFloat(l.paddingLeft)),!1}return i+=c["client"+t(s)],!0});var c="translate"+t(a)+"("+i+"px)";return r[s]=o+"px",r.transform=c,r.msTransform=c,r.webkitTransform=c,r}}}},s=r(0),a=Object(s.a)(o,i,[],!1,null,null,null);a.options.__file="packages/tabs/src/tab-bar.vue";var c=a.exports,l=r(15);function u(){}function h(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})}var f={name:"TabNav",components:{TabBar:c},inject:["rootTabs"],props:{panes:Array,currentName:String,editable:Boolean,onTabClick:{type:Function,default:u},onTabRemove:{type:Function,default:u},type:String,stretch:Boolean},data:function(){return{scrollable:!1,navOffset:0,isFocus:!1,focusable:!0}},computed:{navStyle:function(){return{transform:"translate"+(-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"X":"Y")+"(-"+this.navOffset+"px)"}},sizeName:function(){return-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height"}},methods:{scrollPrev:function(){var t=this.$refs.navScroll["offset"+h(this.sizeName)],e=this.navOffset;if(e){var r=t<e?e-t:0;this.navOffset=r}},scrollNext:function(){var t=this.$refs.nav["offset"+h(this.sizeName)],e=this.$refs.navScroll["offset"+h(this.sizeName)],r=this.navOffset;if(!(t-r<=e)){var i=2*e<t-r?r+e:t-e;this.navOffset=i}},scrollToActiveTab:function(){if(this.scrollable){var t=this.$refs.nav,e=this.$el.querySelector(".is-active");if(e){var r=this.$refs.navScroll,i=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition),n=e.getBoundingClientRect(),o=r.getBoundingClientRect(),s=i?t.offsetWidth-o.width:t.offsetHeight-o.height,a=this.navOffset,c=a;i?(n.left<o.left&&(c=a-(o.left-n.left)),n.right>o.right&&(c=a+n.right-o.right)):(n.top<o.top&&(c=a-(o.top-n.top)),n.bottom>o.bottom&&(c=a+(n.bottom-o.bottom))),c=Math.max(c,0),this.navOffset=Math.min(c,s)}}},update:function(){if(this.$refs.nav){var t=this.sizeName,e=this.$refs.nav["offset"+h(t)],r=this.$refs.navScroll["offset"+h(t)],i=this.navOffset;if(r<e){var n=this.navOffset;this.scrollable=this.scrollable||{},this.scrollable.prev=n,this.scrollable.next=n+r<e,e-n<r&&(this.navOffset=e-r)}else this.scrollable=!1,0<i&&(this.navOffset=0)}},changeTab:function(t){var e=t.keyCode,r=void 0,i=void 0,n=void 0;-1!==[37,38,39,40].indexOf(e)&&(n=t.currentTarget.querySelectorAll("[role=tab]"),i=Array.prototype.indexOf.call(n,t.target),n[r=37===e||38===e?0===i?n.length-1:i-1:i<n.length-1?i+1:0].focus(),n[r].click(),this.setFocus())},setFocus:function(){this.focusable&&(this.isFocus=!0)},removeFocus:function(){this.isFocus=!1},visibilityChangeHandler:function(){var t=this,e=document.visibilityState;"hidden"===e?this.focusable=!1:"visible"===e&&setTimeout(function(){t.focusable=!0},50)},windowBlurHandler:function(){this.focusable=!1},windowFocusHandler:function(){var t=this;setTimeout(function(){t.focusable=!0},50)}},updated:function(){this.update()},render:function(t){var e=this,r=this.type,i=this.panes,n=this.editable,o=this.stretch,s=this.onTabClick,a=this.onTabRemove,c=this.navStyle,l=this.scrollable,u=this.scrollNext,h=this.scrollPrev,f=this.changeTab,m=this.setFocus,d=this.removeFocus,p=l?[t("span",{class:["el-tabs__nav-prev",l.prev?"":"is-disabled"],on:{click:h}},[t("i",{class:"el-icon-arrow-left"})]),t("span",{class:["el-tabs__nav-next",l.next?"":"is-disabled"],on:{click:u}},[t("i",{class:"el-icon-arrow-right"})])]:null,_=this._l(i,function(r,i){var o,c=r.name||r.index||i,l=r.isClosable||n;r.index=""+i;var u=l?t("span",{class:"el-icon-close",on:{click:function(t){a(r,t)}}}):null,h=r.$slots.label||r.label,f=r.active?0:-1;return t("div",{class:(o={"el-tabs__item":!0},o["is-"+e.rootTabs.tabPosition]=!0,o["is-active"]=r.active,o["is-disabled"]=r.disabled,o["is-closable"]=l,o["is-focus"]=e.isFocus,o),attrs:{id:"tab-"+c,"aria-controls":"pane-"+c,role:"tab","aria-selected":r.active,tabindex:f},key:"tab-"+c,ref:"tabs",refInFor:!0,on:{focus:function(){m()},blur:function(){d()},click:function(t){d(),s(r,c,t)},keydown:function(t){!l||46!==t.keyCode&&8!==t.keyCode||a(r,t)}}},[h,u])});return t("div",{class:["el-tabs__nav-wrap",l?"is-scrollable":"","is-"+this.rootTabs.tabPosition]},[p,t("div",{class:["el-tabs__nav-scroll"],ref:"navScroll"},[t("div",{class:["el-tabs__nav","is-"+this.rootTabs.tabPosition,o&&-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"is-stretch":""],ref:"nav",style:c,attrs:{role:"tablist"},on:{keydown:f}},[r?null:t("tab-bar",{attrs:{tabs:i}}),_])])])},mounted:function(){var t=this;Object(l.addResizeListener)(this.$el,this.update),document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("blur",this.windowBlurHandler),window.addEventListener("focus",this.windowFocusHandler),setTimeout(function(){t.scrollToActiveTab()},0)},beforeDestroy:function(){this.$el&&this.update&&Object(l.removeResizeListener)(this.$el,this.update),document.removeEventListener("visibilitychange",this.visibilityChangeHandler),window.removeEventListener("blur",this.windowBlurHandler),window.removeEventListener("focus",this.windowFocusHandler)}},m=Object(s.a)(f,void 0,void 0,!1,null,null,null);m.options.__file="packages/tabs/src/tab-nav.vue";var d={name:"ElTabs",components:{TabNav:m.exports},props:{type:String,activeName:String,closable:Boolean,addable:Boolean,value:{},editable:Boolean,tabPosition:{type:String,default:"top"},beforeLeave:Function,stretch:Boolean},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.value||this.activeName,panes:[]}},watch:{activeName:function(t){this.setCurrentName(t)},value:function(t){this.setCurrentName(t)},currentName:function(t){var e=this;this.$refs.nav&&this.$nextTick(function(){e.$refs.nav.$nextTick(function(t){e.$refs.nav.scrollToActiveTab()})})}},methods:{calcPaneInstances:function(t){var e=this,r=0<arguments.length&&void 0!==t&&t;if(this.$slots.default){var i=this.$slots.default.filter(function(t){return t.tag&&t.componentOptions&&"ElTabPane"===t.componentOptions.Ctor.options.name}).map(function(t){return t.componentInstance}),n=!(i.length===this.panes.length&&i.every(function(t,r){return t===e.panes[r]}));(r||n)&&(this.panes=i)}else 0!==this.panes.length&&(this.panes=[])},handleTabClick:function(t,e,r){t.disabled||(this.setCurrentName(e),this.$emit("tab-click",t,r))},handleTabRemove:function(t,e){t.disabled||(e.stopPropagation(),this.$emit("edit",t.name,"remove"),this.$emit("tab-remove",t.name))},handleTabAdd:function(){this.$emit("edit",null,"add"),this.$emit("tab-add")},setCurrentName:function(t){function e(){r.currentName=t,r.$emit("input",t)}var r=this;if(this.currentName!==t&&this.beforeLeave){var i=this.beforeLeave(t,this.currentName);i&&i.then?i.then(function(){e(),r.$refs.nav&&r.$refs.nav.removeFocus()},function(){}):!1!==i&&e()}else e()}},render:function(t){var e,r=this.type,i=this.handleTabClick,n=this.handleTabRemove,o=this.handleTabAdd,s=this.currentName,a=this.panes,c=this.editable,l=this.addable,u=this.tabPosition,h=this.stretch,f=t("div",{class:["el-tabs__header","is-"+u]},[c||l?t("span",{class:"el-tabs__new-tab",on:{click:o,keydown:function(t){13===t.keyCode&&o()}},attrs:{tabindex:"0"}},[t("i",{class:"el-icon-plus"})]):null,t("tab-nav",{props:{currentName:s,onTabClick:i,onTabRemove:n,editable:c,type:r,panes:a,stretch:h},ref:"nav"})]),m=t("div",{class:"el-tabs__content"},[this.$slots.default]);return t("div",{class:(e={"el-tabs":!0,"el-tabs--card":"card"===r},e["el-tabs--"+u]=!0,e["el-tabs--border-card"]="border-card"===r,e)},["bottom"!==u?[f,m]:[m,f]])},created:function(){this.currentName||this.setCurrentName("0"),this.$on("tab-nav-update",this.calcPaneInstances.bind(null,!0))},mounted:function(){this.calcPaneInstances()},updated:function(){this.calcPaneInstances()}},p=Object(s.a)(d,void 0,void 0,!1,null,null,null);p.options.__file="packages/tabs/src/tabs.vue";var _=p.exports;_.install=function(t){t.component(_.name,_)},e.default=_}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=59))},"72af":function(t,e,r){var i=r("99cd")();t.exports=i},"72f0":function(t,e){t.exports=function(t){return function(){return t}}},"73ac":function(t,e,r){var i=r("743f"),n=r("b047"),o=r("99d3"),s=o&&o.isTypedArray,a=s?n(s):i;t.exports=a},"73c3":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},"743f":function(t,e,r){var i=r("3729"),n=r("b218"),o=r("1310"),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&n(t.length)&&!!s[i(t)]}},"750a":function(t,e,r){var i=r("c869"),n=r("bcdf"),o=r("ac41"),s=i&&1/o(new i([,-0]))[1]==1/0?function(t){return new i(t)}:n;t.exports=s},7514:function(t,e,r){"use strict";var i=r("5ca1"),n=r("0a49")(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t,e){return n(this,t,1<arguments.length?e:void 0)}}),r("9c6c")("find")},7530:function(t,e,r){function i(t){if(!n(t))return{};if(o)return o(t);s.prototype=t;var e=new s;return s.prototype=void 0,e}var n=r("1a8c"),o=Object.create;function s(){}t.exports=i},"75c9":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},"75fc":function(t,e,r){"use strict";var i=r("a745"),n=r.n(i),o=r("774e"),s=r.n(o),a=r("c8bb"),c=r.n(a);function l(t){return function(t){if(n()(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(c()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return s()(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(e,"a",function(){return l})},7618:function(t,e,r){"use strict";r.d(e,"a",function(){return c});var i=r("5d58"),n=r.n(i),o=r("67bb"),s=r.n(o);function a(t){return(a="function"==typeof s.a&&"symbol"==typeof n.a?function(t){return typeof t}:function(t){return t&&"function"==typeof s.a&&t.constructor===s.a&&t!==s.a.prototype?"symbol":typeof t})(t)}function c(t){return(c="function"==typeof s.a&&"symbol"===a(n.a)?function(t){return a(t)}:function(t){return t&&"function"==typeof s.a&&t.constructor===s.a&&t!==s.a.prototype?"symbol":a(t)})(t)}},7633:function(t,e,r){var i=r("2695"),n=r("0029");t.exports=Object.keys||function(t){return i(t,n)}},"768b":function(t,e,r){"use strict";var i=r("a745"),n=r.n(i),o=r("5d73"),s=r.n(o);function a(t,e){return function(t){if(n()(t))return t}(t)||function(t,e){var r=[],i=!0,n=!1,o=void 0;try{for(var a,c=s()(t);!(i=(a=c.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(n)throw o}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.d(e,"a",function(){return a})},"76dd":function(t,e,r){var i=r("ce86");t.exports=function(t){return null==t?"":i(t)}},7704:function(t,e,r){var i=r("da3c").parseInt,n=r("633a").trim,o=r("702a"),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var r=n(String(t),3);return i(r,e>>>0||(s.test(r)?16:10))}:i},7726:function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},"774e":function(t,e,r){t.exports=r("57f7")},7772:function(t,e,r){var i=r("a7d3"),n=r("da3c"),o="__core-js_shared__",s=n[o]||(n[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:r("b457")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"77e9":function(t,e,r){var i=r("7a41");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},"77f1":function(t,e,r){var i=r("4588"),n=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?n(t+e,0):o(t,e)}},"781f":function(t,e,r){var i=r("ab4c"),n=r("b808").document,o=i(n)&&i(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},7903:function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var r=3,i=3,n=40,o=10;function s(t,r,i){switch(t){case e.Patterns.PATTERN000:return(r+i)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return i%3==0;case e.Patterns.PATTERN011:return(r+i)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(i/3))%2==0;case e.Patterns.PATTERN101:return r*i%2+r*i%3==0;case e.Patterns.PATTERN110:return(r*i%2+r*i%3)%2==0;case e.Patterns.PATTERN111:return(r*i%3+(r+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&0<=t&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){for(var e=t.size,i=0,n=0,o=0,s=null,a=null,c=0;c<e;c++){n=o=0,s=a=null;for(var l=0;l<e;l++){var u=t.get(c,l);u===s?n++:(5<=n&&(i+=r+(n-5)),s=u,n=1),(u=t.get(l,c))===a?o++:(5<=o&&(i+=r+(o-5)),a=u,o=1)}5<=n&&(i+=r+(n-5)),5<=o&&(i+=r+(o-5))}return i},e.getPenaltyN2=function(t){for(var e=t.size,r=0,n=0;n<e-1;n++)for(var o=0;o<e-1;o++){var s=t.get(n,o)+t.get(n,o+1)+t.get(n+1,o)+t.get(n+1,o+1);4!==s&&0!==s||r++}return r*i},e.getPenaltyN3=function(t){for(var e=t.size,r=0,i=0,o=0,s=0;s<e;s++){i=o=0;for(var a=0;a<e;a++)i=i<<1&2047|t.get(s,a),10<=a&&(1488===i||93===i)&&r++,o=o<<1&2047|t.get(a,s),10<=a&&(1488===o||93===o)&&r++}return r*n},e.getPenaltyN4=function(t){for(var e=0,r=t.data.length,i=0;i<r;i++)e+=t.data[i];return Math.abs(Math.ceil(100*e/r/5)-10)*o},e.applyMask=function(t,e){for(var r=e.size,i=0;i<r;i++)for(var n=0;n<r;n++)e.isReserved(n,i)||e.xor(n,i,s(t,n,i))},e.getBestMask=function(t,r){for(var i=Object.keys(e.Patterns).length,n=0,o=1/0,s=0;s<i;s++){r(s),e.applyMask(s,t);var a=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(s,t),a<o&&(o=a,n=s)}return n}},7948:function(t,e){t.exports=function(t,e){for(var r=-1,i=null==t?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}},"795b":function(t,e,r){t.exports=r("dd04c")},"79bc":function(t,e,r){var i=r("0b07")(r("2b3e"),"Map");t.exports=i},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"7a41":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"7a43":function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&0<=t.bit&&t.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return r}}},"7a48":function(t,e,r){var i=r("6044"),n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:n.call(e,t)}},"7a56":function(t,e,r){"use strict";var i=r("7726"),n=r("86cc"),o=r("9e1e"),s=r("2b4c")("species");t.exports=function(t){var e=i[t];o&&e&&!e[s]&&n.f(e,s,{configurable:!0,get:function(){return this}})}},"7a77":function(t,e,r){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},"7a94":function(t,e,r){(function(i){var n,o,s,a,c,l,u,h,f,m,d,p,_,g,v,y,b,x,w,S,C,T,E,O,k,A,M,P,D,j,z,I,R,F,L,N,B,$,U,q,H,V,X,W=W||{version:"2.2.0"};function Y(t,e){if(this.__eventListeners[t]){var r=this.__eventListeners[t];e?r[r.indexOf(e)]=!1:W.util.array.fill(r,!1)}}function G(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var r in t)this.on(r,t[r]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function K(t,e){if(this.__eventListeners){if(0===arguments.length)for(t in this.__eventListeners)Y.call(this,t);else if(1===arguments.length&&"object"==typeof t)for(var r in t)Y.call(this,r,t[r]);else Y.call(this,t,e);return this}}function J(t,e){if(this.__eventListeners){var r=this.__eventListeners[t];if(r){for(var i=0,n=r.length;i<n;i++)r[i]&&r[i].call(this,e||{});return this.__eventListeners[t]=r.filter(function(t){return!1!==t}),this}}}function Q(t,e,r,i,n,o,s){var a=p.call(arguments);if(f[a])return f[a];var c=Math.PI,l=s*c/180,u=W.util.sin(l),h=W.util.cos(l),m=0,d=0,_=-h*t*.5-u*e*.5,g=-h*e*.5+u*t*.5,v=(r=Math.abs(r))*r,y=(i=Math.abs(i))*i,b=g*g,x=_*_,w=v*y-v*b-y*x,S=0;if(w<0){var C=Math.sqrt(1-w/(v*y));r*=C,i*=C}else S=(n===o?-1:1)*Math.sqrt(w/(v*b+y*x));var T=S*r*g/i,E=-S*i*_/r,O=h*T-u*E+.5*t,k=u*T+h*E+.5*e,A=tt(1,0,(_-T)/r,(g-E)/i),M=tt((_-T)/r,(g-E)/i,(-_-T)/r,(-g-E)/i);0===o&&0<M?M-=2*c:1===o&&M<0&&(M+=2*c);for(var P=Math.ceil(Math.abs(M/c*2)),D=[],j=M/P,z=8/3*Math.sin(j/4)*Math.sin(j/4)/Math.sin(j/2),I=A+j,R=0;R<P;R++)D[R]=Z(A,I,h,u,r,i,O,k,z,m,d),m=D[R][4],d=D[R][5],A=I,I+=j;return f[a]=D}function Z(t,e,r,i,n,o,s,a,c,l,u){var h=p.call(arguments);if(m[h])return m[h];var f=W.util.cos(t),d=W.util.sin(t),_=W.util.cos(e),g=W.util.sin(e),v=r*n*_-i*o*g+s,y=i*n*_+r*o*g+a,b=l+c*(-r*n*d-i*o*f),x=u+c*(-i*n*d+r*o*f),w=v+c*(r*n*g+i*o*_),S=y+c*(i*n*g-r*o*_);return m[h]=[b,x,w,S,v,y],m[h]}function tt(t,e,r,i){var n=Math.atan2(e,t),o=Math.atan2(i,r);return n<=o?o-n:2*Math.PI-(n-o)}function et(t,e,r,i,n,o,s,a){var c=p.call(arguments);if(d[c])return d[c];var l,u,h,f,m,_,g,v,y=Math.sqrt,b=Math.min,x=Math.max,w=Math.abs,S=[],C=[[],[]];u=6*t-12*r+6*n,l=-3*t+9*r-9*n+3*s,h=3*r-3*t;for(var T=0;T<2;++T)if(0<T&&(u=6*e-12*i+6*o,l=-3*e+9*i-9*o+3*a,h=3*i-3*e),w(l)<1e-12){if(w(u)<1e-12)continue;0<(f=-h/u)&&f<1&&S.push(f)}else(g=u*u-4*h*l)<0||(0<(m=(-u+(v=y(g)))/(2*l))&&m<1&&S.push(m),0<(_=(-u-v)/(2*l))&&_<1&&S.push(_));for(var E,O,k,A=S.length,M=A;A--;)E=(k=1-(f=S[A]))*k*k*t+3*k*k*f*r+3*k*f*f*n+f*f*f*s,C[0][A]=E,O=k*k*k*e+3*k*k*f*i+3*k*f*f*o+f*f*f*a,C[1][A]=O;C[0][M]=t,C[1][M]=e,C[0][M+1]=s,C[1][M+1]=a;var P=[{x:b.apply(null,C[0]),y:b.apply(null,C[1])},{x:x.apply(null,C[0]),y:x.apply(null,C[1])}];return d[c]=P}function rt(t,e,r){if(t&&0!==t.length){var i=t.length-1,n=e?t[i][e]:t[i];if(e)for(;i--;)r(t[i][e],n)&&(n=t[i][e]);else for(;i--;)r(t[i],n)&&(n=t[i]);return n}}function it(t,e,r){if(r)if(!W.isLikelyNode&&e instanceof Element)t=e;else if(e instanceof Array){t=[];for(var i=0,n=e.length;i<n;i++)t[i]=it({},e[i],r)}else if(e&&"object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=it({},e[o],r));else t=e;else for(var o in e)t[o]=e[o];return t}function nt(t,e){var r=t.charCodeAt(e);if(isNaN(r))return"";if(r<55296||57343<r)return t.charAt(e);if(55296<=r&&r<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var i=t.charCodeAt(e+1);if(i<56320||57343<i)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var n=t.charCodeAt(e-1);if(n<55296||56319<n)throw"Low surrogate without preceding high surrogate";return!1}function ot(){}function st(t,e,r){for(var i in e)i in t.prototype&&"function"==typeof t.prototype[i]&&-1<(e[i]+"").indexOf("callSuper")?t.prototype[i]=function(t){return function(){var i=this.constructor.superclass;this.constructor.superclass=r;var n=e[t].apply(this,arguments);if(this.constructor.superclass=i,"initialize"!==t)return n}}(i):t.prototype[i]=e[i],v&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))}function at(){}function ct(t){for(var e=null,r=this;r.constructor.superclass;){var i=r.constructor.superclass.prototype[t];if(r[t]!==i){e=i;break}r=r.constructor.superclass.prototype}if(e)return 1<arguments.length?e.apply(this,g.call(arguments,1)):e.call(this)}function lt(){}function ut(){return!1}function ht(){return T.apply(W.window,arguments)}function ft(t,e,r,i){return i=t<Math.abs(e)?(t=e,r/4):0===e&&0===t?r/(2*Math.PI)*Math.asin(1):r/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:r,s:i}}function mt(t,e,r){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*r-t.s)*(2*Math.PI)/t.p)}function dt(t,e,r,i){return r-pt(i-t,0,r,i)+e}function pt(t,e,r,i){return(t/=i)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function _t(t){var e,r,i,n,o=t.getAttribute("style"),s=t.getAttribute("offset")||0;if(s=(s=parseFloat(s)/(/%$/.test(s)?100:1))<0?0:1<s?1:s,o){var a=o.split(/\s*;\s*/);for(""===a[a.length-1]&&a.pop(),n=a.length;n--;){var c=a[n].split(/\s*:\s*/),l=c[0].trim(),u=c[1].trim();"stop-color"===l?e=u:"stop-opacity"===l&&(i=u)}}return e=e||t.getAttribute("stop-color")||"rgb(0,0,0)",i=i||t.getAttribute("stop-opacity"),r=(e=new W.Color(e)).getAlpha(),i=isNaN(parseFloat(i))?1:parseFloat(i),i*=r,{offset:s,color:e.toRgb(),opacity:i}}function gt(t,e,r){var i,n=0,o=1,s="";for(var a in e)"Infinity"===e[a]?e[a]=1:"-Infinity"===e[a]&&(e[a]=0),i=parseFloat(e[a],10),o="string"==typeof e[a]&&/^(\d+\.\d+)%|(\d+)%$/.test(e[a])?.01:1,"x1"===a||"x2"===a||"r2"===a?(o*="objectBoundingBox"===r?t.width:1,n="objectBoundingBox"===r&&t.left||0):"y1"!==a&&"y2"!==a||(o*="objectBoundingBox"===r?t.height:1,n="objectBoundingBox"===r&&t.top||0),e[a]=i*o+n;if("ellipse"===t.type&&null!==e.r2&&"objectBoundingBox"===r&&t.rx!==t.ry){var c=t.ry/t.rx;s=" scale(1, "+c+")",e.y1&&(e.y1/=c),e.y2&&(e.y2/=c)}return s}function vt(t,e){return"which"in t?t.which===e:t.button===e-1}function yt(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var r=new W.Color(e),i=t+": "+r.toRgb()+"; ",n=r.getAlpha();return 1!==n&&(i+=t+"-opacity: "+n.toString()+"; "),i}return t+": none; "}function bt(t,e,r){var i={};r.forEach(function(e){i[e]=t[e]}),$(t[e],i,!0)}function xt(t,e){var r=t.canvas,i=e.targetCanvas,n=i.getContext("2d");n.translate(0,i.height),n.scale(1,-1);var o=r.height-i.height;n.drawImage(r,0,o,i.width,i.height,0,0,i.width,i.height)}function wt(t,e){var r=e.targetCanvas.getContext("2d"),i=e.destinationWidth,n=e.destinationHeight,o=i*n*4,s=new Uint8Array(this.imageBuffer,0,o),a=new Uint8ClampedArray(this.imageBuffer,0,o);t.readPixels(0,0,i,n,t.RGBA,t.UNSIGNED_BYTE,s);var c=new ImageData(a,i,n);r.putImageData(c,0,0)}function St(t){t.textDecoration&&(-1<t.textDecoration.indexOf("underline")&&(t.underline=!0),-1<t.textDecoration.indexOf("line-through")&&(t.linethrough=!0),-1<t.textDecoration.indexOf("overline")&&(t.overline=!0),delete t.textDecoration)}e.fabric=W,"undefined"!=typeof document&&"undefined"!=typeof window?(W.document=document,W.window=window):(W.document=r(1).jsdom(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]}}),W.jsdomImplForWrapper=r(2).implForWrapper,W.nodeCanvas=r(3).Canvas,W.window=W.document.defaultView,DOMParser=r(4).DOMParser),W.isTouchSupported="ontouchstart"in W.window,W.isLikelyNode=void 0!==i&&"undefined"==typeof window,W.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","instantiated_by_use"],W.DPI=96,W.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",W.fontPaths={},W.iMatrix=[1,0,0,1,0,0],W.canvasModule="canvas",W.perfLimitSizeTotal=2097152,W.maxCacheSideLimit=4096,W.minCacheSideLimit=256,W.charWidthsCache={},W.textureSize=2048,W.enableGLFiltering=!0,W.devicePixelRatio=W.window.devicePixelRatio||W.window.webkitDevicePixelRatio||W.window.mozDevicePixelRatio||1,W.browserShadowBlurConstant=1,W.initFilterBackend=function(){return W.enableGLFiltering&&W.isWebglSupported&&W.isWebglSupported(W.textureSize)?new W.WebglFilterBackend({tileSize:W.textureSize}):W.Canvas2dFilterBackend?new W.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=W),W.Observable={observe:G,stopObserving:K,fire:J,on:G,off:K,trigger:J},W.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,r){var i=this.getObjects();return r?i[e]=t:i.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this.getObjects(),r=!1,i=0,n=arguments.length;i<n;i++)-1!==(t=e.indexOf(arguments[i]))&&(r=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[i]));return this.renderOnAddRemove&&r&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var r=this.getObjects(),i=0,n=r.length;i<n;i++)t.call(e,r[i],i,r);return this},getObjects:function(t){return void 0===t?this._objects:this._objects.filter(function(e){return e.type===t})},item:function(t){return this.getObjects()[t]},isEmpty:function(){return 0===this.getObjects().length},size:function(){return this.getObjects().length},contains:function(t){return-1<this.getObjects().indexOf(t)},complexity:function(){return this.getObjects().reduce(function(t,e){return t+(e.complexity?e.complexity():0)},0)}},W.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof W.Gradient||this.set(e,new W.Gradient(t))},_initPattern:function(t,e,r){!t||!t.source||t instanceof W.Pattern?r&&r():this.set(e,new W.Pattern(t,r))},_initClipping:function(t){if(t.clipTo&&"string"==typeof t.clipTo){var e=W.util.getFunctionBody(t.clipTo);void 0!==e&&(this.clipTo=new Function("ctx",e))}},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):"function"==typeof e&&"clipTo"!==t?this._set(t,e(this.get(t))):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},o=e,s=Math.sqrt,a=Math.atan2,c=Math.pow,l=Math.abs,u=Math.PI/180,h=Math.PI/2,W.util={cos:function(t){if(0===t)return 1;switch(t<0&&(t=-t),t/h){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=1;switch(t<0&&(e=-1),t/h){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){var r=t.indexOf(e);return-1!==r&&t.splice(r,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*u},radiansToDegrees:function(t){return t/u},rotatePoint:function(t,e,r){t.subtractEquals(e);var i=W.util.rotateVector(t,r);return new W.Point(i.x,i.y).addEquals(e)},rotateVector:function(t,e){var r=W.util.sin(e),i=W.util.cos(e);return{x:t.x*i-t.y*r,y:t.x*r+t.y*i}},transformPoint:function(t,e,r){return r?new W.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new W.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t){var e=[t[0].x,t[1].x,t[2].x,t[3].x],r=W.util.array.min(e),i=W.util.array.max(e)-r,n=[t[0].y,t[1].y,t[2].y,t[3].y],o=W.util.array.min(n);return{left:r,top:o,width:i,height:W.util.array.max(n)-o}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),r=[e*t[3],-e*t[1],-e*t[2],e*t[0]],i=W.util.transformPoint({x:t[4],y:t[5]},r,!0);return r[4]=-i.x,r[5]=-i.y,r},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var r=/\D{0,2}$/.exec(t),i=parseFloat(t);switch(e=e||W.Text.DEFAULT_SVG_FONT_SIZE,r[0]){case"mm":return i*W.DPI/25.4;case"cm":return i*W.DPI/2.54;case"in":return i*W.DPI;case"pt":return i*W.DPI/72;case"pc":return i*W.DPI/72*12;case"em":return i*e;default:return i}},falseFunction:function(){return!1},getKlass:function(t,e){return t=W.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),W.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(t){if(!t)return W;var e,r=t.split("."),i=r.length,n=o||W.window;for(e=0;e<i;++e)n=n[r[e]];return n},loadImage:function(t,e,r,i){if(t){function n(){e&&e.call(r,o),o=o.onload=o.onerror=null}var o=W.util.createImage();o.onload=n,o.onerror=function(){W.log("Error loading "+o.src),e&&e.call(r,null,!0),o=o.onload=o.onerror=null},0!==t.indexOf("data")&&i&&(o.crossOrigin=i),"data:image/svg"===t.substring(0,14)&&(o.onload=null,W.util.loadImageInDom(o,n)),o.src=t}else e&&e.call(r,t)},loadImageInDom:function(t,e){var r=W.document.createElement("div");r.style.width=r.style.height="1px",r.style.left=r.style.top="-100%",r.style.position="absolute",r.appendChild(t),W.document.querySelector("body").appendChild(r),t.onload=function(){e(),r.parentNode.removeChild(r),r=null}},enlivenObjects:function(t,e,r,i){function n(){++s===a&&e&&e(o)}var o=[],s=0,a=(t=t||[]).length;a?t.forEach(function(t,e){t&&t.type?W.util.getKlass(t.type,r).fromObject(t,function(r,s){s||(o[e]=r),i&&i(t,r,s),n()}):n()}):e&&e(o)},enlivenPatterns:function(t,e){function r(){++n===o&&e&&e(i)}var i=[],n=0,o=(t=t||[]).length;o?t.forEach(function(t,e){t&&t.source?new W.Pattern(t,function(t){i[e]=t,r()}):(i[e]=t,r())}):e&&e(i)},groupSVGElements:function(t,e,r){var i;return 1===t.length?t[0]:(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),i=new W.Group(t,e),void 0!==r&&(i.sourcePath=r),i)},populateWithProperties:function(t,e,r){if(r&&"[object Array]"===Object.prototype.toString.call(r))for(var i=0,n=r.length;i<n;i++)r[i]in t&&(e[r[i]]=t[r[i]])},drawDashedLine:function(t,e,r,i,n,o){var c=i-e,l=n-r,u=s(c*c+l*l),h=a(l,c),f=o.length,m=0,d=!0;for(t.save(),t.translate(e,r),t.moveTo(0,0),t.rotate(h),e=0;e<u;)u<(e+=o[m++%f])&&(e=u),t[d?"lineTo":"moveTo"](e,0),d=!d;t.restore()},createCanvasElement:function(){return W.document.createElement("canvas")},createImage:function(){return W.document.createElement("img")},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e,r){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],r?0:t[0]*e[4]+t[2]*e[5]+t[4],r?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var e=a(t[1],t[0]),r=c(t[0],2)+c(t[1],2),i=s(r),n=(t[0]*t[3]-t[2]*t[1])/i,o=a(t[0]*t[2]+t[1]*t[3],r);return{angle:e/u,scaleX:i,scaleY:n,skewX:o/u,skewY:0,translateX:t[4],translateY:t[5]}},customTransformMatrix:function(t,e,r){var i=[1,0,l(Math.tan(r*u)),1],n=[l(t),0,0,l(e)];return W.util.multiplyTransformMatrices(n,i,!0)},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,r,i){0<i&&(i<e?e-=i:e=0,i<r?r-=i:r=0);var n,o=!0,s=t.getImageData(e,r,2*i||1,2*i||1),a=s.data.length;for(n=3;n<a&&0!=(o=s.data[n]<=0);n+=4);return s=null,o},parsePreserveAspectRatioAttribute:function(t){var e,r="meet",i=t.split(" ");return i&&i.length&&("meet"!==(r=i.pop())&&"slice"!==r?(e=r,r="meet"):i.length&&(e=i.pop())),{meetOrSlice:r,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){t?W.charWidthsCache[t]&&delete W.charWidthsCache[t]:W.charWidthsCache={}},limitDimsByArea:function(t,e){var r=Math.sqrt(e*t),i=Math.floor(e/r);return{x:Math.floor(r),y:i}},capValue:function(t,e,r){return Math.max(t,Math.min(e,r))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)}},f={},m={},d={},p=Array.prototype.join,W.util.drawArc=function(t,e,r,i){for(var n=i[0],o=i[1],s=i[2],a=i[3],c=i[4],l=[[],[],[],[]],u=Q(i[5]-e,i[6]-r,n,o,a,c,s),h=0,f=u.length;h<f;h++)l[h][0]=u[h][0]+e,l[h][1]=u[h][1]+r,l[h][2]=u[h][2]+e,l[h][3]=u[h][3]+r,l[h][4]=u[h][4]+e,l[h][5]=u[h][5]+r,t.bezierCurveTo.apply(t,l[h])},W.util.getBoundsOfArc=function(t,e,r,i,n,o,s,a,c){for(var l,u=0,h=0,f=[],m=Q(a-t,c-e,r,i,o,s,n),d=0,p=m.length;d<p;d++)l=et(u,h,m[d][0],m[d][1],m[d][2],m[d][3],m[d][4],m[d][5]),f.push({x:l[0].x+t,y:l[0].y+e}),f.push({x:l[1].x+t,y:l[1].y+e}),u=m[d][4],h=m[d][5];return f},W.util.getBoundsOfCurve=et,_=Array.prototype.slice,W.util.array={fill:function(t,e){for(var r=t.length;r--;)t[r]=e;return t},invoke:function(t,e){for(var r=_.call(arguments,2),i=[],n=0,o=t.length;n<o;n++)i[n]=r.length?t[n][e].apply(t[n],r):t[n][e].call(t[n]);return i},min:function(t,e){return rt(t,e,function(t,e){return t<e})},max:function(t,e){return rt(t,e,function(t,e){return e<=t})}},W.util.object={extend:it,clone:function(t,e){return it({},t,e)}},W.util.object.extend(W.util,W.Observable),W.util.string={camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(t){var e,r=0,i=[];for(r=0;r<t.length;r++)!1!==(e=nt(t,r))&&i.push(e);return i}},g=Array.prototype.slice,v=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),W.util.createClass=function(){var t=null,e=g.call(arguments,0);function r(){this.initialize.apply(this,arguments)}"function"==typeof e[0]&&(t=e.shift()),r.superclass=t,r.subclasses=[],t&&(at.prototype=t.prototype,r.prototype=new at,t.subclasses.push(r));for(var i=0,n=e.length;i<n;i++)st(r,e[i],t);return r.prototype.initialize||(r.prototype.initialize=ot),(r.prototype.constructor=r).prototype.callSuper=ct,r},function(){function t(t){var e,r,i=Array.prototype.slice.call(arguments,1),n=i.length;for(r=0;r<n;r++)if(e=typeof t[i[r]],!/^(?:function|object|unknown)$/.test(e))return!1;return!0}var e,r,i,n,o=(i=0,function(t){return t.__uniqueID||(t.__uniqueID="uniqueID__"+i++)});function s(t,r){return{handler:r,wrappedHandler:function(t,r){return function(i){r.call(e(t),i||W.window.event)}}(t,r)}}n={},e=function(t){return n[t]},r=function(t,e){n[t]=e};var a,c,l=t(W.document.documentElement,"addEventListener","removeEventListener")&&t(W.window,"addEventListener","removeEventListener"),u=t(W.document.documentElement,"attachEvent","detachEvent")&&t(W.window,"attachEvent","detachEvent"),h={},f={};c=l?(a=function(t,e,r,i){t&&t.addEventListener(e,r,!u&&i)},function(t,e,r,i){t&&t.removeEventListener(e,r,!u&&i)}):u?(a=function(t,e,i){if(t){var n=o(t);r(n,t),h[n]||(h[n]={}),h[n][e]||(h[n][e]=[]);var a=s(n,i);h[n][e].push(a),t.attachEvent("on"+e,a.wrappedHandler)}},function(t,e,r){if(t){var i,n=o(t);if(h[n]&&h[n][e])for(var s=0,a=h[n][e].length;s<a;s++)(i=h[n][e][s])&&i.handler===r&&(t.detachEvent("on"+e,i.wrappedHandler),h[n][e][s]=null)}}):(a=function(t,e,r){if(t){var i=o(t);if(f[i]||(f[i]={}),!f[i][e]){f[i][e]=[];var n=t["on"+e];n&&f[i][e].push(n),t["on"+e]=function(t,e){return function(r){if(f[t]&&f[t][e])for(var i=f[t][e],n=0,o=i.length;n<o;n++)i[n].call(this,r||W.window.event)}}(i,e)}f[i][e].push(r)}},function(t,e,r){if(t){var i=o(t);if(f[i]&&f[i][e])for(var n=f[i][e],s=0,a=n.length;s<a;s++)n[s]===r&&n.splice(s,1)}}),W.util.addListener=a,W.util.removeListener=c;var m=function(t){return t.clientX},d=function(t){return t.clientY};function p(t,e,r){var i="touchend"===t.type?"changedTouches":"touches";return t[i]&&t[i][0]&&t[i][0][e]-(t[i][0][e]-t[i][0][r])||t[r]}W.isTouchSupported&&(m=function(t){return p(t,"pageX","clientX")},d=function(t){return p(t,"pageY","clientY")}),W.util.getPointer=function(t){var e=(t=t||W.window.event).target||("unknown"!=typeof t.srcElement?t.srcElement:null),r=W.util.getScrollLeftTop(e);return{x:m(t)+r.left,y:d(t)+r.top}}}(),y=W.document.createElement("div"),b="string"==typeof y.style.opacity,x="string"==typeof y.style.filter,w=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,S=function(t){return t},b?S=function(t,e){return t.style.opacity=e,t}:x&&(S=function(t,e){var r=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(r.zoom=1),w.test(r.filter)?(e=.9999<=e?"":"alpha(opacity="+100*e+")",r.filter=r.filter.replace(w,e)):r.filter+=" alpha(opacity="+100*e+")",t}),W.util.setStyle=function(t,e){var r=t.style;if(!r)return t;if("string"==typeof e)return t.style.cssText+=";"+e,-1<e.indexOf("opacity")?S(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var i in e)"opacity"===i?S(t,e[i]):r["float"===i||"cssFloat"===i?void 0===r.styleFloat?"cssFloat":"styleFloat":i]=e[i];return t},function(){var t,e,r,i,n=Array.prototype.slice,o=function(t){return n.call(t,0)};try{t=o(W.document.childNodes)instanceof Array}catch(t){}function s(t,e){var r=W.document.createElement(t);for(var i in e)"class"===i?r.className=e[i]:"for"===i?r.htmlFor=e[i]:r.setAttribute(i,e[i]);return r}function a(t){for(var e=0,r=0,i=W.document.documentElement,n=W.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===W.document?(e=n.scrollLeft||i.scrollLeft||0,r=n.scrollTop||i.scrollTop||0):(e+=t.scrollLeft||0,r+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:r}}t||(o=function(t){for(var e=new Array(t.length),r=t.length;r--;)e[r]=t[r];return e}),e=W.document.defaultView&&W.document.defaultView.getComputedStyle?function(t,e){var r=W.document.defaultView.getComputedStyle(t,null);return r?r[e]:void 0}:function(t,e){var r=t.style[e];return!r&&t.currentStyle&&(r=t.currentStyle[e]),r},r=W.document.documentElement.style,i="userSelect"in r?"userSelect":"MozUserSelect"in r?"MozUserSelect":"WebkitUserSelect"in r?"WebkitUserSelect":"KhtmlUserSelect"in r?"KhtmlUserSelect":"",W.util.makeElementUnselectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=W.util.falseFunction),i?t.style[i]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},W.util.makeElementSelectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=null),i?t.style[i]="":"string"==typeof t.unselectable&&(t.unselectable=""),t},W.util.getScript=function(t,e){var r=W.document.getElementsByTagName("head")[0],i=W.document.createElement("script"),n=!0;i.onload=i.onreadystatechange=function(t){if(n){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;n=!1,e(t||W.window.event),i=i.onload=i.onreadystatechange=null}},i.src=t,r.appendChild(i)},W.util.getById=function(t){return"string"==typeof t?W.document.getElementById(t):t},W.util.toArray=o,W.util.makeElement=s,W.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},W.util.wrapElement=function(t,e,r){return"string"==typeof e&&(e=s(e,r)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},W.util.getScrollLeftTop=a,W.util.getElementOffset=function(t){var r,i,n=t&&t.ownerDocument,o={left:0,top:0},s={left:0,top:0},c={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!n)return s;for(var l in c)s[c[l]]+=parseInt(e(t,l),10)||0;return r=n.documentElement,void 0!==t.getBoundingClientRect&&(o=t.getBoundingClientRect()),i=a(t),{left:o.left+i.left-(r.clientLeft||0)+s.left,top:o.top+i.top-(r.clientTop||0)+s.top}},W.util.getElementStyle=e,W.util.getNodeCanvas=function(t){var e=W.jsdomImplForWrapper(t);return e._canvas||e._image}}(),C=function(){for(var t=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],e=t.length;e--;)try{if(t[e]())return t[e]}catch(t){}}(),W.util.request=function(t,e){var r=(e=e||{}).method?e.method.toUpperCase():"GET",i=e.onComplete||function(){},n=C(),o=e.body||e.parameters;return n.onreadystatechange=function(){4===n.readyState&&(i(n),n.onreadystatechange=lt)},"GET"===r&&(o=null,"string"==typeof e.parameters&&(t=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(t,e.parameters))),n.open(r,t,!0),"POST"!==r&&"PUT"!==r||n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(o),n},W.log=function(){},W.warn=function(){},"undefined"!=typeof console&&["log","warn"].forEach(function(t){void 0!==console[t]&&"function"==typeof console[t].apply&&(W[t]=function(){})}),T=W.window.requestAnimationFrame||W.window.webkitRequestAnimationFrame||W.window.mozRequestAnimationFrame||W.window.oRequestAnimationFrame||W.window.msRequestAnimationFrame||function(t){return W.window.setTimeout(t,1e3/60)},E=W.window.cancelAnimationFrame||W.window.clearTimeout,W.util.animate=function(t){ht(function(e){t=t||{};var r,i=e||+new Date,n=t.duration||500,o=i+n,s=t.onChange||ut,a=t.abort||ut,c=t.onComplete||ut,l=t.easing||function(t,e,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+e},u="startValue"in t?t.startValue:0,h="endValue"in t?t.endValue:100,f=t.byValue||h-u;t.onStart&&t.onStart(),function e(m){if(a())c(h,1,1);else{r=m||+new Date;var d=o<r?n:r-i,p=d/n,_=l(d,u,f,n),g=Math.abs((_-u)/f);s(_,g,p),o<r?t.onComplete&&t.onComplete():ht(e)}}(i)})},W.util.requestAnimFrame=ht,W.util.cancelAnimFrame=function(){return E.apply(W.window,arguments)},W.util.animateColor=function(t,e,r,i){var n=new W.Color(t).getSource(),o=new W.Color(e).getSource();i=i||{},W.util.animate(W.util.object.extend(i,{duration:r||500,startValue:n,endValue:o,byValue:o,easing:function(t,e,r,n){return function(t,e,r){var i="rgba("+parseInt(t[0]+r*(e[0]-t[0]),10)+","+parseInt(t[1]+r*(e[1]-t[1]),10)+","+parseInt(t[2]+r*(e[2]-t[2]),10);return i+=","+(t&&e?parseFloat(t[3]+r*(e[3]-t[3])):1),i+")"}(e,r,i.colorEasing?i.colorEasing(t,n):1-Math.cos(t/n*(Math.PI/2)))}}))},W.util.ease={easeInQuad:function(t,e,r,i){return r*(t/=i)*t+e},easeOutQuad:function(t,e,r,i){return-r*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,r,i){return(t/=i/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,r,i){return r*(t/=i)*t*t+e},easeOutCubic:function(t,e,r,i){return r*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,r,i){return(t/=i/2)<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,r,i){return r*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,r,i){return-r*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,r,i){return(t/=i/2)<1?r/2*t*t*t*t+e:-r/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,r,i){return r*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,r,i){return r*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+e},easeOutSine:function(t,e,r,i){return r*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,r,i){return 0===t?e:r*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,r,i){return t===i?e+r:r*(1-Math.pow(2,-10*t/i))+e},easeInOutExpo:function(t,e,r,i){return 0===t?e:t===i?e+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+e:r/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+e:r/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,r,i){var n=0;return 0===t?e:1==(t/=i)?e+r:-mt(ft(r,r,n=n||.3*i,1.70158),t,i)+e},easeOutElastic:function(t,e,r,i){var n=0;if(0===t)return e;if(1==(t/=i))return e+r;var o=ft(r,r,n=n||.3*i,1.70158);return o.a*Math.pow(2,-10*t)*Math.sin((t*i-o.s)*(2*Math.PI)/o.p)+o.c+e},easeInOutElastic:function(t,e,r,i){var n=0;if(0===t)return e;if(2==(t/=i/2))return e+r;var o=ft(r,r,n=n||i*(.3*1.5),1.70158);return t<1?-.5*mt(o,t,i)+e:o.a*Math.pow(2,-10*(t-=1))*Math.sin((t*i-o.s)*(2*Math.PI)/o.p)*.5+o.c+e},easeInBack:function(t,e,r,i,n){return void 0===n&&(n=1.70158),r*(t/=i)*t*((n+1)*t-n)+e},easeOutBack:function(t,e,r,i,n){return void 0===n&&(n=1.70158),r*((t=t/i-1)*t*((n+1)*t+n)+1)+e},easeInOutBack:function(t,e,r,i,n){return void 0===n&&(n=1.70158),(t/=i/2)<1?r/2*(t*t*((1+(n*=1.525))*t-n))+e:r/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},easeInBounce:dt,easeOutBounce:pt,easeInOutBounce:function(t,e,r,i){return t<i/2?.5*dt(2*t,0,r,i)+e:.5*pt(2*t-i,0,r,i)+.5*r+e}},function(t){"use strict";var e,r,i,n,o,s,a=t.fabric||(t.fabric={}),c=a.util.object.extend,l=a.util.object.clone,u=a.util.toFixed,h=a.util.parseUnit,f=a.util.multiplyTransformMatrices,m={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity"},d={stroke:"strokeOpacity",fill:"fillOpacity"};function p(t,e,r,i){var n,o="[object Array]"===Object.prototype.toString.call(e);if("fill"!==t&&"stroke"!==t||"none"!==e)if("strokeDashArray"===t)e="none"===e?null:e.replace(/,/g," ").split(/\s+/).map(function(t){return parseFloat(t)});else if("transformMatrix"===t)e=r&&r.transformMatrix?f(r.transformMatrix,a.parseTransformAttribute(e)):a.parseTransformAttribute(e);else if("visible"===t)e="none"!==e&&"hidden"!==e,r&&!1===r.visible&&(e=!1);else if("opacity"===t)e=parseFloat(e),r&&void 0!==r.opacity&&(e*=r.opacity);else if("textAnchor"===t)e="start"===e?"left":"end"===e?"right":"center";else if("paintFirst"===t){var s=e.indexOf("fill"),c=e.indexOf("stroke");e="fill",-1<s&&-1<c&&c<s?e="stroke":-1===s&&-1<c&&(e="stroke")}else n=o?e.map(h):h(e,i);else e="";return!o&&isNaN(n)?e:n}function _(t){return new RegExp("^("+t.join("|")+")\\b","i")}function g(t,e){var r,i,n,o,s=[];for(n=0,o=e.length;n<o;n++)r=e[n],i=t.getElementsByTagName(r),s=s.concat(Array.prototype.slice.call(i));return s}function v(t,e,r){t[r]=Math.tan(a.util.degreesToRadians(e[0]))}function y(t,e){var r,i=!0;return(r=b(t,e.pop()))&&e.length&&(i=function(t,e){for(var r,i=!0;t.parentNode&&1===t.parentNode.nodeType&&e.length;)i&&(r=e.pop()),t=t.parentNode,i=b(t,r);return 0===e.length}(t,e)),r&&i&&0===e.length}function b(t,e){var r,i,n=t.nodeName,o=t.getAttribute("class"),s=t.getAttribute("id");if(r=new RegExp("^"+n,"i"),e=e.replace(r,""),s&&e.length&&(r=new RegExp("#"+s+"(?![a-zA-Z\\-]+)","i"),e=e.replace(r,"")),o&&e.length)for(i=(o=o.split(" ")).length;i--;)r=new RegExp("\\."+o[i]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(r,"");return 0===e.length}function x(t,e){var r;if(t.getElementById&&(r=t.getElementById(e)),r)return r;var i,n,o,s=t.getElementsByTagName("*");for(n=0,o=s.length;n<o;n++)if(e===(i=s[n]).getAttribute("id"))return i}a.svgValidTagNamesRegEx=_(["path","circle","polygon","polyline","ellipse","rect","line","image","text","linearGradient","radialGradient","stop"]),a.svgViewBoxElementsRegEx=_(["symbol","image","marker","pattern","view","svg"]),a.svgInvalidAncestorsRegEx=_(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),a.svgValidParentsRegEx=_(["symbol","g","a","svg"]),a.cssRules={},a.gradientDefs={},a.parseTransformAttribute=(e=[1,0,0,1,0,0],r=a.reNum,n="(?:(?:(matrix)\\s*\\(\\s*("+r+")"+(i="(?:\\s+,?\\s*|,\\s*)")+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+")"+i+"("+r+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\)))",o=new RegExp("^\\s*(?:(?:"+n+"(?:"+i+"*"+n+")*)?)\\s*$"),s=new RegExp(n,"g"),function(t){var r=e.concat(),i=[];if(!t||t&&!o.test(t))return r;t.replace(s,function(t){var o=new RegExp(n).exec(t).filter(function(t){return!!t}),s=o[1],c=o.slice(2).map(parseFloat);switch(s){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(r,c);break;case"rotate":c[0]=a.util.degreesToRadians(c[0]),function(t,e){var r=a.util.cos(e[0]),i=a.util.sin(e[0]),n=0,o=0;3===e.length&&(n=e[1],o=e[2]),t[0]=r,t[1]=i,t[2]=-i,t[3]=r,t[4]=n-(r*n-i*o),t[5]=o-(i*n+r*o)}(r,c);break;case"scale":!function(t,e){var r=e[0],i=2===e.length?e[1]:e[0];t[0]=r,t[3]=i}(r,c);break;case"skewX":v(r,c,2);break;case"skewY":v(r,c,1);break;case"matrix":r=c}i.push(r.concat()),r=e.concat()});for(var c=i[0];1<i.length;)i.shift(),c=a.util.multiplyTransformMatrices(c,i[0]);return c});var w=new RegExp("^\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*$");function S(t){var e,r,i,n,o,s,c=t.getAttribute("viewBox"),l=1,u=1,f=t.getAttribute("width"),m=t.getAttribute("height"),d=t.getAttribute("x")||0,p=t.getAttribute("y")||0,_=t.getAttribute("preserveAspectRatio")||"",g=!c||!a.svgViewBoxElementsRegEx.test(t.nodeName)||!(c=c.match(w)),v=!f||!m||"100%"===f||"100%"===m,y=g&&v,b={},x="";if(b.width=0,b.height=0,b.toBeParsed=y)return b;if(g)return b.width=h(f),b.height=h(m),b;if(e=-parseFloat(c[1]),r=-parseFloat(c[2]),i=parseFloat(c[3]),n=parseFloat(c[4]),v?(b.width=i,b.height=n):(b.width=h(f),b.height=h(m),l=b.width/i,u=b.height/n),"none"!==(_=a.util.parsePreserveAspectRatioAttribute(_)).alignX&&(u=l=u<l?u:l),1===l&&1===u&&0==e&&0==r&&0===d&&0===p)return b;if((d||p)&&(x=" translate("+h(d)+" "+h(p)+") "),o=x+" matrix("+l+" 0 0 "+u+" "+e*l+" "+r*u+") ","svg"===t.nodeName){for(s=t.ownerDocument.createElement("g");t.firstChild;)s.appendChild(t.firstChild);t.appendChild(s)}else o=(s=t).getAttribute("transform")+o;return s.setAttribute("transform",o),b}a.parseSVGDocument=function(t,e,r,i){if(t){!function(t){for(var e=g(t,["use","svg:use"]),r=0;e.length&&r<e.length;){var i,n,o,s,a=e[r],c=a.getAttribute("xlink:href").substr(1),l=a.getAttribute("x")||0,u=a.getAttribute("y")||0,h=x(t,c).cloneNode(!0),f=(h.getAttribute("transform")||"")+" translate("+l+", "+u+")",m=e.length;if(S(h),/^svg$/i.test(h.nodeName)){var d=h.ownerDocument.createElement("g");for(n=0,s=(o=h.attributes).length;n<s;n++)i=o.item(n),d.setAttribute(i.nodeName,i.nodeValue);for(;h.firstChild;)d.appendChild(h.firstChild);h=d}for(n=0,s=(o=a.attributes).length;n<s;n++)"x"!==(i=o.item(n)).nodeName&&"y"!==i.nodeName&&"xlink:href"!==i.nodeName&&("transform"===i.nodeName?f=i.nodeValue+" "+f:h.setAttribute(i.nodeName,i.nodeValue));h.setAttribute("transform",f),h.setAttribute("instantiated_by_use","1"),h.removeAttribute("id"),a.parentNode.replaceChild(h,a),e.length===m&&r++}}(t);var n,o,s=a.Object.__uid++,c=S(t),u=a.util.toArray(t.getElementsByTagName("*"));if(c.crossOrigin=i&&i.crossOrigin,c.svgUid=s,0===u.length&&a.isLikelyNode){var h=[];for(n=0,o=(u=t.selectNodes('//*[name(.)!="svg"]')).length;n<o;n++)h[n]=u[n];u=h}var f=u.filter(function(t){return S(t),a.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t=t&&t.parentNode;)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,a.svgInvalidAncestorsRegEx)});!f||f&&!f.length?e&&e([],{}):(a.gradientDefs[s]=a.getGradientDefs(t),a.cssRules[s]=a.getCSSRules(t),a.parseElements(f,function(t,r){e&&e(t,c,r,u)},l(c),r,i))}};var C=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+a.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+a.reNum+"))?\\s+(.*)");c(a,{parseFontDeclaration:function(t,e){var r=t.match(C);if(r){var i=r[1],n=r[3],o=r[4],s=r[5],a=r[6];i&&(e.fontStyle=i),n&&(e.fontWeight=isNaN(parseFloat(n))?n:parseFloat(n)),o&&(e.fontSize=h(o)),a&&(e.fontFamily=a),s&&(e.lineHeight="normal"===s?1:s)}},getGradientDefs:function(t){var e,r,i,n=g(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),o=0,s={},a={};for(o=n.length;o--;)i=(e=n[o]).getAttribute("xlink:href"),r=e.getAttribute("id"),i&&(a[r]=i.substr(1)),s[r]=e;for(r in a){var c=s[a[r]].cloneNode(!0);for(e=s[r];c.firstChild;)e.appendChild(c.firstChild)}return s},parseAttributes:function(t,e,r){if(t){var i,n,o={};void 0===r&&(r=t.getAttribute("svgUid")),t.parentNode&&a.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(o=a.parseAttributes(t.parentNode,e,r)),n=o&&o.fontSize||t.getAttribute("font-size")||a.Text.DEFAULT_SVG_FONT_SIZE;var s=e.reduce(function(e,r){return(i=t.getAttribute(r))&&(e[r]=i),e},{});s=c(s,c(function(t,e){var r={};for(var i in a.cssRules[e])if(y(t,i.split(" ")))for(var n in a.cssRules[e][i])r[n]=a.cssRules[e][i][n];return r}(t,r),a.parseStyleAttribute(t)));var l,h,f,_={};for(var g in s)h=p(l=(f=g)in m?m[f]:f,s[g],o,n),_[l]=h;_&&_.font&&a.parseFontDeclaration(_.font,_);var v=c(o,_);return a.svgValidParentsRegEx.test(t.nodeName)?v:function(t){for(var e in d)if(void 0!==t[d[e]]&&""!==t[e]){if(void 0===t[e]){if(!a.Object.prototype[e])continue;t[e]=a.Object.prototype[e]}if(0!==t[e].indexOf("url(")){var r=new a.Color(t[e]);t[e]=r.setAlpha(u(r.getAlpha()*t[d[e]],2)).toRgba()}}return t}(v)}},parseElements:function(t,e,r,i,n){new a.ElementsParser(t,e,r,i,n).parse()},parseStyleAttribute:function(t){var e={},r=t.getAttribute("style");return r&&("string"==typeof r?function(t,e){var r,i;t.replace(/;\s*$/,"").split(";").forEach(function(t){var n=t.split(":");r=n[0].trim().toLowerCase(),i=n[1].trim(),e[r]=i})}(r,e):function(t,e){var r,i;for(var n in t)void 0!==t[n]&&(r=n.toLowerCase(),i=t[n],e[r]=i)}(r,e)),e},parsePointsAttribute:function(t){if(!t)return null;var e,r,i=[];for(e=0,r=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<r;e+=2)i.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return i},getCSSRules:function(t){var e,r,i=t.getElementsByTagName("style"),n={};for(e=0,r=i.length;e<r;e++){var o=i[e].textContent||i[e].text;""!==(o=o.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&o.match(/[^{]*\{[\s\S]*?\}/g).map(function(t){return t.trim()}).forEach(function(t){var i=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),o={},s=i[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(e=0,r=s.length;e<r;e++){var c=s[e].split(/\s*:\s*/),l=c[0],u=c[1];o[l]=u}(t=i[1]).split(",").forEach(function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(n[t]?a.util.object.extend(n[t],o):n[t]=a.util.object.clone(o))})})}return n},loadSVGFromURL:function(t,e,r,i){t=t.replace(/^\n\s*/,"").trim(),new a.util.request(t,{method:"get",onComplete:function(t){var n=t.responseXML;n&&!n.documentElement&&a.window.ActiveXObject&&t.responseText&&((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),n&&n.documentElement||e&&e(null),a.parseSVGDocument(n.documentElement,function(t,r,i,n){e&&e(t,r,i,n)},r,i)}})},loadSVGFromString:function(t,e,r,i){var n;if(t=t.trim(),"undefined"!=typeof DOMParser){var o=new DOMParser;o&&o.parseFromString&&(n=o.parseFromString(t,"text/xml"))}else a.window.ActiveXObject&&((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));a.parseSVGDocument(n.documentElement,function(t,r,i,n){e(t,r,i,n)},r,i)}})}(e),W.ElementsParser=function(t,e,r,i,n){this.elements=t,this.callback=e,this.options=r,this.reviver=i,this.svgUid=r&&r.svgUid||0,this.parsingOptions=n},W.ElementsParser.prototype.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},W.ElementsParser.prototype.createObjects=function(){for(var t=0,e=this.elements.length;t<e;t++)this.elements[t].setAttribute("svgUid",this.svgUid),function(t,e){setTimeout(function(){t.createObject(t.elements[e],e)},0)}(this,t)},W.ElementsParser.prototype.createObject=function(t,e){var r=W[W.util.string.capitalize(t.tagName.replace("svg:",""))];if(r&&r.fromElement)try{this._createObject(r,t,e)}catch(t){W.log(t)}else this.checkIfDone()},W.ElementsParser.prototype._createObject=function(t,e,r){t.fromElement(e,this.createCallback(r,e),this.options)},W.ElementsParser.prototype.createCallback=function(t,e){var r=this;return function(i){var n;r.resolveGradient(i,"fill"),r.resolveGradient(i,"stroke"),i instanceof W.Image&&(n=i.parsePreserveAspectRatioAttribute(e)),i._removeTransformMatrix(n),r.reviver&&r.reviver(e,i),r.instances[t]=i,r.checkIfDone()}},W.ElementsParser.prototype.resolveGradient=function(t,e){var r=t.get(e);if(/^url\(/.test(r)){var i=r.slice(5,r.length-1);W.gradientDefs[this.svgUid][i]&&t.set(e,W.Gradient.fromElement(W.gradientDefs[this.svgUid][i],t))}},W.ElementsParser.prototype.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(t){return null!=t}),this.callback(this.instances,this.elements))},function(t){"use strict";var e=t.fabric||(t.fabric={});function r(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=r).prototype={type:"point",constructor:r,add:function(t){return new r(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new r(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new r(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new r(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new r(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new r(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return void 0===e&&(e=.5),e=Math.max(Math.min(1,e),0),new r(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new r(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new r(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,r=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=r},clone:function(){return new r(this.x,this.y)}}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function r(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=r,e.Intersection.prototype={constructor:r,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,i,n,o){var s,a=(o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x),c=(i.x-t.x)*(t.y-n.y)-(i.y-t.y)*(t.x-n.x),l=(o.y-n.y)*(i.x-t.x)-(o.x-n.x)*(i.y-t.y);if(0!=l){var u=a/l,h=c/l;0<=u&&u<=1&&0<=h&&h<=1?(s=new r("Intersection")).appendPoint(new e.Point(t.x+u*(i.x-t.x),t.y+u*(i.y-t.y))):s=new r}else s=new r(0==a||0==c?"Coincident":"Parallel");return s},e.Intersection.intersectLinePolygon=function(t,e,i){var n,o,s,a,c=new r,l=i.length;for(a=0;a<l;a++)n=i[a],o=i[(a+1)%l],s=r.intersectLineLine(t,e,n,o),c.appendPoints(s.points);return 0<c.points.length&&(c.status="Intersection"),c},e.Intersection.intersectPolygonPolygon=function(t,e){var i,n=new r,o=t.length;for(i=0;i<o;i++){var s=t[i],a=t[(i+1)%o],c=r.intersectLinePolygon(s,a,e);n.appendPoints(c.points)}return 0<n.points.length&&(n.status="Intersection"),n},e.Intersection.intersectPolygonRectangle=function(t,i,n){var o=i.min(n),s=i.max(n),a=new e.Point(s.x,o.y),c=new e.Point(o.x,s.y),l=r.intersectLinePolygon(o,a,t),u=r.intersectLinePolygon(a,s,t),h=r.intersectLinePolygon(s,c,t),f=r.intersectLinePolygon(c,o,t),m=new r;return m.appendPoints(l.points),m.appendPoints(u.points),m.appendPoints(h.points),m.appendPoints(f.points),0<m.points.length&&(m.status="Intersection"),m})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function r(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function i(t,e,r){return r<0&&(r+=1),1<r&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=r,e.Color.prototype={_tryParsingColor:function(t){var e;t in r.colorNameMap&&(t=r.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),(e=(e=(e=(e=e||r.sourceFromHex(t))||r.sourceFromRgb(t))||r.sourceFromHsl(t))||[0,0,0,1])&&this.setSource(e)},_rgbToHsl:function(t,r,i){t/=255,r/=255,i/=255;var n,o,s,a=e.util.array.max([t,r,i]),c=e.util.array.min([t,r,i]);if(s=(a+c)/2,a===c)n=o=0;else{var l=a-c;switch(o=.5<s?l/(2-a-c):l/(a+c),a){case t:n=(r-i)/l+(r<i?6:0);break;case r:n=(i-t)/l+2;break;case i:n=(t-r)/l+4}n/=6}return[Math.round(360*n),Math.round(100*o),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,r,i=this.getSource();return t=1===(t=i[0].toString(16)).length?"0"+t:t,e=1===(e=i[1].toString(16)).length?"0"+e:e,r=1===(r=i[2].toString(16)).length?"0"+r:r,t.toUpperCase()+e.toUpperCase()+r.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=1===(t=(t=Math.round(255*e[3])).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),r=t[3];return this.setSource([e,e,e,r]),this},toBlackWhite:function(t){var e=this.getSource(),r=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),i=e[3];return t=t||127,r=Number(r)<Number(t)?0:255,this.setSource([r,r,r,i]),this},overlayWith:function(t){t instanceof r||(t=new r(t));var e,i=[],n=this.getAlpha(),o=this.getSource(),s=t.getSource();for(e=0;e<3;e++)i.push(Math.round(.5*o[e]+.5*s[e]));return i[3]=n,this.setSource(i),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return r.fromSource(r.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(r.reRGBa);if(e){var i=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),n=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),o=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(i,10),parseInt(n,10),parseInt(o,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=r.fromRgb,e.Color.fromHsl=function(t){return r.fromSource(r.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(r.reHSLa);if(e){var n,o,s,a=(parseFloat(e[1])%360+360)%360/360,c=parseFloat(e[2])/(/%$/.test(e[2])?100:1),l=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0==c)n=o=s=l;else{var u=l<=.5?l*(1+c):l+c-l*c,h=2*l-u;n=i(h,u,a+1/3),o=i(h,u,a),s=i(h,u,a-1/3)}return[Math.round(255*n),Math.round(255*o),Math.round(255*s),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=r.fromHsl,e.Color.fromHex=function(t){return r.fromSource(r.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(r.reHex)){var e=t.slice(t.indexOf("#")+1),i=3===e.length||4===e.length,n=8===e.length||4===e.length,o=i?e.charAt(0)+e.charAt(0):e.substring(0,2),s=i?e.charAt(1)+e.charAt(1):e.substring(2,4),a=i?e.charAt(2)+e.charAt(2):e.substring(4,6),c=n?i?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(o,16),parseInt(s,16),parseInt(a,16),parseFloat((parseInt(c,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new r;return e.setSource(t),e})}(e),O=W.util.object.clone,W.Gradient=W.util.createClass({offsetX:0,offsetY:0,initialize:function(t){t=t||{};var e={};this.id=W.Object.__uid++,this.type=t.type||"linear",e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice(),t.gradientTransform&&(this.gradientTransform=t.gradientTransform),this.offsetX=t.offsetX||this.offsetX,this.offsetY=t.offsetY||this.offsetY},addColorStop:function(t){for(var e in t){var r=new W.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:r.toRgb(),opacity:r.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return W.util.populateWithProperties(this,e,t),e},toSVG:function(t){var e,r,i,n,o=O(this.coords,!0),s=O(this.colorStops,!0),a=o.r1>o.r2,c=t.width/2,l=t.height/2;for(var u in s.sort(function(t,e){return t.offset-e.offset}),"path"===t.type&&(c-=t.pathOffset.x,l-=t.pathOffset.y),o)"x1"===u||"x2"===u?o[u]+=this.offsetX-c:"y1"!==u&&"y2"!==u||(o[u]+=this.offsetY-l);if(n='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',this.gradientTransform&&(n+=' gradientTransform="matrix('+this.gradientTransform.join(" ")+')" '),"linear"===this.type?i=["<linearGradient ",n,' x1="',o.x1,'" y1="',o.y1,'" x2="',o.x2,'" y2="',o.y2,'">\n']:"radial"===this.type&&(i=["<radialGradient ",n,' cx="',a?o.x1:o.x2,'" cy="',a?o.y1:o.y2,'" r="',a?o.r1:o.r2,'" fx="',a?o.x2:o.x1,'" fy="',a?o.y2:o.y1,'">\n']),"radial"===this.type){if(a)for((s=s.concat()).reverse(),e=0,r=s.length;e<r;e++)s[e].offset=1-s[e].offset;var h=Math.min(o.r1,o.r2);if(0<h){var f=h/Math.max(o.r1,o.r2);for(e=0,r=s.length;e<r;e++)s[e].offset+=f*(1-s[e].offset)}}for(e=0,r=s.length;e<r;e++){var m=s[e];i.push("<stop ",'offset="',100*m.offset+"%",'" style="stop-color:',m.color,null!==m.opacity?";stop-opacity: "+m.opacity:";",'"/>\n')}return i.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),i.join("")},toLive:function(t){var e,r,i,n=W.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(n.x1,n.y1,n.x2,n.y2):"radial"===this.type&&(e=t.createRadialGradient(n.x1,n.y1,n.r1,n.x2,n.y2,n.r2)),r=0,i=this.colorStops.length;r<i;r++){var o=this.colorStops[r].color,s=this.colorStops[r].opacity,a=this.colorStops[r].offset;void 0!==s&&(o=new W.Color(o).setAlpha(s).toRgba()),e.addColorStop(a,o)}return e}}}),W.util.object.extend(W.Gradient,{fromElement:function(t,e){var r,i,n,o,s=t.getElementsByTagName("stop"),a=t.getAttribute("gradientUnits")||"objectBoundingBox",c=t.getAttribute("gradientTransform"),l=[];for("linear"==(r="linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?"linear":"radial")?i=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(t):"radial"===r&&(i=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(t)),o=s.length;o--;)l.push(_t(s[o]));n=gt(e,i,a);var u=new W.Gradient({type:r,coords:i,colorStops:l,offsetX:-e.left,offsetY:-e.top});return!c&&""===n||(u.gradientTransform=W.parseTransformAttribute((c||"")+n)),u},forObject:function(t,e){return gt(t,(e=e||{}).coords,"userSpaceOnUse"),new W.Gradient(e)}}),function(){"use strict";var t=W.util.toFixed;W.Pattern=W.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t=t||{},this.id=W.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!=typeof t.source)e&&e(this);else if(void 0!==W.util.getFunctionBody(t.source))this.source=new Function(W.util.getFunctionBody(t.source)),e&&e(this);else{var r=this;this.source=W.util.createImage(),W.util.loadImage(t.source,function(t){r.source=t,e&&e(r)},null,this.crossOrigin)}},toObject:function(e){var r,i,n=W.Object.NUM_FRACTION_DIGITS;return"function"==typeof this.source?r=String(this.source):"string"==typeof this.source.src?r=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(r=this.source.toDataURL()),i={type:"pattern",source:r,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:t(this.offsetX,n),offsetY:t(this.offsetY,n),patternTransform:this.patternTransform?this.patternTransform.concat():null},W.util.populateWithProperties(this,i,e),i},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,r=e.width/t.width,i=e.height/t.height,n=this.offsetX/t.width,o=this.offsetY/t.height,s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(i=1),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(r=1),e.src?s=e.src:e.toDataURL&&(s=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+n+'" y="'+o+'" width="'+r+'" height="'+i+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e="function"==typeof this.source?this.source():this.source;if(!e)return"";if(void 0!==e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(t){for(var r in"string"==typeof t&&(t=this._parseShadow(t)),t)this[r]=t[r];this.id=e.Object.__uid++},_parseShadow:function(t){var r=t.trim(),i=e.Shadow.reOffsetsAndBlur.exec(r)||[];return{color:(r.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(i[1],10)||0,offsetY:parseInt(i[2],10)||0,blur:parseInt(i[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var i=40,n=40,o=e.Object.NUM_FRACTION_DIGITS,s=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle));return t.width&&t.height&&(i=100*r((Math.abs(s.x)+this.blur)/t.width,o)+20,n=100*r((Math.abs(s.y)+this.blur)/t.height,o)+20),t.flipX&&(s.x*=-1),t.flipY&&(s.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+n+'%" height="'+(100+2*n)+'%" x="-'+i+'%" width="'+(100+2*i)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+r(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+r(s.x,o)+'" dy="'+r(s.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+this.color+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke};var t={},r=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke"].forEach(function(e){this[e]!==r[e]&&(t[e]=this[e])},this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(e),function(){"use strict";if(W.StaticCanvas)W.warn("fabric.StaticCanvas is already defined.");else{var t=W.util.object.extend,e=W.util.getElementOffset,r=W.util.removeFromArray,i=W.util.toFixed,n=W.util.transformPoint,o=W.util.invertTransform,s=new Error("Could not initialize `canvas` element");W.StaticCanvas=W.util.createClass(W.CommonMethods,{initialize:function(t,e){e=e||{},this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:W.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,_initStatic:function(t,e){var r=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,r),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,r),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,r),e.overlayColor&&this.setOverlayColor(e.overlayColor,r),this.calcOffset()},_isRetinaScaling:function(){return 1!==W.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?W.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",this.width*W.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*W.devicePixelRatio),this.contextContainer.scale(W.devicePixelRatio,W.devicePixelRatio))},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,r){return this.__setBgOverlayImage("overlayImage",t,e,r)},setBackgroundImage:function(t,e,r){return this.__setBgOverlayImage("backgroundImage",t,e,r)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,r,i){return"string"==typeof e?W.util.loadImage(e,function(e){e&&(this[t]=new W.Image(e,i)),r&&r(e)},this,i&&i.crossOrigin):(i&&e.setOptions(i),this[t]=e,r&&r(e)),this},__setBgOverlayColor:function(t,e,r){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,r),this},_createCanvasElement:function(){var t=W.util.createCanvasElement();if(!t)throw s;if(t.style||(t.style={}),void 0===t.getContext)throw s;return t},_initOptions:function(t){this._setOptions(t),this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0,this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=W.util.getById(t)||this._createCanvasElement(),W.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var r;for(var i in e=e||{},t)r=t[i],e.cssOnly||(this._setBackstoreDimension(i,t[i]),r+="px"),e.backstoreOnly||this._setCssDimension(i,r);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,r,i,n=this._activeObject;for(this.viewportTransform=t,r=0,i=this._objects.length;r<i;r++)(e=this._objects[r]).group||e.setCoords(!1,!0);return n&&"activeSelection"===n.type&&n.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var r=t,i=this.viewportTransform.slice(0);t=n(t,o(this.viewportTransform)),i[0]=e,i[3]=e;var s=n(t,i);return i[4]+=r.x-s.x,i[5]+=r.y-s.y,this.setViewportTransform(i)},setZoom:function(t){return this.zoomToPoint(new W.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new W.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=W.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,r=this.height,i=o(this.viewportTransform);return t.tl=n({x:0,y:0},i),t.br=n({x:e,y:r},i),t.tr=new W.Point(t.br.x,t.tl.y),t.bl=new W.Point(t.tl.x,t.br.y),this.vptCoords=t},renderCanvas:function(t,e){var r=this.viewportTransform;this.isRendering&&(W.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.calcViewportBoundaries(),this.clearContext(t),this.fire("before:render"),this.clipTo&&W.util.clipContext(this,t),this._renderBackground(t),t.save(),t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.clipTo&&t.restore(),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render")},_renderObjects:function(t,e){var r,i;for(r=0,i=e.length;r<i;++r)e[r]&&e[r].render(t)},_renderBackgroundOrOverlay:function(t,e){var r,i=this[e+"Color"];i&&(t.fillStyle=i.toLive?i.toLive(t,this):i,t.fillRect(i.offsetX||0,i.offsetY||0,this.width,this.height)),(i=this[e+"Image"])&&(this[e+"Vpt"]&&(r=this.viewportTransform,t.save(),t.transform(r[0],r[1],r[2],r[3],r[4],r[5])),i.render(t),this[e+"Vpt"]&&t.restore())},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(t){return this._centerObject(t,new W.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new W.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new W.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new W.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new W.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=o(this.viewportTransform);return n({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,r){var i={version:W.version,objects:this._toObjects(e,r)};return t(i,this.__serializeBgOverlay(e,r)),W.util.populateWithProperties(this,i,r),i},_toObjects:function(t,e){return this.getObjects().filter(function(t){return!t.excludeFromExport}).map(function(r){return this._toObject(r,t,e)},this)},_toObject:function(t,e,r){var i;this.includeDefaultValues||(i=t.includeDefaultValues,t.includeDefaultValues=!1);var n=t[e](r);return this.includeDefaultValues||(t.includeDefaultValues=i),n},__serializeBgOverlay:function(t,e){var r={},i=this.backgroundImage,n=this.overlayImage;return this.backgroundColor&&(r.background=this.backgroundColor.toObject?this.backgroundColor.toObject(e):this.backgroundColor),this.overlayColor&&(r.overlay=this.overlayColor.toObject?this.overlayColor.toObject(e):this.overlayColor),i&&!i.excludeFromExport&&(r.backgroundImage=this._toObject(i,t,e)),n&&!n.excludeFromExport&&(r.overlayImage=this._toObject(n,t,e)),r},svgViewportTransformation:!0,toSVG:function(t,e){t=t||{};var r=[];return this._setSVGPreamble(r,t),this._setSVGHeader(r,t),this._setSVGBgOverlayColor(r,"backgroundColor"),this._setSVGBgOverlayImage(r,"backgroundImage",e),this._setSVGObjects(r,e),this._setSVGBgOverlayColor(r,"overlayColor"),this._setSVGBgOverlayImage(r,"overlayImage",e),r.push("</svg>"),r.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var r,n=e.width||this.width,o=e.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',a=W.Object.NUM_FRACTION_DIGITS;e.viewBox?s='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(r=this.viewportTransform,s='viewBox="'+i(-r[4]/r[0],a)+" "+i(-r[5]/r[3],a)+" "+i(this.width/r[0],a)+" "+i(this.height/r[3],a)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',o,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",W.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),"</defs>\n")},createSVGRefElementsMarkup:function(){var t=this;return["backgroundColor","overlayColor"].map(function(e){var r=t[e];if(r&&r.toLive)return r.toSVG(t,!1)}).join("")},createSVGFontFacesMarkup:function(){var t,e,r,i,n,o,s,a,c="",l={},u=W.fontPaths,h=this.getObjects();for(s=0,a=h.length;s<a;s++)if(e=(t=h[s]).fontFamily,-1!==t.type.indexOf("text")&&!l[e]&&u[e]&&(l[e]=!0,t.styles))for(n in r=t.styles)for(o in i=r[n])!l[e=i[o].fontFamily]&&u[e]&&(l[e]=!0);for(var f in l)c+=["\t\t@font-face {\n","\t\t\tfont-family: '",f,"';\n","\t\t\tsrc: url('",u[f],"');\n","\t\t}\n"].join("");return c&&['\t<style type="text/css">',"<![CDATA[\n",c,"]]>","</style>\n"].join("")},_setSVGObjects:function(t,e){var r,i,n,o=this.getObjects();for(i=0,n=o.length;i<n;i++)(r=o[i]).excludeFromExport||this._setSVGObject(t,r,e)},_setSVGObject:function(t,e,r){t.push(e.toSVG(r))},_setSVGBgOverlayImage:function(t,e,r){this[e]&&this[e].toSVG&&t.push(this[e].toSVG(r))},_setSVGBgOverlayColor:function(t,e){var r=this[e];if(r)if(r.toLive){var i=r.repeat;t.push('<rect transform="translate(',this.width/2,",",this.height/2,')"',' x="',r.offsetX-this.width/2,'" y="',r.offsetY-this.height/2,'" ','width="',"repeat-y"===i||"no-repeat"===i?r.source.width:this.width,'" height="',"repeat-x"===i||"no-repeat"===i?r.source.height:this.height,'" fill="url(#SVGID_'+r.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" ','width="',this.width,'" height="',this.height,'" fill="',this[e],'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,i,n,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(e=(n=o._objects).length;e--;)i=n[e],r(this._objects,i),this._objects.unshift(i);else r(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,i,n,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(n=o._objects,e=0;e<n.length;e++)i=n[e],r(this._objects,i),this._objects.push(i);else r(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var i,n,o,s,a,c=this._activeObject,l=0;if(t===c&&"activeSelection"===t.type)for(a=c._objects,i=0;i<a.length;i++)n=a[i],0+l<(o=this._objects.indexOf(n))&&(s=o-1,r(this._objects,n),this._objects.splice(s,0,n)),l++;else 0!==(o=this._objects.indexOf(t))&&(s=this._findNewLowerIndex(t,o,e),r(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,r){var i,n;if(r){for(n=(i=e)-1;0<=n;--n)if(t.intersectsWithObject(this._objects[n])||t.isContainedWithinObject(this._objects[n])||this._objects[n].isContainedWithinObject(t)){i=n;break}}else i=e-1;return i},bringForward:function(t,e){if(!t)return this;var i,n,o,s,a,c=this._activeObject,l=0;if(t===c&&"activeSelection"===t.type)for(i=(a=c._objects).length;i--;)n=a[i],(o=this._objects.indexOf(n))<this._objects.length-1-l&&(s=o+1,r(this._objects,n),this._objects.splice(s,0,n)),l++;else(o=this._objects.indexOf(t))!==this._objects.length-1&&(s=this._findNewUpperIndex(t,o,e),r(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,r){var i,n,o;if(r){for(n=(i=e)+1,o=this._objects.length;n<o;++n)if(t.intersectsWithObject(this._objects[n])||t.isContainedWithinObject(this._objects[n])||this._objects[n].isContainedWithinObject(t)){i=n;break}}else i=e+1;return i},moveTo:function(t,e){return r(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.forEachObject(function(t){t.dispose&&t.dispose()}),this._objects=[],this.backgroundImage=null,this.overlayImage=null,this._iTextInstances=null,this.lowerCanvasEl=null,this.cacheCanvasEl=null,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}}),t(W.StaticCanvas.prototype,W.Observable),t(W.StaticCanvas.prototype,W.Collection),t(W.StaticCanvas.prototype,W.DataURLExporter),t(W.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=W.util.createCanvasElement();if(!e||!e.getContext)return null;var r=e.getContext("2d");if(!r)return null;switch(t){case"getImageData":return void 0!==r.getImageData;case"setLineDash":return void 0!==r.setLineDash;case"toDataURL":return void 0!==e.toDataURL;case"toDataURLWithQuality":try{return e.toDataURL("image/jpeg",0),!0}catch(t){}return!1;default:return null}}}),W.StaticCanvas.prototype.toJSON=W.StaticCanvas.prototype.toObject,W.isLikelyNode&&(W.StaticCanvas.prototype.createPNGStream=function(){var t=W.util.getNodeCanvas(this.lowerCanvasEl);return t&&t.createPNGStream()},W.StaticCanvas.prototype.createJPEGStream=function(t){var e=W.util.getNodeCanvas(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),W.BaseBrush=W.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,setShadow:function(t){return this.shadow=new W.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,this.strokeDashArray&&W.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray)},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas.contextTop,e=this.canvas.getZoom();t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*e,t.shadowOffsetX=this.shadow.offsetX*e,t.shadowOffsetY=this.shadow.offsetY*e}},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),W.PencilBrush=W.util.createClass(W.BaseBrush,{initialize:function(t){this.canvas=t,this._points=[]},_drawSegment:function(t,e,r){var i=e.midPointFrom(r);return t.quadraticCurveTo(e.x,e.y,i.x,i.y),i},onMouseDown:function(t){this._prepareForDrawing(t),this._captureDrawingPath(t),this._render()},onMouseMove:function(t){if(this._captureDrawingPath(t)&&1<this._points.length){var e=this._points,r=e.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,e[r-2],e[r-1],!0),i.stroke(),i.restore()}},onMouseUp:function(){this.oldEnd=void 0,this._finalizeAndAddPath()},_prepareForDrawing:function(t){var e=new W.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(1<this._points.length&&t.eq(this._points[this._points.length-1])||(this._points.push(t),0))},_reset:function(){this._points.length=0,this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new W.Point(t.x,t.y);return this._addPoint(e)},_render:function(){var t,e,r=this.canvas.contextTop,i=this._points[0],n=this._points[1];if(this._saveAndTransform(r),r.beginPath(),2===this._points.length&&i.x===n.x&&i.y===n.y){var o=this.width/1e3;i=new W.Point(i.x,i.y),n=new W.Point(n.x,n.y),i.x-=o,n.x+=o}for(r.moveTo(i.x,i.y),t=1,e=this._points.length;t<e;t++)this._drawSegment(r,i,n),i=this._points[t],n=this._points[t+1];r.lineTo(i.x,i.y),r.stroke(),r.restore()},convertPointsToSVGPath:function(t){var e,r=[],i=this.width/1e3,n=new W.Point(t[0].x,t[0].y),o=new W.Point(t[1].x,t[1].y),s=t.length,a=1,c=1,l=2<s;for(l&&(a=t[2].x<o.x?-1:t[2].x===o.x?0:1,c=t[2].y<o.y?-1:t[2].y===o.y?0:1),r.push("M ",n.x-a*i," ",n.y-c*i," "),e=1;e<s;e++){if(!n.eq(o)){var u=n.midPointFrom(o);r.push("Q ",n.x," ",n.y," ",u.x," ",u.y," ")}n=t[e],e+1<t.length&&(o=t[e+1])}return l&&(a=n.x>t[e-2].x?1:n.x===t[e-2].x?0:-1,c=n.y>t[e-2].y?1:n.y===t[e-2].y?0:-1),r.push("L ",n.x+a*i," ",n.y+c*i),r},createPath:function(t){var e=new W.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray}),r=new W.Point(e.left+e.width/2,e.top+e.height/2);return r=e.translateToGivenOrigin(r,"center","center",e.originX,e.originY),e.top=r.y,e.left=r.x,this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath();var t=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==t){var e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.add(e),this.canvas.renderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}else this.canvas.requestRenderAll()}}),W.CircleBrush=W.util.createClass(W.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),r=this.canvas.contextTop;this._saveAndTransform(r),r.fillStyle=e.fill,r.beginPath(),r.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),r.closePath(),r.fill(),r.restore()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,r,i=this.canvas.contextTop,n=this.points;for(this._saveAndTransform(i),t=0,e=n.length;t<e;t++)r=n[t],i.fillStyle=r.fill,i.beginPath(),i.arc(r.x,r.y,r.radius,0,2*Math.PI,!1),i.closePath(),i.fill();i.restore()},onMouseMove:function(t){this.drawDot(t)},onMouseUp:function(){var t,e,r=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var i=[];for(t=0,e=this.points.length;t<e;t++){var n=this.points[t],o=new W.Circle({radius:n.radius,left:n.x,top:n.y,originX:"center",originY:"center",fill:n.fill});this.shadow&&o.setShadow(this.shadow),i.push(o)}var s=new W.Group(i,{originX:"center",originY:"center"});s.canvas=this.canvas,this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=r,this.canvas.requestRenderAll()},addPoint:function(t){var e=new W.Point(t.x,t.y),r=W.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,i=new W.Color(this.color).setAlpha(W.util.getRandomInt(0,100)/100).toRgba();return e.radius=r,e.fill=i,this.points.push(e),e}}),W.SprayBrush=W.util.createClass(W.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],r=0,i=this.sprayChunks.length;r<i;r++)for(var n=this.sprayChunks[r],o=0,s=n.length;o<s;o++){var a=new W.Rect({width:n[o].width,height:n[o].width,left:n[o].x+1,top:n[o].y+1,originX:"center",originY:"center",fill:this.color});e.push(a)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var c=new W.Group(e,{originX:"center",originY:"center"});this.shadow&&c.setShadow(this.shadow),this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,r,i,n={};for(r=0,i=t.length;r<i;r++)n[e=t[r].left+""+t[r].top]||(n[e]=t[r]);var o=[];for(e in n)o.push(n[e]);return o},render:function(t){var e,r,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),e=0,r=t.length;e<r;e++){var n=t[e];void 0!==n.opacity&&(i.globalAlpha=n.opacity),i.fillRect(n.x,n.y,n.width,n.width)}i.restore()},_render:function(){var t,e,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);r.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,r,i,n,o=this.width/2;for(n=0;n<this.density;n++){e=W.util.getRandomInt(t.x-o,t.x+o),r=W.util.getRandomInt(t.y-o,t.y+o),i=this.dotWidthVariance?W.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new W.Point(e,r);s.width=i,this.randomOpacity&&(s.opacity=W.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),W.PatternBrush=W.util.createClass(W.PencilBrush,{getPatternSrc:function(){var t=W.document.createElement("canvas"),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),r=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new W.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-r.x,offsetY:-r.y}),e}}),function(){var t=W.util.getPointer,e=W.util.degreesToRadians,r=W.util.radiansToDegrees,i=Math.atan2,n=Math.abs,o=W.StaticCanvas.supports("setLineDash");for(var s in W.Canvas=W.util.createClass(W.StaticCanvas,{initialize:function(t,e){e=e||{},this.renderAndResetBound=this.renderAndReset.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=W.PencilBrush&&new W.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,r,i=this.getActiveObjects();if(0<i.length&&!this.preserveObjectStacking){e=[],r=[];for(var n=0,o=this._objects.length;n<o;n++)t=this._objects[n],-1===i.indexOf(t)?e.push(t):r.push(t);1<i.length&&(this._activeObject._objects=r),e.push.apply(e,r)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.isDrawingMode&&this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._render();var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.selection&&this._groupSelector&&this._drawSelection(t),this.fire("after:render"),this.contextTopDirty=!0,this},_resetCurrentTransform:function(){var t=this._currentTransform;t.target.set({scaleX:t.original.scaleX,scaleY:t.original.scaleY,skewX:t.original.skewX,skewY:t.original.skewY,left:t.original.left,top:t.original.top}),this._shouldCenterTransform(t.target)?"rotate"===t.action?this._setOriginToCenter(t.target):("center"!==t.originX&&("right"===t.originX?t.mouseXSign=-1:t.mouseXSign=1),"center"!==t.originY&&("bottom"===t.originY?t.mouseYSign=-1:t.mouseYSign=1),t.originX="center",t.originY="center"):(t.originX=t.original.originX,t.originY=t.original.originY)},containsPoint:function(t,e,r){var i,n=r||this.getPointer(t,!0);return i=e.group&&e.group===this._activeObject&&"activeSelection"===e.group.type?this._normalizePointer(e.group,n):{x:n.x,y:n.y},e.containsPoint(i)||e._findTargetCorner(n)},_normalizePointer:function(t,e){var r=t.calcTransformMatrix(),i=W.util.invertTransform(r),n=this.restorePointerVpt(e);return W.util.transformPoint(n,i)},isTargetTransparent:function(t,e,r){var i=this.contextCache,n=t.selectionBackgroundColor,o=this.viewportTransform;return t.selectionBackgroundColor="",this.clearContext(i),i.save(),i.transform(o[0],o[1],o[2],o[3],o[4],o[5]),t.render(i),i.restore(),t===this._activeObject&&t._renderControls(i,{hasBorders:!1,transparentCorners:!1},{hasBorders:!1}),t.selectionBackgroundColor=n,W.util.isTransparent(i,e,r,this.targetFindTolerance)},_isSelectionKeyPressed:function(t){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find(function(e){return!0===t[e]}):t[this.selectionKey]},_shouldClearSelection:function(t,e){var r=this.getActiveObjects(),i=this._activeObject;return!e||e&&i&&1<r.length&&-1===r.indexOf(e)&&i!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&i&&i!==e},_shouldCenterTransform:function(t){if(t){var e,r=this._currentTransform;return"scale"===r.action||"scaleX"===r.action||"scaleY"===r.action?e=this.centeredScaling||t.centeredScaling:"rotate"===r.action&&(e=this.centeredRotation||t.centeredRotation),e?!r.altKey:r.altKey}},_getOriginFromCorner:function(t,e){var r={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?r.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(r.x="left"),"tl"===e||"mt"===e||"tr"===e?r.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(r.y="top"),r},_getActionFromCorner:function(t,e,r){if(!e)return"drag";switch(e){case"mtr":return"rotate";case"ml":case"mr":return r[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return r[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(t,r){if(r){var i=this.getPointer(t),n=r._findTargetCorner(this.getPointer(t,!0)),o=this._getActionFromCorner(r,n,t),s=this._getOriginFromCorner(r,n);this._currentTransform={target:r,action:o,corner:n,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,offsetX:i.x-r.left,offsetY:i.y-r.top,originX:s.x,originY:s.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,left:r.left,top:r.top,theta:e(r.angle),width:r.width*r.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:t.shiftKey,altKey:t[this.centeredKey]},this._currentTransform.original={left:r.left,top:r.top,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,originX:s.x,originY:s.y},this._resetCurrentTransform()}},_translateObject:function(t,e){var r=this._currentTransform,i=r.target,n=t-r.offsetX,o=e-r.offsetY,s=!i.get("lockMovementX")&&i.left!==n,a=!i.get("lockMovementY")&&i.top!==o;return s&&i.set("left",n),a&&i.set("top",o),s||a},_changeSkewTransformOrigin:function(t,e,r){var i="originX",n={0:"center"},o=e.target.skewX,s="left",a="right",c="mt"===e.corner||"ml"===e.corner?1:-1,l=1;t=0<t?1:-1,"y"===r&&(o=e.target.skewY,s="top",a="bottom",i="originY"),n[-1]=s,n[1]=a,e.target.flipX&&(l*=-1),e.target.flipY&&(l*=-1),0===o?(e.skewSign=-c*t*l,e[i]=n[-t]):(o=0<o?1:-1,e.skewSign=o,e[i]=n[o*c*l])},_skewObject:function(t,e,r){var i,n=this._currentTransform,o=n.target,s=o.get("lockSkewingX"),a=o.get("lockSkewingY");if(s&&"x"===r||a&&"y"===r)return!1;var c,l,u=o.getCenterPoint(),h=o.toLocalPoint(new W.Point(t,e),"center","center")[r],f=o.toLocalPoint(new W.Point(n.lastX,n.lastY),"center","center")[r],m=o._getTransformedDimensions();return this._changeSkewTransformOrigin(h-f,n,r),c=o.toLocalPoint(new W.Point(t,e),n.originX,n.originY)[r],l=o.translateToOriginPoint(u,n.originX,n.originY),i=this._setObjectSkew(c,n,r,m),n.lastX=t,n.lastY=e,o.setPositionByOrigin(l,n.originX,n.originY),i},_setObjectSkew:function(t,e,r,i){var n,o,s,a,c,l,u,h,f,m,d=e.target,p=e.skewSign;return m="x"===r?(c="y",l="Y",u="X",f=0,d.skewY):(c="x",l="X",u="Y",f=d.skewX,0),a=d._getTransformedDimensions(f,m),n=(h=2*Math.abs(t)-a[r])<=2?0:(n=p*Math.atan(h/d["scale"+u]/(a[c]/d["scale"+l])),W.util.radiansToDegrees(n)),o=d["skew"+u]!==n,d.set("skew"+u,n),0!==d["skew"+l]&&(s=d._getTransformedDimensions(),n=i[c]/s[c]*d["scale"+l],d.set("scale"+l,n)),o},_scaleObject:function(t,e,r){var i=this._currentTransform,n=i.target,o=n.get("lockScalingX"),s=n.get("lockScalingY"),a=n.get("lockScalingFlip");if(o&&s)return!1;var c,l=n.translateToOriginPoint(n.getCenterPoint(),i.originX,i.originY),u=n.toLocalPoint(new W.Point(t,e),i.originX,i.originY),h=n._getTransformedDimensions();return this._setLocalMouse(u,i),c=this._setObjectScale(u,i,o,s,r,a,h),n.setPositionByOrigin(l,i.originX,i.originY),c},_setObjectScale:function(t,e,r,i,n,o,s){var a,c,l,u,h=e.target,f=!1,m=!1,d=!1;return l=t.x*h.scaleX/s.x,u=t.y*h.scaleY/s.y,a=h.scaleX!==l,c=h.scaleY!==u,o&&l<=0&&l<h.scaleX&&(f=!0,t.x=0),o&&u<=0&&u<h.scaleY&&(m=!0,t.y=0),"equally"!==n||r||i?n?"x"!==n||h.get("lockUniScaling")?"y"!==n||h.get("lockUniScaling")||m||i||h.set("scaleY",u)&&(d=d||c):f||r||h.set("scaleX",l)&&(d=d||a):(f||r||h.set("scaleX",l)&&(d=d||a),m||i||h.set("scaleY",u)&&(d=d||c)):d=this._scaleObjectEqually(t,h,e,s),e.newScaleX=l,e.newScaleY=u,f||m||this._flipObject(e,n),d},_scaleObjectEqually:function(t,e,r,i){var n,o=t.y+t.x,s=i.y*r.original.scaleY/e.scaleY+i.x*r.original.scaleX/e.scaleX,a=t.x<0?-1:1,c=t.y<0?-1:1;return r.newScaleX=a*Math.abs(r.original.scaleX*o/s),r.newScaleY=c*Math.abs(r.original.scaleY*o/s),n=r.newScaleX!==e.scaleX||r.newScaleY!==e.scaleY,e.set("scaleX",r.newScaleX),e.set("scaleY",r.newScaleY),n},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var r=e.target,i=this.getZoom(),o=r.padding/i;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),n(t.x)>o?t.x<0?t.x+=o:t.x-=o:t.x=0,n(t.y)>o?t.y<0?t.y+=o:t.y-=o:t.y=0},_rotateObject:function(t,e){var n=this._currentTransform;if(n.target.get("lockRotation"))return!1;var o=i(n.ey-n.top,n.ex-n.left),s=i(e-n.top,t-n.left),a=r(s-o+n.theta),c=!0;if(0<n.target.snapAngle){var l=n.target.snapAngle,u=n.target.snapThreshold||l,h=Math.ceil(a/l)*l,f=Math.floor(a/l)*l;Math.abs(a-f)<u?a=f:Math.abs(a-h)<u&&(a=h)}return a<0&&(a=360+a),a%=360,n.target.angle===a?c=!1:n.target.angle=a,c},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.rotate(0)},_drawSelection:function(t){var e=this._groupSelector,r=e.left,i=e.top,s=n(r),a=n(i);if(this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(0<r?0:-r),e.ey-(0<i?0:-i),s,a)),this.selectionLineWidth&&this.selectionBorderColor)if(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,1<this.selectionDashArray.length&&!o){var c=e.ex+.5-(0<r?0:s),l=e.ey+.5-(0<i?0:a);t.beginPath(),W.util.drawDashedLine(t,c,l,c+s,l,this.selectionDashArray),W.util.drawDashedLine(t,c,l+a-1,c+s,l+a-1,this.selectionDashArray),W.util.drawDashedLine(t,c,l,c,l+a,this.selectionDashArray),W.util.drawDashedLine(t,c+s-1,l,c+s-1,l+a,this.selectionDashArray),t.closePath(),t.stroke()}else W.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(e.ex+.5-(0<r?0:s),e.ey+.5-(0<i?0:a),s,a)},findTarget:function(t,e){if(!this.skipTargetFind){var r,i,n=this.getPointer(t,!0),o=this._activeObject,s=this.getActiveObjects();if(this.targets=[],1<s.length&&!e&&o===this._searchPossibleTargets([o],n))return o;if(1===s.length&&o._findTargetCorner(n))return o;if(1===s.length&&o===this._searchPossibleTargets([o],n)){if(!this.preserveObjectStacking)return o;r=o,i=this.targets,this.targets=[]}var a=this._searchPossibleTargets(this._objects,n);return t[this.altSelectionKey]&&a&&r&&a!==r&&(a=r,this.targets=i),a}},_checkTarget:function(t,e){if(e&&e.visible&&e.evented&&this.containsPoint(null,e,t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,t.x,t.y))return!0}},_searchPossibleTargets:function(t,e){for(var r,i,n,o=t.length;o--;)if(this._checkTarget(e,t[o])){(r=t[o]).subTargetCheck&&r instanceof W.Group&&(i=this._normalizePointer(r,e),(n=this._searchPossibleTargets(r._objects,i))&&this.targets.push(n));break}return r},restorePointerVpt:function(t){return W.util.transformPoint(t,W.util.invertTransform(this.viewportTransform))},getPointer:function(e,r,i){i=i||this.upperCanvasEl;var n,o=t(e),s=i.getBoundingClientRect(),a=s.width||0,c=s.height||0;return a&&c||("top"in s&&"bottom"in s&&(c=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,r||(o=this.restorePointerVpt(o)),n=0===a||0===c?{width:1,height:1}:{width:i.width/a,height:i.height/c},{x:o.x*n.width,y:o.y*n.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl?this.upperCanvasEl.className="":this.upperCanvasEl=this._createCanvasElement(),W.util.addClass(this.upperCanvasEl,"upper-canvas "+t),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=W.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),W.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),W.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,r=this.height||t.height;W.util.setStyle(t,{position:"absolute",width:e+"px",height:r+"px",left:0,top:0,"touch-action":"none"}),t.width=e,t.height=r,W.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),this._hoveredTarget===t&&(this._hoveredTarget=null),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var r=!1,i=this.getActiveObjects(),n=[],o=[],s={e:e};t.forEach(function(t){-1===i.indexOf(t)&&(r=!0,t.fire("deselected",s),o.push(t))}),i.forEach(function(e){-1===t.indexOf(e)&&(r=!0,e.fire("selected",s),n.push(e))}),0<t.length&&0<i.length?(s.selected=n,s.deselected=o,s.updated=n[0]||o[0],s.target=this._activeObject,r&&this.fire("selection:updated",s)):0<i.length?(1===i.length&&(s.target=n[0],this.fire("object:selected",s)),s.selected=n,s.target=this._activeObject,this.fire("selection:created",s)):0<t.length&&(s.deselected=o,this.fire("selection:cleared",s))},setActiveObject:function(t,e){var r=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(r,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&!!this._discardActiveObject(e,t)&&!t.onSelect({e:e})&&(this._activeObject=t,!0)},_discardActiveObject:function(t,e){var r=this._activeObject;if(r){if(r.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects();return e.length&&this.fire("before:selection:cleared",{target:e[0],e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),delete this.upperCanvasEl,t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,W.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,r){var i=this._realizeGroupTransformOnObject(t),n=this.callSuper("_toObject",t,e,r);return this._unwindGroupTransformOnObject(t,i),n},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(r){e[r]=t[r]}),this._activeObject.realizeTransform(t),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,r){var i=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,r),this._unwindGroupTransformOnObject(e,i)}}),W.StaticCanvas)"prototype"!==s&&(W.Canvas[s]=W.StaticCanvas[s]);W.isTouchSupported&&(W.Canvas.prototype._setCursorFromEvent=function(){})}(),k={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},A=W.util.addListener,M=W.util.removeListener,W.util.object.extend(W.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this.removeListeners(),this._bindEvents(),A(W.window,"resize",this._onResize),A(this.upperCanvasEl,"mousedown",this._onMouseDown),A(this.upperCanvasEl,"dblclick",this._onDoubleClick),A(this.upperCanvasEl,"mousemove",this._onMouseMove),A(this.upperCanvasEl,"mouseout",this._onMouseOut),A(this.upperCanvasEl,"mouseenter",this._onMouseEnter),A(this.upperCanvasEl,"wheel",this._onMouseWheel),A(this.upperCanvasEl,"contextmenu",this._onContextMenu),A(this.upperCanvasEl,"dragover",this._onDragOver),A(this.upperCanvasEl,"dragenter",this._onDragEnter),A(this.upperCanvasEl,"dragleave",this._onDragLeave),A(this.upperCanvasEl,"drop",this._onDrop),A(this.upperCanvasEl,"touchstart",this._onMouseDown,{passive:!1}),A(this.upperCanvasEl,"touchmove",this._onMouseMove,{passive:!1}),"undefined"!=typeof eventjs&&"add"in eventjs&&(eventjs.add(this.upperCanvasEl,"gesture",this._onGesture),eventjs.add(this.upperCanvasEl,"drag",this._onDrag),eventjs.add(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.add(this.upperCanvasEl,"shake",this._onShake),eventjs.add(this.upperCanvasEl,"longpress",this._onLongPress))},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},removeListeners:function(){M(W.window,"resize",this._onResize),M(this.upperCanvasEl,"mousedown",this._onMouseDown),M(this.upperCanvasEl,"mousemove",this._onMouseMove),M(this.upperCanvasEl,"mouseout",this._onMouseOut),M(this.upperCanvasEl,"mouseenter",this._onMouseEnter),M(this.upperCanvasEl,"wheel",this._onMouseWheel),M(this.upperCanvasEl,"contextmenu",this._onContextMenu),M(this.upperCanvasEl,"doubleclick",this._onDoubleClick),M(this.upperCanvasEl,"touchstart",this._onMouseDown),M(this.upperCanvasEl,"touchmove",this._onMouseMove),M(this.upperCanvasEl,"dragover",this._onDragOver),M(this.upperCanvasEl,"dragenter",this._onDragEnter),M(this.upperCanvasEl,"dragleave",this._onDragLeave),M(this.upperCanvasEl,"drop",this._onDrop),"undefined"!=typeof eventjs&&"remove"in eventjs&&(eventjs.remove(this.upperCanvasEl,"gesture",this._onGesture),eventjs.remove(this.upperCanvasEl,"drag",this._onDrag),eventjs.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.remove(this.upperCanvasEl,"shake",this._onShake),eventjs.remove(this.upperCanvasEl,"longpress",this._onLongPress))},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t}),this._iTextInstances&&this._iTextInstances.forEach(function(t){t.isEditing&&t.hiddenTextarea.focus()})},_onMouseEnter:function(t){this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null)},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._handleEvent(t,"dblclick")},_onMouseDown:function(t){this.__onMouseDown(t),A(W.document,"touchend",this._onMouseUp,{passive:!1}),A(W.document,"touchmove",this._onMouseMove,{passive:!1}),M(this.upperCanvasEl,"mousemove",this._onMouseMove),M(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchstart"===t.type?M(this.upperCanvasEl,"mousedown",this._onMouseDown):(A(W.document,"mouseup",this._onMouseUp),A(W.document,"mousemove",this._onMouseMove))},_onMouseUp:function(t){if(this.__onMouseUp(t),M(W.document,"mouseup",this._onMouseUp),M(W.document,"touchend",this._onMouseUp),M(W.document,"mousemove",this._onMouseMove),M(W.document,"touchmove",this._onMouseMove),A(this.upperCanvasEl,"mousemove",this._onMouseMove),A(this.upperCanvasEl,"touchmove",this._onMouseMove,{passive:!1}),"touchend"===t.type){var e=this;setTimeout(function(){A(e.upperCanvasEl,"mousedown",e._onMouseDown)},400)}},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t,e){var r=this._activeObject;return!(r&&r.isEditing&&t===r||!(t&&(t.isMoving||t!==r)||!t&&r||!t&&!r&&!this._groupSelector||e&&this._previousPointer&&this.selection&&(e.x!==this._previousPointer.x||e.y!==this._previousPointer.y)))},__onMouseUp:function(t){var e,r=!0,i=this._currentTransform,n=this._groupSelector,o=!n||0===n.left&&0===n.top;if(vt(t,3))this.fireRightClick&&this._handleEvent(t,"up",e,3,o);else if(vt(t,2))this.fireMiddleClick&&this._handleEvent(t,"up",e,2,o);else if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else{i&&(this._finalizeCurrentTransform(t),r=!i.actionPerformed),e=r?this.findTarget(t,!0):i.target;var s=this._shouldRender(e,this.getPointer(t));e||!o?this._maybeGroupObjects(t):(this._groupSelector=null,this._currentTransform=null),e&&(e.isMoving=!1),this._setCursorFromEvent(t,e),this._handleEvent(t,"up",e||null,1,o),e&&(e.__corner=0),s&&this.requestRenderAll()}},_simpleEventHandler:function(t,e){var r=this.findTarget(e),i=this.targets,n={e:e,target:r,subTargets:i};if(this.fire(t,n),r&&r.fire(t,n),!i)return r;for(var o=0;o<i.length;o++)i[o].fire(t,n);return r},_handleEvent:function(t,e,r,i,n){var o=void 0===r?this.findTarget(t):r,s=this.targets||[],a={e:t,target:o,subTargets:s,button:i||1,isClick:n||!1};this.fire("mouse:"+e,a),o&&o.fire("mouse"+e,a);for(var c=0;c<s.length;c++)s[c].fire("mouse"+e,a)},_finalizeCurrentTransform:function(t){var e=this._currentTransform,r=e.target;r._scaling&&(r._scaling=!1),r.setCoords(),this._restoreOriginXY(r),(e.actionPerformed||this.stateful&&r.hasStateChanged())&&(this.fire("object:modified",{target:r,e:t}),r.fire("modified",{e:t}))},_restoreOriginXY:function(t){if(this._previousOriginX&&this._previousOriginY){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null}},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll(),this.clipTo&&W.util.clipContext(this,this.contextTop);var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e)}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this._handleEvent(t,"up")},__onMouseDown:function(t){var e=this.findTarget(t)||null;if(vt(t,3))this.fireRightClick&&this._handleEvent(t,"down",e,3);else if(vt(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",e,2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(!this._currentTransform){var r=this.getPointer(t,!0);this._previousPointer=r;var i=this._shouldRender(e,r),n=this._shouldGroup(t,e);this._shouldClearSelection(t,e)?this.discardActiveObject(t):n&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:r.x,ey:r.y,top:0,left:0}),e&&(e.selectable&&this.setActiveObject(e,t),e!==this._activeObject||!e.__corner&&n||(this._beforeTransform(t,e),this._setupCurrentTransform(t,e))),this._handleEvent(t,"down",e),i&&this.requestRenderAll()}},_beforeTransform:function(t,e){this.stateful&&e.saveState(),e._findTargetCorner(this.getPointer(t,!0))&&this.onBeforeScaleRotate(e)},_setOriginToCenter:function(t){this._previousOriginX=this._currentTransform.target.originX,this._previousOriginY=this._currentTransform.target.originY;var e=t.getCenterPoint();t.originX="center",t.originY="center",t.left=e.x,t.top=e.y,this._currentTransform.left=t.left,this._currentTransform.top=t.top},_setCenterToOrigin:function(t){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null},__onMouseMove:function(t){var e,r;if(this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(!(void 0!==t.touches&&1<t.touches.length)){var i=this._groupSelector;i?(r=this.getPointer(t,!0),i.left=r.x-i.ex,i.top=r.y-i.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move",this._currentTransform?null:e)}},_fireOverOutEvents:function(t,e){this.fireSynteticInOutEvents(t,e,{targetName:"_hoveredTarget",canvasEvtOut:"mouse:out",evtOut:"mouseout",canvasEvtIn:"mouse:over",evtIn:"mouseover"})},_fireEnterLeaveEvents:function(t,e){this.fireSynteticInOutEvents(t,e,{targetName:"_draggedoverTarget",evtOut:"dragleave",evtIn:"dragenter"})},fireSynteticInOutEvents:function(t,e,r){var i,n,o,s=this[r.targetName],a=s!==t,c=r.canvasEvtIn,l=r.canvasEvtOut;a&&(i={e:e,target:t,previousTarget:s},n={e:e,target:s,nextTarget:t},this[r.targetName]=t),o=t&&a,s&&a&&(l&&this.fire(l,n),s.fire(r.evtOut,n)),o&&(c&&this.fire(c,i),t.fire(r.evtIn,i))},__onMouseWheel:function(t){this._handleEvent(t,"wheel")},_transformObject:function(t){var e=this.getPointer(t),r=this._currentTransform;r.reset=!1,r.target.isMoving=!0,r.shiftKey=t.shiftKey,r.altKey=t[this.centeredKey],this._beforeScaleTransform(t,r),this._performTransformAction(t,r,e),r.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,r){var i=r.x,n=r.y,o=e.target,s=e.action,a=!1;"rotate"===s?(a=this._rotateObject(i,n))&&this._fire("rotating",o,t):"scale"===s?(a=this._onScale(t,e,i,n))&&this._fire("scaling",o,t):"scaleX"===s?(a=this._scaleObject(i,n,"x"))&&this._fire("scaling",o,t):"scaleY"===s?(a=this._scaleObject(i,n,"y"))&&this._fire("scaling",o,t):"skewX"===s?(a=this._skewObject(i,n,"x"))&&this._fire("skewing",o,t):"skewY"===s?(a=this._skewObject(i,n,"y"))&&this._fire("skewing",o,t):(a=this._translateObject(i,n))&&(this._fire("moving",o,t),this.setCursor(o.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||a},_fire:function(t,e,r){this.fire("object:"+t,{target:e,e:r}),e.fire(t,{e:r})},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var r=this._shouldCenterTransform(e.target);(r&&("center"!==e.originX||"center"!==e.originY)||!r&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(),e.reset=!0)}},_onScale:function(t,e,r,i){return this._isUniscalePossible(t,e.target)?(e.currentAction="scale",this._scaleObject(r,i)):(e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(),e.currentAction="scaleEqually",this._scaleObject(r,i,"equally"))},_isUniscalePossible:function(t,e){return(t[this.uniScaleKey]||this.uniScaleTransform)&&!e.get("lockUniScaling")},_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var r=e.hoverCursor||this.hoverCursor,i=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,n=(!i||!i.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));n?this.setCursor(this.getCornerCursor(n,e,t)):this.setCursor(r)},getCornerCursor:function(t,e,r){return this.actionIsDisabled(t,e,r)?this.notAllowedCursor:t in k?this._getRotatedCornerCursor(t,e,r):"mtr"===t&&e.hasRotatingPoint?this.rotationCursor:this.defaultCursor},actionIsDisabled:function(t,e,r){return"mt"===t||"mb"===t?r[this.altActionKey]?e.lockSkewingX:e.lockScalingY:"ml"===t||"mr"===t?r[this.altActionKey]?e.lockSkewingY:e.lockScalingX:"mtr"===t?e.lockRotation:this._isUniscalePossible(r,e)?e.lockScalingX&&e.lockScalingY:e.lockScalingX||e.lockScalingY},_getRotatedCornerCursor:function(t,e,r){var i=Math.round(e.angle%360/45);return i<0&&(i+=8),i+=k[t],r[this.altActionKey]&&k[t]%2==0&&(i+=2),i%=8,this.cursorMap[i]}}),P=Math.min,D=Math.max,W.util.object.extend(W.Canvas.prototype,{_shouldGroup:function(t,e){var r=this._activeObject;return r&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(r!==e||"activeSelection"===r.type)},_handleGrouping:function(t,e){var r=this._activeObject;r.__corner||e===r&&!(e=this.findTarget(t,!0))||(r&&"activeSelection"===r.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var r=this._activeObject,i=r._objects.slice(0);r.contains(t)?(r.removeWithUpdate(t),this._hoveredTarget=t,1===r.size()&&this._setActiveObject(r.item(0),e)):(r.addWithUpdate(t),this._hoveredTarget=r),this._fireSelectionEvents(i,e)},_createActiveSelection:function(t,e){var r=this.getActiveObjects(),i=this._createGroup(t);this._hoveredTarget=i,this._setActiveObject(i,e),this._fireSelectionEvents(r,e)},_createGroup:function(t){var e=this.getObjects(),r=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new W.ActiveSelection(r,{canvas:this})},_groupSelectedObjects:function(t){var e,r=this._collectObjects();1===r.length?this.setActiveObject(r[0],t):1<r.length&&(e=new W.ActiveSelection(r.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(){for(var t,e=[],r=this._groupSelector.ex,i=this._groupSelector.ey,n=r+this._groupSelector.left,o=i+this._groupSelector.top,s=new W.Point(P(r,n),P(i,o)),a=new W.Point(D(r,n),D(i,o)),c=!this.selectionFullyContained,l=r===n&&i===o,u=this._objects.length;u--&&!((t=this._objects[u])&&t.selectable&&t.visible&&(c&&t.intersectsWithRect(s,a)||t.isContainedWithinRect(s,a)||c&&t.containsPoint(s)||c&&t.containsPoint(a))&&(e.push(t),l)););return e},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null,this._currentTransform=null}}),j=W.StaticCanvas.supports("toDataURLWithQuality"),W.util.object.extend(W.StaticCanvas.prototype,{toDataURL:function(t){var e=(t=t||{}).format||"png",r=t.quality||1,i=(t.multiplier||1)*(t.enableRetinaScaling?1:1/this.getRetinaScaling()),n={left:t.left||0,top:t.top||0,width:t.width||0,height:t.height||0};return this.__toDataURLWithMultiplier(e,r,n,i)},__toDataURLWithMultiplier:function(t,e,r,i){var n=this.width,o=this.height,s=(r.width||this.width)*i,a=(r.height||this.height)*i,c=this.getZoom()*i,l=this.viewportTransform,u=[c,0,0,c,(l[4]-r.left)*i,(l[5]-r.top)*i],h=this.interactive,f=this.skipOffscreen,m=n!==s||o!==a;this.viewportTransform=u,this.skipOffscreen=!1,this.interactive=!1,m&&this.setDimensions({width:s,height:a},{backstoreOnly:!0}),this.renderAll();var d=this.__toDataURL(t,e,r);return this.interactive=h,this.skipOffscreen=f,this.viewportTransform=l,m&&this.setDimensions({width:n,height:o},{backstoreOnly:!0}),this.renderAll(),d},__toDataURL:function(t,e){var r=this.contextContainer.canvas;return"jpg"===t&&(t="jpeg"),j?r.toDataURL("image/"+t,e):r.toDataURL("image/"+t)}}),W.util.object.extend(W.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,r){return this.loadFromJSON(t,e,r)},loadFromJSON:function(t,e,r){if(t){var i="string"==typeof t?JSON.parse(t):W.util.object.clone(t),n=this,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,this._enlivenObjects(i.objects,function(t){n.clear(),n._setBgOverlay(i,function(){t.forEach(function(t,e){n.insertAt(t,e)}),n.renderOnAddRemove=o,delete i.objects,delete i.backgroundImage,delete i.overlayImage,delete i.background,delete i.overlay,n._setOptions(i),n.renderAll(),e&&e()})},r),this}},_setBgOverlay:function(t,e){var r={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){function i(){r.backgroundImage&&r.overlayImage&&r.backgroundColor&&r.overlayColor&&e&&e()}this.__setBgOverlay("backgroundImage",t.backgroundImage,r,i),this.__setBgOverlay("overlayImage",t.overlayImage,r,i),this.__setBgOverlay("backgroundColor",t.background,r,i),this.__setBgOverlay("overlayColor",t.overlay,r,i)}else e&&e()},__setBgOverlay:function(t,e,r,i){var n=this;if(!e)return r[t]=!0,void(i&&i());"backgroundImage"===t||"overlayImage"===t?W.util.enlivenObjects([e],function(e){n[t]=e[0],r[t]=!0,i&&i()}):this["set"+W.util.string.capitalize(t,!0)](e,function(){r[t]=!0,i&&i()})},_enlivenObjects:function(t,e,r){t&&0!==t.length?W.util.enlivenObjects(t,function(t){e&&e(t)},null,r):e&&e([])},_toDataURL:function(t,e){this.clone(function(r){e(r.toDataURL(t))})},_toDataURLWithMultiplier:function(t,e,r){this.clone(function(i){r(i.toDataURLWithMultiplier(t,e))})},clone:function(t,e){var r=JSON.stringify(this.toJSON(e));this.cloneWithoutData(function(e){e.loadFromJSON(r,function(){t&&t(e)})})},cloneWithoutData:function(t){var e=W.document.createElement("canvas");e.width=this.width,e.height=this.height;var r=new W.Canvas(e);r.clipTo=this.clipTo,this.backgroundImage?(r.setBackgroundImage(this.backgroundImage.src,function(){r.renderAll(),t&&t(r)}),r.backgroundImageOpacity=this.backgroundImageOpacity,r.backgroundImageStretch=this.backgroundImageStretch):t&&t(r)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,i=e.util.object.clone,n=e.util.toFixed,o=e.util.string.capitalize,s=e.util.degreesToRadians,a=e.StaticCanvas.supports("setLineDash"),c=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:c,statefullCache:!1,noScaleCache:!0,dirty:!0,__corner:0,paintFirst:"fill",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeLineCap strokeLineJoin strokeMiterLimit backgroundColor".split(" "),initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.document.createElement("canvas"),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas()},_limitCacheSize:function(t){var r=e.perfLimitSizeTotal,i=t.width,n=t.height,o=e.maxCacheSideLimit,s=e.minCacheSideLimit;if(i<=o&&n<=o&&i*n<=r)return i<s&&(t.width=s),n<s&&(t.height=s),t;var a=i/n,c=e.util.limitDimsByArea(a,r),l=e.util.capValue,u=l(s,c.x,o),h=l(s,c.y,o);return u<i&&(t.zoomX/=i/u,t.width=u,t.capped=!0),h<n&&(t.zoomY/=n/h,t.height=h,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.canvas&&this.canvas.getZoom()||1,r=this.getObjectScaling(),i=this.canvas&&this.canvas._isRetinaScaling()?e.devicePixelRatio:1,n=this._getNonTransformedDimensions(),o=r.scaleX*t*i,s=r.scaleY*t*i;return{width:2+n.x*o,height:2+n.y*s,zoomX:o,zoomY:s,x:n.x,y:n.y}},_updateCacheCanvas:function(){if(this.noScaleCache&&this.canvas&&this.canvas._currentTransform){var t=this.canvas._currentTransform.target,r=this.canvas._currentTransform.action;if(this===t&&r.slice&&"scale"===r.slice(0,5))return!1}var i,n,o=this._cacheCanvas,s=this._limitCacheSize(this._getCacheCanvasDimensions()),a=e.minCacheSideLimit,c=s.width,l=s.height,u=s.zoomX,h=s.zoomY,f=c!==this.cacheWidth||l!==this.cacheHeight,m=this.zoomX!==u||this.zoomY!==h,d=f||m,p=0,_=0,g=!1;if(f){var v=this._cacheCanvas.width,y=this._cacheCanvas.height,b=v<c||y<l;g=b||(c<.9*v||l<.9*y)&&a<v&&a<y,b&&!s.capped&&(a<c||a<l)&&(p=.1*c,_=.1*l)}return d&&(g?(o.width=Math.ceil(c+p),o.height=Math.ceil(l+_)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,o.width,o.height)),i=s.x*u/2,n=s.y*h/2,this.cacheTranslationX=Math.round(o.width/2-i)+i,this.cacheTranslationY=Math.round(o.height/2-n)+n,this.cacheWidth=c,this.cacheHeight=l,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(u,h),this.zoomX=u,this.zoomY=h,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initClipping(t),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e;e=this.group&&!this.group._transformDone?this.calcTransformMatrix():this.calcOwnMatrix(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},toObject:function(t){var r=e.Object.NUM_FRACTION_DIGITS,i={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:n(this.left,r),top:n(this.top,r),width:n(this.width,r),height:n(this.height,r),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:n(this.strokeWidth,r),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:n(this.strokeMiterLimit,r),scaleX:n(this.scaleX,r),scaleY:n(this.scaleY,r),angle:n(this.angle,r),flipX:this.flipX,flipY:this.flipY,opacity:n(this.opacity,r),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:n(this.skewX,r),skewY:n(this.skewY,r)};return e.util.populateWithProperties(this,i,t),this.includeDefaultValues||(i=this._removeDefaultValues(i)),i},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var r=e.util.getKlass(t.type).prototype;return r.stateProperties.forEach(function(e){t[e]===r[e]&&delete t[e],"[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(r[e])&&0===t[e].length&&0===r[e].length&&delete t[e]}),t},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){var t=this.scaleX,e=this.scaleY;if(this.group){var r=this.group.getObjectScaling();t*=r.scaleX,e*=r.scaleY}return{scaleX:t,scaleY:e}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,r){var i="scaleX"===t||"scaleY"===t,n=this[t]!==r,o=!1;return i&&(r=this._constrainScale(r)),"scaleX"===t&&r<0?(this.flipX=!this.flipX,r*=-1):"scaleY"===t&&r<0?(this.flipY=!this.flipY,r*=-1):"shadow"!==t||!r||r instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",r):r=new e.Shadow(r),this[t]=r,n&&(o=this.group&&this.group.isOnACache(),-1<this.cacheProperties.indexOf(t)?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&-1<this.stateProperties.indexOf(t)&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.clipTo&&e.util.clipContext(this,t),this.shouldCache()?(this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext),this.dirty=!1),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&t.restore(),t.restore())},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},needsItsOwnCache:function(){return"stroke"===this.paintFirst&&"object"==typeof this.shadow},shouldCache:function(){return this.ownCaching=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawObject:function(t){this._renderBackground(t),this._setStrokeStyles(t,this),this._setFillStyles(t,this),this._render(t)},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-r/2,e,r)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){e.stroke&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,t.strokeStyle=e.stroke.toLive?e.stroke.toLive(t,this):e.stroke)},_setFillStyles:function(t,e){e.fill&&(t.fillStyle=e.fill.toLive?e.fill.toLive(t,this):e.fill)},_setLineDash:function(t,e,r){e&&(1&e.length&&e.push.apply(e,e),a?t.setLineDash(e):r&&r(t))},_renderControls:function(t,r){var i,n,o,a=this.getViewportTransform(),c=this.calcTransformMatrix();n=void 0!==(r=r||{}).hasBorders?r.hasBorders:this.hasBorders,o=void 0!==r.hasControls?r.hasControls:this.hasControls,c=e.util.multiplyTransformMatrices(a,c),i=e.util.qrDecompose(c),t.save(),t.translate(i.translateX,i.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),r.forActiveSelection?(t.rotate(s(i.angle)),n&&this.drawBordersInGroup(t,i,r)):(t.rotate(s(this.angle)),n&&this.drawBorders(t,r)),o&&this.drawControls(t,r),t.restore()},_setShadow:function(t){if(this.shadow){var r=this.canvas&&this.canvas.viewportTransform[0]||1,i=this.canvas&&this.canvas.viewportTransform[3]||1,n=this.getObjectScaling();this.canvas&&this.canvas._isRetinaScaling()&&(r*=e.devicePixelRatio,i*=e.devicePixelRatio),t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*e.browserShadowBlurConstant*(r+i)*(n.scaleX+n.scaleY)/4,t.shadowOffsetX=this.shadow.offsetX*r*n.scaleX,t.shadowOffsetY=this.shadow.offsetY*i*n.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var r=e.gradientTransform||e.patternTransform,i=-this.width/2+e.offsetX||0,n=-this.height/2+e.offsetY||0;return t.translate(i,n),r&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),{offsetX:i,offsetY:n}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_renderFill:function(t){this.fill&&(t.save(),this._applyPatternGradientTransform(t,this.fill),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray,this._renderDashedStroke),this._applyPatternGradientTransform(t,this.stroke),t.stroke(),t.restore())},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var r=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),r=e.util.transformPoint(r,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,r.x+=t.offsetLeft,r.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(r,"center","center")},clone:function(t,r){var i=this.toObject(r);this.constructor.fromObject?this.constructor.fromObject(i,t):e.Object._fromObject("Object",i,t)},cloneAsImage:function(t,r){var i=this.toDataURL(r);return e.util.loadImage(i,function(r){t&&t(new e.Image(r))}),this},toDataURL:function(t){t=t||{};var r=e.util.createCanvasElement(),i=this.getBoundingRect();r.width=i.width,r.height=i.height,e.util.wrapElement(r,"div");var n=new e.StaticCanvas(r,{enableRetinaScaling:t.enableRetinaScaling,renderOnAddRemove:!1,skipOffscreen:!1});"jpg"===t.format&&(t.format="jpeg"),"jpeg"===t.format&&(n.backgroundColor="#fff");var o={left:this.left,top:this.top};this.setPositionByOrigin(new e.Point(n.width/2,n.height/2),"center","center");var s=this.canvas;n.add(this);var a=n.toDataURL(t);return this.set(o).setCoords(),this.canvas=s,n._objects=[],n.dispose(),n=null,a},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},setGradient:function(t,r){r=r||{};var i={colorStops:[]};return i.type=r.type||(r.r1||r.r2?"radial":"linear"),i.coords={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},(r.r1||r.r2)&&(i.coords.r1=r.r1,i.coords.r2=r.r2),i.gradientTransform=r.gradientTransform,e.Gradient.prototype.addColorStop.call(i,r.colorStops),this.set(t,e.Gradient.forObject(this,i))},setPatternFill:function(t){return this.set("fill",new e.Pattern(t))},setShadow:function(t){return this.set("shadow",t?new e.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,r){r=r||this.canvas.getPointer(t);var i=new e.Point(r.x,r.y),n=this._getLeftTopCoords();return this.angle&&(i=e.util.rotatePoint(i,n,s(-this.angle))),{x:i.x-n.x,y:i.y-n.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),r(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,r,n,o){var s=e[t];r=i(r,!0),e.util.enlivenPatterns([r.fill,r.stroke],function(t){void 0!==t[0]&&(r.fill=t[0]),void 0!==t[1]&&(r.stroke=t[1]);var e=o?new s(r[o],r):new s(r);n&&n(e)})},e.Object.__uid=0)}(e),z=W.util.degreesToRadians,I={left:-.5,center:0,right:.5},R={top:-.5,center:0,bottom:.5},W.util.object.extend(W.Object.prototype,{translateToGivenOrigin:function(t,e,r,i,n){var o,s,a,c=t.x,l=t.y;return"string"==typeof e?e=I[e]:e-=.5,"string"==typeof i?i=I[i]:i-=.5,"string"==typeof r?r=R[r]:r-=.5,"string"==typeof n?n=R[n]:n-=.5,s=n-r,((o=i-e)||s)&&(a=this._getTransformedDimensions(),c=t.x+o*a.x,l=t.y+s*a.y),new W.Point(c,l)},translateToCenterPoint:function(t,e,r){var i=this.translateToGivenOrigin(t,e,r,"center","center");return this.angle?W.util.rotatePoint(i,t,z(this.angle)):i},translateToOriginPoint:function(t,e,r){var i=this.translateToGivenOrigin(t,"center","center",e,r);return this.angle?W.util.rotatePoint(i,t,z(this.angle)):i},getCenterPoint:function(){var t=new W.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var r=this.getCenterPoint();return this.translateToOriginPoint(r,t,e)},toLocalPoint:function(t,e,r){var i,n,o=this.getCenterPoint();return i=void 0!==e&&void 0!==r?this.translateToGivenOrigin(o,"center","center",e,r):new W.Point(this.left,this.top),n=new W.Point(t.x,t.y),this.angle&&(n=W.util.rotatePoint(n,o,-z(this.angle))),n.subtractEquals(i)},setPositionByOrigin:function(t,e,r){var i=this.translateToCenterPoint(t,e,r),n=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",n.x),this.set("top",n.y)},adjustPosition:function(t){var e,r,i=z(this.angle),n=this.getScaledWidth(),o=W.util.cos(i)*n,s=W.util.sin(i)*n;e="string"==typeof this.originX?I[this.originX]:this.originX-.5,r="string"==typeof t?I[t]:t-.5,this.left+=o*(r-e),this.top+=s*(r-e),this.setCoords(),this.originX=t},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")},onDeselect:function(){}}),F=W.util.degreesToRadians,L=W.util.multiplyTransformMatrices,N=W.util.transformPoint,W.util.object.extend(W.Object.prototype,{oCoords:null,aCoords:null,ownMatrixCache:null,matrixCache:null,getCoords:function(t,e){this.oCoords||this.setCoords();var r=t?this.aCoords:this.oCoords;return function(t){return[new W.Point(t.tl.x,t.tl.y),new W.Point(t.tr.x,t.tr.y),new W.Point(t.br.x,t.br.y),new W.Point(t.bl.x,t.bl.y)]}(e?this.calcCoords(t):r)},intersectsWithRect:function(t,e,r,i){var n=this.getCoords(r,i);return"Intersection"===W.Intersection.intersectPolygonRectangle(n,t,e).status},intersectsWithObject:function(t,e,r){return"Intersection"===W.Intersection.intersectPolygonPolygon(this.getCoords(e,r),t.getCoords(e,r)).status||t.isContainedWithinObject(this,e,r)||this.isContainedWithinObject(t,e,r)},isContainedWithinObject:function(t,e,r){for(var i=this.getCoords(e,r),n=0,o=t._getImageLines(r?t.calcCoords(e):e?t.aCoords:t.oCoords);n<4;n++)if(!t.containsPoint(i[n],o))return!1;return!0},isContainedWithinRect:function(t,e,r,i){var n=this.getBoundingRect(r,i);return n.left>=t.x&&n.left+n.width<=e.x&&n.top>=t.y&&n.top+n.height<=e.y},containsPoint:function(t,e,r,i){e=e||this._getImageLines(i?this.calcCoords(r):r?this.aCoords:this.oCoords);var n=this._findCrossPoints(t,e);return 0!==n&&n%2==1},isOnScreen:function(t){if(!this.canvas)return!1;for(var e,r=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br,n=this.getCoords(!0,t),o=0;o<4;o++)if((e=n[o]).x<=i.x&&e.x>=r.x&&e.y<=i.y&&e.y>=r.y)return!0;if(this.intersectsWithRect(r,i,!0,t))return!0;var s={x:(r.x+i.x)/2,y:(r.y+i.y)/2};return!!this.containsPoint(s,null,!0,t)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var r,i,n=0;for(var o in e)if(!((i=e[o]).o.y<t.y&&i.d.y<t.y||i.o.y>=t.y&&i.d.y>=t.y||((i.o.x===i.d.x&&i.o.x>=t.x?i.o.x:(r=(i.d.y-i.o.y)/(i.d.x-i.o.x),-(t.y-0*t.x-(i.o.y-r*i.o.x))/(0-r)))>=t.x&&(n+=1),2!==n)))break;return n},getBoundingRect:function(t,e){var r=this.getCoords(t,e);return W.util.makeBoundingBoxFromPoints(r)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var r=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/r)},scaleToHeight:function(t,e){var r=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/r)},calcCoords:function(t){var e=this._calcRotateMatrix(),r=this._calcTranslateMatrix(),i=L(r,e),n=this.getViewportTransform(),o=t?i:L(n,i),s=this._getTransformedDimensions(),a=s.x/2,c=s.y/2,l=N({x:-a,y:-c},o),u=N({x:a,y:-c},o),h=N({x:-a,y:c},o),f=N({x:a,y:c},o);if(!t){var m=this.padding,d=F(this.angle),p=W.util.cos(d),_=W.util.sin(d),g=p*m,v=_*m,y=g+v,b=g-v;m&&(l.x-=b,l.y-=y,u.x+=y,u.y-=b,h.x-=y,h.y+=b,f.x+=b,f.y+=y);var x=new W.Point((l.x+h.x)/2,(l.y+h.y)/2),w=new W.Point((u.x+l.x)/2,(u.y+l.y)/2),S=new W.Point((f.x+u.x)/2,(f.y+u.y)/2),C=new W.Point((f.x+h.x)/2,(f.y+h.y)/2),T=new W.Point(w.x+_*this.rotatingPointOffset,w.y-p*this.rotatingPointOffset)}var E={tl:l,tr:u,br:f,bl:h};return t||(E.ml=x,E.mt=w,E.mr=S,E.mb=C,E.mtr=T),E},setCoords:function(t,e){return this.oCoords=this.calcCoords(t),e||(this.aCoords=this.calcCoords(!0)),t||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){if(this.angle){var t=F(this.angle),e=W.util.cos(t),r=W.util.sin(t);return[e,r,-r,e,0,0]}return W.iMatrix.concat()},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="";return!t&&this.group&&(e=this.group.transformMatrixKey(t)+"_"),e+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){if(t)return this.calcOwnMatrix();var e=this.transformMatrixKey(),r=this.matrixCache||(this.matrixCache={});if(r.key===e)return r.value;var i=this.calcOwnMatrix();return this.group&&(i=L(this.group.calcTransformMatrix(),i)),r.key=e,r.value=i},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),e=this.ownMatrixCache||(this.ownMatrixCache={});if(e.key===t)return e.value;var r,i=this._calcTranslateMatrix(),n=this._calcDimensionsTransformMatrix(this.skewX,this.skewY,!0);return this.angle&&(r=this._calcRotateMatrix(),i=L(i,r)),i=L(i,n),e.key=t,e.value=i},_calcDimensionsTransformMatrix:function(t,e,r){var i,n=[this.scaleX*(r&&this.flipX?-1:1),0,0,this.scaleY*(r&&this.flipY?-1:1),0,0];return t&&(i=[1,0,Math.tan(F(t)),1],n=L(n,i,!0)),e&&(i=[1,Math.tan(F(e)),0,1],n=L(n,i,!0)),n},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(t,e){void 0===t&&(t=this.skewX),void 0===e&&(e=this.skewY);var r=this._getNonTransformedDimensions();if(0===t&&0===e)return{x:r.x*this.scaleX,y:r.y*this.scaleY};var i,n,o=r.x/2,s=r.y/2,a=[{x:-o,y:-s},{x:o,y:-s},{x:-o,y:s},{x:o,y:s}],c=this._calcDimensionsTransformMatrix(t,e,!1);for(i=0;i<a.length;i++)a[i]=W.util.transformPoint(a[i],c);return{x:(n=W.util.makeBoundingBoxFromPoints(a)).width,y:n.height}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return W.util.transformPoint(e,t,!0).scalarAdd(2*this.padding)}}),W.util.object.extend(W.Object.prototype,{sendToBack:function(){return this.group?W.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?W.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?W.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?W.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?W.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),B=W.util.toFixed,W.util.object.extend(W.Object.prototype,{getSvgStyles:function(t){var e=this.fillRule,r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):"none",n=this.strokeLineCap?this.strokeLineCap:"butt",o=this.strokeLineJoin?this.strokeLineJoin:"miter",s=this.strokeMiterLimit?this.strokeMiterLimit:"4",a=void 0!==this.opacity?this.opacity:"1",c=this.visible?"":" visibility: hidden;",l=t?"":this.getSvgFilter(),u=yt("fill",this.fill);return[yt("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",n,"; ","stroke-linejoin: ",o,"; ","stroke-miterlimit: ",s,"; ",u,"fill-rule: ",e,"; ","opacity: ",a,";",l,c].join("")},getSvgSpanStyles:function(t,e){var r=t.strokeWidth?"stroke-width: "+t.strokeWidth+"; ":"",i=t.fontFamily?"font-family: "+t.fontFamily.replace(/"/g,"'")+"; ":"",n=t.fontSize?"font-size: "+t.fontSize+"px; ":"",o=t.fontStyle?"font-style: "+t.fontStyle+"; ":"",s=t.fontWeight?"font-weight: "+t.fontWeight+"; ":"",a=t.fill?yt("fill",t.fill):"",c=t.stroke?yt("stroke",t.stroke):"",l=this.getSvgTextDecoration(t);return[c,r,i,n,o,s,l=l&&"text-decoration: "+l+"; ",a,t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"",e?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return"overline"in t||"underline"in t||"linethrough"in t?(t.overline?"overline ":"")+(t.underline?"underline ":"")+(t.linethrough?"line-through ":""):""},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgId:function(){return this.id?'id="'+this.id+'" ':""},getSvgTransform:function(){var t=this.angle,e=this.skewX%360,r=this.skewY%360,i=this.getCenterPoint(),n=W.Object.NUM_FRACTION_DIGITS,o="translate("+B(i.x,n)+" "+B(i.y,n)+")",s=0!==t?" rotate("+B(t,n)+")":"",a=1===this.scaleX&&1===this.scaleY?"":" scale("+B(this.scaleX,n)+" "+B(this.scaleY,n)+")",c=0!=e?" skewX("+B(e,n)+")":"",l=0!=r?" skewY("+B(r,n)+")":"";return[o,s,a,this.flipX?" matrix(-1 0 0 1 0 0) ":"",this.flipY?" matrix(1 0 0 -1 0 0)":"",c,l].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+") ":""},_setSVGBg:function(t){if(this.backgroundColor){var e=W.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',B(-this.width/2,e),'" y="',B(-this.height/2,e),'" width="',B(this.width,e),'" height="',B(this.height,e),'"></rect>\n')}},_createBaseSVGMarkup:function(){var t=[];return this.fill&&this.fill.toLive&&t.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&t.push(this.stroke.toSVG(this,!1)),this.shadow&&t.push(this.shadow.toSVG(this)),t},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}}),$=W.util.object.extend,U="stateProperties",W.util.object.extend(W.Object.prototype,{hasStateChanged:function(t){var e="_"+(t=t||U);return Object.keys(this[e]).length<this[t].length||!function t(e,r,i){if(e===r)return!0;if(Array.isArray(e)){if(e.length!==r.length)return!1;for(var n=0,o=e.length;n<o;n++)if(!t(e[n],r[n]))return!1;return!0}if(e&&"object"==typeof e){var s,a=Object.keys(e);if(!i&&a.length!==Object.keys(r).length)return!1;for(n=0,o=a.length;n<o;n++)if(!t(e[s=a[n]],r[s]))return!1;return!0}}(this[e],this,!0)},saveState:function(t){var e=t&&t.propertySet||U,r="_"+e;return this[r]?(bt(this,r,this[e]),t&&t.stateProperties&&bt(this,r,t.stateProperties),this):this.setupState(t)},setupState:function(t){var e=(t=t||{}).propertySet||U;return this["_"+(t.propertySet=e)]={},this.saveState(t),this}}),q=W.util.degreesToRadians,W.util.object.extend(W.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var e,r,i=t.x,n=t.y;for(var o in this.__corner=0,this.oCoords)if(this.isControlVisible(o)&&("mtr"!==o||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==o&&"mr"!==o&&"mb"!==o&&"ml"!==o)&&(r=this._getImageLines(this.oCoords[o].corner),0!==(e=this._findCrossPoints({x:i,y:n},r))&&e%2==1))return this.__corner=o;return!1},_setCornerCoords:function(){var t,e,r=this.oCoords,i=q(45-this.angle),n=.707106*this.cornerSize,o=n*W.util.cos(i),s=n*W.util.sin(i);for(var a in r)t=r[a].x,e=r[a].y,r[a].corner={tl:{x:t-s,y:e-o},tr:{x:t+o,y:e-s},bl:{x:t-o,y:e+s},br:{x:t+s,y:e+o}}},drawSelectionBackground:function(t){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;t.save();var e=this.getCenterPoint(),r=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return t.translate(e.x,e.y),t.scale(1/i[0],1/i[3]),t.rotate(q(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-r.x/2,-r.y/2,r.x,r.y),t.restore(),this},drawBorders:function(t,e){e=e||{};var r=this._calculateCurrentDimensions(),i=1/this.borderScaleFactor,n=r.x+i,o=r.y+i,s=void 0!==e.hasRotatingPoint?e.hasRotatingPoint:this.hasRotatingPoint,a=void 0!==e.hasControls?e.hasControls:this.hasControls,c=void 0!==e.rotatingPointOffset?e.rotatingPointOffset:this.rotatingPointOffset;if(t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray,null),t.strokeRect(-n/2,-o/2,n,o),s&&this.isControlVisible("mtr")&&a){var l=-o/2;t.beginPath(),t.moveTo(0,l),t.lineTo(0,l-c),t.stroke()}return t.restore(),this},drawBordersInGroup:function(t,e,r){r=r||{};var i=this._getNonTransformedDimensions(),n=W.util.customTransformMatrix(e.scaleX,e.scaleY,e.skewX),o=W.util.transformPoint(i,n),s=1/this.borderScaleFactor,a=o.x+s,c=o.y+s;return t.save(),this._setLineDash(t,r.borderDashArray||this.borderDashArray,null),t.strokeStyle=r.borderColor||this.borderColor,t.strokeRect(-a/2,-c/2,a,c),t.restore(),this},drawControls:function(t,e){e=e||{};var r=this._calculateCurrentDimensions(),i=r.x,n=r.y,o=e.cornerSize||this.cornerSize,s=-(i+o)/2,a=-(n+o)/2,c=void 0!==e.transparentCorners?e.transparentCorners:this.transparentCorners,l=void 0!==e.hasRotatingPoint?e.hasRotatingPoint:this.hasRotatingPoint,u=c?"stroke":"fill";return t.save(),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray,null),this._drawControl("tl",t,u,s,a,e),this._drawControl("tr",t,u,s+i,a,e),this._drawControl("bl",t,u,s,a+n,e),this._drawControl("br",t,u,s+i,a+n,e),this.get("lockUniScaling")||(this._drawControl("mt",t,u,s+i/2,a,e),this._drawControl("mb",t,u,s+i/2,a+n,e),this._drawControl("mr",t,u,s+i,a+n/2,e),this._drawControl("ml",t,u,s,a+n/2,e)),l&&this._drawControl("mtr",t,u,s+i/2,a-this.rotatingPointOffset,e),t.restore(),this},_drawControl:function(t,e,r,i,n,o){if(o=o||{},this.isControlVisible(t)){var s=this.cornerSize,a=!this.transparentCorners&&this.cornerStrokeColor;switch(o.cornerStyle||this.cornerStyle){case"circle":e.beginPath(),e.arc(i+s/2,n+s/2,s/2,0,2*Math.PI,!1),e[r](),a&&e.stroke();break;default:this.transparentCorners||e.clearRect(i,n,s,s),e[r+"Rect"](i,n,s,s),a&&e.strokeRect(i,n,s,s)}}},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){for(var e in t=t||{})this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility},onDeselect:function(){},onSelect:function(){}}),W.util.object.extend(W.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){function r(){}var i=(e=e||{}).onComplete||r,n=e.onChange||r,o=this;return W.util.animate({startValue:t.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),o.requestRenderAll(),n()},onComplete:function(){t.setCoords(),i()}}),this},fxCenterObjectV:function(t,e){function r(){}var i=(e=e||{}).onComplete||r,n=e.onChange||r,o=this;return W.util.animate({startValue:t.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),o.requestRenderAll(),n()},onComplete:function(){t.setCoords(),i()}}),this},fxRemove:function(t,e){function r(){}var i=(e=e||{}).onComplete||r,n=e.onChange||r,o=this;return W.util.animate({startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),o.requestRenderAll(),n()},onComplete:function(){o.remove(t),i()}}),this}}),W.util.object.extend(W.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e,r=[];for(t in arguments[0])r.push(t);for(var i=0,n=r.length;i<n;i++)t=r[i],e=i!==n-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,r,i){var n,o=this;e=e.toString(),r=r?W.util.object.clone(r):{},~t.indexOf(".")&&(n=t.split("."));var s=n?this.get(n[0])[n[1]]:this.get(t);"from"in r||(r.from=s),e=~e.indexOf("=")?s+parseFloat(e.replace("=","")):parseFloat(e),W.util.animate({startValue:r.from,endValue:e,byValue:r.by,easing:r.easing,duration:r.duration,abort:r.abort&&function(){return r.abort.call(o)},onChange:function(e,s,a){n?o[n[0]][n[1]]=e:o.set(t,e),i||r.onChange&&r.onChange(e,s,a)},onComplete:function(t,e,n){i||(o.setCoords(),r.onComplete&&r.onComplete(t,e,n))}})}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,i=e.util.object.clone,n={x1:1,x2:1,y1:1,y2:1},o=e.StaticCanvas.supports("setLineDash");function s(t,e){var r=t.origin,i=t.axis1,n=t.axis2,o=t.dimension,s=e.nearest,a=e.center,c=e.farthest;return function(){switch(this.get(r)){case s:return Math.min(this.get(i),this.get(n));case a:return Math.min(this.get(i),this.get(n))+.5*this.get(o);case c:return Math.max(this.get(i),this.get(n))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t=t||[0,0,0,0],this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t=t||{},this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),void 0!==n[t]&&this._setWidthHeight(),this},_getLeftToOriginX:s({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:s({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){if(t.beginPath(),!this.strokeDashArray||this.strokeDashArray&&o){var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2)}t.lineWidth=this.strokeWidth;var r=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=r},_renderDashedStroke:function(t){var r=this.calcLinePoints();t.beginPath(),e.util.drawDashedLine(t,r.x1,r.y1,r.x2,r.y2,this.strokeDashArray),t.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return r(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,r=t*this.width*.5,i=e*this.height*.5;return{x1:r,x2:t*this.width*-.5,y1:i,y2:e*this.height*-.5}},toSVG:function(t){var e=this._createBaseSVGMarkup(),r=this.calcLinePoints();return e.push("<line ",this.getSvgId(),'x1="',r.x1,'" y1="',r.y1,'" x2="',r.x2,'" y2="',r.y2,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,i,n){n=n||{};var o=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),s=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];i(new e.Line(s,r(o,n)))},e.Line.fromObject=function(t,r){var n=i(t,!0);n.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",n,function(t){delete t.points,r&&r(t)},"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=Math.PI;e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*r,cacheProperties:e.Object.prototype.cacheProperties.concat("radius"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},toSVG:function(t){var i=this._createBaseSVGMarkup(),n=(this.endAngle-this.startAngle)%(2*r);if(0==n)i.push("<circle ",this.getSvgId(),'cx="0" cy="0" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"',this.addPaintOrder(),"/>\n");else{var o=e.util.cos(this.startAngle)*this.radius,s=e.util.sin(this.startAngle)*this.radius,a=e.util.cos(this.endAngle)*this.radius,c=e.util.sin(this.endAngle)*this.radius,l=r<n?"1":"0";i.push('<path d="M '+o+" "+s," A "+this.radius+" "+this.radius," 0 ",+l+" 1"," "+a+" "+c,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"',this.addPaintOrder(),'"/>\n')}return t?t(i.join("")):i.join("")},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,r){var i=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!function(t){return"radius"in t&&0<=t.radius}(i))throw new Error("value of `r` attribute is required and can not be negative");i.left=(i.left||0)-i.radius,i.top=(i.top||0)-i.radius,r(new e.Circle(i))},e.Circle.fromObject=function(t,r){return e.Object._fromObject("Circle",t,r)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,r=this.height/2;t.beginPath(),t.moveTo(-e,r),t.lineTo(0,-r),t.lineTo(e,r),t.closePath(),this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var r=this.width/2,i=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-r,i,0,-i,this.strokeDashArray),e.util.drawDashedLine(t,0,-i,r,i,this.strokeDashArray),e.util.drawDashedLine(t,r,i,-r,i,this.strokeDashArray),t.closePath()},toSVG:function(t){var e=this._createBaseSVGMarkup(),r=this.width/2,i=this.height/2,n=[-r+" "+i,"0 "+-i,r+" "+i].join(",");return e.push("<polygon ",this.getSvgId(),'points="',n,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"',this.addPaintOrder(),"/>"),t?t(e.join("")):e.join("")}}),e.Triangle.fromObject=function(t,r){return e.Object._fromObject("Triangle",t,r)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup();return e.push("<ellipse ",this.getSvgId(),'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',this.addPaintOrder(),"/>\n"),t?t(e.join("")):e.join("")},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,r,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,r){var i=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,r(new e.Ellipse(i))},e.Ellipse.fromObject=function(t,r){return e.Object._fromObject("Ellipse",t,r)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){if(1!==this.width||1!==this.height){var e=this.rx?Math.min(this.rx,this.width/2):0,r=this.ry?Math.min(this.ry,this.height/2):0,i=this.width,n=this.height,o=-this.width/2,s=-this.height/2,a=0!==e||0!==r,c=.4477152502;t.beginPath(),t.moveTo(o+e,s),t.lineTo(o+i-e,s),a&&t.bezierCurveTo(o+i-c*e,s,o+i,s+c*r,o+i,s+r),t.lineTo(o+i,s+n-r),a&&t.bezierCurveTo(o+i,s+n-c*r,o+i-c*e,s+n,o+i-e,s+n),t.lineTo(o+e,s+n),a&&t.bezierCurveTo(o+c*e,s+n,o,s+n-c*r,o,s+n-r),t.lineTo(o,s+r),a&&t.bezierCurveTo(o,s+c*r,o+c*e,s,o+e,s),t.closePath(),this._renderPaintInOrder(t)}else t.fillRect(-.5,-.5,1,1)},_renderDashedStroke:function(t){var r=-this.width/2,i=-this.height/2,n=this.width,o=this.height;t.beginPath(),e.util.drawDashedLine(t,r,i,r+n,i,this.strokeDashArray),e.util.drawDashedLine(t,r+n,i,r+n,i+o,this.strokeDashArray),e.util.drawDashedLine(t,r+n,i+o,r,i+o,this.strokeDashArray),e.util.drawDashedLine(t,r,i+o,r,i,this.strokeDashArray),t.closePath()},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),r=-this.width/2,i=-this.height/2;return e.push("<rect ",this.getSvgId(),'x="',r,'" y="',i,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',this.addPaintOrder(),"/>\n"),t?t(e.join("")):e.join("")}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,i,n){if(!t)return i(null);n=n||{};var o=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0;var s=new e.Rect(r(n?e.util.object.clone(n):{},o));s.visible=s.visible&&0<s.width&&0<s.height,i(s)},e.Rect.fromObject=function(t,r){return e.Object._fromObject("Rect",t,r)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,i=e.util.array.min,n=e.util.array.max,o=e.util.toFixed;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e);var r=this._calcDimensions();void 0===e.left&&(this.left=r.left),void 0===e.top&&(this.top=r.top),this.width=r.width,this.height=r.height,this.pathOffset={x:r.left+this.width/2,y:r.top+this.height/2}},_calcDimensions:function(){var t=this.points,e=i(t,"x")||0,r=i(t,"y")||0;return{left:e,top:r,width:(n(t,"x")||0)-e,height:(n(t,"y")||0)-r}},toObject:function(t){return r(this.callSuper("toObject",t),{points:this.points.concat()})},toSVG:function(t){for(var r=[],i=this.pathOffset.x,n=this.pathOffset.y,s=this._createBaseSVGMarkup(),a=e.Object.NUM_FRACTION_DIGITS,c=0,l=this.points.length;c<l;c++)r.push(o(this.points[c].x-i,a),",",o(this.points[c].y-n,a)," ");return s.push("<",this.type," ",this.getSvgId(),'points="',r.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"',this.addPaintOrder(),"/>\n"),t?t(s.join("")):s.join("")},commonRender:function(t){var e,r=this.points.length,i=this.pathOffset.x,n=this.pathOffset.y;if(!r||isNaN(this.points[r-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-n);for(var o=0;o<r;o++)e=this.points[o],t.lineTo(e.x-i,e.y-n);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var r,i;t.beginPath();for(var n=0,o=this.points.length;n<o;n++)r=this.points[n],i=this.points[n+1]||r,e.util.drawDashedLine(t,r.x,r.y,i.x,i.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElement=function(t,r,i){if(!t)return r(null);i=i||{};var n=e.parsePointsAttribute(t.getAttribute("points")),o=e.parseAttributes(t,e.Polyline.ATTRIBUTE_NAMES);r(new e.Polyline(n,e.util.object.extend(o,i)))},e.Polyline.fromObject=function(t,r){return e.Object._fromObject("Polyline",t,r,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend;e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))},_renderDashedStroke:function(t){this.callSuper("_renderDashedStroke",t),t.closePath()}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=function(t,i,n){if(!t)return i(null);n=n||{};var o=e.parsePointsAttribute(t.getAttribute("points")),s=e.parseAttributes(t,e.Polygon.ATTRIBUTE_NAMES);i(new e.Polygon(o,r(s,n)))},e.Polygon.fromObject=function(t,r){return e.Object._fromObject("Polygon",t,r,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.array.min,i=e.util.array.max,n=e.util.object.extend,o=Object.prototype.toString,s=e.util.drawArc,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,e){e=e||{},this.callSuper("initialize",e),t=t||[];var r="[object Array]"===o.call(t);this.path=r?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(r||(this.path=this._parsePath()),this._setPositionDimensions(e))},_setPositionDimensions:function(t){var e=this._parseDimensions();this.width=e.width,this.height=e.height,void 0===t.left&&(this.left=e.left),void 0===t.top&&(this.top=e.top),this.pathOffset=this.pathOffset||{x:e.left+this.width/2,y:e.top+this.height/2}},_renderPathCommands:function(t){var e,r,i,n=null,o=0,a=0,c=0,l=0,u=0,h=0,f=-this.pathOffset.x,m=-this.pathOffset.y;t.beginPath();for(var d=0,p=this.path.length;d<p;++d){switch((e=this.path[d])[0]){case"l":c+=e[1],l+=e[2],t.lineTo(c+f,l+m);break;case"L":c=e[1],l=e[2],t.lineTo(c+f,l+m);break;case"h":c+=e[1],t.lineTo(c+f,l+m);break;case"H":c=e[1],t.lineTo(c+f,l+m);break;case"v":l+=e[1],t.lineTo(c+f,l+m);break;case"V":l=e[1],t.lineTo(c+f,l+m);break;case"m":o=c+=e[1],a=l+=e[2],t.moveTo(c+f,l+m);break;case"M":o=c=e[1],a=l=e[2],t.moveTo(c+f,l+m);break;case"c":r=c+e[5],i=l+e[6],u=c+e[3],h=l+e[4],t.bezierCurveTo(c+e[1]+f,l+e[2]+m,u+f,h+m,r+f,i+m),c=r,l=i;break;case"C":c=e[5],l=e[6],u=e[3],h=e[4],t.bezierCurveTo(e[1]+f,e[2]+m,u+f,h+m,c+f,l+m);break;case"s":r=c+e[3],i=l+e[4],h=null===n[0].match(/[CcSs]/)?(u=c,l):(u=2*c-u,2*l-h),t.bezierCurveTo(u+f,h+m,c+e[1]+f,l+e[2]+m,r+f,i+m),u=c+e[1],h=l+e[2],c=r,l=i;break;case"S":r=e[3],i=e[4],h=null===n[0].match(/[CcSs]/)?(u=c,l):(u=2*c-u,2*l-h),t.bezierCurveTo(u+f,h+m,e[1]+f,e[2]+m,r+f,i+m),c=r,l=i,u=e[1],h=e[2];break;case"q":r=c+e[3],i=l+e[4],u=c+e[1],h=l+e[2],t.quadraticCurveTo(u+f,h+m,r+f,i+m),c=r,l=i;break;case"Q":r=e[3],i=e[4],t.quadraticCurveTo(e[1]+f,e[2]+m,r+f,i+m),c=r,l=i,u=e[1],h=e[2];break;case"t":r=c+e[1],i=l+e[2],h=null===n[0].match(/[QqTt]/)?(u=c,l):(u=2*c-u,2*l-h),t.quadraticCurveTo(u+f,h+m,r+f,i+m),c=r,l=i;break;case"T":r=e[1],i=e[2],h=null===n[0].match(/[QqTt]/)?(u=c,l):(u=2*c-u,2*l-h),t.quadraticCurveTo(u+f,h+m,r+f,i+m),c=r,l=i;break;case"a":s(t,c+f,l+m,[e[1],e[2],e[3],e[4],e[5],e[6]+c+f,e[7]+l+m]),c+=e[6],l+=e[7];break;case"A":s(t,c+f,l+m,[e[1],e[2],e[3],e[4],e[5],e[6]+f,e[7]+m]),c=e[6],l=e[7];break;case"z":case"Z":c=o,l=a,t.closePath()}n=e}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return n(this.callSuper("toObject",t),{path:this.path.map(function(t){return t.slice()}),top:this.top,left:this.left})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},toSVG:function(t){for(var e,r=[],i=this._createBaseSVGMarkup(),n=0,o=this.path.length;n<o;n++)r.push(this.path[n].join(" "));var s=r.join(" ");return e=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") ",i.push("<path ",this.getSvgId(),'d="',s,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),e,this.getSvgTransformMatrix(),'" stroke-linecap="round" ',this.addPaintOrder(),"/>\n"),t?t(i.join("")):i.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var t,e,r,i,n,o=[],s=[],l=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,u=0,h=this.path.length;u<h;u++){for(i=(t=this.path[u]).slice(1).trim(),s.length=0;r=l.exec(i);)s.push(r[0]);n=[t.charAt(0)];for(var f=0,m=s.length;f<m;f++)e=parseFloat(s[f]),isNaN(e)||n.push(e);var d=n[0],p=a[d.toLowerCase()],_=c[d]||d;if(n.length-1>p)for(var g=1,v=n.length;g<v;g+=p)o.push([d].concat(n.slice(g,g+p))),d=_;else o.push(n)}return o},_parseDimensions:function(){for(var t,n,o,s,a=[],c=[],l=null,u=0,h=0,f=0,m=0,d=0,p=0,_=0,g=this.path.length;_<g;++_){switch((t=this.path[_])[0]){case"l":f+=t[1],m+=t[2],s=[];break;case"L":f=t[1],m=t[2],s=[];break;case"h":f+=t[1],s=[];break;case"H":f=t[1],s=[];break;case"v":m+=t[1],s=[];break;case"V":m=t[1],s=[];break;case"m":u=f+=t[1],h=m+=t[2],s=[];break;case"M":u=f=t[1],h=m=t[2],s=[];break;case"c":n=f+t[5],o=m+t[6],d=f+t[3],p=m+t[4],s=e.util.getBoundsOfCurve(f,m,f+t[1],m+t[2],d,p,n,o),f=n,m=o;break;case"C":d=t[3],p=t[4],s=e.util.getBoundsOfCurve(f,m,t[1],t[2],d,p,t[5],t[6]),f=t[5],m=t[6];break;case"s":n=f+t[3],o=m+t[4],p=null===l[0].match(/[CcSs]/)?(d=f,m):(d=2*f-d,2*m-p),s=e.util.getBoundsOfCurve(f,m,d,p,f+t[1],m+t[2],n,o),d=f+t[1],p=m+t[2],f=n,m=o;break;case"S":n=t[3],o=t[4],p=null===l[0].match(/[CcSs]/)?(d=f,m):(d=2*f-d,2*m-p),s=e.util.getBoundsOfCurve(f,m,d,p,t[1],t[2],n,o),f=n,m=o,d=t[1],p=t[2];break;case"q":n=f+t[3],o=m+t[4],d=f+t[1],p=m+t[2],s=e.util.getBoundsOfCurve(f,m,d,p,d,p,n,o),f=n,m=o;break;case"Q":d=t[1],p=t[2],s=e.util.getBoundsOfCurve(f,m,d,p,d,p,t[3],t[4]),f=t[3],m=t[4];break;case"t":n=f+t[1],o=m+t[2],p=null===l[0].match(/[QqTt]/)?(d=f,m):(d=2*f-d,2*m-p),s=e.util.getBoundsOfCurve(f,m,d,p,d,p,n,o),f=n,m=o;break;case"T":n=t[1],o=t[2],p=null===l[0].match(/[QqTt]/)?(d=f,m):(d=2*f-d,2*m-p),s=e.util.getBoundsOfCurve(f,m,d,p,d,p,n,o),f=n,m=o;break;case"a":s=e.util.getBoundsOfArc(f,m,t[1],t[2],t[3],t[4],t[5],t[6]+f,t[7]+m),f+=t[6],m+=t[7];break;case"A":s=e.util.getBoundsOfArc(f,m,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),f=t[6],m=t[7];break;case"z":case"Z":f=u,m=h}l=t,s.forEach(function(t){a.push(t.x),c.push(t.y)}),a.push(f),c.push(m)}var v=r(a)||0,y=r(c)||0;return{left:v,top:y,width:(i(a)||0)-v,height:(i(c)||0)-y}}}),e.Path.fromObject=function(t,r){if("string"==typeof t.sourcePath){var i=t.sourcePath;e.loadSVGFromURL(i,function(e){var i=e[0];i.setOptions(t),r&&r(i)})}else e.Object._fromObject("Path",t,r,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,r,i){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);r(new e.Path(o.d,n(o,i)))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,i=e.util.array.min,n=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,r){e=e||{},this._objects=[],r&&this.callSuper("initialize",e),this._objects=t||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;if(e.originX&&(this.originX=e.originX),e.originY&&(this.originY=e.originY),r)this._updateObjectsACoords();else{var n=e&&e.centerPoint;n||this._calcBounds(),this._updateObjectsCoords(n),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0,!0)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var r=t.left,i=t.top;t.set({left:r-e.x,top:i-e.y}),t.group=this,t.setCoords(!0,!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,e){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(t,e);if("canvas"===t)for(r=this._objects.length;r--;)this._objects[r]._set(t,e);this.callSuper("_set",t,e)},toObject:function(t){var e=this.getObjects().map(function(e){var r=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var i=e.toObject(t);return e.includeDefaultValues=r,i});return r(this.callSuper("toObject",t),{objects:e})},toDatalessObject:function(t){var e,i=this.sourcePath;return e=i||this.getObjects().map(function(e){var r=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var i=e.toDatalessObject(t);return e.includeDefaultValues=r,i}),r(this.callSuper("toDatalessObject",t),{objects:e})},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isOnACache());if(this.ownCaching=t)for(var e=0,r=this._objects.length;e<r;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1;return t},willDrawShadow:function(){if(this.shadow)return this.callSuper("willDrawShadow");for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,r=this._objects.length;e<r;e++)this._objects[e].render(t)},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var r=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-r/2,-i/2,r,i)}return!0}return!1},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(t){var r=t.calcTransformMatrix(),i=e.util.qrDecompose(r),n=new e.Point(i.translateX,i.translateY);return t.flipX=!1,t.flipY=!1,t.set("scaleX",i.scaleX),t.set("scaleY",i.scaleY),t.skewX=i.skewX,t.skewY=i.skewY,t.angle=i.angle,t.setPositionByOrigin(n,"center","center"),t},_restoreObjectState:function(t){return this.realizeTransform(t),t.setCoords(),delete t.group,this},destroy:function(){return this._objects.forEach(function(t){t.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var t=this._objects,r=this.canvas;this._objects=[];var i=this.toObject();delete i.objects;var n=new e.ActiveSelection([]);return n.set(i),n.type="activeSelection",r.remove(this),t.forEach(function(t){t.group=n,t.dirty=!0,r.add(t)}),n.canvas=r,n._objects=t,(r._activeObject=n).setCoords(),n}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(t){t.setCoords(!0,!0)}),this},_calcBounds:function(t){for(var e,r,i,n=[],o=[],s=["tr","br","bl","tl"],a=0,c=this._objects.length,l=s.length;a<c;++a)for((e=this._objects[a]).setCoords(!0),i=0;i<l;i++)r=s[i],n.push(e.oCoords[r].x),o.push(e.oCoords[r].y);this.set(this._getBounds(n,o,t))},_getBounds:function(t,r,o){var s=new e.Point(i(t),i(r)),a=new e.Point(n(t),n(r)),c={width:a.x-s.x||0,height:a.y-s.y||0};return o||(c.left=s.x||0,c.top=s.y||0,"center"===this.originX&&(c.left+=c.width/2),"right"===this.originX&&(c.left+=c.width),"center"===this.originY&&(c.top+=c.height/2),"bottom"===this.originY&&(c.top+=c.height)),c},toSVG:function(t){var e=this._createBaseSVGMarkup();e.push("<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'" style="',this.getSvgFilter(),'">\n');for(var r=0,i=this._objects.length;r<i;r++)e.push("\t",this._objects[r].toSVG(t));return e.push("</g>\n"),t?t(e.join("")):e.join("")}}),e.Group.fromObject=function(t,r){e.util.enlivenObjects(t.objects,function(i){var n=e.util.object.clone(t,!0);delete n.objects,r&&r(new e.Group(i,n,!0))})})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,r){r=r||{},this._objects=t||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;r.originX&&(this.originX=r.originX),r.originY&&(this.originY=r.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,r),this.setCoords()},toGroup:function(){var t=this._objects;this._objects=[];var r=this.toObject(),i=new e.Group([]);if(delete r.objects,i.set(r),i.type="group",t.forEach(function(t){t.group=i,t.canvas.remove(t)}),i._objects=t,!this.canvas)return i;var n=this.canvas;return n.add(i),(n._activeObject=i).setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},_set:function(t,r){var i=this._objects.length;if("canvas"===t)for(;i--;)this._objects[i].set(t,r);if(this.useSetOnGroup)for(;i--;)this._objects[i].setOnGroup(t,r);e.Object.prototype._set.call(this,t,r)},shouldCache:function(){return!1},willDrawShadow:function(){if(this.shadow)return this.callSuper("willDrawShadow");for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return!1},_renderControls:function(t,e,r){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),void 0===(r=r||{}).hasControls&&(r.hasControls=!1),void 0===r.hasRotatingPoint&&(r.hasRotatingPoint=!1),r.forActiveSelection=!0;for(var i=0,n=this._objects.length;i<n;i++)this._objects[i]._renderControls(t,r);t.restore()}}),e.ActiveSelection.fromObject=function(t,r){e.util.enlivenObjects(t.objects,function(i){delete t.objects,r&&r(new e.ActiveSelection(i,t,!0))})})}(e),function(t){"use strict";var e=W.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?W.warn("fabric.Image is already defined."):(W.Image=W.util.createClass(W.Object,{type:"image",crossOrigin:"",strokeWidth:0,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:W.Object.prototype.stateProperties.concat("cropX","cropY"),objectCaching:!1,cacheKey:"",cropX:0,cropY:0,initialize:function(t,e){e=e||{},this.filters=[],this.cacheKey="texture"+W.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element},setElement:function(t,e){var r=W.filterBackend;return r&&r.evictCachesForKey&&(r.evictCachesForKey(this.cacheKey),r.evictCachesForKey(this.cacheKey+"_filtered")),this._element=t,this._originalElement=t,this._initConfig(e),this.resizeFilter&&this.applyResizeFilters(),0!==this.filters.length&&this.applyFilters(),this},dispose:function(){var t=W.filterBackend;t&&t.evictCachesForKey&&(t.evictCachesForKey(this.cacheKey),t.evictCachesForKey(this.cacheKey+"_filtered")),this._originalElement=void 0,this._element=void 0,this._filteredEl=void 0},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.width,height:t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,r=this.height/2;t.beginPath(),t.moveTo(-e,-r),t.lineTo(e,-r),t.lineTo(e,r),t.lineTo(-e,r),t.lineTo(-e,-r),t.closePath()}},_renderDashedStroke:function(t){var e=-this.width/2,r=-this.height/2,i=this.width,n=this.height;t.save(),this._setStrokeStyles(t,this),t.beginPath(),W.util.drawDashedLine(t,e,r,e+i,r,this.strokeDashArray),W.util.drawDashedLine(t,e+i,r,e+i,r+n,this.strokeDashArray),W.util.drawDashedLine(t,e+i,r+n,e,r+n,this.strokeDashArray),W.util.drawDashedLine(t,e,r+n,e,r,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){var r=[];this.filters.forEach(function(t){t&&r.push(t.toObject())});var i=e(this.callSuper("toObject",["crossOrigin","cropX","cropY"].concat(t)),{src:this.getSrc(),filters:r});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},toSVG:function(t){var e=this._createBaseSVGMarkup(),r=-this.width/2,i=-this.height/2,n="";if(this.hasCrop()){var o=W.Object.__uid++;e.push('<clipPath id="imageCrop_'+o+'">\n','\t<rect x="'+r+'" y="'+i+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),n=' clip-path="url(#imageCrop_'+o+')" '}e.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n');var s=["\t<image ",this.getSvgId(),'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',i-this.cropY,'" style="',this.getSvgStyles(),'" width="',this._element.width||this._element.naturalWidth,'" height="',this._element.height||this._element.height,'"',n,"></image>\n"];if("fill"===this.paintFirst&&Array.prototype.push.apply(e,s),this.stroke||this.strokeDashArray){var a=this.fill;this.fill=null,e.push("\t<rect ",'x="',r,'" y="',i,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'),this.fill=a}return"fill"!==this.paintFirst&&Array.prototype.push.apply(e,s),e.push("</g>\n"),t?t(e.join("")):e.join("")},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():e.src:this.src||""},setSrc:function(t,e,r){return W.util.loadImage(t,function(t){this.setElement(t,r),e(this)},this,r&&r.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.canvas?this.canvas.getRetinaScaling():1,r=this.minimumScaleTrigger,i=this.scaleX*e,n=this.scaleY*e,o=this._filteredEl||this._originalElement;if(!t||r<i&&r<n)return this._element=o,this._filterScalingX=1,void(this._filterScalingY=1);W.filterBackend||(W.filterBackend=W.initFilterBackend());var s=W.util.createCanvasElement(),a=this._filteredEl?this.cacheKey:this.cacheKey+"_filtered",c=o.width,l=o.height;s.width=c,s.height=l,this._element=s,t.scaleX=i,t.scaleY=n,W.filterBackend.applyFilters([t],o,c,l,this._element,a),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height},applyFilters:function(t){if(0===(t=(t=t||this.filters||[]).filter(function(t){return t})).length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,r=e.naturalWidth||e.width,i=e.naturalHeight||e.height;if(this._element===this._originalElement){var n=W.util.createCanvasElement();n.width=r,n.height=i,this._element=n,this._filteredEl=n}else this._element.getContext("2d").clearRect(0,0,r,i);return W.filterBackend||(W.filterBackend=W.initFilterBackend()),W.filterBackend.applyFilters(t,this._originalElement,r,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){!1===this.isMoving&&this.resizeFilter&&this._needsResize()&&(this._lastScaleX=this.scaleX,this._lastScaleY=this.scaleY,this.applyResizeFilters()),this._stroke(t),this._renderPaintInOrder(t)},_renderFill:function(t){var e=this.width,r=this.height,i=e*this._filterScalingX,n=r*this._filterScalingY,o=-e/2,s=-r/2,a=this._element;a&&t.drawImage(a,this.cropX*this._filterScalingX,this.cropY*this._filterScalingY,i,n,o,s,e,r)},_needsResize:function(){return this.scaleX!==this._lastScaleX||this.scaleY!==this._lastScaleY},_resetWidthHeight:function(){var t=this.getElement();this.set("width",t.width),this.set("height",t.height)},_initElement:function(t,e){this.setElement(W.util.getById(t),e),W.util.addClass(this.getElement(),W.Image.CSS_CANVAS)},_initConfig:function(t){t=t||{},this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t&&t.length?W.util.enlivenObjects(t,function(t){e&&e(t)},"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){this.width="width"in t?t.width:this.getElement()&&this.getElement().width||0,this.height="height"in t?t.height:this.getElement()&&this.getElement().height||0},parsePreserveAspectRatioAttribute:function(){var t,e=W.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),r=this._element.width,i=this._element.height,n=1,o=1,s=0,a=0,c=0,l=0,u=this.width,h=this.height,f={width:u,height:h};return!e||"none"===e.alignX&&"none"===e.alignY?(n=u/r,o=h/i):("meet"===e.meetOrSlice&&(t=(u-r*(n=o=W.util.findScaleToFit(this._element,f)))/2,"Min"===e.alignX&&(s=-t),"Max"===e.alignX&&(s=t),t=(h-i*o)/2,"Min"===e.alignY&&(a=-t),"Max"===e.alignY&&(a=t)),"slice"===e.meetOrSlice&&(t=r-u/(n=o=W.util.findScaleToCover(this._element,f)),"Mid"===e.alignX&&(c=t/2),"Max"===e.alignX&&(c=t),t=i-h/o,"Mid"===e.alignY&&(l=t/2),"Max"===e.alignY&&(l=t),r=u/n,i=h/o)),{width:r,height:i,scaleX:n,scaleY:o,offsetLeft:s,offsetTop:a,cropX:c,cropY:l}}}),W.Image.CSS_CANVAS="canvas-img",W.Image.prototype.getSvgSrc=W.Image.prototype.getSrc,W.Image.fromObject=function(t,e){var r=W.util.object.clone(t);W.util.loadImage(r.src,function(t,i){i?e&&e(null,i):W.Image.prototype._initFilters.call(r,r.filters,function(i){r.filters=i||[],W.Image.prototype._initFilters.call(r,[r.resizeFilter],function(i){r.resizeFilter=i[0];var n=new W.Image(t,r);e(n)})})},null,r.crossOrigin)},W.Image.fromURL=function(t,e,r){W.util.loadImage(t,function(t){e&&e(new W.Image(t,r))},null,r&&r.crossOrigin)},W.Image.ATTRIBUTE_NAMES=W.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),W.Image.fromElement=function(t,r,i){var n=W.parseAttributes(t,W.Image.ATTRIBUTE_NAMES);W.Image.fromURL(n["xlink:href"],r,e(i?W.util.object.clone(i):{},n))})}(e),W.util.object.extend(W.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return 0<t?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(t){function e(){}var r=(t=t||{}).onComplete||e,i=t.onChange||e,n=this;return W.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){n.rotate(t),i()},onComplete:function(){n.setCoords(),r()}}),this}}),W.util.object.extend(W.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function t(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}W.isWebglSupported=function(t){if(W.isLikelyNode)return!1;t=t||W.WebglFilterBackend.prototype.tileSize;var e,r,i,n=document.createElement("canvas"),o=n.getContext("webgl")||n.getContext("experimental-webgl"),s=!1;if(o){W.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),s=W.maxTextureSize>=t;for(var a=["highp","mediump","lowp"],c=0;c<3;c++)if(r="precision "+a[c]+" float;\nvoid main(){}",i=(e=o).createShader(e.FRAGMENT_SHADER),e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)){W.webGlPrecision=a[c];break}}return this.isSupported=s},(W.WebglFilterBackend=t).prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var r,i=void 0!==window.performance;try{new ImageData(1,1),r=!0}catch(t){r=!1}var n="undefined"!=typeof ArrayBuffer,o="undefined"!=typeof Uint8ClampedArray;if(i&&r&&n&&o){var s,a,c=W.util.createCanvasElement(),l=new ArrayBuffer(t*e*4),u={imageBuffer:l,destinationWidth:t,destinationHeight:e,targetCanvas:c};c.width=t,c.height=e,s=window.performance.now(),xt.call(u,this.gl,u),a=window.performance.now()-s,s=window.performance.now(),wt.call(u,this.gl,u),window.performance.now()-s<a?(this.imageBuffer=l,this.copyGLTo2D=wt):this.copyGLTo2D=xt}},createWebGLCanvas:function(t,e){var r=W.util.createCanvasElement();r.width=t,r.height=e;var i={premultipliedAlpha:!1},n=r.getContext("webgl",i);(n=n||r.getContext("experimental-webgl",i))&&(n.clearColor(0,0,0,0),this.canvas=r,this.gl=n)},applyFilters:function(t,e,r,i,n,o){var s,a=this.gl;o&&(s=this.getCachedTexture(o,e));var c={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:r,sourceHeight:i,destinationWidth:r,destinationHeight:i,context:a,sourceTexture:this.createTexture(a,r,i,!s&&e),targetTexture:this.createTexture(a,r,i),originalTexture:s||this.createTexture(a,r,i,!s&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:n},l=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,l),t.forEach(function(t){t&&t.applyTo(c)}),function(t){var e=t.targetCanvas,r=e.width,i=e.height,n=t.destinationWidth,o=t.destinationHeight;r===n&&i===o||(e.width=n,e.height=o)}(c),this.copyGLTo2D(a,c),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(c.sourceTexture),a.deleteTexture(c.targetTexture),a.deleteFramebuffer(l),n.getContext("2d").setTransform(1,0,0,1,0,0),c},applyFiltersDebug:function(t,e,r,i,n,o){var s=this.gl,a=this.applyFilters(t,e,r,i,n,o),c=s.getError();if(c===s.NO_ERROR)return a;var l=this.glErrorToString(s,c),u=new Error("WebGL Error "+l);throw u.glErrorCode=c,u},glErrorToString:function(t,e){if(!t)return"Context undefined for error code: "+e;if("number"!=typeof e)return"Error code is not a number";switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"UNKNOWN_ERROR"}},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,r,i){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),i?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,r,0,t.RGBA,t.UNSIGNED_BYTE,null),n},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var r=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=r},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:xt,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e=t.getExtension("WEBGL_debug_renderer_info"),r={renderer:"",vendor:""};if(e){var i=t.getParameter(e.UNMASKED_RENDERER_WEBGL),n=t.getParameter(e.UNMASKED_VENDOR_WEBGL);i&&(r.renderer=i.toLowerCase()),n&&(r.vendor=n.toLowerCase())}return this.gpuInfo=r}}}(),function(){"use strict";function t(){}function e(){}(W.Canvas2dFilterBackend=e).prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,r,i,n){var o=n.getContext("2d");o.drawImage(e,0,0,r,i);var s={sourceWidth:r,sourceHeight:i,imageData:o.getImageData(0,0,r,i),originalEl:e,originalImageData:o.getImageData(0,0,r,i),canvasEl:n,ctx:o,filterBackend:this};return t.forEach(function(t){t.applyTo(s)}),s.imageData.width===r&&s.imageData.height===i||(n.width=s.imageData.width,n.height=s.imageData.height),o.putImageData(s.imageData,0,0),s}}}(),W.Image.filters=W.Image.filters||{},W.Image.filters.BaseFilter=W.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,r){e=e||this.fragmentSource,r=r||this.vertexSource,"highp"!==W.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+W.webGlPrecision+" float"));var i=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(i,r),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(i));var n=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(n));var o=t.createProgram();if(t.attachShader(o,i),t.attachShader(o,n),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(o));var s=this.getAttributeLocations(t,o),a=this.getUniformLocations(t,o)||{};return a.uStepW=t.getUniformLocation(o,"uStepW"),a.uStepH=t.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:s,uniformLocations:a}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,r){var i=e.aPostion,n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,r,i=t.context;1<t.passes?(e=t.destinationWidth,r=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===r||(i.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(i,e,r)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){return!1},applyTo:function(t){if(t.webgl){if(1<t.passes&&this.isNeutralState(t))return;this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)}else this.isNeutralState()||this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,r=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(r.program),this.sendAttributeData(e,r.attributeLocations,t.aPosition),e.uniform1f(r.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(r.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,r.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,r){t.activeTexture(r),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),W.Image.filters.BaseFilter.fromObject=function(t,e){var r=new W.Image.filters[t.type](t);return e&&e(r),r},function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,i=e.util.createClass;r.ColorMatrix=i(r.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},isNeutralState:function(){for(var t=r.ColorMatrix,e=20;e--;)if(this.matrix[e]!==t.prototype.matrix[e])return!1;return!0},applyTo2d:function(t){var e,r,i,n,o,s=t.imageData.data,a=s.length,c=this.matrix,l=this.colorsOnly;for(o=0;o<a;o+=4)e=s[o],r=s[o+1],i=s[o+2],l?(s[o]=e*c[0]+r*c[1]+i*c[2]+255*c[4],s[o+1]=e*c[5]+r*c[6]+i*c[7]+255*c[9],s[o+2]=e*c[10]+r*c[11]+i*c[12]+255*c[14]):(n=s[o+3],s[o]=e*c[0]+r*c[1]+i*c[2]+n*c[3]+255*c[4],s[o+1]=e*c[5]+r*c[6]+i*c[7]+n*c[8]+255*c[9],s[o+2]=e*c[10]+r*c[11]+i*c[12]+n*c[13]+255*c[14],s[o+3]=e*c[15]+r*c[16]+i*c[17]+n*c[18]+255*c[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var r=this.matrix,i=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],n=[r[4],r[9],r[14],r[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,i),t.uniform4fv(e.uConstants,n)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,i=e.util.createClass;r.Brightness=i(r.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,r=t.imageData.data,i=r.length,n=Math.round(255*this.brightness);for(e=0;e<i;e+=4)r[e]=r[e]+n,r[e+1]=r[e+1]+n,r[e+2]=r[e+2]+n}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,i=e.Image.filters,n=e.util.createClass;i.Convolute=n(i.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),r=this.type+"_"+e+"_"+(this.opaque?1:0),i=this.fragmentSource[r];return t.programCache.hasOwnProperty(r)||(t.programCache[r]=this.createProgram(t.context,i)),t.programCache[r]},applyTo2d:function(t){var e,r,i,n,o,s,a,c,l,u,h,f,m,d=t.imageData,p=d.data,_=this.matrix,g=Math.round(Math.sqrt(_.length)),v=Math.floor(g/2),y=d.width,b=d.height,x=t.ctx.createImageData(y,b),w=x.data,S=this.opaque?1:0;for(h=0;h<b;h++)for(u=0;u<y;u++){for(o=4*(h*y+u),m=n=i=r=e=0;m<g;m++)for(f=0;f<g;f++)s=u+f-v,(a=h+m-v)<0||b<a||s<0||y<s||(c=4*(a*y+s),l=_[m*g+f],e+=p[c]*l,r+=p[1+c]*l,i+=p[2+c]*l,S||(n+=p[3+c]*l));w[o]=e,w[1+o]=r,w[2+o]=i,w[3+o]=S?p[3+o]:n}t.imageData=x},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return r(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,i=e.util.createClass;r.Grayscale=i(r.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,r,i=t.imageData.data,n=i.length,o=this.mode;for(e=0;e<n;e+=4)"average"===o?r=(i[e]+i[e+1]+i[e+2])/3:"lightness"===o?r=(Math.min(i[e],i[e+1],i[e+2])+Math.max(i[e],i[e+1],i[e+2]))/2:"luminosity"===o&&(r=.21*i[e]+.72*i[e+1]+.07*i[e+2]),i[e]=r,i[e+1]=r,i[e+2]=r},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var r=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,r)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,i=e.util.createClass;r.Invert=i(r.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){if(this.invert){var e,r=t.imageData.data,i=r.length;for(e=0;e<i;e+=4)r[e]=255-r[e],r[e+1]=255-r[e+1],r[e+2]=255-r[e+2]}},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,i=e.Image.filters,n=e.util.createClass;i.Noise=n(i.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,r,i=t.imageData.data,n=i.length,o=this.noise;for(e=0,n=i.length;e<n;e+=4)r=(.5-Math.random())*o,i[e]+=r,i[e+1]+=r,i[e+2]+=r}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return r(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,i=e.util.createClass;r.Pixelate=i(r.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){if(1!==this.blocksize){var e,r,i,n,o,s,a,c,l,u,h,f=t.imageData,m=f.data,d=f.height,p=f.width;for(r=0;r<d;r+=this.blocksize)for(i=0;i<p;i+=this.blocksize)for(n=m[e=4*r*p+4*i],o=m[e+1],s=m[e+2],a=m[e+3],u=Math.min(r+this.blocksize,d),h=Math.min(i+this.blocksize,p),c=r;c<u;c++)for(l=i;l<h;l++)m[e=4*c*p+4*l]=n,m[e+1]=o,m[e+2]=s,m[e+3]=a}},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.extend,i=e.Image.filters,n=e.util.createClass;i.RemoveColor=n(i.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var r,i,n,o,s=t.imageData.data,a=255*this.distance,c=new e.Color(this.color).getSource(),l=[c[0]-a,c[1]-a,c[2]-a],u=[c[0]+a,c[1]+a,c[2]+a];for(r=0;r<s.length;r+=4)i=s[r],n=s[r+1],o=s[r+2],l[0]<i&&l[1]<n&&l[2]<o&&i<u[0]&&n<u[1]&&o<u[2]&&(s[r+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,r){var i=new e.Color(this.color).getSource(),n=parseFloat(this.distance),o=[0+i[0]/255-n,0+i[1]/255-n,0+i[2]/255-n,1],s=[i[0]/255+n,i[1]/255+n,i[2]/255+n,1];t.uniform4fv(r.uLow,o),t.uniform4fv(r.uHigh,s)},toObject:function(){return r(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,i=e.util.createClass,n={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in n)r[o]=i(r.ColorMatrix,{type:o,matrix:n[o],mainParameter:!1,colorsOnly:!0}),e.Image.filters[o].fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(){"use strict";var t=e.fabric,r=t.Image.filters,i=t.util.createClass;r.BlendColor=i(r.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb *= uColor.rgb;\ngl_FragColor = color;\n}",screen:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb = 1.0 - (1.0 - color.rgb) * (1.0 - uColor.rgb);\ngl_FragColor = color;\n}",add:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb += uColor.rgb;\n}",diff:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n}",subtract:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb -= uColor.rgb;\n}",lighten:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n}",darken:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n}",exclusion:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n}",overlay:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n}",tint:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\ngl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,r=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,r)),t.programCache[e]},applyTo2d:function(e){var r,i,n,o,s,a,c,l=e.imageData.data,u=l.length,h=1-this.alpha;r=(c=new t.Color(this.color).getSource())[0]*this.alpha,i=c[1]*this.alpha,n=c[2]*this.alpha;for(var f=0;f<u;f+=4)switch(o=l[f],s=l[f+1],a=l[f+2],this.mode){case"multiply":l[f]=o*r/255,l[f+1]=s*i/255,l[f+2]=a*n/255;break;case"screen":l[f]=255-(255-o)*(255-r)/255,l[f+1]=255-(255-s)*(255-i)/255,l[f+2]=255-(255-a)*(255-n)/255;break;case"add":l[f]=o+r,l[f+1]=s+i,l[f+2]=a+n;break;case"diff":case"difference":l[f]=Math.abs(o-r),l[f+1]=Math.abs(s-i),l[f+2]=Math.abs(a-n);break;case"subtract":l[f]=o-r,l[f+1]=s-i,l[f+2]=a-n;break;case"darken":l[f]=Math.min(o,r),l[f+1]=Math.min(s,i),l[f+2]=Math.min(a,n);break;case"lighten":l[f]=Math.max(o,r),l[f+1]=Math.max(s,i),l[f+2]=Math.max(a,n);break;case"overlay":l[f]=r<128?2*o*r/255:255-2*(255-o)*(255-r)/255,l[f+1]=i<128?2*s*i/255:255-2*(255-s)*(255-i)/255,l[f+2]=n<128?2*a*n/255:255-2*(255-a)*(255-n)/255;break;case"exclusion":l[f]=r+o-2*r*o/255,l[f+1]=i+s-2*i*s/255,l[f+2]=n+a-2*n*a/255;break;case"tint":l[f]=r+o*h,l[f+1]=i+s*h,l[f+2]=n+a*h}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(e,r){var i=new t.Color(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,e.uniform4fv(r.uColor,i)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendColor.fromObject=t.Image.filters.BaseFilter.fromObject}(),function(){"use strict";var t=e.fabric,r=t.Image.filters,i=t.util.createClass;r.BlendImage=i(r.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,r=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,r)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,r=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,r,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,r=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/r,1]},applyTo2d:function(t){var e,r,i,n,o,s,a,c,l,u,h,f=t.imageData,m=t.filterBackend.resources,d=f.data,p=d.length,_=t.imageData.width,g=t.imageData.height,v=this.image;m.blendImage||(m.blendImage=document.createElement("canvas")),(l=m.blendImage).width===_&&l.height===g||(l.width=_,l.height=g),(u=l.getContext("2d")).setTransform(v.scaleX,0,0,v.scaleY,v.left,v.top),u.drawImage(v._element,0,0,_,g),h=u.getImageData(0,0,_,g).data;for(var y=0;y<p;y+=4)switch(o=d[y],s=d[y+1],a=d[y+2],c=d[y+3],e=h[y],r=h[y+1],i=h[y+2],n=h[y+3],this.mode){case"multiply":d[y]=o*e/255,d[y+1]=s*r/255,d[y+2]=a*i/255,d[y+3]=c*n/255;break;case"mask":d[y+3]=n}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var r=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,r)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendImage.fromObject=function(e,r){t.Image.fromObject(e.image,function(i){var n=t.util.object.clone(e);n.image=i,r(new t.Image.filters.BlendImage(n))})}}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=Math.pow,i=Math.floor,n=Math.sqrt,o=Math.abs,s=Math.round,a=Math.sin,c=Math.ceil,l=e.Image.filters,u=e.util.createClass;l.Resize=u(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:0,scaleY:0,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),r=this.type+"_"+e;if(!t.programCache.hasOwnProperty(r)){var i=this.generateShader(e);t.programCache[r]=this.createProgram(t.context,i)}return t.programCache[r]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,r=this.getFilterWindow(),i=new Array(r),n=1;n<=r;n++)i[n-1]=t(n*e);return i},generateShader:function(t){for(var e=new Array(t),r=this.fragmentSourceTOP,i=1;i<=t;i++)e[i-1]=i+".0 * uDelta";return r+="uniform float uTaps["+t+"];\n",r+="void main() {\n",r+="  vec4 color = texture2D(uTexture, vTexCoord);\n",r+="  float sum = 1.0;\n",e.forEach(function(t,e){r+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",r+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",r+="  sum += 2.0 * uTaps["+e+"];\n"}),r+="  gl_FragColor = color / sum;\n",r+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){if(t.webgl){if(1<t.passes&&this.isNeutralState(t))return;t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight}else this.isNeutralState(t)||this.applyTo2d(t)},isNeutralState:function(t){var e=t.scaleX||this.scaleX,r=t.scaleY||this.scaleY;return 1===e&&1===r},lanczosCreate:function(t){return function(e){if(t<=e||e<=-t)return 0;if(e<1.1920929e-7&&-1.1920929e-7<e)return 1;var r=(e*=Math.PI)/t;return a(e)/e*a(r)/r}},applyTo2d:function(t){var e=t.imageData,r=this.scaleX,i=this.scaleY;this.rcpScaleX=1/r,this.rcpScaleY=1/i;var n,o=e.width,a=e.height,c=s(o*r),l=s(a*i);"sliceHack"===this.resizeType?n=this.sliceByTwo(t,o,a,c,l):"hermite"===this.resizeType?n=this.hermiteFastResize(t,o,a,c,l):"bilinear"===this.resizeType?n=this.bilinearFiltering(t,o,a,c,l):"lanczos"===this.resizeType&&(n=this.lanczosResize(t,o,a,c,l)),t.imageData=n},sliceByTwo:function(t,r,n,o,s){var a,c,l=t.imageData,u=!1,h=!1,f=.5*r,m=.5*n,d=e.filterBackend.resources,p=0,_=0,g=r,v=0;for(d.sliceByTwo||(d.sliceByTwo=document.createElement("canvas")),((a=d.sliceByTwo).width<1.5*r||a.height<n)&&(a.width=1.5*r,a.height=n),(c=a.getContext("2d")).clearRect(0,0,1.5*r,n),c.putImageData(l,0,0),o=i(o),s=i(s);!u||!h;)n=m,o<i(.5*(r=f))?f=i(.5*f):(f=o,u=!0),s<i(.5*m)?m=i(.5*m):(m=s,h=!0),c.drawImage(a,p,_,r,n,g,v,f,m),p=g,_=v,v+=m;return c.getImageData(p,_,o,s)},lanczosResize:function(t,e,s,a,l){var u=t.imageData.data,h=t.ctx.createImageData(a,l),f=h.data,m=this.lanczosCreate(this.lanczosLobes),d=this.rcpScaleX,p=this.rcpScaleY,_=2/this.rcpScaleX,g=2/this.rcpScaleY,v=c(d*this.lanczosLobes/2),y=c(p*this.lanczosLobes/2),b={},x={},w={};return function t(c){var S,C,T,E,O,k,A,M,P,D,j;for(x.x=(c+.5)*d,w.x=i(x.x),S=0;S<l;S++){for(x.y=(S+.5)*p,w.y=i(x.y),P=M=A=k=O=0,C=w.x-v;C<=w.x+v;C++)if(!(C<0||e<=C)){D=i(1e3*o(C-x.x)),b[D]||(b[D]={});for(var z=w.y-y;z<=w.y+y;z++)z<0||s<=z||(j=i(1e3*o(z-x.y)),b[D][j]||(b[D][j]=m(n(r(D*_,2)+r(j*g,2))/1e3)),0<(T=b[D][j])&&(O+=T,k+=T*u[E=4*(z*e+C)],A+=T*u[E+1],M+=T*u[E+2],P+=T*u[E+3]))}f[E=4*(S*a+c)]=k/O,f[E+1]=A/O,f[E+2]=M/O,f[E+3]=P/O}return++c<a?t(c):h}(0)},bilinearFiltering:function(t,e,r,n,o){var s,a,c,l,u,h,f,m,d,p=0,_=this.rcpScaleX,g=this.rcpScaleY,v=4*(e-1),y=t.imageData.data,b=t.ctx.createImageData(n,o),x=b.data;for(c=0;c<o;c++)for(l=0;l<n;l++)for(u=_*l-(s=i(_*l)),h=g*c-(a=i(g*c)),d=4*(a*e+s),f=0;f<4;f++)m=y[d+f]*(1-u)*(1-h)+y[4+d+f]*u*(1-h)+y[d+v+f]*h*(1-u)+y[d+v+4+f]*u*h,x[p++]=m;return b},hermiteFastResize:function(t,e,r,s,a){for(var l=this.rcpScaleX,u=this.rcpScaleY,h=c(l/2),f=c(u/2),m=t.imageData.data,d=t.ctx.createImageData(s,a),p=d.data,_=0;_<a;_++)for(var g=0;g<s;g++){for(var v=4*(g+_*s),y=0,b=0,x=0,w=0,S=0,C=0,T=0,E=(_+.5)*u,O=i(_*u);O<(_+1)*u;O++)for(var k=o(E-(O+.5))/f,A=(g+.5)*l,M=k*k,P=i(g*l);P<(g+1)*l;P++){var D=o(A-(P+.5))/h,j=n(M+D*D);1<j&&j<-1||0<(y=2*j*j*j-3*j*j+1)&&(T+=y*m[3+(D=4*(P+O*e))],x+=y,m[D+3]<255&&(y=y*m[D+3]/250),w+=y*m[D],S+=y*m[D+1],C+=y*m[D+2],b+=y)}p[v]=w/b,p[1+v]=S/b,p[2+v]=C/b,p[3+v]=T/x}return d},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,i=e.util.createClass;r.Contrast=i(r.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,r=t.imageData.data,i=r.length,n=Math.floor(255*this.contrast),o=259*(n+255)/(255*(259-n));for(e=0;e<i;e+=4)r[e]=o*(r[e]-128)+128,r[e+1]=o*(r[e+1]-128)+128,r[e+2]=o*(r[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,i=e.util.createClass;r.Saturation=i(r.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,r,i=t.imageData.data,n=i.length,o=-this.saturation;for(e=0;e<n;e+=4)r=Math.max(i[e],i[e+1],i[e+2]),i[e]+=r!==i[e]?(r-i[e])*o:0,i[e+1]+=r!==i[e+1]?(r-i[e+1])*o:0,i[e+2]+=r!==i[e+2]?(r-i[e+2])*o:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,i=e.util.createClass;r.Blur=i(r.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var e,r,i=t.filterBackend.resources,n=t.imageData.width,o=t.imageData.height;i.blurLayer1||(i.blurLayer1=document.createElement("canvas"),i.blurLayer2=document.createElement("canvas")),e=i.blurLayer1,r=i.blurLayer2,e.width===n&&e.height===o||(r.width=e.width=n,r.height=e.height=o);var s,a,c,l,u=e.getContext("2d"),h=r.getContext("2d"),f=.06*this.blur*.5;for(u.putImageData(t.imageData,0,0),h.clearRect(0,0,n,o),l=-15;l<=15;l++)c=f*(a=l/15)*n+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(a),h.drawImage(e,c,s),u.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);for(l=-15;l<=15;l++)c=f*(a=l/15)*o+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(a),h.drawImage(e,s,c),u.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);t.ctx.drawImage(e,0,0);var m=t.ctx.getImageData(0,0,e.width,e.height);return u.globalAlpha=1,u.clearRect(0,0,e.width,e.height),m},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var r=this.chooseRightDelta();t.uniform2fv(e.delta,r)},chooseRightDelta:function(){var t,e=1,r=[0,0];return this.horizontal?1<this.aspectRatio&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?r[0]=t:r[1]=t,r}}),r.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,i=e.util.createClass;r.Gamma=i(r.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",applyTo2d:function(t){var e,r=t.imageData.data,i=this.gamma,n=r.length,o=1/i[0],s=1/i[1],a=1/i[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,n=256;e<n;e++)this.rVals[e]=255*Math.pow(e/255,o),this.gVals[e]=255*Math.pow(e/255,s),this.bVals[e]=255*Math.pow(e/255,a);for(e=0,n=r.length;e<n;e+=4)r[e]=this.rVals[r[e]],r[e+1]=this.gVals[r[e+1]],r[e+2]=this.bVals[r[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,i=e.util.createClass;r.Composed=i(r.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach(function(e){e.applyTo(t)})},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(t){return t.toObject()})})}}),e.Image.filters.Composed.fromObject=function(t,r){var i=(t.subFilters||[]).map(function(t){return new e.Image.filters[t.type](t)}),n=new e.Image.filters.Composed({subFilters:i});return r&&r(n),n}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.Image.filters,i=e.util.createClass;r.HueRotation=i(r.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,r=e.util.cos(t),i=e.util.sin(t),n=Math.sqrt(1/3)*i,o=1-r;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=r+o/3,this.matrix[1]=1/3*o-n,this.matrix[2]=1/3*o+n,this.matrix[5]=1/3*o+n,this.matrix[6]=r+1/3*o,this.matrix[7]=1/3*o-n,this.matrix[10]=1/3*o-n,this.matrix[11]=1/3*o+n,this.matrix[12]=r+1/3*o},applyTo:function(t){this.calculateMatrix(),e.Image.filters.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),r=e.util.object.clone;e.Text?e.warn("fabric.Text is already defined"):(e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),cacheProperties:e.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,r,i,n,o,s,a=0,c=this._textLines.length;a<c;a++)if(("justify"===this.textAlign||a!==c-1&&!this.isEndOfWrapping(a))&&(i=0,n=this._textLines[a],(e=this.getLineWidth(a))<this.width&&(s=this.textLines[a].match(this._reSpacesAndTabs)))){r=s.length,t=(this.width-e)/r;for(var l=0,u=n.length;l<=u;l++)o=this.__charBounds[a][l],this._reSpaceAndTab.test(n[l])?(o.width+=t,o.kernedWidth+=t,o.left+=i,i+=t):o.left+=i}},isEndOfWrapping:function(t){return t===this._textLines.length-1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,r){t.textBaseline="alphabetic",t.font=this._getFontDeclaration(e,r)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,r=this._textLines.length;e<r;e++){var i=this.getLineWidth(e);t<i&&(t=i)}return t},_renderTextLine:function(t,e,r,i,n,o){this._renderChars(t,e,r,i,n,o)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,r,i,n,o,s,a=0,c=t.fillStyle,l=this._getLeftOffset(),u=this._getTopOffset(),h=0,f=0,m=0,d=this._textLines.length;m<d;m++)if(e=this.getHeightOfLine(m),this.textBackgroundColor||this.styleHas("textBackgroundColor",m)){i=this._textLines[m],r=this._getLineLeftOffset(m),h=f=0,n=this.getValueOfPropertyAt(m,0,"textBackgroundColor");for(var p=0,_=i.length;p<_;p++)o=this.__charBounds[m][p],(s=this.getValueOfPropertyAt(m,p,"textBackgroundColor"))!==n?((t.fillStyle=n)&&t.fillRect(l+r+h,u+a,f,e/this.lineHeight),h=o.left,f=o.width,n=s):f+=o.kernedWidth;s&&(t.fillStyle=s,t.fillRect(l+r+h,u+a,f,e/this.lineHeight)),a+=e}else a+=e;t.fillStyle=c,this._removeShadow(t)}},getFontCache:function(t){var r=t.fontFamily.toLowerCase();e.charWidthsCache[r]||(e.charWidthsCache[r]={});var i=e.charWidthsCache[r],n=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return i[n]||(i[n]={}),i[n]},_applyCharStyles:function(t,e,r,i,n){this._setFillStyles(e,n),this._setStrokeStyles(e,n),e.font=this._getFontDeclaration(n)},_measureChar:function(t,e,r,i){var n,o,s,a,c=this.getFontCache(e),l=r+t,u=this._getFontDeclaration(e)===this._getFontDeclaration(i),h=e.fontSize/this.CACHE_FONT_SIZE;if(r&&c[r]&&(s=c[r]),c[t]&&(a=n=c[t]),u&&c[l]&&(a=(o=c[l])-s),!n||!s||!o){var f=this.getMeasuringContext();this._setTextStyles(f,e,!0)}return n||(a=n=f.measureText(t).width,c[t]=n),!s&&u&&r&&(s=f.measureText(r).width,c[r]=s),u&&!o&&(o=f.measureText(l).width,a=(c[l]=o)-s),{width:n*h,kernedWidth:a*h}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var e,r,i,n,o=0,s=this._textLines[t],a=new Array(s.length);for(this.__charBounds[t]=a,e=0;e<s.length;e++)r=s[e],n=this._getGraphemeBox(r,t,e,i),o+=(a[e]=n).kernedWidth,i=r;return a[e]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:o,numOfSpaces:0}},_getGraphemeBox:function(t,e,r,i,n){var o=this.getCompleteStyleDeclaration(e,r),s=i?this.getCompleteStyleDeclaration(e,r-1):{},a=this._measureChar(t,o,i,s),c=a.kernedWidth,l=a.width;0!==this.charSpacing&&(l+=this._getWidthOfCharSpacing(),c+=this._getWidthOfCharSpacing());var u={width:l,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(0<r&&!n){var h=this.__charBounds[e][r-1];u.left=h.left+h.width+a.kernedWidth-a.width}return u},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=0,r=0,i=this._textLines[t].length;r<i;r++)e=Math.max(this.getHeightOfChar(t,r),e);return this.__lineHeights[t]=e*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,r=0,i=this._textLines.length;r<i;r++)t=this.getHeightOfLine(r),e+=r===i-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var r=0,i=this._getLeftOffset(),n=this._getTopOffset(),o=this._applyPatternGradientTransform(t,"fillText"===e?this.fill:this.stroke),s=0,a=this._textLines.length;s<a;s++){var c=this.getHeightOfLine(s),l=c/this.lineHeight,u=this._getLineLeftOffset(s);this._renderTextLine(e,t,this._textLines[s],i+u-o.offsetX,n+r+l-o.offsetY,s),r+=c}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,r,i,n,o){var s,a,c,l,u=this.getHeightOfLine(o),h=-1!==this.textAlign.indexOf("justify"),f="",m=0,d=!h&&0===this.charSpacing&&this.isEmptyStyles(o);if(e.save(),n-=u*this._fontSizeFraction/this.lineHeight,d)return this._renderChar(t,e,o,0,this.textLines[o],i,n,u),void e.restore();for(var p=0,_=r.length-1;p<=_;p++)l=p===_||this.charSpacing,f+=r[p],c=this.__charBounds[o][p],0===m?(i+=c.kernedWidth-c.width,m+=c.width):m+=c.kernedWidth,h&&!l&&this._reSpaceAndTab.test(r[p])&&(l=!0),l||(s=s||this.getCompleteStyleDeclaration(o,p),a=this.getCompleteStyleDeclaration(o,p+1),l=this._hasStyleChanged(s,a)),l&&(this._renderChar(t,e,o,p,f,i,n,u),f="",s=a,i+=m,m=0);e.restore()},_renderChar:function(t,e,r,i,n,o,s){var a=this._getStyleDeclaration(r,i),c=this.getCompleteStyleDeclaration(r,i),l="fillText"===t&&c.fill,u="strokeText"===t&&c.stroke&&c.strokeWidth;(u||l)&&(a&&e.save(),this._applyCharStyles(t,e,r,i,c),a&&a.textBackgroundColor&&this._removeShadow(e),a&&a.deltaY&&(s+=a.deltaY),l&&e.fillText(n,o,s),u&&e.strokeText(n,o,s),a&&e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,r){var i=this.get2DCursorLocation(t,!0),n=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),s={fontSize:n*r.size,deltaY:o+n*r.baseline};return this.setSelectionStyles(s,t,e),this},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(t,e){return this._hasStyleChanged(t,e)||t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough},_getLineLeftOffset:function(t){var e=this.getLineWidth(t);return"center"===this.textAlign?(this.width-e)/2:"right"===this.textAlign?this.width-e:"justify-center"===this.textAlign&&this.isEndOfWrapping(t)?(this.width-e)/2:"justify-right"===this.textAlign&&this.isEndOfWrapping(t)?this.width-e:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return(t=t||this.hasStateChanged("_dimensionAffectingProps"))&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){return this.__lineWidths[t]?this.__lineWidths[t]:(e=""===this._textLines[t]?0:this.measureLine(t).width,this.__lineWidths[t]=e);var e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,r){var i=this._getStyleDeclaration(t,e);return i&&void 0!==i[r]?i[r]:this[r]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var r,i,n,o,s,a,c,l,u,h,f,m,d,p,_,g,v=this._getLeftOffset(),y=this._getTopOffset(),b=0,x=this._textLines.length;b<x;b++)if(r=this.getHeightOfLine(b),this[e]||this.styleHas(e,b)){c=this._textLines[b],p=r/this.lineHeight,o=this._getLineLeftOffset(b),f=h=0,l=this.getValueOfPropertyAt(b,0,e),g=this.getValueOfPropertyAt(b,0,"fill"),u=y+p*(1-this._fontSizeFraction),i=this.getHeightOfChar(b,0),s=this.getValueOfPropertyAt(b,0,"deltaY");for(var w=0,S=c.length;w<S;w++)m=this.__charBounds[b][w],d=this.getValueOfPropertyAt(b,w,e),_=this.getValueOfPropertyAt(b,w,"fill"),n=this.getHeightOfChar(b,w),a=this.getValueOfPropertyAt(b,w,"deltaY"),(d!==l||_!==g||n!==i||a!==s)&&0<f?(t.fillStyle=g,l&&g&&t.fillRect(v+o+h,u+this.offsets[e]*i+s,f,this.fontSize/15),h=m.left,f=m.width,l=d,g=_,i=n,s=a):f+=m.kernedWidth;t.fillStyle=_,d&&_&&t.fillRect(v+o+h,u+this.offsets[e]*i+s,f,this.fontSize/15),y+=r}else y+=r;this._removeShadow(t)}},_getFontDeclaration:function(t,r){var i=t||this;return[e.isLikelyNode?i.fontWeight:i.fontStyle,e.isLikelyNode?i.fontStyle:i.fontWeight,r?this.CACHE_FONT_SIZE+"px":i.fontSize+"px",e.isLikelyNode?'"'+i.fontFamily+'"':i.fontFamily].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var r=t.split(this._reNewline),i=new Array(r.length),n=["\n"],o=[],s=0;s<r.length;s++)i[s]=e.util.string.graphemeSplit(r[s]),o=o.concat(i[s],n);return o.pop(),{_unwrappedLines:i,lines:r,graphemeText:o,graphemeLines:i}},toObject:function(t){var e=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(t),i=this.callSuper("toObject",e);return i.styles=r(this.styles,!0),i},set:function(t,e){this.callSuper("set",t,e);var r=!1;if("object"==typeof t)for(var i in t)r=r||-1!==this._dimensionAffectingProps.indexOf(i);else r=-1!==this._dimensionAffectingProps.indexOf(t);return r&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,i,n){if(!t)return i(null);var o=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),s=o.textAnchor||"left";if((n=e.util.object.extend(n?r(n):{},o)).top=n.top||0,n.left=n.left||0,o.textDecoration){var a=o.textDecoration;-1!==a.indexOf("underline")&&(n.underline=!0),-1!==a.indexOf("overline")&&(n.overline=!0),-1!==a.indexOf("line-through")&&(n.linethrough=!0),delete n.textDecoration}"dx"in o&&(n.left+=o.dx),"dy"in o&&(n.top+=o.dy),"fontSize"in n||(n.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var c="";"textContent"in t?c=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(c=t.firstChild.data),c=c.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var l=new e.Text(c,n),u=l.getScaledHeight()/l.height,h=((l.height+l.strokeWidth)*l.lineHeight-l.height)*u,f=l.getScaledHeight()+h,m=0;"center"===s&&(m=l.getScaledWidth()/2),"right"===s&&(m=l.getScaledWidth()),l.set({left:l.left-m,top:l.top-(f-l.fontSize*(.18+l._fontSizeFraction))/l.lineHeight}),i(l)},e.Text.fromObject=function(t,r){return e.Object._fromObject("Text",t,r,"text")},e.util.createAccessors&&e.util.createAccessors(e.Text))}(e),W.util.object.extend(W.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if(void 0!==t&&!this.styles[t])return!0;var e=void 0===t?this.styles:{line:this.styles[t]};for(var r in e)for(var i in e[r])for(var n in e[r][i])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if(void 0!==e&&!this.styles[e])return!1;var r=void 0===e?this.styles:{line:this.styles[e]};for(var i in r)for(var n in r[i])if(void 0!==r[i][n][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,r,i=this.styles,n=0,o=!0,s=0;for(var a in i){for(var c in e=0,i[a]){var l;n++,(l=i[a][c]).hasOwnProperty(t)?(r?l[t]!==r&&(o=!1):r=l[t],l[t]===this[t]&&delete l[t]):o=!1,0!==Object.keys(l).length?e++:delete i[a][c]}0===e&&delete i[a]}for(var u=0;u<this._textLines.length;u++)s+=this._textLines[u].length;o&&n===s&&(this[t]=r,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,r,i,n=this.styles;for(r in n){for(i in e=n[r])delete e[i][t],0===Object.keys(e[i]).length&&delete e[i];0===Object.keys(e).length&&delete n[r]}}},_extendStyles:function(t,e){var r=this.get2DCursorLocation(t);this._getLineStyle(r.lineIndex)||this._setLineStyle(r.lineIndex,{}),this._getStyleDeclaration(r.lineIndex,r.charIndex)||this._setStyleDeclaration(r.lineIndex,r.charIndex,{}),W.util.object.extend(this._getStyleDeclaration(r.lineIndex,r.charIndex),e)},get2DCursorLocation:function(t,e){void 0===t&&(t=this.selectionStart);for(var r=e?this._unwrappedTextLines:this._textLines,i=r.length,n=0;n<i;n++){if(t<=r[n].length)return{lineIndex:n,charIndex:t};t-=r[n].length+1}return{lineIndex:n-1,charIndex:r[n-1].length<t?r[n-1].length:t}},getSelectionStyles:function(t,e,r){void 0===t&&(t=this.selectionStart||0),void 0===e&&(e=this.selectionEnd||t);for(var i=[],n=t;n<e;n++)i.push(this.getStyleAtPosition(n,r));return i},getStyleAtPosition:function(t,e){var r=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(r.lineIndex,r.charIndex):this._getStyleDeclaration(r.lineIndex,r.charIndex))||{}},setSelectionStyles:function(t,e,r){void 0===e&&(e=this.selectionStart||0),void 0===r&&(r=this.selectionEnd||e);for(var i=e;i<r;i++)this._extendStyles(i,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var r=this.styles&&this.styles[t];return r?r[e]:null},getCompleteStyleDeclaration:function(t,e){for(var r,i=this._getStyleDeclaration(t,e)||{},n={},o=0;o<this._styleProperties.length;o++)n[r=this._styleProperties[o]]=void 0===i[r]?this[r]:i[r];return n},_setStyleDeclaration:function(t,e,r){this.styles[t][e]=r},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return this.styles[t]},_setLineStyle:function(t,e){this.styles[t]=e},_deleteLineStyle:function(t){delete this.styles[t]}}),W.IText=W.util.createClass(W.Text,W.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,r=this.canvas.viewportTransform;e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.transform(e),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas){var t,e=this._getCursorBoundaries();this.canvas&&this.canvas.contextTop?(t=this.canvas.contextTop,this.clearContextTop(!0)):(t=this.canvas.contextContainer).save(),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(t){var e=this.width+4,r=this.height+4;t.clearRect(-e/2,-r/2,e,r)},_getCursorBoundaries:function(t){void 0===t&&(t=this.selectionStart);var e=this._getLeftOffset(),r=this._getTopOffset(),i=this._getCursorBoundariesOffsets(t);return{left:e,top:r,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;for(var e,r,i=0,n=0,o=this.get2DCursorLocation(t),s=0;s<o.lineIndex;s++)i+=this.getHeightOfLine(s);e=this._getLineLeftOffset(o.lineIndex);var a=this.__charBounds[o.lineIndex][o.charIndex];return a&&(n=a.left),0!==this.charSpacing&&0===this._textLines[0].length&&(n-=this._getWidthOfCharSpacing()),r={top:i,left:e+(0<n?n:0)},this.cursorOffsetCache=r,this.cursorOffsetCache},renderCursor:function(t,e){var r=this.get2DCursorLocation(),i=r.lineIndex,n=0<r.charIndex?r.charIndex-1:0,o=this.getValueOfPropertyAt(i,n,"fontSize"),s=this.scaleX*this.canvas.getZoom(),a=this.cursorWidth/s,c=t.topOffset,l=this.getValueOfPropertyAt(i,n,"deltaY");c+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.getValueOfPropertyAt(i,n,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-a/2,c+t.top+l,a,o)},renderSelection:function(t,e){for(var r=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,n=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(r),s=this.get2DCursorLocation(i),a=o.lineIndex,c=s.lineIndex,l=o.charIndex<0?0:o.charIndex,u=s.charIndex<0?0:s.charIndex,h=a;h<=c;h++){var f,m=this._getLineLeftOffset(h)||0,d=this.getHeightOfLine(h),p=0,_=0;h===a&&(p=this.__charBounds[a][l].left),a<=h&&h<c?_=n&&!this.isEndOfWrapping(h)?this.width:this.getLineWidth(h)||5:h===c&&(_=0===u?this.__charBounds[c][u].left:this.__charBounds[c][u-1].left+this.__charBounds[c][u-1].width),f=d,(this.lineHeight<1||h===c&&1<this.lineHeight)&&(d/=this.lineHeight),this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",e.fillRect(t.left+m+p,t.top+t.topOffset+d,_-p,1)):(e.fillStyle=this.selectionColor,e.fillRect(t.left+m+p,t.top+t.topOffset,_-p,d)),t.topOffset+=f}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=0<t.charIndex?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),W.IText.fromObject=function(t,e){if(St(t),t.styles)for(var r in t.styles)for(var i in t.styles[r])St(t.styles[r][i]);W.Object._fromObject("IText",t,e,"text")},H=W.util.object.clone,W.util.object.extend(W.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(t){this.isEditing&&this.exitEditing(),this.selected=!1,W.Object.prototype.onDeselect.call(this,t)},initAddedHandler:function(){var t=this;this.on("added",function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))})},initRemovedHandler:function(){var t=this;this.on("removed",function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],W.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))})},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.__isMousedown=!1})}.bind(this),t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,r,i){var n;return n={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:r,onComplete:function(){n.isAborted||t[i]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return n.isAborted}}),n},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(t){var e=this,r=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){e._tick()},r)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,r=t-1;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)e++,r--;for(;/\S/.test(this._text[r])&&-1<r;)e++,r--;return t-e},findWordBoundaryRight:function(t){var e=0,r=t;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)e++,r++;for(;/\S/.test(this._text[r])&&r<this.text.length;)e++,r++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,r=t-1;!/\n/.test(this._text[r])&&-1<r;)e++,r--;return t-e},findLineBoundaryRight:function(t){for(var e=0,r=t;!/\n/.test(this._text[r])&&r<this.text.length;)e++,r++;return t+e},searchWordBoundary:function(t,e){for(var r=this._reSpace.test(this.text.charAt(t))?t-1:t,i=this.text.charAt(r),n=/[ \n\.,;!\?\-]/;!n.test(i)&&0<r&&r<this.text.length;)r+=e,i=this.text.charAt(r);return n.test(i)&&"\n"!==i&&(r+=1===e?0:1),r},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),r=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),r=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll()),this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.selected=!1,t.isEditing&&t.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),r=this.selectionStart,i=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&r!==i||r!==e&&i!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===r&&this.selectionEnd===i||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,r){var i=r.slice(0,t),n=W.util.string.graphemeSplit(i).length;if(t===e)return{selectionStart:n,selectionEnd:n};var o=r.slice(t,e);return{selectionStart:n,selectionEnd:n+W.util.string.graphemeSplit(o).length}},fromGraphemeToStringSelection:function(t,e,r){var i=r.slice(0,t).join("").length;return t===e?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+r.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),r=this.get2DCursorLocation(t),i=r.lineIndex,n=r.charIndex,o=this.getValueOfPropertyAt(i,n,"fontSize")*this.lineHeight,s=e.leftOffset,a=this.calcTransformMatrix(),c={x:e.left+s,y:e.top+e.topOffset+o},l=this.canvas.upperCanvasEl,u=l.width-o,h=l.height-o;return c=W.util.transformPoint(c,a),(c=W.util.transformPoint(c,this.canvas.viewportTransform)).x<0&&(c.x=0),c.x>u&&(c.x=u),c.y<0&&(c.y=0),c.y>h&&(c.y=h),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:o+"px",charHeight:o}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var r,i,n=this.get2DCursorLocation(t,!0),o=this.get2DCursorLocation(e,!0),s=n.lineIndex,a=n.charIndex,c=o.lineIndex,l=o.charIndex;if(s!==c){if(this.styles[s])for(r=a;r<this._unwrappedTextLines[s].length;r++)delete this.styles[s][r];if(this.styles[c])for(r=l;r<this._unwrappedTextLines[c].length;r++)(i=this.styles[c][r])&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+r-l]=i);for(r=s+1;r<=c;r++)delete this.styles[r];this.shiftLineStyles(c,s-c)}else if(this.styles[s]){i=this.styles[s];var u,h,f=l-a;for(r=a;r<l;r++)delete i[r];for(h in this.styles[s])l<=(u=parseInt(h,10))&&(i[u-f]=i[h],delete i[h])}},shiftLineStyles:function(t,e){var r=H(this.styles);for(var i in this.styles){var n=parseInt(i,10);t<n&&(this.styles[n+e]=r[n],r[n-e]||delete this.styles[n])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,e,r,i){var n,o={},s=!1;for(var a in r=r||1,this.shiftLineStyles(t,r),this.styles[t]&&(n=this.styles[t][0===e?e:e-1]),this.styles[t]){var c=parseInt(a,10);e<=c&&(s=!0,o[c-e]=this.styles[t][a],delete this.styles[t][a])}for(s?this.styles[t+r]=o:delete this.styles[t+r];1<r;)r--,i&&i[r]?this.styles[t+r]={0:H(i[r])}:n?this.styles[t+r]={0:H(n)}:delete this.styles[t+r];this._forceClearCache=!0},insertCharStyleObject:function(t,e,r,i){this.styles||(this.styles={});var n=this.styles[t],o=n?H(n):{};for(var s in r=r||1,o){var a=parseInt(s,10);e<=a&&(n[a+r]=o[a],o[a-r]||delete n[a])}if(this._forceClearCache=!0,i)for(;r--;)Object.keys(i[r]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+r]=H(i[r]));else if(n)for(var c=n[e?e-1:1];c&&r--;)this.styles[t][e+r]=H(c)},insertNewStyleBlock:function(t,e,r){for(var i=this.get2DCursorLocation(e,!0),n=[0],o=0,s=0;s<t.length;s++)"\n"===t[s]?n[++o]=0:n[o]++;for(0<n[0]&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,n[0],r),r=r&&r.slice(n[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+n[0],o),s=1;s<o;s++)0<n[s]?this.insertCharStyleObject(i.lineIndex+s,0,n[s],r):r&&(this.styles[i.lineIndex+s][0]=r[0]),r=r&&r.slice(n[s]+1);0<n[s]&&this.insertCharStyleObject(i.lineIndex+s,0,n[s],r)},setSelectionStartEndWithShift:function(t,e,r){r<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=r):t<r&&r<e?"right"===this._selectionDirection?this.selectionEnd=r:this.selectionStart=r:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=r)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}}),W.util.object.extend(W.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=this.canvas.getPointer(t.e);this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("mousedblclick",function(t){this.selectWord(this.getSelectionStartFromPointer(t.e))}),this.on("tripleclick",function(t){this.selectLine(this.getSelectionStartFromPointer(t.e))})},_mouseDownHandler:function(t){if(this.canvas&&this.editable&&(!t.e.button||1===t.e.button)){var e=this.canvas.getPointer(t.e);this.__mousedownX=e.x,this.__mousedownY=e.y,this.__isMousedown=!0,this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())}},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler)},_isObjectMoved:function(t){var e=this.canvas.getPointer(t);return this.__mousedownX!==e.x||this.__mousedownY!==e.y},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){this.__isMousedown=!1,!this.editable||this._isObjectMoved(t.e)||t.e.button&&1!==t.e.button||(this.__lastSelected&&!this.__corner&&(this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()),this.selected=!0)},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),r=this.selectionStart,i=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(r,i,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e=this.getLocalPointer(t),r=0,i=0,n=0,o=0,s=0,a=0,c=this._textLines.length;a<c&&n<=e.y;a++)n+=this.getHeightOfLine(a)*this.scaleY,0<(s=a)&&(o+=this._textLines[a-1].length+1);i=this._getLineLeftOffset(s)*this.scaleX;for(var l=0,u=this._textLines[s].length;l<u&&(r=i,(i+=this.__charBounds[s][l].kernedWidth*this.scaleX)<=e.x);l++)o++;return this._getNewSelectionStartFromOffset(e,r,i,o,u)},_getNewSelectionStartFromOffset:function(t,e,r,i,n){var o=t.x-e,s=r-t.x,a=i+(o<s||s<0?0:1);return this.flipX&&(a=n-a),a>this._text.length&&(a=this._text.length),a}}),W.util.object.extend(W.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=W.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; line-height: 1px; paddingｰtop: "+t.fontSize+";",W.document.body.appendChild(this.hiddenTextarea),W.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),W.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),W.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),W.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),W.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),W.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),W.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),W.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),W.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(W.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing&&!this.inCompositionMode){if(t.keyCode in this.keysMap)this[this.keysMap[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown&&(t.ctrlKey||t.metaKey)))return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),33<=t.keyCode&&t.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var r,i,n=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,o=this._text.length,s=n.length,a=s-o;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var c=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),l=this.selectionStart>c.selectionStart;this.selectionStart!==this.selectionEnd?(r=this._text.slice(this.selectionStart,this.selectionEnd),a+=this.selectionEnd-this.selectionStart):s<o&&(r=l?this._text.slice(this.selectionEnd+a,this.selectionEnd):this._text.slice(this.selectionStart,this.selectionStart-a)),i=n.slice(c.selectionEnd-a,c.selectionEnd),r&&r.length&&(this.selectionStart!==this.selectionEnd?this.removeStyleFromTo(this.selectionStart,this.selectionEnd):l?this.removeStyleFromTo(this.selectionEnd-r.length,this.selectionEnd):this.removeStyleFromTo(this.selectionEnd,this.selectionEnd+r.length)),i.length&&(e&&i.join("")===W.copiedText?this.insertNewStyleBlock(i,this.selectionStart,W.copiedTextStyle):this.insertNewStyleBlock(i,this.selectionStart)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(W.copiedText=this.getSelectedText(),W.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||W.window.clipboardData},_getWidthBeforeCursor:function(t,e){var r,i=this._getLineLeftOffset(t);return 0<e&&(i+=(r=this.__charBounds[t][e-1]).left+r.width),i},getDownCursorOffset:function(t,e){var r=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(r),n=i.lineIndex;if(n===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-r;var o=i.charIndex,s=this._getWidthBeforeCursor(n,o),a=this._getIndexOnLine(n+1,s);return this._textLines[n].slice(o).length+a+2},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var r=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(r),n=i.lineIndex;if(0===n||t.metaKey||33===t.keyCode)return-r;var o=i.charIndex,s=this._getWidthBeforeCursor(n,o),a=this._getIndexOnLine(n-1,s),c=this._textLines[n].slice(0,o);return-this._textLines[n-1].length+a-c.length},_getIndexOnLine:function(t,e){for(var r,i,n=this._textLines[t],o=this._getLineLeftOffset(t),s=0,a=0,c=n.length;a<c;a++)if(e<(o+=r=this.__charBounds[t][a].width)){i=!0;var l=o-r,u=o,h=Math.abs(l-e);s=Math.abs(u-e)<h?a:a-1;break}return i||(s=n.length-1),s},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var r=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),0!==r&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,r){var i;if(t.altKey)i=this["findWordBoundary"+r](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===r?-1:1,!0;i=this["findLineBoundary"+r](this[e])}if(this[e]!==i)return this[e]=i,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var r="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?r+="Shift":r+="outShift",this[r](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){void 0===e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,r,i){void 0===i&&(i=r),r<i&&this.removeStyleFromTo(r,i);var n=W.util.string.graphemeSplit(t);this.insertNewStyleBlock(n,r,e),this._text=[].concat(this._text.slice(0,r),n,this._text.slice(i)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),V=W.util.toFixed,W.util.object.extend(W.Text.prototype,{toSVG:function(t){var e=this._createBaseSVGMarkup(),r=this._getSVGLeftTopOffsets(),i=this._getSVGTextAndBg(r.textTop,r.textLeft);return this._wrapSVGTextAndBg(e,i),t?t(e.join("")):e.join("")},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t,e){var r=this.getSvgFilter(),i=""===r?"":' style="'+r+'"',n=this.getSvgTextDecoration(this);t.push("\t<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',i,">\n",e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",n?'text-decoration="'+n+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.textSpans.join(""),"</text>\n","\t</g>\n")},_getSVGTextAndBg:function(t,e){var r,i=[],n=[],o=t;this._setSVGBg(n);for(var s=0,a=this._textLines.length;s<a;s++)r=this._getLineLeftOffset(s),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(n,s,e+r,o),this._setSVGTextLineText(i,s,e+r,o),o+=this.getHeightOfLine(s);return{textSpans:i,textBgRects:n}},_createTextCharSpan:function(t,e,r,i){var n=this.getSvgSpanStyles(e,t!==t.trim()),o=n?'style="'+n+'"':"",s=e.deltaY,a="",c=W.Object.NUM_FRACTION_DIGITS;return s&&(a=' dy="'+V(s,c)+'" '),['<tspan x="',V(r,c),'" y="',V(i,c),'" ',a,o,">",W.util.string.escapeXml(t),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,r,i){var n,o,s,a,c,l=this.getHeightOfLine(e),u=-1!==this.textAlign.indexOf("justify"),h="",f=0,m=this._textLines[e];i+=l*(1-this._fontSizeFraction)/this.lineHeight;for(var d=0,p=m.length-1;d<=p;d++)c=d===p||this.charSpacing,h+=m[d],s=this.__charBounds[e][d],0===f?(r+=s.kernedWidth-s.width,f+=s.width):f+=s.kernedWidth,u&&!c&&this._reSpaceAndTab.test(m[d])&&(c=!0),c||(n=n||this.getCompleteStyleDeclaration(e,d),o=this.getCompleteStyleDeclaration(e,d+1),c=this._hasStyleChangedForSvg(n,o)),c&&(a=this._getStyleDeclaration(e,d)||{},t.push(this._createTextCharSpan(h,a,r,i)),h="",n=o,r+=f,f=0)},_pushTextBgRect:function(t,e,r,i,n,o){var s=W.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(e),' x="',V(r,s),'" y="',V(i,s),'" width="',V(n,s),'" height="',V(o,s),'"></rect>\n')},_setSVGTextLineBg:function(t,e,r,i){for(var n,o,s=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight,c=0,l=0,u=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),h=0,f=s.length;h<f;h++)n=this.__charBounds[e][h],(o=this.getValueOfPropertyAt(e,h,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(t,u,r+l,i,c,a),l=n.left,c=n.width,u=o):c+=n.kernedWidth;o&&this._pushTextBgRect(t,o,r+l,i,c,a)},_getFillAttributes:function(t){var e=t&&"string"==typeof t?new W.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,r=0,i=0;i<t;i++)r+=this.getHeightOfLine(i);return e=this.getHeightOfLine(i),{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return W.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}}),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,r=0,i=0,n={},o=0;o<t.graphemeLines.length;o++)"\n"===t.graphemeText[i]&&0<o?(r=0,i++,e++):this._reSpaceAndTab.test(t.graphemeText[i])&&0<o&&(r++,i++),n[o]={line:e,offset:r},i+=t.graphemeLines[o].length,r+=t.graphemeLines[o].length;return n},styleHas:function(t,r){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[r];i&&(r=i.line)}return e.Text.prototype.styleHas.call(this,t,r)},isEmptyStyles:function(t){var e,r,i=0,n=!1,o=this._styleMap[t],s=this._styleMap[t+1];for(var a in o&&(t=o.line,i=o.offset),s&&(n=s.line===t,e=s.offset),r=void 0===t?this.styles:{line:this.styles[t]})for(var c in r[a])if(i<=c&&(!n||c<e))for(var l in r[a][c])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[t];if(!r)return null;t=r.line,e=r.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,r){var i=this._styleMap[t];t=i.line,e=i.offset+e,this.styles[t][e]=r},_deleteStyleDeclaration:function(t,e){var r=this._styleMap[t];t=r.line,e=r.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return this.styles[e.line]},_setLineStyle:function(t,e){var r=this._styleMap[t];this.styles[r.line]=e},_deleteLineStyle:function(t){var e=this._styleMap[t];delete this.styles[e.line]},_wrapText:function(t,e){var r,i=[];for(this.isWrapping=!0,r=0;r<t.length;r++)i=i.concat(this._wrapLine(t[r],r,e));return this.isWrapping=!1,i},_measureWord:function(t,e,r){var i,n=0;r=r||0;for(var o=0,s=t.length;o<s;o++)n+=this._getGraphemeBox(t[o],e,o+r,i,!0).kernedWidth,i=t[o];return n},_wrapLine:function(t,r,i){for(var n=0,o=[],s=[],a=t.split(this._reSpaceAndTab),c="",l=0,u=0,h=0,f=0,m=!0,d=this._getWidthOfCharSpacing(),p=0;p<a.length;p++)c=e.util.string.graphemeSplit(a[p]),u=this._measureWord(c,r,l),l+=c.length,i<=(n+=h+u-d)&&!m&&(o.push(s),s=[],n=u,m=!0),m||s.push(" "),s=s.concat(c),h=this._measureWord([" "],r,l),l++,m=!1,f<u&&(f=u);return p&&o.push(s),f>this.dynamicMinWidth&&(this.dynamicMinWidth=f-d),o},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},_splitTextIntoLines:function(t){for(var r=e.Text.prototype._splitTextIntoLines.call(this,t),i=this._wrapText(r.lines,this.width),n=new Array(i.length),o=0;o<i.length;o++)n[o]=i[o].join("");return r.lines=n,r.graphemeLines=i,r},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},toObject:function(t){return this.callSuper("toObject",["minWidth"].concat(t))}}),e.Textbox.fromObject=function(t,r){return e.Object._fromObject("Textbox",t,r,"text")}}(e),X=W.Canvas.prototype._setObjectScale,W.Canvas.prototype._setObjectScale=function(t,e,r,i,n,o,s){var a=e.target;if(!("x"===n&&a instanceof W.Textbox))return X.call(W.Canvas.prototype,t,e,r,i,n,o,s);var c=a._getTransformedDimensions().x,l=a.width*(t.x/c);return l>=a.getMinWidth()?(a.set("width",l),!0):void 0},W.util.object.extend(W.Textbox.prototype,{_removeExtraneousStyles:function(){for(var t in this._styleMap)this._textLines[t]||delete this.styles[this._styleMap[t].line]}}),void 0===(n=function(){return W}.apply(e,[]))||(t.exports=n)}).call(this,r("b639").Buffer)},"7aac":function(t,e,r){"use strict";var i=r("c532");t.exports=i.isStandardBrowserEnv()?{write:function(t,e,r,n,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),i.isString(n)&&a.push("path="+n),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"7b00":function(t,e){var r=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},"7b25":function(t,e){t.exports=function(t,e){var r="000000000"+t;return r.substr(r.length-e)}},"7b83":function(t,e,r){var i=r("7c64"),n=r("93ed"),o=r("2478"),s=r("a524"),a=r("1fc8");function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=n,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},"7b97":function(t,e,r){var i=r("7e64"),n=r("a2be"),o=r("1c3c"),s=r("b1e5"),a=r("42a2"),c=r("6747"),l=r("0d24"),u=r("73ac"),h="[object Arguments]",f="[object Array]",m="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,p,_,g){var v=c(t),y=c(e),b=v?f:a(t),x=y?f:a(e),w=(b=b==h?m:b)==m,S=(x=x==h?m:x)==m,C=b==x;if(C&&l(t)){if(!l(e))return!1;w=!(v=!0)}if(C&&!w)return g=g||new i,v||u(t)?n(t,e,r,p,_,g):o(t,e,b,r,p,_,g);if(!(1&r)){var T=w&&d.call(t,"__wrapped__"),E=S&&d.call(e,"__wrapped__");if(T||E)return _(T?t.value():t,E?e.value():e,r,p,g=g||new i)}return C&&(g=g||new i,s(t,e,r,p,_,g))}},"7ba0":function(t,e){function r(){this.buffer=[],this.length=0}r.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=r},"7bbc":function(t,e,r){var i=r("6821"),n=r("9093").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return n(t)}catch(t){return s.slice()}}(t):n(i(t))}},"7bf0":function(t,e){var r,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||40<t)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return i[t]},e.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');r=t},e.isKanjiModeEnabled=function(){return void 0!==r},e.toSJIS=function(t){return r(t)}},"7c64":function(t,e,r){var i=r("e24b"),n=r("5e2e"),o=r("79bc");t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||n),string:new i}}},"7d1f":function(t,e,r){var i=r("087d"),n=r("6747");t.exports=function(t,e,r){var o=e(t);return n(t)?o:i(o,r(t))}},"7d8a":function(t,e,r){var i=r("6e1f"),n=r("1b55")("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?r:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},"7d95":function(t,e,r){t.exports=!r("d782")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"7e64":function(t,e,r){var i=r("5e2e"),n=r("efb6"),o=r("2fcc"),s=r("802a"),a=r("55a3"),c=r("d02c");function l(t){var e=this.__data__=new i(t);this.size=e.size}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=s,l.prototype.has=a,l.prototype.set=c,t.exports=l},"7ed2":function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},"7f20":function(t,e,r){var i=r("86cc").f,n=r("69a8"),o=r("2b4c")("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},"7f4d":function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=1,r=arguments.length;e<r;e++){var i=arguments[e]||{};for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];void 0!==o&&(t[n]=o)}}return t}},"7f7f":function(t,e,r){var i=r("86cc").f,n=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in n||r("9e1e")&&i(n,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},"802a":function(t,e){t.exports=function(t){return this.__data__.get(t)}},8057:function(t,e){t.exports=function(t,e){for(var r=-1,i=null==t?0:t.length;++r<i&&!1!==e(t[r],r,t););return t}},8115:function(t,e){t.exports=function(t,e,r,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(r+": incorrect invocation!");return t}},8119:function(t,e,r){r("693d"),r("dfe5"),r("301c"),r("4e71"),t.exports=r("5524").Symbol},8122:function(t,e,r){"use strict";e.__esModule=!0,e.isEmpty=e.isEqual=e.arrayEquals=e.looseEqual=e.capitalize=e.kebabCase=e.autoprefixer=e.isFirefox=e.isEdge=e.isIE=e.coerceTruthyValueToArray=e.arrayFind=e.arrayFindIndex=e.escapeRegexpString=e.valueEquals=e.generateId=e.getValueByPath=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.noop=function(){},e.hasOwn=function(t,e){return c.call(t,e)},e.toObject=function(t){for(var e={},r=0;r<t.length;r++)t[r]&&l(e,t[r]);return e},e.getPropByPath=function(t,e,r){for(var i=t,n=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),o=0,s=n.length;o<s-1&&(i||r);++o){var a=n[o];if(!(a in i)){if(r)throw new Error("please transfer a valid prop path to form item!");break}i=i[a]}return{o:i,k:n[o],v:i?i[n[o]]:null}},e.rafThrottle=function(t){var e=!1;return function(){for(var r=this,i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];e||(e=!0,window.requestAnimationFrame(function(i){t.apply(r,n),e=!1}))}},e.objToArray=function(t){return Array.isArray(t)?t:m(t)?[]:[t]};var n,o=r("2b0e"),s=(n=o)&&n.__esModule?n:{default:n},a=r("a7425"),c=Object.prototype.hasOwnProperty;function l(t,e){for(var r in e)t[r]=e[r];return t}e.getValueByPath=function(t,e){for(var r=(e=e||"").split("."),i=t,n=null,o=0,s=r.length;o<s;o++){var a=r[o];if(!i)break;if(o===s-1){n=i[a];break}i=i[a]}return n},e.generateId=function(){return Math.floor(1e4*Math.random())},e.valueEquals=function(t,e){if(t===e)return!0;if(!(t instanceof Array))return!1;if(!(e instanceof Array))return!1;if(t.length!==e.length)return!1;for(var r=0;r!==t.length;++r)if(t[r]!==e[r])return!1;return!0},e.escapeRegexpString=function(t){return String(0<arguments.length&&void 0!==t?t:"").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var u=e.arrayFindIndex=function(t,e){for(var r=0;r!==t.length;++r)if(e(t[r]))return r;return-1},h=(e.arrayFind=function(t,e){var r=u(t,e);return-1!==r?t[r]:void 0},e.coerceTruthyValueToArray=function(t){return Array.isArray(t)?t:t?[t]:[]},e.isIE=function(){return!s.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},e.isEdge=function(){return!s.default.prototype.$isServer&&-1<navigator.userAgent.indexOf("Edge")},e.isFirefox=function(){return!s.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},e.autoprefixer=function(t){if("object"!==(void 0===t?"undefined":i(t)))return t;var e=["ms-","webkit-"];return["transform","transition","animation"].forEach(function(r){var i=t[r];r&&i&&e.forEach(function(e){t[e+r]=i})}),t},e.kebabCase=function(t){var e=/([^-])([A-Z])/g;return t.replace(e,"$1-$2").replace(e,"$1-$2").toLowerCase()},e.capitalize=function(t){return(0,a.isString)(t)?t.charAt(0).toUpperCase()+t.slice(1):t},e.looseEqual=function(t,e){var r=(0,a.isObject)(t),i=(0,a.isObject)(e);return r&&i?JSON.stringify(t)===JSON.stringify(e):!r&&!i&&String(t)===String(e)}),f=e.arrayEquals=function(t,e){if((t=t||[]).length!==(e=e||[]).length)return!1;for(var r=0;r<t.length;r++)if(!h(t[r],e[r]))return!1;return!0},m=(e.isEqual=function(t,e){return Array.isArray(t)&&Array.isArray(e)?f(t,e):h(t,e)},e.isEmpty=function(t){if(null==t)return!0;if("boolean"==typeof t)return!1;if("number"==typeof t)return!t;if(t instanceof Error)return""===t.message;switch(Object.prototype.toString.call(t)){case"[object String]":case"[object Array]":return!t.length;case"[object File]":case"[object Map]":case"[object Set]":return!t.size;case"[object Object]":return!Object.keys(t).length}return!1})},"81ee":function(t,e,r){r("9a51"),t.exports=r("a7d3").Object.assign},"82e3":function(t,e,r){r("3dcc"),t.exports=r("a7d3").Date.now},8378:function(t,e){var r=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},8384:function(t,e){t.exports=function(t,e,r){return t==t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=e<=t?t:e)),t}},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},"845f":function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},117:function(t,e,r){"use strict";function i(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-button-group"},[this._t("default")],2)}r.r(e),i._withStripped=!0;var n={name:"ElButtonGroup"},o=r(0),s=Object(o.a)(n,i,[],!1,null,null,null);s.options.__file="packages/button/src/button-group.vue";var a=s.exports;a.install=function(t){t.component(a.name,a)},e.default=a}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=117))},"84f2":function(t,e){t.exports={}},"85cd":function(t,e,r){var i=r("0185"),n=r("ff0c");r("c165")("getPrototypeOf",function(){return function(t){return n(i(t))}})},"85e3":function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},"85e7":function(t,e,r){var i=r("1a14"),n=r("77e9"),o=r("9876");t.exports=r("0bad")?Object.defineProperties:function(t,e){n(t);for(var r,s=o(e),a=s.length,c=0;c<a;)i.f(t,r=s[c++],e[r]);return t}},"85f2":function(t,e,r){t.exports=r("ec5b")},8604:function(t,e,r){var i=r("26e8"),n=r("e2c0");t.exports=function(t,e){return null!=t&&n(t,e,i)}},"86cc":function(t,e,r){var i=r("cb7c"),n=r("c69a"),o=r("6a99"),s=Object.defineProperty;e.f=r("9e1e")?Object.defineProperty:function(t,e,r){if(i(t),e=o(e,!0),i(r),n)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},"872a":function(t,e,r){var i=r("3b4a");t.exports=function(t,e,r){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},8747:function(t,e,r){var i=r("d13f");i(i.P+i.R,"Map",{toJSON:r("034c")("Map")})},"88b8":function(t,e,r){var i=r("a9f2"),n=r("1d27"),o=r("f26d"),s=r("27b2"),a=r("04cf"),c=r("b36f"),l={},u={};(e=t.exports=function(t,e,r,h,f){var m,d,p,_,g=f?function(){return t}:c(t),v=i(r,h,e?2:1),y=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(m=a(t.length);y<m;y++)if((_=e?v(s(d=t[y])[0],d[1]):v(t[y]))===l||_===u)return _}else for(p=g.call(t);!(d=p.next()).done;)if((_=n(p,v,d.value,e))===l||_===u)return _}).BREAK=l,e.RETURN=u},"89ca":function(t,e,r){r("b42c"),r("93c4"),t.exports=r("d38f")},"8a0d":function(t,e){t.exports={}},"8a12":function(t,e,r){var i=r("da3c").navigator;t.exports=i&&i.userAgent||""},"8a60":function(t,e,r){var i;!function(n,o){if(n){for(var s,a={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},h=1;h<20;++h)a[111+h]="f"+h;for(h=0;h<=9;++h)a[h+96]=h.toString();g.prototype.bind=function(t,e,r){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,r),this},g.prototype.unbind=function(t,e){return this.bind.call(this,t,function(){},e)},g.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},g.prototype.reset=function(){return this._callbacks={},this._directMap={},this},g.prototype.stopCallback=function(t,e){if(-1<(" "+e.className+" ").indexOf(" mousetrap "))return!1;if(function t(e,r){return null!==e&&e!==o&&(e===r||t(e.parentNode,r))}(e,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var r=t.composedPath()[0];r!==t.target&&(e=r)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},g.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},g.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e]);s=null},g.init=function(){var t=g(o);for(var e in t)"_"!==e.charAt(0)&&(g[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},g.init(),n.Mousetrap=g,t.exports&&(t.exports=g),void 0===(i=function(){return g}.call(e,r,e,t))||(t.exports=i)}function f(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r)}function m(t){if("keypress"!=t.type)return a[t.which]?a[t.which]:c[t.which]?c[t.which]:String.fromCharCode(t.which).toLowerCase();var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}function d(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function p(t,e,r){return"keypress"==(r=r||(function(){if(!s)for(var t in s={},a)95<t&&t<112||a.hasOwnProperty(t)&&(s[a[t]]=t);return s}()[t]?"keydown":"keypress"))&&e.length&&(r="keydown"),r}function _(t,e){var r,i,n,o=[];for(r=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),n=0;n<r.length;++n)i=r[n],u[i]&&(i=u[i]),e&&"keypress"!=e&&l[i]&&(i=l[i],o.push("shift")),d(i)&&o.push(i);return{key:i,modifiers:o,action:e=p(i,o,e)}}function g(t){var e=this;if(t=t||o,!(e instanceof g))return new g(t);e.target=t,e._callbacks={},e._directMap={};var r,i={},n=!1,s=!1,a=!1;function c(t){t=t||{};var e,r=!1;for(e in i)t[e]?r=!0:i[e]=0;r||(a=!1)}function l(t,r,n,o,s,a){var c,l,u,h,f=[],m=n.type;if(!e._callbacks[t])return[];for("keyup"==m&&d(t)&&(r=[t]),c=0;c<e._callbacks[t].length;++c)if(l=e._callbacks[t][c],(o||!l.seq||i[l.seq]==l.level)&&m==l.action&&("keypress"==m&&!n.metaKey&&!n.ctrlKey||(u=r,h=l.modifiers,u.sort().join(",")===h.sort().join(",")))){var p=!o&&l.combo==s,_=o&&l.seq==o&&l.level==a;(p||_)&&e._callbacks[t].splice(c,1),f.push(l)}return f}function u(t,r,i,n){e.stopCallback(r,r.target||r.srcElement,i,n)||!1===t(r,i)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(r),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(r))}function h(t){"number"!=typeof t.which&&(t.which=t.keyCode);var r=m(t);r&&("keyup"!=t.type||n!==r?e.handleKey(r,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):n=!1)}function p(t,e,o,s){function l(e){return function(){a=e,++i[t],clearTimeout(r),r=setTimeout(c,1e3)}}function h(e){u(o,e,t),"keyup"!==s&&(n=m(e)),setTimeout(c,10)}for(var f=i[t]=0;f<e.length;++f){var d=f+1===e.length?h:l(s||_(e[f+1]).action);v(e[f],d,s,t,f)}}function v(t,r,i,n,o){e._directMap[t+":"+i]=r;var s,a=(t=t.replace(/\s+/g," ")).split(" ");1<a.length?p(t,a,r,i):(s=_(t,i),e._callbacks[s.key]=e._callbacks[s.key]||[],l(s.key,s.modifiers,{type:s.action},n,t,o),e._callbacks[s.key][n?"unshift":"push"]({callback:r,modifiers:s.modifiers,action:s.action,seq:n,level:o,combo:t}))}e._handleKey=function(t,e,r){var i,n=l(t,e,r),o={},h=0,f=!1;for(i=0;i<n.length;++i)n[i].seq&&(h=Math.max(h,n[i].level));for(i=0;i<n.length;++i)if(n[i].seq){if(n[i].level!=h)continue;f=!0,o[n[i].seq]=1,u(n[i].callback,r,n[i].combo,n[i].seq)}else f||u(n[i].callback,r,n[i].combo);var m="keypress"==r.type&&s;r.type!=a||d(t)||m||c(o),s=f&&"keydown"==r.type},e._bindMultiple=function(t,e,r){for(var i=0;i<t.length;++i)v(t[i],e,r)},f(t,"keypress",h),f(t,"keydown",h),f(t,"keyup",h)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},"8a77":function(t,e,r){r("111f")("Map")},"8a81":function(t,e,r){"use strict";function i(t){var e=W[t]=M(N[U]);return e._k=t,e}function n(t,e){C(t);for(var r,i=w(e=O(e)),n=0,o=i.length;n<o;)et(t,r=i[n++],e[r]);return t}function o(t){var e=V.call(this,t=k(t,!0));return!(this===G&&u(W,t)&&!u(Y,t))&&(!(e||!u(this,t)||!u(W,t)||u(this,q)&&this[q][t])||e)}function s(t,e){if(t=O(t),e=k(e,!0),t!==G||!u(W,e)||u(Y,e)){var r=R(t,e);return!r||!u(W,e)||u(t,q)&&t[q][e]||(r.enumerable=!0),r}}function a(t){for(var e,r=L(O(t)),i=[],n=0;r.length>n;)u(W,e=r[n++])||e==q||e==d||i.push(e);return i}function c(t){for(var e,r=t===G,i=L(r?Y:O(t)),n=[],o=0;i.length>o;)!u(W,e=i[o++])||r&&!u(G,e)||n.push(W[e]);return n}var l=r("7726"),u=r("69a8"),h=r("9e1e"),f=r("5ca1"),m=r("2aba"),d=r("67ab").KEY,p=r("79e5"),_=r("5537"),g=r("7f20"),v=r("ca5a"),y=r("2b4c"),b=r("37c8"),x=r("3a72"),w=r("d4c0"),S=r("1169"),C=r("cb7c"),T=r("d3f4"),E=r("4bf8"),O=r("6821"),k=r("6a99"),A=r("4630"),M=r("2aeb"),P=r("7bbc"),D=r("11e9"),j=r("2621"),z=r("86cc"),I=r("0d58"),R=D.f,F=z.f,L=P.f,N=l.Symbol,B=l.JSON,$=B&&B.stringify,U="prototype",q=y("_hidden"),H=y("toPrimitive"),V={}.propertyIsEnumerable,X=_("symbol-registry"),W=_("symbols"),Y=_("op-symbols"),G=Object[U],K="function"==typeof N&&!!j.f,J=l.QObject,Q=!J||!J[U]||!J[U].findChild,Z=h&&p(function(){return 7!=M(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(t,e,r){var i=R(G,e);i&&delete G[e],F(t,e,r),i&&t!==G&&F(G,e,i)}:F,tt=K&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},et=function(t,e,r){return t===G&&et(Y,e,r),C(t),e=k(e,!0),C(r),u(W,e)?(r.enumerable?(u(t,q)&&t[q][e]&&(t[q][e]=!1),r=M(r,{enumerable:A(0,!1)})):(u(t,q)||F(t,q,A(1,{})),t[q][e]=!0),Z(t,e,r)):F(t,e,r)};K||(m((N=function(t){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=v(0<arguments.length?t:void 0),r=function(t){this===G&&r.call(Y,t),u(this,q)&&u(this[q],e)&&(this[q][e]=!1),Z(this,e,A(1,t))};return h&&Q&&Z(G,e,{configurable:!0,set:r}),i(e)})[U],"toString",function(){return this._k}),D.f=s,z.f=et,r("9093").f=P.f=a,r("52a7").f=o,j.f=c,h&&!r("2d00")&&m(G,"propertyIsEnumerable",o,!0),b.f=function(t){return i(y(t))}),f(f.G+f.W+f.F*!K,{Symbol:N});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;rt.length>it;)y(rt[it++]);for(var nt=I(y.store),ot=0;nt.length>ot;)x(nt[ot++]);f(f.S+f.F*!K,"Symbol",{for:function(t){return u(X,t+="")?X[t]:X[t]=N(t)},keyFor:function(t){if(!tt(t))throw TypeError(t+" is not a symbol!");for(var e in X)if(X[e]===t)return e},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),f(f.S+f.F*!K,"Object",{create:function(t,e){return void 0===e?M(t):n(M(t),e)},defineProperty:et,defineProperties:n,getOwnPropertyDescriptor:s,getOwnPropertyNames:a,getOwnPropertySymbols:c});var st=p(function(){j.f(1)});f(f.S+f.F*st,"Object",{getOwnPropertySymbols:function(t){return j.f(E(t))}}),B&&f(f.S+f.F*(!K||p(function(){var t=N();return"[null]"!=$([t])||"{}"!=$({a:t})||"{}"!=$(Object(t))})),"JSON",{stringify:function(t){for(var e,r,i=[t],n=1;n<arguments.length;)i.push(arguments[n++]);if(r=e=i[1],(T(e)||void 0!==t)&&!tt(t))return S(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!tt(e))return e}),i[1]=e,$.apply(B,i)}}),N[U][H]||r("32e9")(N[U],H,N[U].valueOf),g(N,"Symbol"),g(Math,"Math",!0),g(l.JSON,"JSON",!0)},"8adb":function(t,e){t.exports=function(t,e){if("__proto__"!=e)return t[e]}},"8b1a":function(t,e){var r=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},"8b97":function(t,e,r){function i(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var n=r("d3f4"),o=r("cb7c");t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return i(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:i}},"8bab":function(t,e,r){var i=r("6e1f");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},"8bbc":function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},123:function(t,e,r){"use strict";r.r(e);var i={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(t){return-1!==["dark","light","plain"].indexOf(t)}}},methods:{handleClose:function(t){t.stopPropagation(),this.$emit("close",t)},handleClick:function(t){this.$emit("click",t)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(t){var e=this.type,r=this.tagSize,i=this.hit,n=this.effect,o=t("span",{class:["el-tag",e?"el-tag--"+e:"",r?"el-tag--"+r:"",n?"el-tag--"+n:"",i&&"is-hit"],style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&t("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?o:t("transition",{attrs:{name:"el-zoom-in-center"}},[o])}},n=r(0),o=Object(n.a)(i,void 0,void 0,!1,null,null,null);o.options.__file="packages/tag/src/tag.vue";var s=o.exports;s.install=function(t){t.component(s.name,s)},e.default=s}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=123))},"8bd2":function(t,e,r){t.exports=r("6997")},"8c4f":function(t,e,r){"use strict";
/*!
  * vue-router v3.0.2
  * (c) 2018 Evan You
  * @license MIT
  */function i(t){return-1<Object.prototype.toString.call(t).indexOf("Error")}function n(t,e){for(var r in e)t[r]=e[r];return t}var o={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var r=e.props,i=e.children,o=e.parent,s=e.data;s.routerView=!0;for(var a=o.$createElement,c=r.name,l=o.$route,u=o._routerViewCache||(o._routerViewCache={}),h=0,f=!1;o&&o._routerRoot!==o;)o.$vnode&&o.$vnode.data.routerView&&h++,o._inactive&&(f=!0),o=o.$parent;if(s.routerViewDepth=h,f)return a(u[c],s,i);var m=l.matched[h];if(!m)return u[c]=null,a();var d=u[c]=m.components[c];s.registerRouteInstance=function(t,e){var r=m.instances[c];(e&&r!==t||!e&&r===t)&&(m.instances[c]=e)},(s.hook||(s.hook={})).prepatch=function(t,e){m.instances[c]=e.componentInstance};var p=s.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:}}(l,m.props&&m.props[c]);if(p){p=s.props=n({},p);var _=s.attrs=s.attrs||{};for(var g in p)d.props&&g in d.props||(_[g]=p[g],delete p[g])}return a(d,s,i)}};function s(t){return"%"+t.charCodeAt(0).toString(16)}var a=/[!'()*]/g,c=/%2C/g,l=function(t){return encodeURIComponent(t).replace(a,s).replace(c,",")},u=decodeURIComponent;function h(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))&&t.split("&").forEach(function(t){var r=t.replace(/\+/g," ").split("="),i=u(r.shift()),n=0<r.length?u(r.join("=")):null;void 0===e[i]?e[i]=n:Array.isArray(e[i])?e[i].push(n):e[i]=[e[i],n]}),e}function f(t){var e=t?Object.keys(t).map(function(e){var r=t[e];if(void 0===r)return"";if(null===r)return l(e);if(Array.isArray(r)){var i=[];return r.forEach(function(t){void 0!==t&&(null===t?i.push(l(e)):i.push(l(e)+"="+l(t)))}),i.join("&")}return l(e)+"="+l(r)}).filter(function(t){return 0<t.length}).join("&"):null;return e?"?"+e:""}var m=/\/?$/;function d(t,e,r,i){var n=i&&i.options.stringifyQuery,o=e.query||{};try{o=p(o)}catch(t){}var s={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:g(e,n),matched:t?function(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}(t):[]};return r&&(s.redirectedFrom=g(r,n)),Object.freeze(s)}function p(t){if(Array.isArray(t))return t.map(p);if(t&&"object"==typeof t){var e={};for(var r in t)e[r]=p(t[r]);return e}return t}var _=d(null,{path:"/"});function g(t,e){var r=t.path,i=t.query;void 0===i&&(i={});var n=t.hash;return void 0===n&&(n=""),(r||"/")+(e||f)(i)+n}function v(t,e){return e===_?t===e:!!e&&(t.path&&e.path?t.path.replace(m,"")===e.path.replace(m,"")&&t.hash===e.hash&&y(t.query,e.query):!(!t.name||!e.name)&&t.name===e.name&&t.hash===e.hash&&y(t.query,e.query)&&y(t.params,e.params))}function y(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var r=Object.keys(t),i=Object.keys(e);return r.length===i.length&&r.every(function(r){var i=t[r],n=e[r];return"object"==typeof i&&"object"==typeof n?y(i,n):String(i)===String(n)})}function b(t,e){return 0===t.path.replace(m,"/").indexOf(e.path.replace(m,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var r in e)if(!(r in t))return!1;return!0}(t.query,e.query)}var x,w=[String,Object],S=[String,Array],C={name:"RouterLink",props:{to:{type:w,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:S,default:"click"}},render:function(t){var e=this,r=this.$router,i=this.$route,o=r.resolve(this.to,i,this.append),s=o.location,a=o.route,c=o.href,l={},u=r.options.linkActiveClass,h=r.options.linkExactActiveClass,f=null==u?"router-link-active":u,m=null==h?"router-link-exact-active":h,p=null==this.activeClass?f:this.activeClass,_=null==this.exactActiveClass?m:this.exactActiveClass,g=s.path?d(null,s,null,r):a;function y(t){T(t)&&(e.replace?r.replace(s):r.push(s))}l[_]=v(i,g),l[p]=this.exact?l[_]:b(i,g);var x={click:T};Array.isArray(this.event)?this.event.forEach(function(t){x[t]=y}):x[this.event]=y;var w={class:l};if("a"===this.tag)w.on=x,w.attrs={href:c};else{var S=function t(e){if(e)for(var r,i=0;i<e.length;i++){if("a"===(r=e[i]).tag)return r;if(r.children&&(r=t(r.children)))return r}}(this.$slots.default);S?(S.isStatic=!1,(S.data=n({},S.data)).on=x,(S.data.attrs=n({},S.data.attrs)).href=c):w.on=x}return t(this.tag,w,this.$slots.default)}};function T(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}var E="undefined"!=typeof window;function O(t,e,r){var i=t.charAt(0);if("/"===i)return t;if("?"===i||"#"===i)return e+t;var n=e.split("/");r&&n[n.length-1]||n.pop();for(var o=t.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?n.pop():"."!==a&&n.push(a)}return""!==n[0]&&n.unshift(""),n.join("/")}function k(t){return t.replace(/\/\//g,"/")}function A(t,e){return L(R(t,e))}var M=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},P=q,D=R,j=L,z=U,I=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function R(t,e){for(var r,i,n=[],o=0,s=0,a="",c=e&&e.delimiter||"/";null!=(r=I.exec(t));){var l=r[0],u=r[1],h=r.index;if(a+=t.slice(s,h),s=h+l.length,u)a+=u[1];else{var f=t[s],m=r[2],d=r[3],p=r[4],_=r[5],g=r[6],v=r[7];a&&(n.push(a),a="");var y=null!=m&&null!=f&&f!==m,b="+"===g||"*"===g,x="?"===g||"*"===g,w=r[2]||c,S=p||_;n.push({name:d||o++,prefix:m||"",delimiter:w,optional:x,repeat:b,partial:y,asterisk:!!v,pattern:S?(i=S,i.replace(/([=!:$\/()])/g,"\\$1")):v?".*":"[^"+N(w)+"]+?"})}}return s<t.length&&(a+=t.substr(s)),a&&n.push(a),n}function F(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function L(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,i){for(var n="",o=r||{},s=(i||{}).pretty?F:encodeURIComponent,a=0;a<t.length;a++){var c=t[a];if("string"!=typeof c){var l,u=o[c.name];if(null==u){if(c.optional){c.partial&&(n+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(M(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<u.length;h++){if(l=s(u[h]),!e[a].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");n+=(0===h?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?encodeURI(u).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):s(u),!e[a].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');n+=c.prefix+l}}else n+=c}return n}}function N(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function B(t,e){return t.keys=e,t}function $(t){return t.sensitive?"":"i"}function U(t,e,r){M(e)||(r=e||r,e=[]);for(var i=(r=r||{}).strict,n=!1!==r.end,o="",s=0;s<t.length;s++){var a=t[s];if("string"==typeof a)o+=N(a);else{var c=N(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+c+l+")*"),o+=l=a.optional?a.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")"}}var u=N(r.delimiter||"/"),h=o.slice(-u.length)===u;return i||(o=(h?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=n?"$":i&&h?"":"(?="+u+"|$)",B(new RegExp("^"+o,$(r)),e)}function q(t,e,r){return M(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?function(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return B(t,e)}(t,e):M(t)?function(t,e,r){for(var i=[],n=0;n<t.length;n++)i.push(q(t[n],e,r).source);return B(new RegExp("(?:"+i.join("|")+")",$(r)),e)}(t,e,r):function(t,e,r){return U(R(t,r),e,r)}(t,e,r)}P.parse=D,P.compile=A,P.tokensToFunction=j,P.tokensToRegExp=z;var H=Object.create(null);function V(t,e){try{return(H[t]||(H[t]=P.compile(t)))(e||{},{pretty:!0})}catch(t){return""}}function X(t,e,r,i){var n=e||[],o=r||Object.create(null),s=i||Object.create(null);t.forEach(function(t){!function t(e,r,i,n,o,s){var a=n.path,c=n.name,l=n.pathToRegexpOptions||{},u=Y(a,o,l.strict);"boolean"==typeof n.caseSensitive&&(l.sensitive=n.caseSensitive);var h={path:u,regex:W(u,l),components:n.components||{default:n.component},instances:{},name:c,parent:o,matchAs:s,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};if(n.children&&n.children.forEach(function(n){var o=s?k(s+"/"+n.path):void 0;t(e,r,i,n,h,o)}),void 0!==n.alias){var f=Array.isArray(n.alias)?n.alias:[n.alias];f.forEach(function(s){var a={path:s,children:n.children};t(e,r,i,a,o,h.path||"/")})}r[h.path]||(e.push(h.path),r[h.path]=h),c&&(i[c]||(i[c]=h))}(n,o,s,t)});for(var a=0,c=n.length;a<c;a++)"*"===n[a]&&(n.push(n.splice(a,1)[0]),c--,a--);return{pathList:n,pathMap:o,nameMap:s}}function W(t,e){return P(t,[],e)}function Y(t,e,r){return r||(t=t.replace(/\/$/,"")),"/"===t[0]?t:null==e?t:k(e.path+"/"+t)}function G(t,e,r,i){var o="string"==typeof t?{path:t}:t;if(o.name||o._normalized)return o;if(!o.path&&o.params&&e){(o=n({},o))._normalized=!0;var s=n(n({},e.params),o.params);if(e.name)o.name=e.name,o.params=s;else if(e.matched.length){var a=e.matched[e.matched.length-1].path;o.path=V(a,s,e.path)}return o}var c=function(t){var e="",r="",i=t.indexOf("#");0<=i&&(e=t.slice(i),t=t.slice(0,i));var n=t.indexOf("?");return 0<=n&&(r=t.slice(n+1),t=t.slice(0,n)),{path:t,query:r,hash:e}}(o.path||""),l=e&&e.path||"/",u=c.path?O(c.path,l,r||o.append):l,f=function(t,e,r){void 0===e&&(e={});var i,n=r||h;try{i=n(t||"")}catch(t){i={}}for(var o in e)i[o]=e[o];return i}(c.query,o.query,i&&i.options.parseQuery),m=o.hash||c.hash;return m&&"#"!==m.charAt(0)&&(m="#"+m),{_normalized:!0,path:u,query:f,hash:m}}function K(t,e){var r=X(t),i=r.pathList,n=r.pathMap,o=r.nameMap;function s(t,r,s){var a=G(t,r,!1,e),l=a.name;if(l){var u=o[l];if(!u)return c(null,a);var h=u.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof a.params&&(a.params={}),r&&"object"==typeof r.params)for(var f in r.params)!(f in a.params)&&-1<h.indexOf(f)&&(a.params[f]=r.params[f]);if(u)return a.path=V(u.path,a.params),c(u,a,s)}else if(a.path){a.params={};for(var m=0;m<i.length;m++){var d=i[m],p=n[d];if(J(p.regex,a.path,a.params))return c(p,a,s)}}return c(null,a)}function a(t,r){var i=t.redirect,n="function"==typeof i?i(d(t,r,null,e)):i;if("string"==typeof n&&(n={path:n}),!n||"object"!=typeof n)return c(null,r);var a=n,l=a.name,u=a.path,h=r.query,f=r.hash,m=r.params;return h=a.hasOwnProperty("query")?a.query:h,f=a.hasOwnProperty("hash")?a.hash:f,m=a.hasOwnProperty("params")?a.params:m,l?(o[l],s({_normalized:!0,name:l,query:h,hash:f,params:m},void 0,r)):u?s({_normalized:!0,path:V(function(t,e){return O(t,e.parent?e.parent.path:"/",!0)}(u,t),m),query:h,hash:f},void 0,r):c(null,r)}function c(t,r,i){return t&&t.redirect?a(t,i||r):t&&t.matchAs?function(t,e,r){var i=s({_normalized:!0,path:V(r,e.params)});if(i){var n=i.matched,o=n[n.length-1];return e.params=i.params,c(o,e)}return c(null,e)}(0,r,t.matchAs):d(t,r,i,e)}return{match:s,addRoutes:function(t){X(t,i,n,o)}}}function J(t,e,r){var i=e.match(t);if(!i)return!1;if(!r)return!0;for(var n=1,o=i.length;n<o;++n){var s=t.keys[n-1],a="string"==typeof i[n]?decodeURIComponent(i[n]):i[n];s&&(r[s.name||"pathMatch"]=a)}return!0}var Q=Object.create(null);function Z(){window.history.replaceState({key:ht()},"",window.location.href.replace(window.location.origin,"")),window.addEventListener("popstate",function(t){et(),t.state&&t.state.key&&function(t){lt=t}(t.state.key)})}function tt(t,e,r,i){if(t.app){var n=t.options.scrollBehavior;n&&t.app.$nextTick(function(){var o=function(){var t=ht();if(t)return Q[t]}(),s=n.call(t,e,r,i?o:null);s&&("function"==typeof s.then?s.then(function(t){ot(t,o)}).catch(function(t){}):ot(s,o))})}}function et(){var t=ht();t&&(Q[t]={x:window.pageXOffset,y:window.pageYOffset})}function rt(t){return nt(t.x)||nt(t.y)}function it(t){return{x:nt(t.x)?t.x:window.pageXOffset,y:nt(t.y)?t.y:window.pageYOffset}}function nt(t){return"number"==typeof t}function ot(t,e){var r="object"==typeof t;if(r&&"string"==typeof t.selector){var i=document.querySelector(t.selector);if(i){var n=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var r=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}(i,n=function(t){return{x:nt(t.x)?t.x:0,y:nt(t.y)?t.y:0}}(n))}else rt(t)&&(e=it(t))}else r&&rt(t)&&(e=it(t));e&&window.scrollTo(e.x,e.y)}var st,at=E&&(-1===(st=window.navigator.userAgent).indexOf("Android 2.")&&-1===st.indexOf("Android 4.0")||-1===st.indexOf("Mobile Safari")||-1!==st.indexOf("Chrome")||-1!==st.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,ct=E&&window.performance&&window.performance.now?window.performance:Date,lt=ut();function ut(){return ct.now().toFixed(3)}function ht(){return lt}function ft(t,e){et();var r=window.history;try{e?r.replaceState({key:lt},"",t):(lt=ut(),r.pushState({key:lt},"",t))}catch(r){window.location[e?"replace":"assign"](t)}}function mt(t){ft(t,!0)}function dt(t,e,r){var i=function(n){n>=t.length?r():t[n]?e(t[n],function(){i(n+1)}):i(n+1)};i(0)}function pt(t){return function(e,r,n){var o=!1,s=0,a=null;_t(t,function(t,e,r,c){if("function"==typeof t&&void 0===t.cid){o=!0,s++;var l,u=yt(function(e){!function(t){return t.__esModule||vt&&"Module"===t[Symbol.toStringTag]}(e)||(e=e.default),t.resolved="function"==typeof e?e:x.extend(e),r.components[c]=e,--s<=0&&n()}),h=yt(function(t){var e="Failed to resolve async component "+c+": "+t;a||(a=i(t)?t:new Error(e),n(a))});try{l=t(u,h)}catch(e){h(e)}if(l)if("function"==typeof l.then)l.then(u,h);else{var f=l.component;f&&"function"==typeof f.then&&f.then(u,h)}}}),o||n()}}function _t(t,e){return gt(t.map(function(t){return Object.keys(t.components).map(function(r){return e(t.components[r],t.instances[r],t,r)})}))}function gt(t){return Array.prototype.concat.apply([],t)}var vt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function yt(t){var e=!1;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(!e)return e=!0,t.apply(this,r)}}function bt(t,e){this.router=t,this.base=function(t){if(!t)if(E){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}(e),this.current=_,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]}function xt(t,e,r,i){var n=_t(t,function(t,i,n,o){var s=function(t,e){return"function"!=typeof t&&(t=x.extend(t)),t.options[e]}(t,e);if(s)return Array.isArray(s)?s.map(function(t){return r(t,i,n,o)}):r(s,i,n,o)});return gt(i?n.reverse():n)}function wt(t,e){if(e)return function(){return t.apply(e,arguments)}}bt.prototype.listen=function(t){this.cb=t},bt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},bt.prototype.onError=function(t){this.errorCbs.push(t)},bt.prototype.transitionTo=function(t,e,r){var i=this,n=this.router.match(t,this.current);this.confirmTransition(n,function(){i.updateRoute(n),e&&e(n),i.ensureURL(),i.ready||(i.ready=!0,i.readyCbs.forEach(function(t){t(n)}))},function(t){r&&r(t),t&&!i.ready&&(i.ready=!0,i.readyErrorCbs.forEach(function(e){e(t)}))})},bt.prototype.confirmTransition=function(t,e,r){function n(t){i(t)&&o.errorCbs.length&&o.errorCbs.forEach(function(e){e(t)}),r&&r(t)}var o=this,s=this.current;if(v(t,s)&&t.matched.length===s.matched.length)return this.ensureURL(),n();var a=function(t,e){var r,i=Math.max(t.length,e.length);for(r=0;r<i&&t[r]===e[r];r++);return{updated:e.slice(0,r),activated:e.slice(r),deactivated:t.slice(r)}}(this.current.matched,t.matched),c=a.updated,l=a.deactivated,u=a.activated,h=[].concat(function(t){return xt(t,"beforeRouteLeave",wt,!0)}(l),this.router.beforeHooks,function(t){return xt(t,"beforeRouteUpdate",wt)}(c),u.map(function(t){return t.beforeEnter}),pt(u));function f(e,r){if(o.pending!==t)return n();try{e(t,s,function(t){!1===t||i(t)?(o.ensureURL(!0),n(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(n(),"object"==typeof t&&t.replace?o.replace(t):o.push(t)):r(t)})}catch(e){n(e)}}this.pending=t,dt(h,f,function(){var r=[];dt(function(t,e,r){return xt(t,"beforeRouteEnter",function(t,i,n,o){return function(t,e,r,i,n){return function(o,s,a){return t(o,s,function(t){a(t),"function"==typeof t&&i.push(function(){!function t(e,r,i,n){r[i]&&!r[i]._isBeingDestroyed?e(r[i]):n()&&setTimeout(function(){t(e,r,i,n)},16)}(t,e.instances,r,n)})})}}(t,n,o,e,r)})}(u,r,function(){return o.current===t}).concat(o.router.resolveHooks),f,function(){if(o.pending!==t)return n();o.pending=null,e(t),o.router.app&&o.router.app.$nextTick(function(){r.forEach(function(t){t()})})})})},bt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(r){r&&r(t,e)})};var St,Ct=((St=bt)&&(Tt.__proto__=St),((Tt.prototype=Object.create(St&&St.prototype)).constructor=Tt).prototype.go=function(t){window.history.go(t)},Tt.prototype.push=function(t,e,r){var i=this,n=this.current;this.transitionTo(t,function(t){ft(k(i.base+t.fullPath)),tt(i.router,t,n,!1),e&&e(t)},r)},Tt.prototype.replace=function(t,e,r){var i=this,n=this.current;this.transitionTo(t,function(t){mt(k(i.base+t.fullPath)),tt(i.router,t,n,!1),e&&e(t)},r)},Tt.prototype.ensureURL=function(t){if(Et(this.base)!==this.current.fullPath){var e=k(this.base+this.current.fullPath);t?ft(e):mt(e)}},Tt.prototype.getCurrentLocation=function(){return Et(this.base)},Tt);function Tt(t,e){var r=this;St.call(this,t,e);var i=t.options.scrollBehavior,n=at&&i;n&&Z();var o=Et(this.base);window.addEventListener("popstate",function(e){var i=r.current,s=Et(r.base);r.current===_&&s===o||r.transitionTo(s,function(e){n&&tt(t,e,i,!0)})})}function Et(t){var e=decodeURI(window.location.pathname);return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Ot,kt=((Ot=bt)&&(At.__proto__=Ot),((At.prototype=Object.create(Ot&&Ot.prototype)).constructor=At).prototype.setupListeners=function(){var t=this,e=this.router.options.scrollBehavior,r=at&&e;r&&Z(),window.addEventListener(at?"popstate":"hashchange",function(){var e=t.current;Mt()&&t.transitionTo(Pt(),function(i){r&&tt(t.router,i,e,!0),at||zt(i.fullPath)})})},At.prototype.push=function(t,e,r){var i=this,n=this.current;this.transitionTo(t,function(t){jt(t.fullPath),tt(i.router,t,n,!1),e&&e(t)},r)},At.prototype.replace=function(t,e,r){var i=this,n=this.current;this.transitionTo(t,function(t){zt(t.fullPath),tt(i.router,t,n,!1),e&&e(t)},r)},At.prototype.go=function(t){window.history.go(t)},At.prototype.ensureURL=function(t){var e=this.current.fullPath;Pt()!==e&&(t?jt(e):zt(e))},At.prototype.getCurrentLocation=function(){return Pt()},At);function At(t,e,r){Ot.call(this,t,e),r&&function(t){var e=Et(t);if(!/^\/#/.test(e))return window.location.replace(k(t+"/#"+e)),!0}(this.base)||Mt()}function Mt(){var t=Pt();return"/"===t.charAt(0)||(zt("/"+t),!1)}function Pt(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":decodeURI(t.slice(e+1))}function Dt(t){var e=window.location.href,r=e.indexOf("#");return(0<=r?e.slice(0,r):e)+"#"+t}function jt(t){at?ft(Dt(t)):window.location.hash=t}function zt(t){at?mt(Dt(t)):window.location.replace(Dt(t))}var It,Rt=((It=bt)&&(Ft.__proto__=It),((Ft.prototype=Object.create(It&&It.prototype)).constructor=Ft).prototype.push=function(t,e,r){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index+1).concat(t),i.index++,e&&e(t)},r)},Ft.prototype.replace=function(t,e,r){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index).concat(t),e&&e(t)},r)},Ft.prototype.go=function(t){var e=this,r=this.index+t;if(!(r<0||r>=this.stack.length)){var i=this.stack[r];this.confirmTransition(i,function(){e.index=r,e.updateRoute(i)})}},Ft.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},Ft.prototype.ensureURL=function(){},Ft);function Ft(t,e){It.call(this,t,e),this.stack=[],this.index=-1}function Lt(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=K(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!at&&!1!==t.fallback,this.fallback&&(e="hash"),E||(e="abstract"),this.mode=e){case"history":this.history=new Ct(this,t.base);break;case"hash":this.history=new kt(this,t.base,this.fallback);break;case"abstract":this.history=new Rt(this,t.base);break;default:}}var Nt={currentRoute:{configurable:!0}};function Bt(t,e){return t.push(e),function(){var r=t.indexOf(e);-1<r&&t.splice(r,1)}}Lt.prototype.match=function(t,e,r){return this.matcher.match(t,e,r)},Nt.currentRoute.get=function(){return this.history&&this.history.current},Lt.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var r=this.history;if(r instanceof Ct)r.transitionTo(r.getCurrentLocation());else if(r instanceof kt){var i=function(){r.setupListeners()};r.transitionTo(r.getCurrentLocation(),i,i)}r.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},Lt.prototype.beforeEach=function(t){return Bt(this.beforeHooks,t)},Lt.prototype.beforeResolve=function(t){return Bt(this.resolveHooks,t)},Lt.prototype.afterEach=function(t){return Bt(this.afterHooks,t)},Lt.prototype.onReady=function(t,e){this.history.onReady(t,e)},Lt.prototype.onError=function(t){this.history.onError(t)},Lt.prototype.push=function(t,e,r){this.history.push(t,e,r)},Lt.prototype.replace=function(t,e,r){this.history.replace(t,e,r)},Lt.prototype.go=function(t){this.history.go(t)},Lt.prototype.back=function(){this.go(-1)},Lt.prototype.forward=function(){this.go(1)},Lt.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},Lt.prototype.resolve=function(t,e,r){var i=G(t,e||this.history.current,r,this),n=this.match(i,e),o=n.redirectedFrom||n.fullPath;return{location:i,route:n,href:function(t,e,r){var i="hash"===r?"#"+e:e;return t?k(t+"/"+i):i}(this.history.base,o,this.mode),normalizedTo:i,resolved:n}},Lt.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==_&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Lt.prototype,Nt),Lt.install=function t(e){if(!t.installed||x!==e){t.installed=!0;var r=function(t){return void 0!==t},i=function(t,e){var i=t.$options._parentVnode;r(i)&&r(i=i.data)&&r(i=i.registerRouteInstance)&&i(t,e)};(x=e).mixin({beforeCreate:function(){r(this.$options.router)?((this._routerRoot=this)._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",o),e.component("RouterLink",C);var n=e.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}},Lt.version="3.0.2",E&&window.Vue&&window.Vue.use(Lt),e.a=Lt},"8ce0":function(t,e,r){var i=r("3adc"),n=r("f845");t.exports=r("7d95")?function(t,e,r){return i.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}},"8d23":function(t,e,r){var i=r("5a88"),n=r("2732");function o(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(t){this.degree=t,this.genPoly=n.generateECPolynomial(this.degree)},o.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=new i(this.degree);e.fill(0);var r=i.concat([t,e],t.length+this.degree),o=n.mod(r,this.genPoly),s=this.degree-o.length;if(0<s){var a=new i(this.degree);return a.fill(0),o.copy(a,s),a}return o},t.exports=o},"8db3":function(t,e,r){var i=r("47f5");t.exports=function(t,e){return!(null==t||!t.length)&&-1<i(t,e,0)}},"8de2":function(t,e,r){var i=r("8eeb"),n=r("9934");t.exports=function(t){return i(t,n(t))}},"8df4":function(t,e,r){"use strict";var i=r("7a77");function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new i(t),e(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t;return{token:new n(function(e){t=e}),cancel:t}},t.exports=n},"8eeb":function(t,e,r){var i=r("32b3"),n=r("872a");t.exports=function(t,e,r,o){var s=!r;r=r||{};for(var a=-1,c=e.length;++a<c;){var l=e[a],u=o?o(r[l],t[l],l,r,t):void 0;void 0===u&&(u=t[l]),s?n(r,l,u):i(r,l,u)}return r}},"8feb":function(t,e,r){t.exports=r("af19")},9093:function(t,e,r){var i=r("ce10"),n=r("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},9141:function(t,e,r){var i=r("ef08").document;t.exports=i&&i.documentElement},9152:function(t,e){e.read=function(t,e,r,i,n){var o,s,a=8*n-i-1,c=(1<<a)-1,l=c>>1,u=-7,h=r?n-1:0,f=r?-1:1,m=t[e+h];for(h+=f,o=m&(1<<-u)-1,m>>=-u,u+=a;0<u;o=256*o+t[e+h],h+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;0<u;s=256*s+t[e+h],h+=f,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(m?-1:1);s+=Math.pow(2,i),o-=l}return(m?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,r,i,n,o){var s,a,c,l=8*o-n-1,u=(1<<l)-1,h=u>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:o-1,d=i?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),2<=(e+=1<=s+h?f/c:f*Math.pow(2,1-h))*c&&(s++,c/=2),u<=s+h?(a=0,s=u):1<=s+h?(a=(e*c-1)*Math.pow(2,n),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,n),s=0));8<=n;t[r+m]=255&a,m+=d,a/=256,n-=8);for(s=s<<n|a,l+=n;0<l;t[r+m]=255&s,m+=d,s/=256,l-=8);t[r+m-d]|=128*p}},9184:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"91e9":function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},"924f":function(t,e,r){var i=r("7bf0").getSymbolSize;e.getPositions=function(t){var e=i(t);return[[0,0],[e-7,0],[0,e-7]]}},"92f0":function(t,e,r){var i=r("1a14").f,n=r("9c0e"),o=r("cc15")("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},"92fa":function(t,e){var r=/^(attrs|props|on|nativeOn|class|style|hook)$/;function i(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce(function(t,e){var n,o,s,a,c;for(s in e)if(n=t[s],o=e[s],n&&r.test(s))if("class"===s&&("string"==typeof n&&(c=n,t[s]=n={},n[c]=!0),"string"==typeof o&&(c=o,e[s]=o={},o[c]=!0)),"on"===s||"nativeOn"===s||"hook"===s)for(a in o)n[a]=i(n[a],o[a]);else if(Array.isArray(n))t[s]=n.concat(o);else if(Array.isArray(o))t[s]=[n].concat(o);else for(a in o)n[a]=o[a];else t[s]=e[s];return t},{})}},"93c4":function(t,e,r){"use strict";var i=r("2a4e")(!0);r("e4a9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=i(e,r),this._i+=t.length,{value:t,done:!1})})},"93ed":function(t,e,r){var i=r("4245");t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},9520:function(t,e,r){var i=r("3729"),n=r("1a8c");t.exports=function(t){if(!n(t))return!1;var e=i(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},9582:function(t,e,r){var i=r("7bf0"),n=i.getBCHDigit(1335);e.getEncodedBits=function(t,e){for(var r=t.bit<<3|e,o=r<<10;0<=i.getBCHDigit(o)-n;)o^=1335<<i.getBCHDigit(o)-n;return 21522^(r<<10|o)}},"960d":function(t,e,r){},9638:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},"966f":function(t,e,r){var i=r("7e64"),n=r("c05f");t.exports=function(t,e,r,o){var s=r.length,a=s,c=!o;if(null==t)return!a;for(t=Object(t);s--;){var l=r[s];if(c&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){var u=(l=r[s])[0],h=t[u],f=l[1];if(c&&l[2]){if(void 0===h&&!(u in t))return!1}else{var m=new i;if(o)var d=o(h,f,u,t,e,m);if(!(void 0===d?n(f,h,3,o,m):d))return!1}}return!0}},"96cf":function(t,e){!function(e){"use strict";var r,i=Object.prototype,n=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",l="object"==typeof t,u=e.regeneratorRuntime;if(u)l&&(t.exports=u);else{(u=e.regeneratorRuntime=l?t.exports:{}).wrap=b;var h="suspendedStart",f="suspendedYield",m="executing",d="completed",p={},_={};_[s]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(P([])));v&&v!==i&&n.call(v,s)&&(_=v);var y=C.prototype=w.prototype=Object.create(_);S.prototype=y.constructor=C,C.constructor=S,C[c]=S.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(y),t},u.awrap=function(t){return{__await:t}},T(E.prototype),E.prototype[a]=function(){return this},u.AsyncIterator=E,u.async=function(t,e,r,i){var n=new E(b(t,e,r,i));return u.isGeneratorFunction(e)?n:n.next().then(function(t){return t.done?t.value:n.next()})},T(y),y[c]="Generator",y[s]=function(){return this},y.toString=function(){return"[object Generator]"},u.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},u.values=P,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return a.type="throw",a.arg=t,e.next=i,n&&(e.method="next",e.arg=r),!!n}for(var o=this.tryEntries.length-1;0<=o;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;A(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:P(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=r),p}}}function b(t,e,r,i){var n=e&&e.prototype instanceof w?e:w,o=Object.create(n.prototype),s=new M(i||[]);return o._invoke=function(t,e,r){var i=h;return function(n,o){if(i===m)throw new Error("Generator is already running");if(i===d){if("throw"===n)throw o;return D()}for(r.method=n,r.arg=o;;){var s=r.delegate;if(s){var a=O(s,r);if(a){if(a===p)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=x(t,e,r);if("normal"===c.type){if(i=r.done?d:f,c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=d,r.method="throw",r.arg=c.arg)}}}(t,r,s),o}function x(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function w(){}function S(){}function C(){}function T(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(t){var e;this._invoke=function(r,i){function o(){return new Promise(function(e,o){!function e(r,i,o,s){var a=x(t[r],t,i);if("throw"!==a.type){var c=a.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(l).then(function(t){c.value=t,o(c)},function(t){return e("throw",t,o,s)})}s(a.arg)}(r,i,e,o)})}return e=e?e.then(o,o):o()}}function O(t,e){var i=t.iterator[e.method];if(i===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,O(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=x(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:D}}function D(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},9742:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},9744:function(t,e,r){"use strict";var i=r("4588"),n=r("be13");t.exports=function(t){var e=String(n(this)),r="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;0<o;(o>>>=1)&&(e+=e))1&o&&(r+=e);return r}},9876:function(t,e,r){var i=r("03d6"),n=r("9742");t.exports=Object.keys||function(t){return i(t,n)}},"98b8":function(t,e,r){var i=function(t){"use strict";var e,r=Object.prototype,i=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r,i){var n=e&&e.prototype instanceof p?e:p,o=Object.create(n.prototype),s=new O(i||[]);return o._invoke=function(t,e,r){var i=u;return function(n,o){if(i===f)throw new Error("Generator is already running");if(i===m){if("throw"===n)throw o;return A()}for(r.method=n,r.arg=o;;){var s=r.delegate;if(s){var a=C(s,r);if(a){if(a===d)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===u)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var c=l(t,e,r);if("normal"===c.type){if(i=r.done?m:h,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}(t,r,s),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u="suspendedStart",h="suspendedYield",f="executing",m="completed",d={};function p(){}function _(){}function g(){}var v={};v[o]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(k([])));b&&b!==r&&i.call(b,o)&&(v=b);var x=g.prototype=p.prototype=Object.create(v);function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(r,n){function o(){return new Promise(function(e,o){!function e(r,n,o,s){var a=l(t[r],t,n);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(u).then(function(t){c.value=t,o(c)},function(t){return e("throw",t,o,s)})}s(a.arg)}(r,n,e,o)})}return e=e?e.then(o,o):o()}}function C(t,r){var i=t.iterator[r.method];if(i===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=l(i,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,d;var o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function k(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,s=function r(){for(;++n<t.length;)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}return{next:A}}function A(){return{value:e,done:!0}}return _.prototype=x.constructor=g,g.constructor=_,g[a]=_.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(S.prototype),S.prototype[s]=function(){return this},t.AsyncIterator=S,t.async=function(e,r,i,n){var o=new S(c(e,r,i,n));return t.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},w(x),x[a]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(i,n){return a.type="throw",a.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var o=this.tryEntries.length-1;0<=o;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;E(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:k(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},"98dc":function(t,e,r){var i=r("76dd"),n=0;t.exports=function(t){var e=++n;return i(t)+e}},9934:function(t,e,r){var i=r("6fcd"),n=r("41c3"),o=r("30c9");t.exports=function(t){return o(t)?i(t,!0):n(t)}},"99cd":function(t,e){t.exports=function(t){return function(e,r,i){for(var n=-1,o=Object(e),s=i(e),a=s.length;a--;){var c=s[t?a:++n];if(!1===r(o[c],c,o))break}return e}}},"99d3":function(t,e,r){(function(t){var i=r("585a"),n=e&&!e.nodeType&&e,o=n&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===n&&i.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,r("62e4")(t))},"9a51":function(t,e,r){var i=r("d13f");i(i.S+i.F,"Object",{assign:r("9e44")})},"9aff":function(t,e,r){var i=r("9638"),n=r("30c9"),o=r("c098"),s=r("1a8c");t.exports=function(t,e,r){if(!s(r))return!1;var a=typeof e;return!!("number"==a?n(r)&&o(e,r.length):"string"==a&&e in r)&&i(r[e],t)}},"9b02":function(t,e,r){var i=r("656b");t.exports=function(t,e,r){var n=null==t?void 0:i(t,e);return void 0===n?r:n}},"9b43":function(t,e,r){var i=r("d8e8");t.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,n){return t.call(e,r,i,n)}}return function(){return t.apply(e,arguments)}}},"9c0c":function(t,e,r){var i=r("1609");t.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,n){return t.call(e,r,i,n)}}return function(){return t.apply(e,arguments)}}},"9c0e":function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},"9c6c":function(t,e,r){var i=r("2b4c")("unscopables"),n=Array.prototype;null==n[i]&&r("32e9")(n,i,{}),t.exports=function(t){n[i][t]=!0}},"9c93":function(t,e,r){var i=r("0f89");t.exports=function(t,e,r,n){try{return n?e(i(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},"9d11":function(t,e,r){var i=r("fc5e"),n=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?n(t+e,0):o(t,e)}},"9d63":function(t,e){function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,n;t.exports=(n={},r.m=i=[function(t,e,r){"use strict";function i(t,e){function r(){t.classList.add("ps--focus")}function i(){t.classList.remove("ps--focus")}var n,l,u=this;for(var h in u.settings=s(),e)u.settings[h]=e[h];u.containerWidth=null,u.containerHeight=null,u.contentWidth=null,u.contentHeight=null,u.isRtl="rtl"===a.css(t,"direction"),u.isNegativeScroll=(l=t.scrollLeft,t.scrollLeft=-1,n=t.scrollLeft<0,t.scrollLeft=l,n),u.negativeScrollAdjustment=u.isNegativeScroll?t.scrollWidth-t.clientWidth:0,u.event=new c,u.ownerDocument=t.ownerDocument||document,u.scrollbarXRail=a.appendTo(a.create("div","ps__scrollbar-x-rail"),t),u.scrollbarX=a.appendTo(a.create("div","ps__scrollbar-x"),u.scrollbarXRail),u.scrollbarX.setAttribute("tabindex",0),u.event.bind(u.scrollbarX,"focus",r),u.event.bind(u.scrollbarX,"blur",i),u.scrollbarXActive=null,u.scrollbarXWidth=null,u.scrollbarXLeft=null,u.scrollbarXBottom=o.toInt(a.css(u.scrollbarXRail,"bottom")),u.isScrollbarXUsingBottom=u.scrollbarXBottom==u.scrollbarXBottom,u.scrollbarXTop=u.isScrollbarXUsingBottom?null:o.toInt(a.css(u.scrollbarXRail,"top")),u.railBorderXWidth=o.toInt(a.css(u.scrollbarXRail,"borderLeftWidth"))+o.toInt(a.css(u.scrollbarXRail,"borderRightWidth")),a.css(u.scrollbarXRail,"display","block"),u.railXMarginWidth=o.toInt(a.css(u.scrollbarXRail,"marginLeft"))+o.toInt(a.css(u.scrollbarXRail,"marginRight")),a.css(u.scrollbarXRail,"display",""),u.railXWidth=null,u.railXRatio=null,u.scrollbarYRail=a.appendTo(a.create("div","ps__scrollbar-y-rail"),t),u.scrollbarY=a.appendTo(a.create("div","ps__scrollbar-y"),u.scrollbarYRail),u.scrollbarY.setAttribute("tabindex",0),u.event.bind(u.scrollbarY,"focus",r),u.event.bind(u.scrollbarY,"blur",i),u.scrollbarYActive=null,u.scrollbarYHeight=null,u.scrollbarYTop=null,u.scrollbarYRight=o.toInt(a.css(u.scrollbarYRail,"right")),u.isScrollbarYUsingRight=u.scrollbarYRight==u.scrollbarYRight,u.scrollbarYLeft=u.isScrollbarYUsingRight?null:o.toInt(a.css(u.scrollbarYRail,"left")),u.scrollbarYOuterWidth=u.isRtl?o.outerWidth(u.scrollbarY):null,u.railBorderYWidth=o.toInt(a.css(u.scrollbarYRail,"borderTopWidth"))+o.toInt(a.css(u.scrollbarYRail,"borderBottomWidth")),a.css(u.scrollbarYRail,"display","block"),u.railYMarginHeight=o.toInt(a.css(u.scrollbarYRail,"marginTop"))+o.toInt(a.css(u.scrollbarYRail,"marginBottom")),a.css(u.scrollbarYRail,"display",""),u.railYHeight=null,u.railYRatio=null}function n(t){return t.getAttribute("data-ps-id")}var o=r(2),s=r(14),a=r(4),c=r(11),l=r(12),u={};e.add=function(t,e){var r=l();return function(t,e){t.setAttribute("data-ps-id",e)}(t,r),u[r]=new i(t,e),u[r]},e.remove=function(t){delete u[n(t)],function(t){t.removeAttribute("data-ps-id")}(t)},e.get=function(t){return u[n(t)]}},function(t,e,r){"use strict";function i(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}var n=r(2),o=r(4),s=r(0),a=r(3);t.exports=function(t){var e,r=s.get(t);r.containerWidth=t.clientWidth,r.containerHeight=t.clientHeight,r.contentWidth=t.scrollWidth,r.contentHeight=t.scrollHeight,t.contains(r.scrollbarXRail)||(0<(e=o.queryChildren(t,".ps__scrollbar-x-rail")).length&&e.forEach(function(t){o.remove(t)}),o.appendTo(r.scrollbarXRail,t)),t.contains(r.scrollbarYRail)||(0<(e=o.queryChildren(t,".ps__scrollbar-y-rail")).length&&e.forEach(function(t){o.remove(t)}),o.appendTo(r.scrollbarYRail,t)),!r.settings.suppressScrollX&&r.containerWidth+r.settings.scrollXMarginOffset<r.contentWidth?(r.scrollbarXActive=!0,r.railXWidth=r.containerWidth-r.railXMarginWidth,r.railXRatio=r.containerWidth/r.railXWidth,r.scrollbarXWidth=i(r,n.toInt(r.railXWidth*r.containerWidth/r.contentWidth)),r.scrollbarXLeft=n.toInt((r.negativeScrollAdjustment+t.scrollLeft)*(r.railXWidth-r.scrollbarXWidth)/(r.contentWidth-r.containerWidth))):r.scrollbarXActive=!1,!r.settings.suppressScrollY&&r.containerHeight+r.settings.scrollYMarginOffset<r.contentHeight?(r.scrollbarYActive=!0,r.railYHeight=r.containerHeight-r.railYMarginHeight,r.railYRatio=r.containerHeight/r.railYHeight,r.scrollbarYHeight=i(r,n.toInt(r.railYHeight*r.containerHeight/r.contentHeight)),r.scrollbarYTop=n.toInt(t.scrollTop*(r.railYHeight-r.scrollbarYHeight)/(r.contentHeight-r.containerHeight))):r.scrollbarYActive=!1,r.scrollbarXLeft>=r.railXWidth-r.scrollbarXWidth&&(r.scrollbarXLeft=r.railXWidth-r.scrollbarXWidth),r.scrollbarYTop>=r.railYHeight-r.scrollbarYHeight&&(r.scrollbarYTop=r.railYHeight-r.scrollbarYHeight),function(t,e){var r={width:e.railXWidth};e.isRtl?r.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:r.left=t.scrollLeft,e.isScrollbarXUsingBottom?r.bottom=e.scrollbarXBottom-t.scrollTop:r.top=e.scrollbarXTop+t.scrollTop,o.css(e.scrollbarXRail,r);var i={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?i.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:i.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:i.left=e.scrollbarYLeft+t.scrollLeft,o.css(e.scrollbarYRail,i),o.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),o.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(t,r),r.scrollbarXActive?t.classList.add("ps--active-x"):(t.classList.remove("ps--active-x"),r.scrollbarXWidth=0,r.scrollbarXLeft=0,a(t,"left",0)),r.scrollbarYActive?t.classList.add("ps--active-y"):(t.classList.remove("ps--active-y"),r.scrollbarYHeight=0,r.scrollbarYTop=0,a(t,"top",0))}},function(t,e,r){"use strict";function i(t){return["ps--in-scrolling"].concat(void 0===t?["ps--x","ps--y"]:["ps--"+t])}var n=r(4),o=e.toInt=function(t){return parseInt(t,10)||0};e.isEditable=function(t){return n.matches(t,"input,[contenteditable]")||n.matches(t,"select,[contenteditable]")||n.matches(t,"textarea,[contenteditable]")||n.matches(t,"button,[contenteditable]")},e.removePsClasses=function(t){for(var e=0;e<t.classList.length;e++){var r=t.classList[e];0===r.indexOf("ps-")&&t.classList.remove(r)}},e.outerWidth=function(t){return o(n.css(t,"width"))+o(n.css(t,"paddingLeft"))+o(n.css(t,"paddingRight"))+o(n.css(t,"borderLeftWidth"))+o(n.css(t,"borderRightWidth"))},e.startScrolling=function(t,e){for(var r=i(e),n=0;n<r.length;n++)t.classList.add(r[n])},e.stopScrolling=function(t,e){for(var r=i(e),n=0;n<r.length;n++)t.classList.remove(r[n])},e.env={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof window&&null!==window.navigator.msMaxTouchPoints}},function(t,e,r){"use strict";function i(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}var n=r(0);t.exports=function(t,e,r){if(void 0===t)throw"You must provide an element to the update-scroll function";if(void 0===e)throw"You must provide an axis to the update-scroll function";if(void 0===r)throw"You must provide a value to the update-scroll function";"top"===e&&r<=0&&(t.scrollTop=r=0,t.dispatchEvent(i("ps-y-reach-start"))),"left"===e&&r<=0&&(t.scrollLeft=r=0,t.dispatchEvent(i("ps-x-reach-start")));var o=n.get(t);"top"===e&&r>=o.contentHeight-o.containerHeight&&((r=o.contentHeight-o.containerHeight)-t.scrollTop<=2?r=t.scrollTop:t.scrollTop=r,t.dispatchEvent(i("ps-y-reach-end"))),"left"===e&&r>=o.contentWidth-o.containerWidth&&((r=o.contentWidth-o.containerWidth)-t.scrollLeft<=2?r=t.scrollLeft:t.scrollLeft=r,t.dispatchEvent(i("ps-x-reach-end"))),void 0===o.lastTop&&(o.lastTop=t.scrollTop),void 0===o.lastLeft&&(o.lastLeft=t.scrollLeft),"top"===e&&r<o.lastTop&&t.dispatchEvent(i("ps-scroll-up")),"top"===e&&r>o.lastTop&&t.dispatchEvent(i("ps-scroll-down")),"left"===e&&r<o.lastLeft&&t.dispatchEvent(i("ps-scroll-left")),"left"===e&&r>o.lastLeft&&t.dispatchEvent(i("ps-scroll-right")),"top"===e&&r!==o.lastTop&&(t.scrollTop=o.lastTop=r,t.dispatchEvent(i("ps-scroll-y"))),"left"===e&&r!==o.lastLeft&&(t.scrollLeft=o.lastLeft=r,t.dispatchEvent(i("ps-scroll-x")))}},function(t,e,r){"use strict";var i={create:function(t,e){var r=document.createElement(t);return r.className=e,r},appendTo:function(t,e){return e.appendChild(t),t},css:function(t,e,r){return"object"==typeof e?function(t,e){for(var r in e){var i=e[r];"number"==typeof i&&(i=i.toString()+"px"),t.style[r]=i}return t}(t,e):void 0===r?function(t,e){return window.getComputedStyle(t)[e]}(t,e):function(t,e,r){return"number"==typeof r&&(r=r.toString()+"px"),t.style[e]=r,t}(t,e,r)},matches:function(t,e){return void 0!==t.matches?t.matches(e):t.msMatchesSelector(e)},remove:function(t){void 0!==t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)},queryChildren:function(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return i.matches(t,e)})}};t.exports=i},function(t,e,r){r(28);var i=r(25)(r(7),r(26),null,null);t.exports=i.exports},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),n=r.n(i);e.default=n.a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(10),n=r.n(i);e.default={name:"vue-perfect-scrollbar",props:{settings:{default:void 0},swicher:{type:Boolean,default:!0},tagname:{type:String,default:"section"}},methods:{scrollHanle:function(t){this.$emit(t.type,t)},update:function(){n.a.update(this.$el)},__init:function(){this.swicher&&(this._ps_inited?this.update(this.$el):(this._ps_inited=!0,n.a.initialize(this.$el,this.settings)))},__uninit:function(){n.a.destroy(this.$el),this._ps_inited=!1}},watch:{swicher:function(t){t&&!this._ps_inited&&this.__init(),!t&&this._ps_inited&&this.__uninit()},$route:function(){this.update()}},mounted:function(){this.__init()},updated:function(){this.$nextTick(this.update)},activated:function(){this.__init()},deactivated:function(){this.__uninit()},beforeDestroy:function(){this.__uninit()}}},function(t,e,r){(t.exports=r(9)()).push([t.i,".ps{-ms-touch-action:auto;touch-action:auto;overflow:hidden!important;-ms-overflow-style:none}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}.ps.ps--active-x>.ps__scrollbar-x-rail,.ps.ps--active-y>.ps__scrollbar-y-rail{display:block;background-color:transparent}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:#eee;opacity:.9}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:#999;height:11px}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:#eee;opacity:.9}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:#999;width:11px}.ps>.ps__scrollbar-x-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;bottom:0;height:15px}.ps>.ps__scrollbar-x-rail>.ps__scrollbar-x{position:absolute;background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;bottom:2px;height:6px}.ps>.ps__scrollbar-x-rail:active>.ps__scrollbar-x,.ps>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{height:11px}.ps>.ps__scrollbar-y-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;right:0;width:15px}.ps>.ps__scrollbar-y-rail>.ps__scrollbar-y{position:absolute;background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;right:2px;width:6px}.ps>.ps__scrollbar-y-rail:active>.ps__scrollbar-y,.ps>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{width:11px}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:#eee;opacity:.9}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:#999;height:11px}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:#eee;opacity:.9}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:#999;width:11px}.ps:hover>.ps__scrollbar-x-rail,.ps:hover>.ps__scrollbar-y-rail{opacity:.6}.ps:hover>.ps__scrollbar-x-rail:hover{background-color:#eee;opacity:.9}.ps:hover>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{background-color:#999}.ps:hover>.ps__scrollbar-y-rail:hover{background-color:#eee;opacity:.9}.ps:hover>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{background-color:#999}.ps-container{position:relative}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e];r[2]?t.push("@media "+r[2]+"{"+r[1]+"}"):t.push(r[1])}return t.join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},n=0;n<this.length;n++){var o=this[n][0];"number"==typeof o&&(i[o]=!0)}for(n=0;n<e.length;n++){var s=e[n];"number"==typeof s[0]&&i[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),t.push(s))}},t}},function(t,e,r){"use strict";t.exports=r(13)},function(t,e,r){"use strict";function i(t){this.element=t,this.events={}}function n(){this.eventElements=[]}i.prototype.bind=function(t,e){void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},i.prototype.unbind=function(t,e){var r=void 0!==e;this.events[t]=this.events[t].filter(function(i){return!(!r||i===e)||(this.element.removeEventListener(t,i,!1),!1)},this)},i.prototype.unbindAll=function(){for(var t in this.events)this.unbind(t)},n.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return void 0===e&&(e=new i(t),this.eventElements.push(e)),e},n.prototype.bind=function(t,e,r){this.eventElement(t).bind(e,r)},n.prototype.unbind=function(t,e,r){this.eventElement(t).unbind(e,r)},n.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},n.prototype.once=function(t,e,r){var i=this.eventElement(t),n=function(t){i.unbind(e,n),r(t)};i.bind(e,n)},t.exports=n},function(t,e,r){"use strict";function i(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}t.exports=function(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}},function(t,e,r){"use strict";var i=r(15),n=r(23),o=r(24);t.exports={initialize:n,update:o,destroy:i}},function(t,e,r){"use strict";t.exports=function(){return{handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}}},function(t,e,r){"use strict";var i=r(2),n=r(4),o=r(0);t.exports=function(t){var e=o.get(t);e&&(e.event.unbindAll(),n.remove(e.scrollbarX),n.remove(e.scrollbarY),n.remove(e.scrollbarXRail),n.remove(e.scrollbarYRail),i.removePsClasses(t),o.remove(t))}},function(t,e,r){"use strict";function i(t,e){function r(t){return t.getBoundingClientRect()}function i(t){t.stopPropagation()}e.event.bind(e.scrollbarY,"click",i),e.event.bind(e.scrollbarYRail,"click",function(i){var n=i.pageY-window.pageYOffset-r(e.scrollbarYRail).top>e.scrollbarYTop?1:-1;s(t,"top",t.scrollTop+n*e.containerHeight),o(t),i.stopPropagation()}),e.event.bind(e.scrollbarX,"click",i),e.event.bind(e.scrollbarXRail,"click",function(i){var n=i.pageX-window.pageXOffset-r(e.scrollbarXRail).left>e.scrollbarXLeft?1:-1;s(t,"left",t.scrollLeft+n*e.containerWidth),o(t),i.stopPropagation()})}var n=r(0),o=r(1),s=r(3);t.exports=function(t){i(t,n.get(t))}},function(t,e,r){"use strict";function i(t,e){function r(r){(function(r){var i=n+r*e.railXRatio,s=Math.max(0,e.scrollbarXRail.getBoundingClientRect().left)+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);e.scrollbarXLeft=i<0?0:s<i?s:i;var a=o.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;l(t,"left",a)})(r.pageX-a),c(t),r.stopPropagation(),r.preventDefault()}function i(){o.stopScrolling(t,"x"),e.event.unbind(e.ownerDocument,"mousemove",r)}var n=null,a=null;e.event.bind(e.scrollbarX,"mousedown",function(c){a=c.pageX,n=o.toInt(s.css(e.scrollbarX,"left"))*e.railXRatio,o.startScrolling(t,"x"),e.event.bind(e.ownerDocument,"mousemove",r),e.event.once(e.ownerDocument,"mouseup",i),c.stopPropagation(),c.preventDefault()})}function n(t,e){function r(r){(function(r){var i=n+r*e.railYRatio,s=Math.max(0,e.scrollbarYRail.getBoundingClientRect().top)+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);e.scrollbarYTop=i<0?0:s<i?s:i;var a=o.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));l(t,"top",a)})(r.pageY-a),c(t),r.stopPropagation(),r.preventDefault()}function i(){o.stopScrolling(t,"y"),e.event.unbind(e.ownerDocument,"mousemove",r)}var n=null,a=null;e.event.bind(e.scrollbarY,"mousedown",function(c){a=c.pageY,n=o.toInt(s.css(e.scrollbarY,"top"))*e.railYRatio,o.startScrolling(t,"y"),e.event.bind(e.ownerDocument,"mousemove",r),e.event.once(e.ownerDocument,"mouseup",i),c.stopPropagation(),c.preventDefault()})}var o=r(2),s=r(4),a=r(0),c=r(1),l=r(3);t.exports=function(t){var e=a.get(t);i(t,e),n(t,e)}},function(t,e,r){"use strict";function i(t,e){var r=!1;e.event.bind(t,"mouseenter",function(){r=!0}),e.event.bind(t,"mouseleave",function(){r=!1}),e.event.bind(e.ownerDocument,"keydown",function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)){var s=o.matches(e.scrollbarX,":focus")||o.matches(e.scrollbarY,":focus");if(r||s){var l=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(l){if("IFRAME"===l.tagName)l=l.contentDocument.activeElement;else for(;l.shadowRoot;)l=l.shadowRoot.activeElement;if(n.isEditable(l))return}var u=0,h=0;switch(i.which){case 37:u=i.metaKey?-e.contentWidth:i.altKey?-e.containerWidth:-30;break;case 38:h=i.metaKey?e.contentHeight:i.altKey?e.containerHeight:30;break;case 39:u=i.metaKey?e.contentWidth:i.altKey?e.containerWidth:30;break;case 40:h=i.metaKey?-e.contentHeight:i.altKey?-e.containerHeight:-30;break;case 33:h=90;break;case 32:h=i.shiftKey?90:-90;break;case 34:h=-90;break;case 35:h=i.ctrlKey?-e.contentHeight:-e.containerHeight;break;case 36:h=i.ctrlKey?t.scrollTop:e.containerHeight;break;default:return}c(t,"top",t.scrollTop-h),c(t,"left",t.scrollLeft+u),a(t),function(r,i){var n=t.scrollTop;if(0===r){if(!e.scrollbarYActive)return!1;if(0===n&&0<i||n>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===o&&r<0||o>=e.contentWidth-e.containerWidth&&0<r)return!e.settings.wheelPropagation}return!0}(u,h)&&i.preventDefault()}}})}var n=r(2),o=r(4),s=r(0),a=r(1),c=r(3);t.exports=function(t){i(t,s.get(t))}},function(t,e,r){"use strict";function i(t,e){function r(r){var n=function(t){var e=t.deltaX,r=-1*t.deltaY;return void 0!==e&&void 0!==r||(e=-1*t.wheelDeltaX/6,r=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,r*=10),e!=e&&r!=r&&(e=0,r=t.wheelDelta),t.shiftKey?[-r,-e]:[e,r]}(r),a=n[0],c=n[1];!function(e,r){var i=t.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(i){var n=window.getComputedStyle(i);if(![n.overflow,n.overflowX,n.overflowY].join("").match(/(scroll|auto)/))return!1;var o=i.scrollHeight-i.clientHeight;if(0<o&&!(0===i.scrollTop&&0<r||i.scrollTop===o&&r<0))return!0;var s=i.scrollLeft-i.clientWidth;if(0<s&&!(0===i.scrollLeft&&e<0||i.scrollLeft===s&&0<e))return!0}return!1}(a,c)&&(i=!1,e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(s(t,"top",c?t.scrollTop-c*e.settings.wheelSpeed:t.scrollTop+a*e.settings.wheelSpeed),i=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(s(t,"left",a?t.scrollLeft+a*e.settings.wheelSpeed:t.scrollLeft-c*e.settings.wheelSpeed),i=!0):(s(t,"top",t.scrollTop-c*e.settings.wheelSpeed),s(t,"left",t.scrollLeft+a*e.settings.wheelSpeed)),o(t),(i=i||function(r,i){var n=t.scrollTop;if(0===r){if(!e.scrollbarYActive)return!1;if(0===n&&0<i||n>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===o&&r<0||o>=e.contentWidth-e.containerWidth&&0<r)return!e.settings.wheelPropagation}return!0}(a,c))&&(r.stopPropagation(),r.preventDefault()))}var i=!1;void 0!==window.onwheel?e.event.bind(t,"wheel",r):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",r)}var n=r(0),o=r(1),s=r(3);t.exports=function(t){i(t,n.get(t))}},function(t,e,r){"use strict";var i=r(0),n=r(1);t.exports=function(t){!function(t,e){e.event.bind(t,"scroll",function(){n(t)})}(t,i.get(t))}},function(t,e,r){"use strict";function i(t,e){function r(){i&&(clearInterval(i),i=null),n.stopScrolling(t)}var i=null,c={top:0,left:0},l=!1;e.event.bind(e.ownerDocument,"selectionchange",function(){t.contains(function(){var t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===t.toString().length?null:t.getRangeAt(0).commonAncestorContainer}())?l=!0:(l=!1,r())}),e.event.bind(window,"mouseup",function(){l&&(l=!1,r())}),e.event.bind(window,"keyup",function(){l&&(l=!1,r())}),e.event.bind(window,"mousemove",function(e){if(l){var u=e.pageX,h=e.pageY,f=t.offsetLeft,m=t.offsetLeft+t.offsetWidth,d=t.offsetTop,p=t.offsetTop+t.offsetHeight;u<f+3?(c.left=-5,n.startScrolling(t,"x")):m-3<u?(c.left=5,n.startScrolling(t,"x")):c.left=0,h<d+3?(c.top=d+3-h<5?-5:-20,n.startScrolling(t,"y")):p-3<h?(c.top=h-p+3<5?5:20,n.startScrolling(t,"y")):c.top=0,0===c.top&&0===c.left?r():i=i||setInterval(function(){o.get(t)?(a(t,"top",t.scrollTop+c.top),a(t,"left",t.scrollLeft+c.left),s(t)):clearInterval(i)},50)}})}var n=r(2),o=r(0),s=r(1),a=r(3);t.exports=function(t){i(t,o.get(t))}},function(t,e,r){"use strict";function i(t,e,r,i){function n(e,r){a(t,"top",t.scrollTop-r),a(t,"left",t.scrollLeft-e),s(t)}function c(){y=!0}function l(){y=!1}function u(t){return t.targetTouches?t.targetTouches[0]:t}function h(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function f(t){if(h(t)){b=!0;var e=u(t);p.pageX=e.pageX,p.pageY=e.pageY,_=(new Date).getTime(),null!==v&&clearInterval(v),t.stopPropagation()}}function m(r){if(!b&&e.settings.swipePropagation&&f(r),!y&&b&&h(r)){var i=u(r),o={pageX:i.pageX,pageY:i.pageY},s=o.pageX-p.pageX,a=o.pageY-p.pageY;n(s,a),p=o;var c=(new Date).getTime(),l=c-_;0<l&&(g.x=s/l,g.y=a/l,_=c),function(r,i){var n=t.scrollTop,o=t.scrollLeft,s=Math.abs(r),a=Math.abs(i);if(s<a){if(i<0&&n===e.contentHeight-e.containerHeight||0<i&&0===n)return!e.settings.swipePropagation}else if(a<s&&(r<0&&o===e.contentWidth-e.containerWidth||0<r&&0===o))return!e.settings.swipePropagation;return!0}(s,a)&&(r.stopPropagation(),r.preventDefault())}}function d(){!y&&b&&(b=!1,e.settings.swipeEasing&&(clearInterval(v),v=setInterval(function(){return o.get(t)&&(g.x||g.y)?Math.abs(g.x)<.01&&Math.abs(g.y)<.01?void clearInterval(v):(n(30*g.x,30*g.y),g.x*=.8,void(g.y*=.8)):void clearInterval(v)},10)))}var p={},_=0,g={},v=null,y=!1,b=!1;r?(e.event.bind(window,"touchstart",c),e.event.bind(window,"touchend",l),e.event.bind(t,"touchstart",f),e.event.bind(t,"touchmove",m),e.event.bind(t,"touchend",d)):i&&(window.PointerEvent?(e.event.bind(window,"pointerdown",c),e.event.bind(window,"pointerup",l),e.event.bind(t,"pointerdown",f),e.event.bind(t,"pointermove",m),e.event.bind(t,"pointerup",d)):window.MSPointerEvent&&(e.event.bind(window,"MSPointerDown",c),e.event.bind(window,"MSPointerUp",l),e.event.bind(t,"MSPointerDown",f),e.event.bind(t,"MSPointerMove",m),e.event.bind(t,"MSPointerUp",d)))}var n=r(2),o=r(0),s=r(1),a=r(3);t.exports=function(t){(n.env.supportsTouch||n.env.supportsIePointer)&&i(t,o.get(t),n.env.supportsTouch,n.env.supportsIePointer)}},function(t,e,r){"use strict";var i=r(0),n=r(1),o={"click-rail":r(16),"drag-scrollbar":r(17),keyboard:r(18),wheel:r(19),touch:r(22),selection:r(21)},s=r(20);t.exports=function(t,e){t.classList.add("ps");var r=i.add(t,"object"==typeof e?e:{});t.classList.add("ps--theme_"+r.settings.theme),r.settings.handlers.forEach(function(e){o[e](t)}),s(t),n(t)}},function(t,e,r){"use strict";var i=r(2),n=r(4),o=r(0),s=r(1),a=r(3);t.exports=function(t){var e=o.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,n.css(e.scrollbarXRail,"display","block"),n.css(e.scrollbarYRail,"display","block"),e.railXMarginWidth=i.toInt(n.css(e.scrollbarXRail,"marginLeft"))+i.toInt(n.css(e.scrollbarXRail,"marginRight")),e.railYMarginHeight=i.toInt(n.css(e.scrollbarYRail,"marginTop"))+i.toInt(n.css(e.scrollbarYRail,"marginBottom")),n.css(e.scrollbarXRail,"display","none"),n.css(e.scrollbarYRail,"display","none"),s(t),a(t,"top",t.scrollTop),a(t,"left",t.scrollLeft),n.css(e.scrollbarXRail,"display",""),n.css(e.scrollbarYRail,"display",""))}},function(t,e){t.exports=function(t,e,r,i){var n,o=t=t||{},s=typeof t.default;"object"!=s&&"function"!=s||(o=(n=t).default);var a="function"==typeof o?o.options:o;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),r&&(a._scopeId=r),i){var c=a.computed||(a.computed={});Object.keys(i).forEach(function(t){var e=i[t];c[t]=function(){return e}})}return{esModule:n,exports:o,options:a}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.$props.tagname,{tag:"section",staticClass:"ps-container",on:{"~mouseover":function(e){t.update(e)},"ps-scroll-y":t.scrollHanle,"ps-scroll-x":t.scrollHanle,"ps-scroll-up":t.scrollHanle,"ps-scroll-down":t.scrollHanle,"ps-scroll-left":t.scrollHanle,"ps-scroll-right":t.scrollHanle,"ps-y-reach-start":t.scrollHanle,"ps-y-reach-end":t.scrollHanle,"ps-x-reach-start":t.scrollHanle,"ps-x-reach-end":t.scrollHanle}},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){function r(t,e){for(var r=0;r<t.length;r++){var i=t[r],n=c[i.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](i.parts[s]);for(;s<i.parts.length;s++)n.parts.push(o(i.parts[s],e))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(o(i.parts[s],e));c[i.id]={id:i.id,refs:1,parts:a}}}}function i(t){for(var e=[],r={},i=0;i<t.length;i++){var n=t[i],o=n[0],s={css:n[1],media:n[2],sourceMap:n[3]};r[o]?r[o].parts.push(s):e.push(r[o]={id:o,parts:[s]})}return e}function n(t){var e=document.createElement("style");return e.type="text/css",function(t,e){var r=u(),i=m[m.length-1];if("top"===t.insertAt)i?i.nextSibling?r.insertBefore(e,i.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(e)}}(t,e),e}function o(t,e){var r,i,o;if(e.singleton){var a=f++;r=h=h||n(e),i=s.bind(null,r,a,!1),o=s.bind(null,r,a,!0)}else r=n(e),i=function(t,e){var r=e.css,i=e.media,n=e.sourceMap;if(i&&t.setAttribute("media",i),n&&(r+="\n/*# sourceURL="+n.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),o=function(){!function(t){t.parentNode.removeChild(t);var e=m.indexOf(t);0<=e&&m.splice(e,1)}(r)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}function s(t,e,r,i){var n=r?"":i.css;if(t.styleSheet)t.styleSheet.cssText=p(e,n);else{var o=document.createTextNode(n),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function a(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}var c={},l=a(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),u=a(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,f=0,m=[];t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(e=e||{}).singleton&&(e.singleton=l()),void 0===e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s];(l=c[a.id]).refs--,o.push(l)}for(t&&r(i(t),e),s=0;s<o.length;s++){var l;if(0===(l=o[s]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete c[l.id]}}}};var d,p=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")})},function(t,e,r){var i=r(8);"string"==typeof i&&(i=[[t.i,i,""]]),r(27)(i,{}),i.locals&&(t.exports=i.locals)}],r.c=n,r.i=function(t){return t},r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/dist/",r(r.s=6))},"9d7e":function(t,e,r){"use strict";e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){return function(t){for(var e=arguments.length,r=Array(1<e?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];return 1===r.length&&"object"===i(r[0])&&(r=r[0]),r&&r.hasOwnProperty||(r={}),t.replace(o,function(e,i,o,s){var a=void 0;return"{"===t[s-1]&&"}"===t[s+e.length]?o:null==(a=(0,n.hasOwn)(r,o)?r[o]:null)?"":a})}};var n=r("8122"),o=/(%|)\{([0-9a-zA-Z_]+)\}/g},"9d94":function(t,e,r){var i=r("bbf0"),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(t){this.mode=i.ALPHANUMERIC,this.data=t}o.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var r=45*n.indexOf(this.data[e]);r+=n.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(n.indexOf(this.data[e]),6)},t.exports=o},"9dcd":function(t,e,r){var i;!function(){"use strict";var n,o=20,s=1,a=-7,c=21,l={},u=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(t,e,r){var i=t.constructor,n=e-(t=new i(t)).e,o=t.c;for(o.length>++e&&f(t,n,i.RM),o[0]?n=r?e:(o=t.c,t.e+n+1):++n;o.length<n;o.push(0));return n=t.e,1===r||r&&(e<=n||n<=i.E_NEG)?(t.s<0&&o[0]?"-":"")+(1<o.length?o[0]+"."+o.join("").slice(1):o[0])+(n<0?"e":"e+")+n:t.toString()}function f(t,e,r,i){var n=t.c,o=t.e+e+1;if(1===r?i=5<=n[o]:2===r?i=5<n[o]||5==n[o]&&(i||o<0||void 0!==n[o+1]||1&n[o-1]):3===r?i=i||void 0!==n[o]||o<0:(i=!1,0!==r&&m("!Big.RM!")),o<1||!n[0])i?(t.e=-e,t.c=[1]):t.c=[t.e=0];else{if(n.length=o--,i)for(;9<++n[o];)n[o]=0,o--||(++t.e,n.unshift(1));for(o=n.length;!n[--o];n.pop());}return t}function m(t){var e=new Error(t);throw e.name="BigError",e}l.abs=function(){var t=new this.constructor(this);return t.s=1,t},l.cmp=function(t){var e,r=this.c,i=(t=new this.constructor(t)).c,n=this.s,o=t.s,s=this.e,a=t.e;if(!r[0]||!i[0])return r[0]?n:i[0]?-o:0;if(n!=o)return n;if(e=n<0,s!=a)return a<s^e?1:-1;for(n=-1,o=(s=r.length)<(a=i.length)?s:a;++n<o;)if(r[n]!=i[n])return r[n]>i[n]^e?1:-1;return s==a?0:a<s^e?1:-1},l.div=function(t){var e=this.constructor,r=this.c,i=(t=new e(t)).c,n=this.s==t.s?1:-1,o=e.DP;if((o!==~~o||o<0||1e6<o)&&m("!Big.DP!"),!r[0]||!i[0])return r[0]==i[0]&&m(NaN),i[0]||m(n/0),new e(0*n);var s,a,c,l,u,h=i.slice(),d=s=i.length,p=r.length,_=r.slice(0,s),g=_.length,v=t,y=v.c=[],b=0,x=o+(v.e=this.e-t.e)+1;for(v.s=n,n=x<0?0:x,h.unshift(0);g++<s;_.push(0));do{for(c=0;c<10;c++){if(s!=(g=_.length))l=g<s?1:-1;else for(u=-1,l=0;++u<s;)if(i[u]!=_[u]){l=i[u]>_[u]?1:-1;break}if(!(l<0))break;for(a=g==s?i:h;g;){if(_[--g]<a[g]){for(u=g;u&&!_[--u];_[u]=9);--_[u],_[g]+=10}_[g]-=a[g]}for(;!_[0];_.shift());}y[b++]=l?c:++c,_[0]&&l?_[g]=r[d]||0:_=[r[d]]}while((d++<p||void 0!==_[0])&&n--);return y[0]||1==b||(y.shift(),v.e--),x<b&&f(v,o,e.RM,void 0!==_[0]),v},l.eq=function(t){return!this.cmp(t)},l.gt=function(t){return 0<this.cmp(t)},l.gte=function(t){return-1<this.cmp(t)},l.lt=function(t){return this.cmp(t)<0},l.lte=function(t){return this.cmp(t)<1},l.sub=l.minus=function(t){var e,r,i,n,o=this.constructor,s=this.s,a=(t=new o(t)).s;if(s!=a)return t.s=-a,this.plus(t);var c=this.c.slice(),l=this.e,u=t.c,h=t.e;if(!c[0]||!u[0])return u[0]?(t.s=-a,t):new o(c[0]?this:0);if(s=l-h){for((i=(n=s<0)?(s=-s,c):(h=l,u)).reverse(),a=s;a--;i.push(0));i.reverse()}else for(r=((n=c.length<u.length)?c:u).length,s=a=0;a<r;a++)if(c[a]!=u[a]){n=c[a]<u[a];break}if(n&&(i=c,c=u,u=i,t.s=-t.s),0<(a=(r=u.length)-(e=c.length)))for(;a--;c[e++]=0);for(a=e;s<r;){if(c[--r]<u[r]){for(e=r;e&&!c[--e];c[e]=9);--c[e],c[r]+=10}c[r]-=u[r]}for(;0===c[--a];c.pop());for(;0===c[0];)c.shift(),--h;return c[0]||(t.s=1,c=[h=0]),t.c=c,t.e=h,t},l.mod=function(t){var e,r=this,i=r.constructor,n=r.s,o=(t=new i(t)).s;return t.c[0]||m(NaN),r.s=t.s=1,e=1==t.cmp(r),r.s=n,t.s=o,e?new i(r):(n=i.DP,o=i.RM,i.DP=i.RM=0,r=r.div(t),i.DP=n,i.RM=o,this.minus(r.times(t)))},l.add=l.plus=function(t){var e,r=this.constructor,i=this.s,n=(t=new r(t)).s;if(i!=n)return t.s=-n,this.minus(t);var o=this.e,s=this.c,a=t.e,c=t.c;if(!s[0]||!c[0])return c[0]?t:new r(s[0]?this:0*i);if(s=s.slice(),i=o-a){for((e=0<i?(a=o,c):(i=-i,s)).reverse();i--;e.push(0));e.reverse()}for(s.length-c.length<0&&(e=c,c=s,s=e),i=c.length,n=0;i;)n=(s[--i]=s[i]+c[i]+n)/10|0,s[i]%=10;for(n&&(s.unshift(n),++a),i=s.length;0===s[--i];s.pop());return t.c=s,t.e=a,t},l.pow=function(t){var e=this,r=new e.constructor(1),i=r,n=t<0;for((t!==~~t||t<-1e6||1e6<t)&&m("!pow!"),t=n?-t:t;1&t&&(i=i.times(e)),t>>=1;)e=e.times(e);return n?r.div(i):i},l.round=function(t,e){var r=this,i=r.constructor;return null==t?t=0:(t!==~~t||t<0||1e6<t)&&m("!round!"),f(r=new i(r),t,null==e?i.RM:e),r},l.sqrt=function(){var t,e,r,i=this.constructor,n=this.c,o=this.s,s=this.e,a=new i("0.5");if(!n[0])return new i(this);for(o<0&&m(NaN),0===(o=Math.sqrt(this.toString()))||o===1/0?((t=n.join("")).length+s&1||(t+="0"),(e=new i(Math.sqrt(t).toString())).e=((s+1)/2|0)-(s<0||1&s)):e=new i(o.toString()),o=e.e+(i.DP+=4);r=e,e=a.times(r.plus(this.div(r))),r.c.slice(0,o).join("")!==e.c.slice(0,o).join(""););return f(e,i.DP-=4,i.RM),e},l.mul=l.times=function(t){var e,r=this.constructor,i=this.c,n=(t=new r(t)).c,o=i.length,s=n.length,a=this.e,c=t.e;if(t.s=this.s==t.s?1:-1,!i[0]||!n[0])return new r(0*t.s);for(t.e=a+c,o<s&&(e=i,i=n,n=e,c=o,o=s,s=c),e=new Array(c=o+s);c--;e[c]=0);for(a=s;a--;){for(s=0,c=o+a;a<c;)s=e[c]+n[a]*i[c-a-1]+s,e[c--]=s%10,s=s/10|0;e[c]=(e[c]+s)%10}for(s&&++t.e,e[0]||e.shift(),a=e.length;!e[--a];e.pop());return t.c=e,t},l.toString=l.valueOf=l.toJSON=function(){var t=this.constructor,e=this.e,r=this.c.join(""),i=r.length;if(e<=t.E_NEG||e>=t.E_POS)r=r.charAt(0)+(1<i?"."+r.slice(1):"")+(e<0?"e":"e+")+e;else if(e<0){for(;++e;r="0"+r);r="0."+r}else if(0<e)if(++e>i)for(e-=i;e--;r+="0");else e<i&&(r=r.slice(0,e)+"."+r.slice(e));else 1<i&&(r=r.charAt(0)+"."+r.slice(1));return this.s<0&&this.c[0]?"-"+r:r},l.toExponential=function(t){return null==t?t=this.c.length-1:(t!==~~t||t<0||1e6<t)&&m("!toExp!"),h(this,t,1)},l.toFixed=function(t){var e,r=this.constructor,i=r.E_NEG,n=r.E_POS;return r.E_NEG=-(r.E_POS=1/0),null==t?e=this.toString():t===~~t&&0<=t&&t<=1e6&&(e=h(this,this.e+t),this.s<0&&this.c[0]&&e.indexOf("-")<0&&(e="-"+e)),r.E_NEG=i,r.E_POS=n,e||m("!toFix!"),e},l.toPrecision=function(t){return null==t?this.toString():((t!==~~t||t<1||1e6<t)&&m("!toPre!"),h(this,t-1,2))},n=function t(){function e(r){if(!(this instanceof e))return void 0===r?t():new e(r);r instanceof e?(this.s=r.s,this.e=r.e,this.c=r.c.slice()):function(t,e){var r,i,n;for(0===e&&1/e<0?e="-0":u.test(e+="")||m(NaN),t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,-1<(r=e.indexOf("."))&&(e=e.replace(".","")),0<(i=e.search(/e/i))?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length),n=e.length,i=0;i<n&&"0"==e.charAt(i);i++);if(i==n)t.c=[t.e=0];else{for(;0<n&&"0"==e.charAt(--n););for(t.e=r-i-1,t.c=[];i<=n;t.c.push(+e.charAt(i++)));}}(this,r),this.constructor=e}return e.prototype=l,e.DP=o,e.RM=s,e.E_NEG=a,e.E_POS=c,e}(),void 0===(i=function(){return n}.call(e,r,e,t))||(t.exports=i)}()},"9def":function(t,e,r){var i=r("4588"),n=Math.min;t.exports=function(t){return 0<t?n(i(t),9007199254740991):0}},"9e1e":function(t,e,r){t.exports=!r("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"9e1f":function(t,e,r){},"9e44":function(t,e,r){"use strict";var i=r("7633"),n=r("31c2"),o=r("d74e"),s=r("0185"),a=r("8bab"),c=Object.assign;t.exports=!c||r("d782")(function(){var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(t){e[t]=t}),7!=c({},t)[r]||Object.keys(c({},e)).join("")!=i})?function(t,e){for(var r=s(t),c=arguments.length,l=1,u=n.f,h=o.f;l<c;)for(var f,m=a(arguments[l++]),d=u?i(m).concat(u(m)):i(m),p=d.length,_=0;_<p;)h.call(m,f=d[_++])&&(r[f]=m[f]);return r}:c},"9e69":function(t,e,r){var i=r("2b3e").Symbol;t.exports=i},"9e6a":function(t,e,r){"use strict";function i(t,e){var r,i={},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,c=e.parameterLimit===1/0?void 0:e.parameterLimit,l=n.split(e.delimiter,c),u=-1,h=e.charset;if(e.charsetSentinel)for(r=0;r<l.length;++r)0===l[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[r]?h="utf-8":"utf8=%26%2310003%3B"===l[r]&&(h="iso-8859-1"),u=r,r=l.length);for(r=0;r<l.length;++r)if(r!==u){var f,m,d=l[r],p=d.indexOf("]="),_=-1===p?d.indexOf("="):p+1;(m=-1===_?(f=e.decoder(d,a.decoder,h),e.strictNullHandling?null:""):(f=e.decoder(d.slice(0,_),a.decoder,h),e.decoder(d.slice(_+1),a.decoder,h)))&&e.interpretNumericEntities&&"iso-8859-1"===h&&(m=m.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})),m&&e.comma&&-1<m.indexOf(",")&&(m=m.split(",")),s.call(i,f)?i[f]=o.combine(i[f],m):i[f]=m}return i}function n(t,e,r){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,n=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(i),a=o?i.slice(0,o.index):i,c=[];if(a){if(!r.plainObjects&&s.call(Object.prototype,a)&&!r.allowPrototypes)return;c.push(a)}for(var l=0;null!==(o=n.exec(i))&&l<r.depth;){if(l+=1,!r.plainObjects&&s.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(o[1])}return o&&c.push("["+i.slice(o.index)+"]"),function(t,e,r){for(var i=e,n=t.length-1;0<=n;--n){var o,s=t[n];if("[]"===s&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var a="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(a,10);r.parseArrays||""!==a?!isNaN(c)&&s!==a&&String(c)===a&&0<=c&&r.parseArrays&&c<=r.arrayLimit?(o=[])[c]=i:o[a]=i:o={0:i}}i=o}return i}(c,e,r)}}var o=r("d233"),s=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};t.exports=function(t,e){var r=function(t){if(!t)return a;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset;return{allowDots:void 0===t.allowDots?a.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||o.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth?t.depth:a.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var s="string"==typeof t?i(t,r):t,c=r.plainObjects?Object.create(null):{},l=Object.keys(s),u=0;u<l.length;++u){var h=l[u],f=n(h,s[h],r);c=o.merge(c,f,r)}return o.compact(c)}},"9ed1":function(t,e,r){var i=r("f6d7"),n=r("49c1");t.exports=Object.keys||function(t){return i(t,n)}},"9fa6":function(t,e,r){"use strict";function i(){this.message="String contains an invalid character"}(i.prototype=new Error).code=5,i.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,r,n=String(t),o="",s=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.charAt(0|s)||(a="=",s%1);o+=a.charAt(63&e>>8-s%1*8)){if(255<(r=n.charCodeAt(s+=.75)))throw new i;e=e<<8|r}return o}},"9faf":function(t,e,r){var i=r("1f51");t.exports=function(t,e,r){for(var n in e)i(t,n,e[n],r);return t}},"9fbb":function(t,e,r){var i=r("4d88");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},a029:function(t,e,r){var i=r("087d"),n=r("2dcb"),o=r("32f4"),s=r("d327"),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)i(e,o(t)),t=n(t);return e}:s;t.exports=a},a0a8:function(t,e,r){var i=r("e4e1"),n=r("dcc3");t.exports=r("45e2")?function(t,e,r){return i.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}},a15e:function(t,e,r){"use strict";r.r(e);var i=r("41b2"),n=r.n(i),o=r("1098"),s=r.n(o),a=/%[sdj%]/g;function c(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=1,n=e[0],o=e.length;if("function"==typeof n)return n.apply(null,e.slice(1));if("string"!=typeof n)return n;for(var s=String(n).replace(a,function(t){if("%%"===t)return"%";if(o<=i)return t;switch(t){case"%s":return String(e[i++]);case"%d":return Number(e[i++]);case"%j":try{return JSON.stringify(e[i++])}catch(t){return"[Circular]"}break;default:return t}}),c=e[i];i<o;c=e[++i])s+=" "+c;return s}function l(t,e){return null==t||!("array"!==e||!Array.isArray(t)||t.length)||!(!function(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"pattern"===t}(e)||"string"!=typeof t||t)}function u(t,e,r){var i=0,n=t.length;!function o(s){if(s&&s.length)r(s);else{var a=i;i+=1,a<n?e(t[a],o):r([])}}([])}function h(t,e,r,i){if(e.first)return u(function(t){var e=[];return Object.keys(t).forEach(function(r){e.push.apply(e,t[r])}),e}(t),r,i);var n=e.firstFields||[];function o(t){l.push.apply(l,t),++c===a&&i(l)}!0===n&&(n=Object.keys(t));var s=Object.keys(t),a=s.length,c=0,l=[];s.forEach(function(e){var i=t[e];-1!==n.indexOf(e)?u(i,r,o):function(t,e,r){var i=[],n=0,o=t.length;function s(t){i.push.apply(i,t),++n===o&&r(i)}t.forEach(function(t){e(t,s)})}(i,r,o)})}function f(t){return function(e){return e&&e.message?(e.field=e.field||t.fullField,e):{message:e,field:e.field||t.fullField}}}function m(t,e){if(e)for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];"object"===(void 0===i?"undefined":s()(i))&&"object"===s()(t[r])?t[r]=n()({},t[r],i):t[r]=i}return t}var d=function(t,e,r,i,n,o){!t.required||r.hasOwnProperty(t.field)&&!l(e,o||t.type)||i.push(c(n.messages.required,t.fullField))};function p(t,e,r,i,n){!/^\s+$/.test(e)&&""!==e||i.push(c(n.messages.whitespace,t.fullField))}var _={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},g={integer:function(t){return g.number(t)&&parseInt(t,10)===t},float:function(t){return g.number(t)&&!g.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(t){return!1}},date:function(t){return"function"==typeof t.getTime&&"function"==typeof t.getMonth&&"function"==typeof t.getYear},number:function(t){return!isNaN(t)&&"number"==typeof t},object:function(t){return"object"===(void 0===t?"undefined":s()(t))&&!g.array(t)},method:function(t){return"function"==typeof t},email:function(t){return"string"==typeof t&&!!t.match(_.email)&&t.length<255},url:function(t){return"string"==typeof t&&!!t.match(_.url)},hex:function(t){return"string"==typeof t&&!!t.match(_.hex)}};function v(t,e,r,i,n){if(t.required&&void 0===e)d(t,e,r,i,n);else{var o=t.type;-1<["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)?g[o](e)||i.push(c(n.messages.types[o],t.fullField,t.type)):o&&(void 0===e?"undefined":s()(e))!==t.type&&i.push(c(n.messages.types[o],t.fullField,t.type))}}var y={required:d,whitespace:p,type:v,range:function(t,e,r,i,n){var o="number"==typeof t.len,s="number"==typeof t.min,a="number"==typeof t.max,l=e,u=null,h="number"==typeof e,f="string"==typeof e,m=Array.isArray(e);if(h?u="number":f?u="string":m&&(u="array"),!u)return!1;m&&(l=e.length),f&&(l=e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==t.len&&i.push(c(n.messages[u].len,t.fullField,t.len)):s&&!a&&l<t.min?i.push(c(n.messages[u].min,t.fullField,t.min)):a&&!s&&l>t.max?i.push(c(n.messages[u].max,t.fullField,t.max)):s&&a&&(l<t.min||l>t.max)&&i.push(c(n.messages[u].range,t.fullField,t.min,t.max))},enum:function(t,e,r,i,n){t.enum=Array.isArray(t.enum)?t.enum:[],-1===t.enum.indexOf(e)&&i.push(c(n.messages.enum,t.fullField,t.enum.join(", ")))},pattern:function(t,e,r,i,n){t.pattern&&(t.pattern instanceof RegExp?(t.pattern.lastIndex=0,t.pattern.test(e)||i.push(c(n.messages.pattern.mismatch,t.fullField,e,t.pattern))):"string"==typeof t.pattern&&(new RegExp(t.pattern).test(e)||i.push(c(n.messages.pattern.mismatch,t.fullField,e,t.pattern))))}};function b(t,e,r,i,n){var o=t.type,s=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e,o)&&!t.required)return r();y.required(t,e,i,s,n,o),l(e,o)||y.type(t,e,i,s,n)}r(s)}var x={string:function(t,e,r,i,n){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e,"string")&&!t.required)return r();y.required(t,e,i,o,n,"string"),l(e,"string")||(y.type(t,e,i,o,n),y.range(t,e,i,o,n),y.pattern(t,e,i,o,n),!0===t.whitespace&&y.whitespace(t,e,i,o,n))}r(o)},method:function(t,e,r,i,n){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e)&&!t.required)return r();y.required(t,e,i,o,n),void 0!==e&&y.type(t,e,i,o,n)}r(o)},number:function(t,e,r,i,n){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e)&&!t.required)return r();y.required(t,e,i,o,n),void 0!==e&&(y.type(t,e,i,o,n),y.range(t,e,i,o,n))}r(o)},boolean:function(t,e,r,i,n){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e)&&!t.required)return r();y.required(t,e,i,o,n),void 0!==e&&y.type(t,e,i,o,n)}r(o)},regexp:function(t,e,r,i,n){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e)&&!t.required)return r();y.required(t,e,i,o,n),l(e)||y.type(t,e,i,o,n)}r(o)},integer:function(t,e,r,i,n){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e)&&!t.required)return r();y.required(t,e,i,o,n),void 0!==e&&(y.type(t,e,i,o,n),y.range(t,e,i,o,n))}r(o)},float:function(t,e,r,i,n){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e)&&!t.required)return r();y.required(t,e,i,o,n),void 0!==e&&(y.type(t,e,i,o,n),y.range(t,e,i,o,n))}r(o)},array:function(t,e,r,i,n){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e,"array")&&!t.required)return r();y.required(t,e,i,o,n,"array"),l(e,"array")||(y.type(t,e,i,o,n),y.range(t,e,i,o,n))}r(o)},object:function(t,e,r,i,n){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e)&&!t.required)return r();y.required(t,e,i,o,n),void 0!==e&&y.type(t,e,i,o,n)}r(o)},enum:function(t,e,r,i,n){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e)&&!t.required)return r();y.required(t,e,i,o,n),e&&y.enum(t,e,i,o,n)}r(o)},pattern:function(t,e,r,i,n){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e,"string")&&!t.required)return r();y.required(t,e,i,o,n),l(e,"string")||y.pattern(t,e,i,o,n)}r(o)},date:function(t,e,r,i,n){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(l(e)&&!t.required)return r();if(y.required(t,e,i,o,n),!l(e)){var s=void 0;s="number"==typeof e?new Date(e):e,y.type(t,s,i,o,n),s&&y.range(t,s.getTime(),i,o,n)}}r(o)},url:b,hex:b,email:b,required:function(t,e,r,i,n){var o=[],a=Array.isArray(e)?"array":void 0===e?"undefined":s()(e);y.required(t,e,i,o,n,a),r(o)}};function w(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var S=w();function C(t){this.rules=null,this._messages=S,this.define(t)}C.prototype={messages:function(t){return t&&(this._messages=m(w(),t)),this._messages},define:function(t){if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===t?"undefined":s()(t))||Array.isArray(t))throw new Error("Rules must be an object");this.rules={};var e=void 0,r=void 0;for(e in t)t.hasOwnProperty(e)&&(r=t[e],this.rules[e]=Array.isArray(r)?r:[r])},validate:function(t,e,r){var i=this,o=t,a=1<arguments.length&&void 0!==e?e:{},l=r;if("function"==typeof a&&(l=a,a={}),this.rules&&0!==Object.keys(this.rules).length){if(a.messages){var u=this.messages();u===S&&(u=w()),m(u,a.messages),a.messages=u}else a.messages=this.messages();var d=void 0,p=void 0,_={};(a.keys||Object.keys(this.rules)).forEach(function(e){d=i.rules[e],p=o[e],d.forEach(function(r){var s=r;"function"==typeof s.transform&&(o===t&&(o=n()({},o)),p=o[e]=s.transform(p)),(s="function"==typeof s?{validator:s}:n()({},s)).validator=i.getValidationMethod(s),s.field=e,s.fullField=s.fullField||e,s.type=i.getType(s),s.validator&&(_[e]=_[e]||[],_[e].push({rule:s,value:p,source:o,field:e}))})});var g={};h(_,a,function(t,e){var r=t.rule,i=!("object"!==r.type&&"array"!==r.type||"object"!==s()(r.fields)&&"object"!==s()(r.defaultField));function o(t,e){return n()({},e,{fullField:r.fullField+"."+t})}function l(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(Array.isArray(s)||(s=[s]),s.length,s.length&&r.message&&(s=[].concat(r.message)),s=s.map(f(r)),a.first&&s.length)return g[r.field]=1,e(s);if(i){if(r.required&&!t.value)return s=r.message?[].concat(r.message).map(f(r)):a.error?[a.error(r,c(a.messages.required,r.field))]:[],e(s);var l={};if(r.defaultField)for(var u in t.value)t.value.hasOwnProperty(u)&&(l[u]=r.defaultField);for(var h in l=n()({},l,t.rule.fields))if(l.hasOwnProperty(h)){var m=Array.isArray(l[h])?l[h]:[l[h]];l[h]=m.map(o.bind(null,h))}var d=new C(l);d.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),d.validate(t.value,t.rule.options||a,function(t){e(t&&t.length?s.concat(t):t)})}else e(s)}i=i&&(r.required||!r.required&&t.value),r.field=t.field;var u=r.validator(r,t.value,l,t.source,a);u&&u.then&&u.then(function(){return l()},function(t){return l(t)})},function(t){!function(t){var e,r=void 0,i=void 0,n=[],o={};for(r=0;r<t.length;r++)e=t[r],Array.isArray(e)?n=n.concat.apply(n,e):n.push(e);if(n.length)for(r=0;r<n.length;r++)o[i=n[r].field]=o[i]||[],o[i].push(n[r]);else o=n=null;l(n,o)}(t)})}else l&&l()},getType:function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!=typeof t.validator&&t.type&&!x.hasOwnProperty(t.type))throw new Error(c("Unknown rule type %s",t.type));return t.type||"string"},getValidationMethod:function(t){if("function"==typeof t.validator)return t.validator;var e=Object.keys(t),r=e.indexOf("message");return-1!==r&&e.splice(r,1),1===e.length&&"required"===e[0]?x.required:x[this.getType(t)]||!1}},C.register=function(t,e){if("function"!=typeof e)throw new Error("Cannot register a validator by type, validator is not a function");x[t]=e},C.messages=S,e.default=C},a19d:function(t,e,r){!function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e,r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function i(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function n(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)s.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}!function(t){t.ProcessingSuccess="CRMProcessingSuccess",t.ProcessingFailed="CRMProcessingFailed",t.ScriptSyntaxError="CRMScriptSyntaxError",t.LoadResourceFailed="CRMLoadResourceFailed",t.LoadSourceImageFailed="CRMLoadSourceImageFailed",t.ThreadError="CRMThreadError",t.OpenGLError="CRMOpenGLError",t.OutOfMemmory="CRMOutOfMemmory",t.ParameterError="CRMParameterError",t.ViewInvalidSerial="CRMViewInvalidSerial",t.InnerError="CRMInnerError",t.OtherError="CRMOtherError"}(e=e||{});var s=[1,1,0,0];function a(t){return"[object String]"!=Object.prototype.toString.call(t)||t==e.ProcessingSuccess}function c(t,e,r){return t.substring(0,e)+r+t.substr(e)}var l,u,h,f=function(t,e){this.m_name=t,this.m_image=e},m=function(){function t(t,e,r,i,n,o){this.m_image_pool=new Array,this.m_temporary=new Array,this.m_stack=new Array,this.m_source_modified=!1,this.m_texture=t,this.m_keep_source=i,this.m_delete_source_when_clear=n,this.m_engine=o,this.m_width=e,this.m_height=r}return t.prototype.get_src=function(){return this.m_texture},t.prototype.unlock=function(){var t=this;this.m_temporary.map(function(e){e&&t.pool_put(e)}),this.m_temporary.length=0},t.prototype.destroy=function(){this.reset(),this.m_delete_source_when_clear&&this.m_engine.context().delete_texture(this.m_texture),this.pool_trim(0)},t.prototype.current=function(){return this.m_dst},t.prototype.new_temporary=function(){var t=this.pool_get();return t=t||this.new_image(),this.m_temporary[this.m_temporary.length]=t},t.prototype.get_temporary=function(t){},t.prototype.push_to_current=function(t){void 0===t&&(t=-1),t=this.map_idx(t),this.pool_put(this.m_dst),this.m_dst=this.m_temporary[t],this.m_temporary[t]=null},t.prototype.load_channel=function(t){var e=this,r=null;return this.find_channel(t,function(t){r=e.m_stack[t].m_image}),r},t.prototype.load_view=function(t){var r=this.m_engine.get_view_by_number(t);return r?r.processed?this.m_engine.load_view(r):e.OtherError:e.ScriptSyntaxError},t.prototype.get_inner_result=function(){return this.m_dst},t.prototype.get_result=function(){var t=this.m_dst;return this.m_dst=null,this.reset(),t},t.prototype.fetch_tmp_image=function(){var t=this.pool_get();return this.m_keep_source||this.m_delete_source_when_clear||this.m_texture!=t||(t=this.pool_get(),this.pool_put(this.m_texture)),t||this.new_image()},t.prototype.put_tmp_image=function(t){this.pool_put(t)},t.prototype.new_channel=function(t){var e=this.pool_get();e=e||this.new_image(),this.m_stack[this.m_stack.length]=new f(t,e),this.duplicate_image(e,this.m_dst)},t.prototype.swap_channel=function(t){var e=this;this.find_channel(t,function(t){var r=e.m_dst;e.m_dst=e.m_stack[t].m_image,e.m_stack[t].m_image=r})},t.prototype.end_channel=function(t){var e=this;this.find_channel(t,function(t){e.pool_put(e.m_stack[t].m_image),e.m_stack.splice(t,1)})},t.prototype.prepare=function(){if(this.reset(),!this.m_texture||this.m_source_modified)throw Error("failed load source image");this.m_keep_source?this.m_dst=this.duplicate_image(null,this.m_texture):(this.m_dst=this.m_texture,this.m_source_modified=!0,this.m_delete_source_when_clear&&(this.m_texture=null))},t.prototype.prepare_empty=function(){return this.reset(),this.m_dst=this.pool_get(),this.m_dst||(this.m_dst=this.new_image()),this.m_dst},t.prototype.size=function(){return{width:this.m_width,height:this.m_height}},t.prototype.find_channel=function(t,e){for(var r=this.m_stack.length-1;0<=r;--r)if(this.m_stack[r].m_name==t)return e(r),!0;return!1},t.prototype.pool_trim=function(t){var e=this.m_image_pool.length;if(!(e<=t)){for(var r=t;r<e;++r){var i=this.m_image_pool[r];!this.m_delete_source_when_clear&&i==this.m_texture||this.m_engine.context().delete_texture(i)}this.m_image_pool.length=t}},t.prototype.pool_put=function(t){this.m_image_pool[this.m_image_pool.length]=t,this.pool_trim(this.m_engine.get_max_pool_size())},t.prototype.pool_get=function(){return this.m_image_pool.length?this.m_image_pool.pop():null},t.prototype.reset=function(){var t=this;this.unlock(),this.m_stack.map(function(e){t.pool_put(e.m_image)}),this.m_stack.length=0,this.m_dst&&(this.pool_put(this.m_dst),this.m_dst=null)},t.prototype.new_image=function(){var t=this.m_engine.context().create_new_texture(this.m_width,this.m_height);if(!t)throw Error("OpenGLError: ProcessData::new_image");return t},t.prototype.duplicate_image=function(t,e){var r=t;if(r=(r=r||this.pool_get())||this.new_image(),!this.m_engine.context().texture_to_texture(r,e,this.m_engine.get_frame_buffer(),this.m_width,this.m_height))throw t||this.pool_put(r),Error("OpenGLError: ProcessData::duplicate_image");return r},t.prototype.map_idx=function(t){return t<0&&(t+=this.m_temporary.length),t},t}(),d=function(){function t(t){this.m_func_lock_image=null,this.m_func_unlock_image=null,this.m_context=t}return t.prototype.destroy=function(){},t.prototype.on_log=function(t){},t.prototype.lock_image=function(t,e){if(this.m_func_lock_image)return this.m_func_lock_image(t,e)},t.prototype.unlock_image=function(t,e,r){if(this.m_func_unlock_image)return this.m_func_unlock_image(t,e,r)},t.prototype.resource_pool_enable=function(){},t.prototype.resource_pool_texture_limite=function(){},t.prototype.resource_pool_texture_flush=function(){},t.prototype.context=function(){return this.m_context},t.prototype.texture_to_texture=function(t,e,r,i,n){if(this.m_context.bindFramebuffer(this.m_context.FRAMEBUFFER,r),this.m_context.framebufferTexture2D(this.m_context.FRAMEBUFFER,this.m_context.COLOR_ATTACHMENT0,this.m_context.TEXTURE_2D,e,0),this.m_context.activeTexture(this.m_context.TEXTURE0),this.m_context.bindTexture(this.m_context.TEXTURE_2D,t),this.m_context.copyTexSubImage2D(this.m_context.TEXTURE_2D,0,0,0,0,0,i,n),this.m_context.getError())throw new Error("texture_to_texture");return!0},t.prototype.get_resource_texture=function(t){var e={texture:null,width:0,height:0},r=this.lock_image(t);return r?("[object WebGLTexture]"==r.toString()?e.texture=r:(e.width=r.width,e.height=r.height,e.texture=this.m_context.createTexture(),this.m_context.activeTexture(this.m_context.TEXTURE0),this.m_context.bindTexture(this.m_context.TEXTURE_2D,e.texture),this.m_context.texImage2D(this.m_context.TEXTURE_2D,0,this.m_context.RGBA,this.m_context.RGBA,this.m_context.UNSIGNED_BYTE,r),this.m_context.texParameteri(this.m_context.TEXTURE_2D,this.m_context.TEXTURE_MIN_FILTER,this.m_context.NEAREST),this.m_context.texParameteri(this.m_context.TEXTURE_2D,this.m_context.TEXTURE_MAG_FILTER,this.m_context.NEAREST),this.m_context.texParameteri(this.m_context.TEXTURE_2D,this.m_context.TEXTURE_WRAP_S,this.m_context.CLAMP_TO_EDGE),this.m_context.texParameteri(this.m_context.TEXTURE_2D,this.m_context.TEXTURE_WRAP_T,this.m_context.CLAMP_TO_EDGE),this.m_context.finish(),this.unlock_image(t,r)),e):null},t.prototype.release_resource_texture=function(t){this.m_context.deleteTexture(t.texture)},t.prototype.delete_textures=function(t,e){if(1==t)this.m_context.deleteTexture(e);else for(var r=0;r<e.length&&r<t;++r)this.m_context.deleteTexture(e[r])},t.prototype.create_new_texture=function(t,e,r){void 0===r&&(r=!0);var i=0;i=this.m_context.createTexture(),this.m_context.activeTexture(this.m_context.TEXTURE1),this.m_context.bindTexture(this.m_context.TEXTURE_2D,i),this.m_context.texParameteri(this.m_context.TEXTURE_2D,this.m_context.TEXTURE_MIN_FILTER,r?this.m_context.LINEAR:this.m_context.NEAREST),this.m_context.texParameteri(this.m_context.TEXTURE_2D,this.m_context.TEXTURE_MAG_FILTER,r?this.m_context.LINEAR:this.m_context.NEAREST),this.m_context.texParameteri(this.m_context.TEXTURE_2D,this.m_context.TEXTURE_WRAP_S,this.m_context.CLAMP_TO_EDGE),this.m_context.texParameteri(this.m_context.TEXTURE_2D,this.m_context.TEXTURE_WRAP_T,this.m_context.CLAMP_TO_EDGE),this.m_context.texImage2D(this.m_context.TEXTURE_2D,0,this.m_context.RGBA,t,e,0,this.m_context.RGBA,this.m_context.UNSIGNED_BYTE,null);var n=this.m_context.getError();return n?(this.m_context.deleteTexture(i),0):i},t.prototype.copy_texture=function(t,e,r,i,n){this.m_context.bindFramebuffer(this.m_context.FRAMEBUFFER,n),this.m_context.framebufferTexture2D(this.m_context.FRAMEBUFFER,this.m_context.COLOR_ATTACHMENT0,this.m_context.TEXTURE_2D,e,0),this.m_context.activeTexture(this.m_context.TEXTURE0),this.m_context.bindTexture(this.m_context.TEXTURE_2D,t),this.m_context.copyTexSubImage2D(this.m_context.TEXTURE_2D,0,0,0,0,0,r,i);var o=this.m_context.getError();if(o)throw"error in copy_texture"},t.prototype.delete_texture=function(t){this.m_context.deleteTexture(t)},t.prototype.texture_enable_linear=function(t,e){this.m_context.bindTexture(this.m_context.TEXTURE_2D,t),this.m_context.texParameteri(this.m_context.TEXTURE_2D,this.m_context.TEXTURE_MIN_FILTER,e?this.m_context.LINEAR:this.m_context.NEAREST),this.m_context.texParameteri(this.m_context.TEXTURE_2D,this.m_context.TEXTURE_MAG_FILTER,e?this.m_context.LINEAR:this.m_context.NEAREST)},t}(),p=function(){function t(){this.m_macros=new Map,this.m_script=""}return t.prototype.read_macro=function(t,e){},t.prototype.findAngleBracket=function(t){return t.split("<"),t.indexOf("<"),""},t}(),_=function(){function t(){this.m_data=new p}return t.prototype.set_macro=function(t,e){e?this.m_data.m_macros.set(t,e):this.m_data.m_macros.delete(t)},t.prototype.clear=function(){this.m_data.m_macros.clear()},t.prototype.parce=function(t){return t},t}(),g=function(t,e,r){this.m_frameBuffer=t,this.m_width=e,this.m_height=r},v=function(){function t(e,r,i){if(this.m_gl=i,this.m_vertexAttribute=null,this.m_texCoordAttribute=null,this.m_program=this.m_gl.createProgram(),e=e||t.defaultVertexSource,r="precision highp float;"+(r=r||t.defaultFragmentSource),this.m_gl.attachShader(this.m_program,this.compileSource(this.m_gl,this.m_gl.VERTEX_SHADER,e)),this.m_gl.attachShader(this.m_program,this.compileSource(this.m_gl,this.m_gl.FRAGMENT_SHADER,r)),this.m_gl.linkProgram(this.m_program),!this.m_gl.getProgramParameter(this.m_program,this.m_gl.LINK_STATUS))throw"link error: "+this.m_gl.getProgramInfoLog(this.m_program)}return t.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)},t.isNumber=function(t){return"[object Number]"==Object.prototype.toString.call(t)},t.prototype.compileSource=function(t,e,r){var i=t.createShader(e);if(t.shaderSource(i,r),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw"compile error: "+t.getShaderInfoLog(i);return i},t.prototype.getDefaultShader=function(){return this.m_gl.defaultShader=this.m_gl.defaultShader||new t(null,null,null),this.m_gl.defaultShader},t.prototype.destroy=function(){this.m_gl.deleteProgram(this.m_program),this.m_program=null},t.prototype.uniformMat4=function(e){for(var r in this.m_gl.useProgram(this.m_program),e)if(e.hasOwnProperty(r)){var i=this.m_gl.getUniformLocation(this.m_program,r);if(null!=i){var n=e[r];if(!t.isArray(n)||4!=n.length)throw r+" length valid";this.m_gl.uniformMatrix2fv(i,!1,new Float32Array(n))}}},t.prototype.uniforms=function(e){for(var r in this.m_gl.useProgram(this.m_program),e)if(e.hasOwnProperty(r)){var i=this.m_gl.getUniformLocation(this.m_program,r);if(null!==i){var n=e[r];if(t.isArray(n))switch(n.length){case 1:this.m_gl.uniform1fv(i,new Float32Array(n));break;case 2:this.m_gl.uniform2fv(i,new Float32Array(n));break;case 3:this.m_gl.uniform3fv(i,new Float32Array(n));break;case 4:this.m_gl.uniform4fv(i,new Float32Array(n));break;case 9:this.m_gl.uniformMatrix3fv(i,!1,new Float32Array(n));break;case 16:this.m_gl.uniformMatrix4fv(i,!1,new Float32Array(n));break;default:throw"dont't know how to load uniform \""+r+'" of length '+n.length}else{if(!t.isNumber(n))throw'attempted to set uniform "'+r+'" to invalid value '+(n||"undefined").toString();this.m_gl.uniform1f(i,n)}}}return this},t.prototype.textures=function(t){for(var e in this.m_gl.useProgram(this.m_program),t)t.hasOwnProperty(e)&&this.m_gl.uniform1i(this.m_gl.getUniformLocation(this.m_program,e),t[e]);return this},t.prototype.drawRect=function(t,e){null==this.m_vertexBuffer&&(this.m_vertexBuffer=this.m_gl.createBuffer()),this.m_gl.bindBuffer(this.m_gl.ARRAY_BUFFER,this.m_vertexBuffer),this.m_gl.bufferData(this.m_gl.ARRAY_BUFFER,t,this.m_gl.STATIC_DRAW),null==this.m_texCoordBuffer&&(this.m_texCoordBuffer=this.m_gl.createBuffer()),this.m_gl.bindBuffer(this.m_gl.ARRAY_BUFFER,this.m_texCoordBuffer),this.m_gl.bufferData(this.m_gl.ARRAY_BUFFER,e,this.m_gl.STATIC_DRAW),null==this.m_vertexAttribute&&(this.m_vertexAttribute=this.m_gl.getAttribLocation(this.m_program,"vertex"),this.m_gl.enableVertexAttribArray(this.m_vertexAttribute)),null==this.m_texCoordAttribute&&(this.m_texCoordAttribute=this.m_gl.getAttribLocation(this.m_program,"_texCoord"),this.m_gl.enableVertexAttribArray(this.m_texCoordAttribute)),this.m_gl.useProgram(this.m_program),this.m_vertexAttribute=this.m_gl.getAttribLocation(this.m_program,"vertex"),this.m_gl.enableVertexAttribArray(this.m_vertexAttribute),this.m_gl.bindBuffer(this.m_gl.ARRAY_BUFFER,this.m_vertexBuffer),this.m_gl.vertexAttribPointer(this.m_vertexAttribute,2,this.m_gl.FLOAT,!1,0,0),this.m_texCoordAttribute=this.m_gl.getAttribLocation(this.m_program,"_texCoord"),this.m_gl.enableVertexAttribArray(this.m_texCoordAttribute),this.m_gl.bindBuffer(this.m_gl.ARRAY_BUFFER,this.m_texCoordBuffer),this.m_gl.vertexAttribPointer(this.m_texCoordAttribute,2,this.m_gl.FLOAT,!1,0,0),this.m_gl.drawArrays(this.m_gl.TRIANGLE_STRIP,0,4)},t.defaultVertexSource="        attribute vec2 vPosition;        varying vec2 textureCoordinate;        void main(){            textureCoordinate= (vPosition.xy + 1.0) / 2.0;            gl_Position=vec4(vPosition, 0.0, 1.0);        }",t.defaultFragmentSource="",t}(),y=function(){function t(t,e,r,i,n,o){this.m_gl=t,this.m_shader=r,this.m_cnt=0,this.m_width=0,this.m_height=0,(this.m_framebuffer=null)!=e?(this.m_width=e.m_width,this.m_height=e.m_height,this.m_framebuffer=e.m_frameBuffer):(i&&(this.m_width=i),n&&(this.m_height=n),o&&(this.m_framebuffer=o)),this.m_gl.useProgram(this.m_shader.m_program),null==this.m_gl.engineVertexBuffer&&(this.m_gl.engineVertexBuffer=this.m_gl.createBuffer()),this.m_gl.bindBuffer(this.m_gl.ARRAY_BUFFER,this.m_gl.engineVertexBuffer),this.m_gl.bufferData(this.m_gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.m_gl.STATIC_DRAW),this.m_shader.m_vertexAttribute=this.m_gl.getAttribLocation(this.m_shader.m_program,"vPosition"),this.m_gl.enableVertexAttribArray(this.m_shader.m_vertexAttribute),this.m_gl.vertexAttribPointer(this.m_shader.m_vertexAttribute,2,this.m_gl.FLOAT,!1,0,new Float32Array([-1,-1,1,-1,1,1,-1,1]));var s=this.m_gl.getError();if(s)throw Error("GPUProcess constructor: "+s)}return t.prototype.shader_texture=function(t,e){this.m_gl.activeTexture(this.m_gl.TEXTURE2+this.m_cnt),this.m_gl.bindTexture(this.m_gl.TEXTURE_2D,e);var r={};r[t]=2+this.m_cnt,this.m_shader.textures(r);var i=this.m_gl.getError();if(i)throw Error("GPUProcess shader texture: "+i);++this.m_cnt},t.prototype.draw_to=function(t){if(this.m_gl.bindFramebuffer(this.m_gl.FRAMEBUFFER,this.m_framebuffer),this.m_gl.framebufferTexture2D(this.m_gl.FRAMEBUFFER,this.m_gl.COLOR_ATTACHMENT0,this.m_gl.TEXTURE_2D,t,0),this.m_gl.checkFramebufferStatus(this.m_gl.FRAMEBUFFER)!=this.m_gl.FRAMEBUFFER_COMPLETE)throw Error("GPUProcess draw to check fb uncomplete");this.m_gl.viewport(0,0,this.m_width,this.m_height),this.m_gl.drawArrays(this.m_gl.TRIANGLE_FAN,0,4);var e=this.m_gl.getError();if(e)throw Error("GPUProcess draw to: "+e)},t}(),b=function(){function t(t){this.m_name=t}return t.prototype.init=function(t){throw new Error("Method not implemented.")},t.prototype.run=function(t){throw new Error("Method not implemented.")},t.prototype.shader_step=function(){throw new Error("Method not implemented.")},t.prototype.sendUniform=function(t,e){throw new Error("Method not implemented.")},t}(),x=function(t){function e(){var r=t.call(this,e.formluaName)||this;return r.m_amount=0,r}return i(e,t),e.create=function(){return new e},e.prototype.init=function(t){this.m_amount=t.fetch_float()},e.prototype.run=function(t){for(var e=0;e<256;++e){var r=t[e];if(0!=this.m_amount){var i=void 0;i=1.41421/this.m_amount,r=0<this.m_amount?1-r-i/1.41421+Math.sqrt(1-1.4121*i+2.82842*r*i+.5*i*i):1-r-i/1.41421-Math.sqrt(1-1.41421*i+2.82842*r*i+.5*i*i)}t[e]=Math.min(r,1)}},e.formluaName="brightness",e}(b),w=function(t){function e(){var r=t.call(this,e.formluaName)||this;return r.m_amount=0,r}return i(e,t),e.create=function(){return new e},e.prototype.init=function(t){this.m_amount=t.fetch_float()},e.prototype.run=function(t){for(var e=0;e<256;++e){var r=t[e];r=(r-.5)*this.m_amount+.5,t[e]=r,t[e]=Math.max(0,Math.min(r,1))}},e.formluaName="contrast",e}(b),S=function(t){function e(){var r=t.call(this,e.formluaName)||this;return r.m_amount=0,r}return i(e,t),e.create=function(){return new e},e.prototype.init=function(t){this.m_amount=t.fetch_float()},e.prototype.run=function(t){for(var e=0;e<256;++e){var r=t[e];r*=Math.pow(2,this.m_amount),t[e]=r,t[e]=Math.max(0,Math.min(r,1))}},e.formluaName="exposure",e}(b),C=function(t){function e(){var r=t.call(this,e.formluaName)||this;return r.m_amount=0,r}return i(e,t),e.create=function(){return new e},e.prototype.init=function(t){this.m_amount=t.fetch_float(),this.m_amount=50*this.m_amount+50},e.prototype.run=function(t){var e,r,i,n,o;i=.6,n=.96,this.m_amount<25?(o=this.m_amount/25,e=.24*o+.39,r=(.52-.235)*o+.235):this.m_amount<50?(o=(this.m_amount-25)/25,e=.37*o+.63,r=.48*o+.52):n=this.m_amount<75?(o=(this.m_amount-50)/25,e=(1.6-1)*o+1,r=1*o+1,i=-.25*o+.6,(.85-.96)*o+.96):(o=(this.m_amount-75)/25,e=1*o+1.6,r=2.3*o+2,i=(.2-.35)*o+.35,(.65-.85)*o+.85);for(var s=(1-e*i)/Math.pow(1-i,r),a=1-Math.pow(1-n,r)*(1-e*i)/Math.pow(1-i,r),c=0;c<256;++c){var l=t[c],u=e*l,h=1-Math.pow(1-l,r)*s,f=(l-n)/(.997-n),m=a*(1-f)+f;l=1<e?Math.min(Math.min(u,h),m):Math.max(Math.max(u,h),m),t[c]=l,t[c]=Math.min(Math.max(l,0),1)}},e.formluaName="brightnessPS",e}(b),T=function(t){function e(){var r=t.call(this,e.formluaName)||this;return r.m_amount=0,r}return i(e,t),e.create=function(){return new e},e.prototype.init=function(t){this.m_amount=t.fetch_float()},e.prototype.run=function(t){var e,r;e=.4+.012*this.m_amount,r=1.6-.012*this.m_amount;for(var i=16*e+8*r-24,n=10-2*r-8*e,o=0;o<256;++o){var s=t[o];s=((i*(s-=.5)*s+n)*s*s+e)*s+.5,t[o]=Math.max(0,Math.min(s,1))}},e.formluaName="contrastPS",e}(b),E=function(t){function e(){var r=t.call(this,e.formluaName)||this;return r.m_amount=0,r}return i(e,t),e.create=function(){return new e},e.prototype.init=function(t){this.m_amount=t.fetch_float(),this.m_amount=25*(this.m_amount+2)},e.prototype.run=function(t){var e,r;e=Math.pow(1.775415,(this.m_amount-50)/10),r=Math.pow(1.643751,(this.m_amount-50)/10);for(var i=0;i<256;++i){var n=t[i],o=1-Math.pow(1.01-n,e),s=1-.55*Math.pow(1.01-n,r);n=Math.min(o,s),t[i]=n,t[i]=Math.max(0,Math.min(n,1))}},e.formluaName="exposurePS",e}(b),O=function(t){function e(){var r=t.call(this,e.formluaName)||this;return r.m_dark=0,r.m_light=0,r.m_gamma=0,r}return i(e,t),e.create=function(){return new e},e.prototype.init=function(t){this.m_dark=t.fetch_float(),this.m_light=t.fetch_float(),this.m_gamma=t.fetch_float()},e.prototype.run=function(t){for(var e=1/(this.m_light-this.m_dark+1e-4),r=0;r<256;++r){var i=t[r];i=(i-this.m_dark)*e,i=Math.max(0,i),i=Math.pow(i,this.m_gamma),i=Math.min(1,i),t[r]=i,t[r]=Math.max(0,Math.min(i,1))}},e.formluaName="level",e}(b),k=function(t){function e(){var r=t.call(this,e.formluaName)||this;return r.m_shadow=0,r.m_highlight=0,r.m_l=0,r.m_d=0,r}return i(e,t),e.create=function(){return new e},e.prototype.init=function(t){this.m_shadow=t.fetch_float(),this.m_highlight=t.fetch_float(),0<this.m_shadow&&(this.m_shadow*=.68),this.m_shadow=Math.tan(.007853975*(this.m_shadow+100)),this.m_highlight=-this.m_highlight,0<this.m_highlight&&(this.m_highlight*=.68),this.m_highlight=Math.tan(.007853975*(this.m_highlight+100)),this.m_l=this.m_highlight,this.m_d=this.m_shadow},e.prototype.run=function(t){for(var e=0;e<256;e++){var r=t[e];r=r<.5?4*(this.m_d-1)*r*r*r+4*(1-this.m_d)*r*r+this.m_d*r:4*(this.m_l-1)*r*r*r+8*(1-this.m_l)*r*r+(5*this.m_l-4)*r+1-this.m_l,t[e]=r,t[e]=Math.max(0,Math.min(r,1))}},e.formluaName="shadowHighlight",e}(b),A=function(t){function e(){var r=t.call(this,e.formluaName)||this;return r.m_amount=0,r}return i(e,t),e.create=function(){return new e},e.prototype.shader_step=function(){return"varying vec2 textureCoordinate;        uniform sampler2D inputChromeMap;        uniform float is;                float get_sat(float red,float blue)        {            float sr = red/(-0.299);            float sb = blue/(-0.114);            float sg = (red+blue)/(0.587);            return max(sr,max(sb,sg));            return sr;                    }                void main()        {\t\t            vec4 src = texture2D(inputChromeMap, textureCoordinate);            float red = src.r-0.299;            float blue = src.b-0.114;            float sat = get_sat(red,blue);            float mul = is;            if(mul>2.0)            {                float p1 = (sat-3.0)*sat+3.0;                mul = p1*(mul-2.0) + (2.0-sat)*(3.0-mul);            }            else if(mul>1.0)            {                mul = (2.0-sat)*(mul-1.0) + (2.0-mul);            }            vec4 dst = vec4(red*mul+0.299,0.0,blue*mul+0.114,1.0);                        gl_FragColor = dst;        }"},e.prototype.sendUniform=function(t,e){var r=e.fetch_float(),i={};i.is=r,t.m_shader.uniforms(i)},e.formluaName="saturate",e}(b),M=function(t){function e(){var r=t.call(this,e.formluaName)||this;return r.m_amount=0,r}return i(e,t),e.create=function(){return new e},e.prototype.shader_step=function(){return"varying vec2 textureCoordinate;        uniform sampler2D inputChromeMap;        uniform float rr;        uniform float bb;                float get_sat(float red,float blue)        {            float sr = red/(-0.299);            float sb = blue/(-0.114);            float sg = (red+blue)/(0.587);            return max(sr,max(sb,sg));            return sr;                    }                        void main()        {\t\t            vec4 src = texture2D(inputChromeMap, textureCoordinate);            float red = src.r-0.299;            float blue = src.b-0.114;            red = red +rr;            blue = blue +bb;            blue = max(min(0.91137695,blue),-0.91137695);            float sat = get_sat(red,blue);            if(sat >1.0)            {                red = red/sat;                blue = blue/sat;            }            vec4 dst = vec4(red+0.299,0.0,blue+0.114,1.0);                        gl_FragColor = dst;        }"},e.prototype.sendUniform=function(t,e){var r=3*e.fetch_float()/1e3,i=3*e.fetch_float()/1e3,n={};n.rr=r,n.bb=i,t.m_shader.uniforms(n)},e.formluaName="RGB",e}(b),P=function(t){function e(){var r=t.call(this,e.formluaName)||this;return r.m_amount=0,r}return i(e,t),e.create=function(){return new e},e.prototype.shader_step=function(){return"varying vec2 textureCoordinate;        uniform sampler2D inputChromeMap;        uniform vec4 m;        uniform float psv;                float get_sat(float red,float blue)        {            float sr = red/(-0.299);            float sb = blue/(-0.114);            float sg = (red+blue)/(0.587);            return max(sr,max(sb,sg));            return sr;                    }                        void main()        {\t\t            vec4 src = texture2D(inputChromeMap, textureCoordinate);            float red = src.r-0.299;            float blue = src.b-0.114;            float sat = get_sat(red,blue);            sat = min(sat,1.0);            float tr = red*m.x+blue*m.y;            float tb = red*m.z+blue*m.w;            red = tr;            blue = tb;            blue = max(min(0.91137,blue),-0.91137);            float nsat = get_sat(red,blue);            sat = nsat*psv + sat*(1.0 -psv);            if(nsat/2.0 >sat){                sat = nsat/2.0;            }            sat = min(sat,1.0);            float mul = sat/nsat;            mul = min(mul,2.0);            vec4 dst = vec4(red*mul+0.299,0.0,blue*mul+0.114,1.0);            gl_FragColor = dst;        }"},e.prototype.sendUniform=function(t,e){var r=e.fetch_float(),i=r/180*3.1415926535,n=[];n[0]=Math.cos(i),n[1]=Math.sin(i),n[2]=-Math.sin(i),n[3]=Math.cos(i);var o=.25;if(e.check_symbol("factor")){var s=e.fetch_float();o=s}var a={};a.m=n,a.psv=o,t.m_shader.uniforms(a)},e.formluaName="hue",e}(b),D=function(t){function e(){var r=t.call(this,e.formluaName)||this;return r.m_amount=0,r}return i(e,t),e.create=function(){return new e},e.prototype.shader_step=function(){return"varying vec2 textureCoordinate;        uniform sampler2D inputChromeMap;        uniform float r;        uniform float b;        uniform float w;                float get_sat(float red,float blue)        {            float sr = red/(-0.299);            float sb = blue/(-0.114);            float sg = (red+blue)/(0.587);            return max(sr,max(sb,sg));            return sr;                    }                        void main()        {\t\t            vec4 src = texture2D(inputChromeMap, textureCoordinate);            float red = src.r-0.299;            float blue = src.b-0.114;            float cr = red;            float cb = blue;            float n = 1.0/sqrt(cr*cr+cb*cb);            cr *=n;            cb *=n;            float vp = cr * r + cb * b;                        float fac;            if(vp>0.0)            {                float vs = (cr * b - cb * r) * w;                fac = vp / (vp * vp + vs * vs);            }            else            {                fac = 0.0;            }                        vec4 dst = vec4(red*fac+0.299,0.0,blue*fac+0.114,1.0);            gl_FragColor = dst;        }"},e.prototype.sendUniform=function(t,e){var r=e.fetch_float(0,1);r=Math.pow(20,1-r);var i=e.lookup_symbol(["hue","color",0],!0),n=0,o=0;if(0==i){var s=e.fetch_float();s=s/180*3.1415,n=Math.sin(s),o=Math.cos(s)}else{var a=.299*e.fetch_float(0,256);a=this.encode(a),a*=.299;var c=.587*e.fetch_float(0,256);c=this.encode(c),c*=.587;var l=.114*e.fetch_float(0,256);l=this.encode(l);var u=a+c+(l*=.114),h=1/(u+.00256);c*=h,n=(a*=h)-.299,o=(l*=h)-.114,h=1/Math.sqrt(n*n+o*o),n*=h,o*=h}var f={};f.w=r,f.r=n,f.b=o,t.m_shader.uniforms(f)},e.prototype.encode=function(t){var e=(t+.5)*(1/256),r=256*(e=e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))+.5;return r},e.formluaName="singleColor",e}(b),j=function(){function t(){}return t.prototype.fmix=function(t,e,r){return Math.min(Math.max(t*(1-r)+e*r,0),255)},t}(),z=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, src2, alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,e,r)},e}(j),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, min(src1,src2), alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,t<e?t:e,r)},e}(j),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, max(src1,src2), alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,t<e?e:t,r)},e}(j),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, src1 * src2, alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,t*e,r)},e}(j),L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, src1 + src2 - src1 * src2, alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,t+e-t*e,r)},e}(j),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, min(src1 + (src1 * src2) / (1.0 - src2), 1.0), alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,Math.min(1,t+t*e/(1-e)),r)},e}(j),B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, 1.0 - min((1.0 - src1) / (src2 + 0.00003), 1.0), alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,1-Math.min((1-t)/(e+3e-5),1),r)},e}(j),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, min(src1 + src2, 1.0), alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,Math.min(t+e,1),r)},e}(j),U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, max(src1 + src2 - 1.0, 0.0), alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,Math.max(t+e-1,0),r)},e}(j),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    if(src1.r < 0.5)                        src2.r = (src1.r * src2.r) * 2.0;                    else src2.r = (src1.r + src2.r) * 2.0 - (src1.r * src2.r) * 2.0 - 1.0;                    if(src1.g < 0.5)                        src2.g = (src1.g * src2.g) * 2.0;                    else src2.g = (src1.g + src2.g) * 2.0 - (src1.g * src2.g) * 2.0 - 1.0;                    if(src1.b < 0.5)                        src2.b = (src1.b * src2.b) * 2.0;                    else src2.b = (src1.b + src2.b) * 2.0 - (src1.b * src2.b) * 2.0 - 1.0;                    return mix(src1, src2, alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,t<.5?t*e*2:2*(t+e-t*e)-1,r)},e}(j),H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    if(src2.r < 0.5)                        src2.r = (src1.r * src2.r) * 2.0;                    else src2.r = (src1.r + src2.r) * 2.0 - (src1.r * src2.r) * 2.0 - 1.0;                    if(src2.g < 0.5)                        src2.g = (src1.g * src2.g) * 2.0;                    else src2.g = (src1.g + src2.g) * 2.0 - (src1.g * src2.g) * 2.0 - 1.0;                    if(src2.b < 0.5)                        src2.b = (src1.b * src2.b) * 2.0;                    else src2.b = (src1.b + src2.b) * 2.0 - (src1.b * src2.b) * 2.0 - 1.0;                    return mix(src1, src2, alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,e<.5?t*e*2:2*(t+e-t*e)-1,r)},e}(j),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    if(src2.r < 0.5)                        src2.r = (src2.r * 2.0 - 1.0) * (src1.r - (src1.r * src1.r)) + src1.r;                    else src2.r = ((src2.r * 2.0 - 1.0) * (sqrt(src1.r) - src1.r)) + src1.r;                    if(src2.g < 0.5)                        src2.g = (src2.g * 2.0 - 1.0) * (src1.g - (src1.g * src1.g)) + src1.g;                    else src2.g = ((src2.g * 2.0 - 1.0) * (sqrt(src1.g) - src1.g)) + src1.g;                    if(src2.b < 0.5)                        src2.b = (src2.b * 2.0 - 1.0) * (src1.b - (src1.b * src1.b)) + src1.b;                    else src2.b = ((src2.b * 2.0 - 1.0) * (sqrt(src1.b) - src1.b)) + src1.b;                    return mix(src1, src2, alpha);                }"},e.prototype.run_float=function(t,e,r){var i;return i=e<.5?(2*e-1)*(t-t*t)+t:(2*e-1)*(Math.sqrt(t)-t)+t,this.fmix(t,i,r)},e}(j),X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    src2.r = src2.r < 0.5 ? 1.0 - (1.0 - src1.r) / (src2.r * 2.0) : src1.r / (1.0 - src2.r) * 0.5;                    src2.g = src2.g < 0.5 ? 1.0 - (1.0 - src1.g) / (src2.g * 2.0) : src1.g / (1.0 - src2.g) * 0.5;                    src2.b = src2.b < 0.5 ? 1.0 - (1.0 - src1.b) / (src2.b * 2.0) : src1.b / (1.0 - src2.b) * 0.5;                    return mix(src1, clamp(src2, 0.0, 1.0) , alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,e<.5?1-(1-t)/(2*e):t/(1-e)*.5,r)},e}(j),W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, clamp(src1 + src2 * 2.0 - 1.0, 0.0, 1.0), alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,t+2*e-1,r)},e}(j),Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    src2 *= 2.0;                    if(src2.r > src1.r)                    {                        src2.r = src2.r - 1.0;                        if(src2.r < src1.r)                            src2.r = src1.r;                    }                    if(src2.g > src1.g)                    {                        src2.g = src2.g - 1.0;                        if(src2.g < src1.g)                            src2.g = src1.g;                    }                    if(src2.b > src1.b)                    {                        src2.b = src2.b - 1.0;                        if(src2.b < src1.b)                            src2.b = src1.b;                    }                    return mix(src1, src2, alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,this.pf(t,e),r)},e.prototype.pf=function(t,e){return t<(e*=2)&&(e-=1)<t&&(e=t),e},e}(j),G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, step(1.0 - src1, src2), alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,e<1-t?0:1,r)},e}(j),K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, abs(src1 - src2), alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,Math.abs(t-e),r)},e}(j),J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, src1 + src2 - src1 * src2 * 2.0, alpha);                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,t+e-2*t*e,r)},e}(j),Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shader_string=function(){return"vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return src1 + src2 * alpha;                }"},e.prototype.run_float=function(t,e,r){return this.fmix(t,t+e,r)},e}(j),Z=function(){function t(t){this.m_curve=t}return t.prototype.runself=function(t,e,r,i){for(var n=i*=.01,o=0;o<256;++o){var s=t[o],a=e[o],c=r[o];s=this.m_curve.run_float(s,s,n),a=this.m_curve.run_float(a,a,n),c=this.m_curve.run_float(c,c,n),t[o]=s,e[o]=a,r[o]=c}},t.prototype.run=function(t,e,r,i,n,o,s,a,c){i=(i+.5)*(1/256),n=(n+.5)*(1/256),o=(o+.5)*(1/256),s*=1/255,s*=a*=.01;for(var l=0;l<256;++l){var u=t[l],h=e[l],f=r[l];f=c?(u=this.m_curve.run_float(i,u,s),h=this.m_curve.run_float(n,h,s),this.m_curve.run_float(o,f,s)):(u=this.m_curve.run_float(u,i,s),h=this.m_curve.run_float(h,n,s),this.m_curve.run_float(f,o,s)),t[l]=u,e[l]=h,r[l]=f}},t.mixModeMap=new Map([["opacity",new t(new z)],["darken",new t(new I)],["lighten",new t(new R)],["multiply",new t(new F)],["screen",new t(new L)],["colorDodge",new t(new N)],["colorBurn",new t(new B)],["linearDodge",new t(new $)],["linearBurn",new t(new U)],["hardLight",new t(new H)],["softLight",new t(new V)],["vividLight",new t(new X)],["linearLight",new t(new W)],["pinLight",new t(new Y)],["hardMix",new t(new G)],["difference",new t(new K)],["exclude",new t(new J)],["add",new t(new Q)],["overlay",new t(new q)]]),t}(),tt=function(){function t(t){this.m_shader=new Array(5),this.m_shader_list=new Array,this.m_curve=t,this.m_shader_list=["varying vec2 textureCoordinate;            uniform sampler2D inputImageTexture;            uniform sampler2D blendTexture;            uniform float opacity;            uniform vec4 trans;            uniform float flag;                        %s                        void main()            {                vec4 src = texture2D(inputImageTexture, textureCoordinate);                                vec2 cod = textureCoordinate*trans.xy + trans.zw;                                                cod = clamp(cod - floor(cod)*flag, 0.0, 1.0);                vec4 dst = texture2D(blendTexture, cod);                gl_FragColor = vec4(blend(src.rgb, dst.rgb, dst.a * opacity), src.a);            }","varying vec2 textureCoordinate;            uniform sampler2D inputImageTexture;            uniform sampler2D blendTexture;            uniform sampler2D alphaTexture;            uniform vec4 trans;            uniform float flag;                        %s                        void main()            {                vec4 src = texture2D(inputImageTexture, textureCoordinate);                                vec2 cod = textureCoordinate*trans.xy + trans.zw;                                cod = clamp(cod - floor(cod)*flag, 0.0, 1.0);                                float a = texture2D(alphaTexture, cod).g;                vec4 dst = texture2D(blendTexture, textureCoordinate);                gl_FragColor = vec4(blend(src.rgb, dst.rgb, a), src.a);            }","varying vec2 textureCoordinate;            uniform sampler2D inputImageTexture;            uniform sampler2D blendTexture;            uniform float opacity;            uniform float reOpacity;                        %s                        void main()            {                vec4 src = texture2D(inputImageTexture, textureCoordinate);                vec4 dst = texture2D(blendTexture, textureCoordinate);                vec3 dst2 = src.rgb*(1.0-dst.a*opacity)+dst.rgb*opacity;                if(reOpacity>1.0)                    gl_FragColor =vec4(dst2,src.a);                else                    gl_FragColor = vec4(blend(src.rgb, dst.rgb, dst.a* opacity), src.a);            }","varying vec2 textureCoordinate;            uniform sampler2D inputImageTexture;            uniform sampler2D blendTexture;            uniform float opacity;                        %s                        void main()            {                vec4 src = texture2D(inputImageTexture, textureCoordinate);                vec4 dst = texture2D(blendTexture, textureCoordinate);                gl_FragColor = vec4(blend(src.rgb, dst.rgb, opacity), src.a);            }","varying vec2 textureCoordinate;            uniform sampler2D inputImageTexture;            uniform sampler2D blendTexture;            uniform sampler2D alphaTexture;            uniform vec4 trans;            uniform float flag;                        %s                        void main()            {                vec4 src = texture2D(inputImageTexture, textureCoordinate);                                vec4 dst = texture2D(blendTexture, textureCoordinate);                                float a = texture2D(alphaTexture, textureCoordinate).w;                                                gl_FragColor = vec4(blend(src.rgb, dst.rgb, a), src.a);            }","varying vec2 textureCoordinate;            uniform sampler2D inputImageTexture;            uniform sampler2D blendTexture;            uniform sampler2D alphaTexture;            uniform vec4 trans;            uniform float opacity;                        %s                        void main()            {                vec2 coord = textureCoordinate*trans.xy+trans.zw;                                vec4 src = texture2D(inputImageTexture, coord);                                vec4 dst = texture2D(blendTexture, coord);                                float a = texture2D(alphaTexture, coord).w*opacity;                                                gl_FragColor =vec4(mix(src.rgb,dst.rgb,1.0-a),src.a);            }"]}return t.prototype.check_shader=function(t,e){if(!this.m_shader[t]){var r=this.m_shader_list[t].replace(/%s/g,this.m_curve.shader_string());this.m_shader[t]=new v(null,r,e)}return this.m_shader[t]},t.prototype.destroy=function(){this.m_shader.forEach(function(t){t&&t.destroy()})},t}(),et=function(){function t(){}return t.CreateBlendMap=function(){return new Map([["opacity",new tt(new z)],["darken",new tt(new I)],["lighten",new tt(new R)],["multiply",new tt(new F)],["screen",new tt(new L)],["colorDodge",new tt(new N)],["colorBurn",new tt(new B)],["linearDodge",new tt(new $)],["linearBurn",new tt(new U)],["hardLight",new tt(new H)],["softLight",new tt(new V)],["vividLight",new tt(new X)],["linearLight",new tt(new W)],["pinLight",new tt(new Y)],["hardMix",new tt(new G)],["difference",new tt(new K)],["exclude",new tt(new J)],["add",new tt(new Q)],["overlay",new tt(new q)]])},t}(),rt=function(){function t(t){this.m_name=t}return t.prototype.luminance=function(t,e){},t.prototype.color=function(t,e,r,i){},t.prototype.shader_process=function(t,e,r,i,n){return!1},t.prototype.destroy=function(){},t}(),it=function(t){function e(e){var r=t.call(this,e.m_name)||this;return r.m_curve=e,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.luminance=function(t,e){this.m_curve.init(t),this.m_curve.run(e)},e.prototype.color=function(t,e,r,i){this.m_curve.init(t),this.m_curve.run(e),this.m_curve.run(r),this.m_curve.run(i)},e}(rt),nt=function(t){function e(){var r=t.call(this,e.pairName)||this;return r.m_temp=0,r.m_tint=0,r.m_color=new Array(3),r}return i(e,t),e.create=function(){return new e},e.prototype.luminance=function(t,e){t.error("invalid curve operation",["mixSelf"])},e.prototype.color=function(t,e,r,i){this.m_temp=0,this.m_tint=0,this.m_color=new Array(3),this.init(t),this.run(e,r,i)},e.prototype.init=function(t){var e;this.m_temp=5400*t.fetch_float()+6500,this.m_tint=t.fetch_float(),this.m_temp<1200?this.m_temp=1200:12e3<this.m_temp&&(this.m_temp=12e3),this.m_tint<.02?this.m_tint=.02:5<this.m_tint&&(this.m_tint=5),this.m_temp/=1e3;var r=-3*(e=this.m_temp<4?.27475/(this.m_temp*this.m_temp*this.m_temp)-.98598/(this.m_temp*this.m_temp)+1.17444/this.m_temp+.145986:this.m_temp<7?-4.607/(this.m_temp*this.m_temp*this.m_temp)+2.9678/(this.m_temp*this.m_temp)+.09911/this.m_temp+.244063:-2.0064/(this.m_temp*this.m_temp*this.m_temp)+1.9018/(this.m_temp*this.m_temp)+.24748/this.m_temp+.23704)*e+2.87*e-.275,i=e/r,n=(1-e-r)/r;this.m_color[0]=3.24074*i-1.53726-.498571*n,this.m_color[1]=.969258*-i+1.87599+.0415557*n,this.m_color[2]=.0556352*i-.203996+1.05707*n,this.m_color[1]/=this.m_tint;for(var o=Math.max(Math.max(this.m_color[0],this.m_color[1]),this.m_color[2]),s=0;s<3;++s)this.m_color[s]/=o,this.m_color[s]=1/this.m_color[s];for(var a=.299*this.m_color[0]+.587*this.m_color[1]+.114*this.m_color[2],c=0;c<3;++c)this.m_color[c]/=a},e.prototype.run=function(t,e,r){for(var i=0;i<256;++i)t[i]=t[i]*this.m_color[0],e[i]=e[i]*this.m_color[1],r[i]=r[i]*this.m_color[2]},e.pairName="whiteBalance",e}(rt),ot=function(t){function e(){var r=t.call(this,e.pairName)||this;return r.m_xs=new Array,r.m_ys=new Array,r}return i(e,t),e.create=function(){return new e},e.prototype.luminance=function(t,e){this.init(t),this.run(e)},e.prototype.color=function(t,e,r,i){for(var n=["red","green","blue","rgb"],o=-1;-1!=(o=t.lookup_symbol(n));)switch(this.m_xs=[],this.m_ys=[],this.init(t),o){case 0:this.run(e);break;case 1:this.run(r);break;case 2:this.run(i);break;case 3:this.run(e),this.run(r),this.run(i)}},e.prototype.run=function(t){var e=this.m_xs.length,r=new Array(e-1),i=new Array(e);i[0]=r[0]=0;for(var n=1;n!=e-1;++n){var o=(this.m_xs[n]-this.m_xs[n-1])/(this.m_xs[n+1]-this.m_xs[n-1]),s=o*i[n-1]+2;i[n]=(o-1)/s,r[n]=(this.m_ys[n+1]-this.m_ys[n])/(this.m_xs[n+1]-this.m_xs[n])-(this.m_ys[n]-this.m_ys[n-1])/(this.m_xs[n]-this.m_xs[n-1]),r[n]=(6*r[n]/(this.m_xs[n+1]-this.m_xs[n-1])-o*r[n-1])/s}i[e-1]=0;for(n=e-2;0<=n;--n)i[n]=i[n]*i[n+1]+r[n];var a=-1,c=0;for(n=0;n<256;++n){for(var l=t[n];c<e&&l>this.m_xs[c];)a=c,++c;if(c!=e)if(-1!=a){var u=this.m_xs[c]-this.m_xs[a],h=(this.m_xs[c]-l)/u,f=(l-this.m_xs[a])/u,m=h*this.m_ys[a]+f*this.m_ys[c]+((h*h*h-h)*i[a]+(f*f*f-f)*i[c])*(u*u)/6;t[n]=Math.max(0,Math.min(m,1))}else t[n]=Math.max(0,Math.min(this.m_ys[0],1));else t[n]=Math.max(0,Math.min(this.m_ys[e-1],1))}},e.prototype.sort_points=function(){for(var t=0;t<this.m_xs.length;++t)for(var e=t+1;e<this.m_xs.length;++e)if(this.m_xs[t]>this.m_xs[e]){var r=void 0;r=this.m_xs[t],this.m_xs[t]=this.m_xs[e],this.m_xs[e]=r,r=this.m_ys[t],this.m_ys[t]=this.m_ys[e],this.m_ys[e]=r}},e.prototype.init=function(t){for(this.m_xs=[],this.m_ys=[];t.test_symbol("point");){var e=t.fetch_float()*(1/255);this.m_xs.push(e);var r=t.fetch_float()*(1/255);this.m_ys.push(r)}this.sort_points(),this.m_xs.length<2&&t.error("more than 2 points needed")},e.pairName="graph",e}(rt),st=function(t){function e(){var r=t.call(this,e.pairName)||this;return r.m_mode="",r.m_opacity=0,r}return i(e,t),e.create=function(){return new e},e.prototype.luminance=function(t,e){t.error("invalid curve operation",["mixSelf"])},e.prototype.color=function(t,e,r,i){this.init(t);var n=Z.mixModeMap.get(this.m_mode);if(!n)throw new Error("can't find mix mode "+this.m_mode);n.runself(e,r,i,this.m_opacity)},e.prototype.init=function(t){this.m_mode=t.fetch_symbol(),this.m_opacity=t.fetch_float()},e.pairName="mixSelf",e}(rt),at=function(t){function e(){var r=t.call(this,e.pairName)||this;return r.m_mode="",r.m_red=r.m_green=r.m_bule=r.m_alpha=r.m_opacity=0,r.m_swap=!1,r}return i(e,t),e.create=function(){return new e},e.prototype.luminance=function(t,e){t.error("invalid curve operation",["mixSelf"])},e.prototype.color=function(t,e,r,i){this.init(t);var n=Z.mixModeMap.get(this.m_mode);if(!n)throw new Error("can't find mix mode "+this.m_mode);n.run(e,r,i,this.m_red,this.m_green,this.m_bule,this.m_alpha,this.m_opacity,this.m_swap)},e.prototype.init=function(t){this.m_mode=t.fetch_symbol(),this.m_red=t.fetch_float(),this.m_green=t.fetch_float(),this.m_bule=t.fetch_float(),this.m_alpha=t.fetch_float(),this.m_opacity=t.fetch_float(),t.test_symbol("swap")?this.m_swap=!0:this.m_swap=!1},e.pairName="mixColor",e}(rt),ct=function(t){function e(e){var r=t.call(this,e.m_name)||this;return r.m_chrome=e,r.m_shader=null,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_chrome.shader_step(),e));var o=new y(e,null,this.m_shader,256,256,n);if(o.shader_texture("inputChromeMap",r),this.m_chrome.sendUniform(o,t),o.draw_to(i),e.getError())throw"curveFormula";return!0},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(rt),lt=function(){function t(){var e,r,i,o;this.m_map=new Map;try{for(var s=n(t.formulaPairList.keys()),a=s.next();!a.done;a=s.next()){var c=a.value;this.m_map.set(c,null)}}catch(r){e={error:r}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}try{for(var l=n(t.formulaPairListNoArg.keys()),u=l.next();!u.done;u=l.next()){c=u.value;this.m_map.set(c,null)}}catch(r){i={error:r}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}return t.prototype.get_formula_Item_with_symbol=function(e){if(!this.m_map.has(e))throw new Error("get_formula_Item_with_symbol "+e);var r=this.m_map.get(e);if(r)return r;var i=t.formulaPairList.get(e);if(i){var n=t.formulaList.get(e);if(!n)throw new Error("can't find formula of arg "+e);return r=i(n()),this.m_map.set(e,r),r}var o=t.formulaPairListNoArg.get(e);if(o)return r=o(),this.m_map.set(e,r),r;throw new Error("can't find formula of symbol "+e)},t.prototype.destroy=function(){var t=this.m_map.get(A.formluaName);t&&t.destroy(),(t=this.m_map.get(M.formluaName))&&t.destroy(),(t=this.m_map.get(P.formluaName))&&t.destroy(),(t=this.m_map.get(D.formluaName))&&t.destroy()},t.formulaPairListNoArg=new Map([[nt.pairName,nt.create],[ot.pairName,ot.create],[st.pairName,st.create],[at.pairName,at.create]]),t.formulaPairList=new Map([[x.formluaName,it.create],[w.formluaName,it.create],[S.formluaName,it.create],[C.formluaName,it.create],[T.formluaName,it.create],[E.formluaName,it.create],[O.formluaName,it.create],[k.formluaName,it.create],[A.formluaName,ct.create],[M.formluaName,ct.create],[P.formluaName,ct.create],[D.formluaName,ct.create]]),t.formulaList=new Map([[x.formluaName,x.create],[w.formluaName,w.create],[S.formluaName,S.create],[C.formluaName,C.create],[T.formluaName,T.create],[E.formluaName,E.create],[O.formluaName,O.create],[k.formluaName,k.create],[A.formluaName,A.create],[M.formluaName,M.create],[P.formluaName,P.create],[D.formluaName,D.create]]),t}(),ut=function(){function t(t){this.m_context=t,this.m_chrome=null,this.m_curve=new Array(256),this.m_data=new Array(1024),this.m_tex_num=0,this.m_curve_tex=0,this.m_formula_list=null,this.m_shader=null,this.m_init_shader=null,this.m_chrome_shader=0,this.m_initChromeTemplate="\t            varying vec2 textureCoordinate;                                    void main()            {                gl_FragColor = vec4(textureCoordinate.x,0.0,textureCoordinate.y,1.0);            }",this.m_fshToneCurveTemplate="\t            varying vec2 textureCoordinate;            uniform sampler2D inputImageTexture;                        uniform sampler2D curve;            uniform sampler2D chrome;                        vec3 color_limite(vec3 src,float lum)            {                vec3 vl = vec3(lum);                                vec3 vc = src - vl;                                vec3 fac = min((vec3(1.0) - vl) / max(vc,vec3(0.00001)),vec3(1.0));                                vc = vc * vec3(min(fac.r,min(fac.g,fac.b)));                                return vl + vc;            }                        void main()            {                vec4 src = texture2D(inputImageTexture, textureCoordinate);                vec4 dst;                {                                        vec3 lsrc = max(src.rgb * vec3(1.0 / 12.82),pow((src.rgb + vec3(0.055)) * vec3(1.0 / 1.055),vec3(2.4)));                                        vec3 csrc = lsrc * vec3(0.299,0.587,0.114);                                        float lum = csrc.r + csrc.g + csrc.b;                                        csrc /= vec3(lum+0.00001);                                        {                        float lv  = min(lum * 12.82,pow(lum,(1.0 / 2.4)) * 1.055 - 0.055);                        float lvn = texture2D(curve, vec2(lv,0.5)).g;                        lum = max(lvn * (1.0 / 12.82),pow((lvn + 0.055) * (1.0 / 1.055),2.4));                    }                                        {                        csrc.rb = texture2D(chrome, vec2(csrc.r,csrc.b)).rb;                                                csrc.g = 1.0 - csrc.r - csrc.b;                    }                                        csrc *= vec3(lum +0.00001);                                        lsrc = csrc * vec3(1.0/0.299,1.0/0.587,1.0/0.114);                                        lsrc = color_limite(lsrc,lum);                    src.rgb = min(lsrc * 12.82,pow(lsrc,vec3(1.0 / 2.4)) * vec3(1.055) - vec3(0.055));                                        dst = src;                }                                gl_FragColor = dst;            }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.init(t,r.m_frameBuffer),this.m_shader||(this.m_shader=new v(null,this.m_fshToneCurveTemplate,this.m_context.context()));var i=new y(this.m_context.context(),r,this.m_shader);i.shader_texture("inputImageTexture",e.current()),this.shader_setup(i),i.draw_to(e.new_temporary());var n=this.m_context.context().getError();if(n)throw"toneCurve "+n;e.push_to_current()}catch(t){throw"toneCurve process: "+t}},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null),this.m_init_shader&&(this.m_init_shader.destroy(),this.m_init_shader=null),this.m_chrome&&(this.m_context.context().deleteTexture(this.m_chrome[0]),this.m_context.context().deleteTexture(this.m_chrome[1]),this.m_chrome[0]=null,this.m_chrome[1]=null),this.m_curve_tex&&this.m_context.context().deleteTexture(this.m_curve_tex),this.m_formula_list&&this.m_formula_list.destroy()},t.prototype.init=function(t,e){for(var r=0;r<256;++r)this.m_curve[r]=(r+.5)*(1/256);this.m_chrome||(this.m_chrome=new Array(2),this.m_chrome[0]=this.m_context.create_new_texture(256,256),this.m_chrome[1]=this.m_context.create_new_texture(256,256)),this.m_init_shader||(this.m_init_shader=new v(null,this.m_initChromeTemplate,this.m_context.context()));var i=new y(this.m_context.context(),null,this.m_init_shader,256,256,e);i.draw_to(this.m_chrome[0]),this.m_tex_num=0;do{var n=t.fetch_symbol();this.m_formula_list||(this.m_formula_list=new lt);var o=this.m_formula_list.get_formula_Item_with_symbol(n);if(o&&o.color!={}||t.error("invalid curve process name",[n]),null!=o.luminance&&o.luminance(t,this.m_curve),null!=o.shader_process){var s=o.shader_process(t,this.m_context.context(),this.m_chrome[this.m_tex_num],this.m_chrome[0==this.m_tex_num?1:0],e);this.m_tex_num=s?1:0}}while(t.pre_test_symbol("toneCurve"))},t.prototype.shader_setup=function(t){if(!this.m_curve_tex&&(this.m_curve_tex=function(t,e,r,i,n,o,s,a,c,l){l=l||t.CLAMP_TO_EDGE,s=s?4:s,null==a&&(a=0),c=c?t.LINEAR:c,l=l?t.CLAMP_TO_EDGE:l;var u,h=t,f=(h.LUMINANCE,h.LUMINANCE_ALPHA,h.RGB,h.RGBA,[1,2,1,4]);if(s<=0||4<s)return 0;var m=f[s-1];return h.activeTexture(h.TEXTURE1+a),u=h.createTexture(),e=null!=e?new Uint8Array(e):null,h.bindTexture(h.TEXTURE_2D,u),h.pixelStorei(h.UNPACK_ALIGNMENT,m),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,r,i,0,h.RGBA,h.UNSIGNED_BYTE,e),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,c),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,c),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,l),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,l),u}(this.m_context.context(),null,256,1,this.m_context.context().RGBA,this.m_context.context().UNSIGNED_BYTE,4,0,this.m_context.context().LINEAR),!this.m_curve_tex))throw"out of memmory in toneMapParcer";t.shader_texture("curve",this.m_curve_tex);for(var e=0;e<256;++e)this.m_data[4*e]=Math.min(256*this.m_curve[e],256),this.m_data[4*e+1]=Math.min(256*this.m_curve[e],256),this.m_data[4*e+2]=Math.min(256*this.m_curve[e],256),this.m_data[4*e+3]=255;this.m_context.context().texSubImage2D(this.m_context.context().TEXTURE_2D,0,0,0,256,1,this.m_context.context().RGBA,this.m_context.context().UNSIGNED_BYTE,new Uint8Array(this.m_data)),t.shader_texture("chrome",this.m_chrome[this.m_tex_num])},t.parcerName="toneCurve",t}(),ht=function(){function t(t){this.m_context=t,this.m_shader=null,this.m_formula_list=null,this.m_fshPTPTemplate="\t            varying vec2 textureCoordinate;            uniform sampler2D inputImageTexture;                        %p                        void main()            {                vec4 src = texture2D(inputImageTexture, textureCoordinate);                vec4 dst;                %s                                gl_FragColor = dst;            }"}return t.prototype.get_name=function(){throw new Error("Method not implemented.")},t.prototype.process=function(t,e,r){try{if(!this.m_shader){var i=this.m_fshPTPTemplate.replace(/%p/g,this.shader_uniform());i=i.replace(/%s/g,this.shader_procession()),this.m_shader=new v(null,i,this.m_context.context())}var n=new y(this.m_context.context(),r,this.m_shader);this.init(t,r.m_width,r.m_height),n.shader_texture("inputImageTexture",e.current()),this.shader_setup(n),n.draw_to(e.new_temporary());var o=this.m_context.context().getError();if(o)throw new Error("CGEPTPTemplate::gpu_process"+o);e.push_to_current()}catch(t){throw new Error("CGEPTPTemplate::gpu_process"+t)}},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null),this.m_curve_tex&&(this.m_context.context().deleteTexture(this.m_curve_tex),this.m_curve_tex=null),this.m_formula_list&&(this.m_formula_list.destroy(),this.m_formula_list=null)},t}(),ft=function(t){function e(e){var r=t.call(this,e)||this;return r.m_data=new Array(1024),r.m_red=new Array(256),r.m_green=new Array(256),r.m_blue=new Array(256),r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D curve;"},e.prototype.shader_procession=function(){return"dst.r = texture2D(curve, vec2(src.r,0.5)).x;            dst.g = texture2D(curve, vec2(src.g,0.5)).y;            dst.b = texture2D(curve, vec2(src.b,0.5)).z;            dst.a = src.a;"},e.prototype.shader_setup=function(t){this.m_curve_tex||(this.m_curve_tex=this.m_context.create_new_texture(256,1,!0)),t.shader_texture("curve",this.m_curve_tex),this.m_context.context().texSubImage2D(this.m_context.context().TEXTURE_2D,0,0,0,256,1,this.m_context.context().RGBA,this.m_context.context().UNSIGNED_BYTE,new Uint8Array(this.m_data))},e.prototype.init=function(t,e,r){this.init_curve(this.m_red),this.init_curve(this.m_green),this.init_curve(this.m_blue);do{var i=t.fetch_symbol();this.m_formula_list||(this.m_formula_list=new lt);var n=this.m_formula_list.get_formula_Item_with_symbol(i);n||t.error("invalid curve process name",[i]),n.color(t,this.m_red,this.m_green,this.m_blue)}while(t.pre_test_symbol("curve"));for(var o=0;o<256;++o)this.m_data[4*o]=Math.min(256*this.m_red[o],255),this.m_data[4*o+1]=Math.min(256*this.m_green[o],255),this.m_data[4*o+2]=Math.min(256*this.m_blue[o],255),this.m_data[4*o+3]=255},e.prototype.init_curve=function(t){for(var e=0;e<256;++e)t[e]=(e+.5)*(1/256)},e.parcerName="curve",e}(ht);(function(t){t[t.Symbol=0]="Symbol",t[t.Number=1]="Number",t[t.String=2]="String",t[t.Semicolon=3]="Semicolon",t[t.Unknow=4]="Unknow",t[t.EOF=5]="EOF"})(l=l||{}),function(t){t[t.BLANK=1]="BLANK",t[t.SYMBOL=2]="SYMBOL",t[t.NUMBER=3]="NUMBER",t[t.STRING=4]="STRING",t[t.SEMICOLON=5]="SEMICOLON",t[t.COMMENT=6]="COMMENT",t[t.QUOTE_COMMENT=7]="QUOTE_COMMENT",t[t.END=8]="END"}(u=u||{}),function(t){t[t.BLANK=32]="BLANK",t[t.CHARACTOR=64]="CHARACTOR",t[t.CAP_CHARACTOR=128]="CAP_CHARACTOR",t[t.NUMBER=256]="NUMBER",t[t.QUOTE=512]="QUOTE",t[t.NEGATIVE=1024]="NEGATIVE",t[t.DOT=2048]="DOT",t[t.SEMICOLON=4096]="SEMICOLON",t[t.COMMENT=8192]="COMMENT",t[t.QUOTE_COMMENT=16384]="QUOTE_COMMENT",t[t.QC_END=16384]="QC_END",t[t.END=32768]="END",t[t.END_LINE=65536]="END_LINE"}(h=h||{});var mt,dt=function(){function t(t){this.m_status=l.Unknow,this.m_script="",this.m_start="",this.m_end="",this.m_status_backup=l.Unknow,this.m_start_backup="",this.m_end_backup="",this.m_lut=this.get_lut(),this.set_script(t)}return t.prototype.next=function(){this.m_start=this.m_end;for(var t=this.m_lut[this.m_start.charCodeAt(0)];t&(h.BLANK|h.COMMENT|h.QUOTE_COMMENT);)if(this.m_start=this.m_start.substring(1),t&(h.COMMENT|h.QUOTE_COMMENT))if(t&h.COMMENT)for(;!(t&(h.END_LINE|h.END));)this.m_start=this.m_start.substring(1),t=this.m_start.charCodeAt(0);else{for(;!(t&(h.QC_END|h.END));)this.m_start=this.m_start.substring(1),t=this.m_start.charCodeAt(0);t&h.QC_END&&(this.m_start=this.m_start.substring(1),t=this.m_start.charCodeAt(0))}else t=this.m_lut[this.m_start.charCodeAt(0)];var e=this.m_start.charAt(0);if(this.m_end=this.m_start.substring(1),0==this.m_start.length)return this.m_status=l.EOF,!0;switch(31&t){case u.SYMBOL:for(var r=0;this.m_lut[this.m_end.charCodeAt(r)]&(h.CHARACTOR|h.CAP_CHARACTOR);)++r;this.m_end=this.m_end.substring(r),this.m_status=32<r+1?l.Unknow:l.Symbol;break;case u.NUMBER:r=0;var i=!1;for("-"==e&&++r;;){if(i){if(!(this.m_lut[this.m_end.charCodeAt(r)]&h.NUMBER))break}else if("."==this.m_end.charAt(r))i=!0;else if(!(this.m_lut[this.m_end.charCodeAt(r)]&h.NUMBER))break;++r}this.m_end=this.m_end.substring(r),this.m_status=l.Number;break;case u.STRING:r=0;for(var n=!1;this.m_end.charCodeAt(r);){if(e==this.m_end.charAt(r)){n=!0,++r;break}++r}this.m_end=this.m_end.substring(r),this.m_status=n?l.String:l.Unknow;break;case u.SEMICOLON:this.m_status=l.Semicolon;break;case u.END:this.m_end=this.m_start,this.m_status=l.EOF;break;default:for(r=0;!(31&this.m_lut[this.m_end.charCodeAt(r)])&&r<this.m_end.length;)++r;this.m_end=this.m_end.substring(r),this.m_status=l.Unknow}return!0},t.prototype.set_script=function(t){this.m_script=this.m_start=this.m_end=t,this.next()},t.prototype.renew=function(){this.m_end=this.m_start=this.m_script,this.next()},t.prototype.dump=function(t){t.script=this.m_script,t.current=this.m_start},t.prototype.get_current_status=function(){return this.m_status},t.prototype.ended=function(){return l.EOF==this.get_current_status()},t.prototype.get_symbol=function(t){return l.Symbol==this.get_current_status()&&(t.str=this.m_start.substring(0,this.m_start.length-this.m_end.length),!0)},t.prototype.cmp_symbol=function(t){var e={str:""};return!!this.get_symbol(e)&&t==e.str},t.prototype.get_string=function(t){l.String==this.m_status?(t.start=this.m_start.substring(1),t.end=this.m_start.substring(this.m_start.length-this.m_end.length-1)):(t.start=this.m_start,t.end=this.m_end)},t.prototype.get_float=function(){if(l.Number!=this.m_status)return 0;var t=this.m_start,e=1;"-"==t.charAt(0)&&(e=-1,t=t.substring(1));for(var r=0,i=!1,n=1;t!=this.m_end;)"."==t.charAt(0)?i=!0:i?r+=(n*=.1)*(t.charCodeAt(0)-48):r=10*r+(t.charCodeAt(0)-48),t=t.substring(1);return r*e},t.prototype.backup=function(){this.m_start_backup=this.m_start,this.m_end_backup=this.m_end,this.m_status_backup=this.m_status},t.prototype.restore=function(){this.m_start=this.m_start_backup,this.m_end=this.m_end_backup,this.m_status=this.m_status_backup},t.prototype.get_lut=function(){var t=new Array(128).fill(0);t[0]=h.BLANK|u.END,t[" ".charCodeAt(0)]=h.BLANK|u.BLANK,t["\n".charCodeAt(0)]=h.BLANK|u.BLANK|h.END_LINE,t["\r".charCodeAt(0)]=h.BLANK|u.BLANK,t["   ".charCodeAt(0)]=h.BLANK|u.BLANK;for(var e="a".charCodeAt(0);e<="z".charCodeAt(0);++e)t[e]=h.CHARACTOR|u.SYMBOL;for(e="A".charCodeAt(0);e<="Z".charCodeAt(0);++e)t[e]=h.CAP_CHARACTOR|u.SYMBOL;for(e="0".charCodeAt(0);e<="9".charCodeAt(0);++e)t[e]=h.NUMBER|u.NUMBER;return t['"'.charCodeAt(0)]=h.QUOTE|u.STRING,t["'".charCodeAt(0)]=h.QUOTE|u.STRING,t["-".charCodeAt(0)]=h.NEGATIVE|u.NUMBER,t[".".charCodeAt(0)]=h.DOT|u.NUMBER,t[";".charCodeAt(0)]=h.SEMICOLON|u.SEMICOLON,t["%".charCodeAt(0)]=h.COMMENT|u.COMMENT,t["[".charCodeAt(0)]=h.QUOTE_COMMENT|u.QUOTE_COMMENT,t["]".charCodeAt(0)]=h.QC_END,t},t}();!function(t){t[t.SRGB=0]="SRGB",t[t.LUV_MIX_LOG=1]="LUV_MIX_LOG"}(mt=mt||{});var pt=function(){this.m_buf="",this.m_process_log="",this.m_tmp=""},_t=function(){function t(t,e){this.m_mode=mt.SRGB,this.m_serial_num=e,this.m_parcer=t,this.m_data=new pt,this.m_key=0,this.m_parcer.renew()}return t.prototype.assume_semicolon=function(t){void 0===t&&(t=!0),l.Semicolon!=this.m_parcer.get_current_status()&&this.error("expect ';'"),t&&this.log(";"),this.log_return(),this.m_parcer.next()},t.prototype.pre_test_symbol=function(t){if(l.Semicolon!=this.m_parcer.get_current_status())return!1;if(this.m_parcer.backup(),this.m_parcer.next(),l.Symbol!=this.m_parcer.get_current_status())return this.m_parcer.restore(),!1;var e={str:""};return this.m_parcer.get_symbol(e),this.m_data.m_buf=e.str,t!=this.m_data.m_buf?(this.m_parcer.restore(),!1):(this.m_parcer.restore(),this.m_parcer.next(),this.m_parcer.next(),!0)},t.prototype.test_symbol=function(t,e){return void 0===e&&(e=!0),!!this.m_parcer.cmp_symbol(t)&&(this.m_parcer.next(),e&&this.log(t),!0)},t.prototype.fetch_symbol=function(t){void 0===t&&(t=!0),l.Symbol!=this.m_parcer.get_current_status()&&this.error("expect symbol");var e={str:""};return this.m_parcer.get_symbol(e),this.m_data.m_buf=e.str,this.m_parcer.next(),t&&this.log(this.m_data.m_buf),this.m_data.m_buf},t.prototype.fetch_float=function(t,e,r){void 0===r&&(r=!0),l.Number!=this.m_parcer.get_current_status()&&this.error("expect number");var i=this.m_parcer.get_float();return t&&e&&(i<t||e<i)&&this.error("number out of range, should between "+t+" and "+e),this.m_parcer.next(),r&&this.log(i.toString()),i},t.prototype.assume_symbol=function(t,e){void 0===e&&(e=!1),this.m_parcer.cmp_symbol(t)||this.error("expect",[t]),this.m_parcer.next(),e&&this.log(t)},t.prototype.check_symbol=function(t,e){return!this.lookup_symbol([t,""],!1,e)},t.prototype.lookup_symbol=function(t,e,r){if(void 0===e&&(e=!1),void 0===r&&(r=!0),l.Symbol!=this.m_parcer.get_current_status()){if(e){for(var i=0;t[i];)++i;this.error("expect symbols",t,i)}return-1}var n={str:""};this.m_parcer.get_symbol(n),this.m_data.m_buf=n.str;for(var o=0;o<t.length;++o)if(t[o]==this.m_data.m_buf)return r&&this.log(this.m_data.m_buf),this.m_parcer.next(),o;return e&&this.error("expect symbols",t,o),-1},t.prototype.fetch_string=function(t){void 0===t&&(t=!0),l.String!=this.m_parcer.get_current_status()&&this.error("expect string");var e={start:"",end:""};this.m_parcer.get_string(e),this.m_parcer.next();var r=e.start.substring(0,e.start.length-e.end.length);return t&&(this.m_data.m_process_log='"'+r+'"'),r},t.prototype.get_parcer_status=function(){return this.m_parcer.get_current_status()},t.prototype.ended=function(){return this.m_parcer.ended()},t.prototype.get_log=function(){return this.m_data.m_tmp=this.m_data.m_process_log,this.m_data.m_tmp},t.prototype.log=function(t){"number"==typeof t&&(t=t.toString()),this.m_data.m_process_log+=t+" "},t.prototype.log_return=function(){this.log("\n")},t.prototype.error=function(t,e,r){if(void 0===r&&(r=0),r%1!=0){var i=t+r.toString();return this.error(i),0}var n={script:"",current:""};this.m_parcer.dump(n);for(var o=n.script,s=1,a=n.script,c=0;0<=(c=a.indexOf("\n"));)++s,o=a.substring(c+1),a=a.substring(c+1);s.toString();var l=n.current.length-o.length;if(l.toString(),t.toString(),e&&0!=r)for(var u=0;u<r;++u)e[u]},t.prototype.set_configure=function(){},t.prototype.set_configure_float=function(){},t.prototype.get_configure=function(){},t.prototype.get_configure_float=function(){},t}(),gt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_key=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform float key;                uniform float key_base;"},e.prototype.shader_procession=function(){return"vec3 lsrc = max(src.rgb * vec3(1.0 / 12.82),pow((src.rgb + vec3(0.055)) * vec3(1.0 / 1.055),vec3(2.4)));                vec3 csrc = lsrc * vec3(0.299,0.587,0.114);                float lum = csrc.r + csrc.g + csrc.b;                csrc /= vec3(lum+0.00001);                lum = log(1.0 + key * lum) * key_base;                lum = lum * 255.0 + 0.5;                float flum = floor(lum);                dst.x = csrc.r;                dst.y = csrc.b;                dst.z = lum - flum;                dst.w = flum * (1.0/255.0);"},e.prototype.init=function(t,e,r){t.assume_symbol("key"),this.m_key=t.fetch_float(-100,100),t.m_key=this.m_key,t.m_mode=mt.LUV_MIX_LOG},e.prototype.shader_setup=function(t){var e={key:0,key_base:0};this.cal_fac(e);var r={};r.key=e.key,r.key_base=e.key_base,t.m_shader.uniforms(r)},e.prototype.cal_fac=function(t){t.key=Math.pow(2,5-this.m_key/20),t.key_base=1/Math.log(t.key+1)},e.parcerName="toneMapStart",e}(ht),vt=function(){function t(){}return t.create=function(t){return new fi(t,fi.basic_adjust_list)},t.parcerName="basicAdjust",t}(),yt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_redshift=0,r.m_greenshift=0,r.m_blueshift=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform float redShift;                uniform float greenShift;                uniform float blueShift;                float RGBToL(vec3 color)                {                    float fmin = min(min(color.r, color.g), color.b);                    float fmax = max(max(color.r, color.g), color.b);                    return (fmax + fmin) / 2.0;                 }                vec3 RGBToHSL(vec3 color)                {                    vec3 hsl;                     float fmin = min(min(color.r, color.g), color.b);                    float fmax = max(max(color.r, color.g), color.b);                    float delta = fmax - fmin;                    hsl.z = (fmax + fmin) / 2.0;                    if (delta == 0.0)                    {                        hsl.x = 0.0;                        hsl.y = 0.0;                    }                    else                    {                        if (hsl.z < 0.5)                            hsl.y = delta / (fmax + fmin);                         else                            hsl.y = delta / (2.0 - fmax - fmin);                         float deltaR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;                        float deltaG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;                        float deltaB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;                        if (color.r == fmax )                            hsl.x = deltaB - deltaG;                        else if (color.g == fmax)                            hsl.x = (1.0 / 3.0) + deltaR - deltaB;                        else if (color.b == fmax)                            hsl.x = (2.0 / 3.0) + deltaG - deltaR;                        if (hsl.x < 0.0)                            hsl.x += 1.0;                        else if (hsl.x > 1.0)                            hsl.x -= 1.0;                     }                    return hsl;                }                float HueToRGB(float f1, float f2, float hue)                {                    if (hue < 0.0)                        hue += 1.0;                    else if (hue > 1.0)                        hue -= 1.0;                    float res;                    if ((6.0 * hue) < 1.0)                        res = f1 + (f2 - f1) * 6.0 * hue;                    else if ((2.0 * hue) < 1.0)                        res = f2;                    else if ((3.0 * hue) < 2.0)                        res = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;                    else                        res = f1;                    return res;                }                vec3 HSLToRGB(vec3 hsl)                {                    vec3 rgb;                    if (hsl.y == 0.0)                        rgb = vec3(hsl.z);                    else                    {                        float f2;                        if (hsl.z < 0.5)                            f2 = hsl.z * (1.0 + hsl.y);                        else                            f2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);                        float f1 = 2.0 * hsl.z - f2;                        rgb.r = HueToRGB(f1, f2, hsl.x + (1.0/3.0));                        rgb.g = HueToRGB(f1, f2, hsl.x);                        rgb.b= HueToRGB(f1, f2, hsl.x - (1.0/3.0));                    }                    return rgb;                }"},e.prototype.shader_procession=function(){return"float lightness = RGBToL(src.rgb);                vec3 shift = vec3(redShift, greenShift, blueShift);                const float a = 0.25;                const float b = 0.333;                const float scale = 0.7;                vec3 midtones = (clamp((lightness - b) /  a + 0.5, 0.0, 1.0) * clamp ((lightness + b - 1.0) / -a + 0.5, 0.0, 1.0) * scale) * shift;                vec3 newColor = src.rgb + midtones;                newColor = clamp(newColor, 0.0, 1.0);                vec3 newHSL = RGBToHSL(newColor);                float oldLum = RGBToL(src.rgb);                src.rgb = HSLToRGB(vec3(newHSL.x, newHSL.y, oldLum));                dst = src;"},e.prototype.init=function(t,e,r){this.m_redshift=t.fetch_float(),this.m_greenshift=t.fetch_float(),this.m_blueshift=t.fetch_float()},e.prototype.shader_setup=function(t){var e={};e.redShift=this.m_redshift,e.greenShift=this.m_greenshift,e.blueShift=this.m_blueshift,t.m_shader.uniforms(e)},e.parcerName="colorBalance",e}(ht),bt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_hue=0,r.m_saturation=0,r.m_luminace=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform float saturation;                uniform float hue;                uniform float luminance;                vec3 RGB2HSL(vec3 src)                {                    float maxc = max(max(src.r, src.g), src.b);                    float minc = min(min(src.r, src.g), src.b);                    float L = (maxc + minc) / 2.0;                    if(maxc == minc)                        return vec3(0.0, 0.0, L);                    float H, S;                    float temp0 = maxc + minc, temp1 = maxc - minc;                    S = mix(temp1 / (2.0 - temp0), temp1 / temp0, step(L, 0.5));                    vec3 comp;                    comp.xy = vec2(equal(src.xy, vec2(maxc)));                    float comp_neg = 1.0 - comp.x;                    comp.y *= comp_neg;                    comp.z = (1.0 - comp.y) * comp_neg;                    float dif = maxc - minc;                    vec3 result = comp * vec3((src.g - src.b) / dif,                        2.0 + (src.b - src.r) / dif,                        4.0 + (src.r - src.g) / dif);                    H = result.x + result.y + result.z;                    H *= 60.0;                    H += step(H, 0.0) * 360.0;                    return vec3(H / 360.0, S, L);                }                vec3 HSL2RGB(vec3 src)                {                    float q = (src.z < 0.5) ? src.z * (1.0 + src.y) : (src.z + src.y - (src.y * src.z));                    float p = 2.0 * src.z - q;                    vec3 dst = vec3(src.x + 0.333, src.x, src.x - 0.333);                    dst = fract(dst);                    vec3 weight = step(dst, vec3(1.0 / 6.0));                    vec3 weight_neg = 1.0 - weight;                    vec3 weight2 = weight_neg * step(dst, vec3(0.5));                    vec3 weight2_neg = weight_neg * (1.0 - weight2);                    vec3 weight3 = weight2_neg * step(dst, vec3(2.0 / 3.0));                    vec3 weight4 = (1.0 - weight3) * weight2_neg;                    float q_p = q - p;                    dst = mix(dst, p + q_p * 6.0 * dst, weight);                    dst = mix(dst, vec3(q), weight2);                    dst = mix(dst, p + q_p * ((2.0 / 3.0) - dst) * 6.0, weight3);                    dst = mix(dst, vec3(p), weight4);                    return dst;                }                vec3 adjustColor(vec3 src, float h, float s, float l)                {                    src = RGB2HSL(src);                    src.x += h;                    src.y *= 1.0 + s;                    src.z *= 1.0 + l;                    return HSL2RGB(src);                }"},e.prototype.shader_procession=function(){return"src.rgb = adjustColor(src.rgb, hue, saturation, luminance);                dst = src;"},e.prototype.init=function(t,e,r){this.m_hue=t.fetch_float(),this.m_saturation=t.fetch_float(),this.m_luminace=t.fetch_float()},e.prototype.shader_setup=function(t){var e={};e.saturation=this.m_saturation,e.hue=this.m_hue,e.luminance=this.m_luminace,t.m_shader.uniforms(e)},e.parcerName="hsl",e}(ht),xt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_red=0,r.m_green=0,r.m_blue=0,r.m_magenta=0,r.m_yellow=0,r.m_cyan=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec3 vColor1;                uniform vec3 vColor2;                uniform vec2 special;                vec3 hsvAdjust(vec3 src, vec3 color1, vec3 color2)                {                    float fmax = max(src.r,max(src.g,src.b));                    float fmin = min(src.r,min(src.g,src.b));                    float fdelta = fmax - fmin;                    float fs_off;                    vec3 hsv;                    hsv.z = fmax;                    if(0.0 == fdelta)                    {                        return src;                    }                    hsv.y = fdelta/fmax;                    if(fmax == src.r)                    {                        if(src.g >= src.b)                        {                            hsv.x = (src.g - src.b)/fdelta;                            fs_off = (color2.g - color1.r)*hsv.x + color1.r;                            hsv.y = hsv.y*(1.0 + fs_off);                            clamp(hsv.y, 0.0, 1.0);                            src.r = hsv.z;                            src.b = hsv.z*(1.0 - hsv.y);                            src.g = hsv.z*(1.0 - hsv.y + hsv.y*hsv.x);                        }                        else                        {                            hsv.x = (src.r - src.b)/fdelta;                            fs_off = (color1.r - color2.r)*hsv.x + color2.r;                            hsv.y = hsv.y*(1.0 + fs_off);                            clamp(hsv.y, 0.0, 1.0);                            src.r = hsv.z;                            src.g = hsv.z*(1.0 - hsv.y);                            src.b = hsv.z*(1.0 - hsv.y*hsv.x);                        }                    }                    else if(fmax == src.g)                    {                        if(src.r > src.b)                        {                            hsv.x = (src.g - src.r)/fdelta;                            fs_off = (color1.g - color2.g)*hsv.x + color2.g;                            hsv.y = hsv.y*(1.0 + fs_off);                            clamp(hsv.y, 0.0, 1.0);                            src.g = hsv.z;                            src.r = hsv.z*(1.0 - hsv.y*hsv.x);                            src.b = hsv.z*(1.0 - hsv.y);                        }                        else                        {                            hsv.x = (src.b - src.r)/fdelta;                            fs_off = (color2.b - color1.g)*hsv.x + color1.g;                            hsv.y = hsv.y*(1.0 + fs_off);                            clamp(hsv.y, 0.0, 1.0);                            src.g = hsv.z;                            src.r = hsv.z*(1.0 - hsv.y);                            src.b = hsv.z*(1.0 - hsv.y + hsv.y*hsv.x);                        }                    }                    else                    {                        if(src.g > src.r)                        {                            hsv.x = (src.b - src.g)/fdelta;                            fs_off = (color1.b - color2.b)*hsv.x + color2.b;                            hsv.y = hsv.y*(1.0 + fs_off);                            clamp(hsv.y, 0.0, 1.0);                            src.b = hsv.z;                            src.r = hsv.z*(1.0 - hsv.y);                            src.g = hsv.z*(1.0 - hsv.y*hsv.x);                        }                        else                        {                            hsv.x = (src.r - src.g)/fdelta;                            fs_off = (color2.r - color1.b)*hsv.x + color1.b;                            hsv.y = hsv.y*(1.0 + fs_off);                            clamp(hsv.y, 0.0, 1.0);                            src.b = hsv.z;                            src.r = hsv.z*(1.0 - hsv.y + hsv.y*hsv.x);                            src.g = hsv.z*(1.0 - hsv.y);                        }                    }                    return src;                }"},e.prototype.shader_procession=function(){return"src.rgb = hsvAdjust(src.rgb, vColor1, vColor2);                dst = src;"},e.prototype.init=function(t,e,r){this.m_red=t.fetch_float(),this.m_green=t.fetch_float(),this.m_blue=t.fetch_float(),this.m_magenta=t.fetch_float(),this.m_yellow=t.fetch_float(),this.m_cyan=t.fetch_float()},e.prototype.shader_setup=function(t){var e={};e.vColor1=[this.m_red,this.m_green,this.m_blue],e.vColor2=[this.m_magenta,this.m_yellow,this.m_cyan],t.m_shader.uniforms(e)},e.parcerName="hsv",e}(ht),wt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_intensity=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform float intensity;"},e.prototype.shader_procession=function(){return"                dst = vec4(1.0,1.0,1.0,1.0);                dst.a = intensity;                "},e.prototype.init=function(t,e,r){this.m_intensity=1,t.test_symbol("intensity")&&(this.m_intensity=t.fetch_float())},e.prototype.shader_setup=function(t){var e={};e.intensity=this.m_intensity,t.m_shader.uniforms(e)},e.parcerName="alphaInit",e}(ht),St=function(t){function e(e){var r=t.call(this,e)||this;return r.m_pos=new Array(2),r.m_size=new Array(2),r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec4 trans;"},e.prototype.shader_procession=function(){return"                dst = texture2D(inputImageTexture, textureCoordinate*trans.xy+trans.zw);                "},e.prototype.init=function(t,e,r){if(!e||!r)throw new Error("areaSelective init lack arg");var i=t.lookup_symbol(["pixel","relative",0],!0);t.assume_symbol("position"),i?(this.m_pos[0]=t.fetch_float()*e,this.m_pos[1]=t.fetch_float()*r):(this.m_pos[0]=t.fetch_float(),this.m_pos[1]=t.fetch_float()),t.assume_symbol("size"),i?(this.m_size[0]=t.fetch_float()*e,this.m_size[1]=t.fetch_float()*r):(this.m_size[0]=t.fetch_float(),this.m_size[1]=t.fetch_float())},e.prototype.shader_setup=function(t){var e=[this.m_size[0]/t.m_width,this.m_size[1]/t.m_height,this.m_pos[0]/t.m_width,this.m_pos[1]/t.m_height],r={};r.trans=e,t.m_shader.uniforms(r)},e.parcerName="areaSelective",e}(ht),Ct=function(){function t(t){this.m_shader_h=null,this.m_shader_v=null,this.m_shader_b=null,this.m_extrusion_shader=null,this.m_width=0,this.m_height=0,this.m_pos=[],this.m_context=t,this.m_blemishFixShader_h="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D blemishTexture;        uniform vec2 pos;        uniform float radius;        uniform vec2 size;        uniform vec4 trans;        vec4 fuckingBlur(vec3 sCol,vec2 uv){            float sigma_i = 0.5/5.0/5.0;            float res_w = 1.0;            for(float i = -7.0; i <= 7.0; i++){                vec2 coord_sample;                if ((abs(uv.y*size.y + i - pos.y))>(radius))                    continue;                coord_sample = uv + vec2(0.0, (float(i))) / size;                vec3 tmp_g = texture2D(blemishTexture, coord_sample).rgb;                float tmp_w = exp(-(i*i)*sigma_i);                sCol += tmp_w*tmp_g;                res_w += tmp_w;            }            vec4 res = vec4(sCol / res_w,res_w/7.0);            return res;        }        void main()        {            vec4 col;            vec2 coord = textureCoordinate*trans.xy+trans.zw;            float dis = distance(coord*size, pos);            if (dis< radius)            {                col = fuckingBlur(texture2D(blemishTexture, coord).rgb, coord);            }            else                col = texture2D(blemishTexture, coord);            gl_FragColor = col;        }",this.m_blemishFixShader_v="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D blemishTexture;        uniform vec2 pos;        uniform float radius;        uniform vec2 size;        uniform vec4 trans;        vec3 lightenMix(vec3 src, vec3 dst, float alpha){            return mix(src, max(src, dst), alpha);        }        vec3 fuckingBlur(vec3 sCol, vec2 uv){            float sigma_i = 0.5 / 5.0 / 5.0;            float res_w = 1.0;            for (float i = -7.0; i <= 7.0; i++){                vec2 coord_sample;                if ((abs(uv.x*size.x + i - pos.x)) > (radius))                    continue;                coord_sample = uv + vec2((float(i)),0.0) / size;                vec3 tmp_g = texture2D(blemishTexture, coord_sample).rgb;                float tmp_h = texture2D(blemishTexture, coord_sample).a;                float tmp_w = exp(-(i*i)*sigma_i)*tmp_h;                sCol += tmp_w*tmp_g;                res_w += tmp_w;            }            vec3 res = sCol / res_w;            return res;        }        void main()        {            vec3 col;            vec2 coord = textureCoordinate*trans.xy+trans.zw;            float dis = distance(coord*size, pos);            if (dis < radius)            {                col = texture2D(blemishTexture, coord).rgb;                col = fuckingBlur(col, coord);                col = lightenMix(texture2D(inputImageTexture, coord).rgb, col, (1.0 -dis/radius)*0.65);            }            else                col = texture2D(inputImageTexture, coord).rgb;            gl_FragColor = vec4(col, 1.0);        }",this.m_str_extrusionShader="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D blemishTexture;        uniform float center_x;        uniform float radius_x;        uniform vec4 trans;        void main()        {            vec4 dst;            vec2 coord = textureCoordinate*trans.xy+trans.zw;            if (coord.x <center_x)            {                dst = texture2D(inputImageTexture, coord - vec2(radius_x, 0.0));            }            else            {                dst = texture2D(inputImageTexture, coord + vec2(radius_x, 0.0));            }            gl_FragColor = dst;        }",this.m_blendShader="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D blemishTexture;        void main()        {            vec4 blemish = texture2D(blemishTexture, textureCoordinate);            vec4 src = texture2D(inputImageTexture, textureCoordinate);            gl_FragColor = vec4(mix(src.xyz,blemish.xyz,blemish.w),src.w);        }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.size_change(r.m_width,r.m_height),this.init(t),this.m_extrusion_shader||(this.m_extrusion_shader=new v(null,this.m_str_extrusionShader,this.m_context.context())),this.m_shader_h||(this.m_shader_h=new v(null,this.m_blemishFixShader_h,this.m_context.context())),this.m_shader_v||(this.m_shader_v=new v(null,this.m_blemishFixShader_v,this.m_context.context())),this.m_shader_b||(this.m_shader_b=new v(null,this.m_blendShader,this.m_context.context()));for(var i=0;i<this.m_pos.length;++i){var n=[Math.floor(this.m_pos[i].pos[0]-this.m_pos[i].radius),Math.floor(this.m_pos[i].pos[1]-this.m_pos[i].radius)],o=[Math.ceil(this.m_pos[i].pos[0]+this.m_pos[i].radius),Math.ceil(this.m_pos[i].pos[1]+this.m_pos[i].radius)];n[0]=Math.min(Math.max(0,n[0]),r.m_width),n[1]=Math.min(Math.max(0,n[1]),r.m_height),o[0]=Math.min(Math.max(0,o[0]),r.m_width),o[1]=Math.min(Math.max(0,o[1]),r.m_height);var s=[Math.floor(n[0]/4),Math.floor(n[1]/4)],a=[Math.ceil(o[0]/4),Math.ceil(o[1]/4)],c=new y(this.m_context.context(),null,this.m_extrusion_shader,r.m_width/4,r.m_height/4,r.m_frameBuffer);c.shader_texture("inputImageTexture",e.current());var l={};l.center_x=this.m_pos[i].pos[0]/r.m_width,l.radius_x=this.m_pos[i].radius/r.m_width,l.trans=[(a[0]-s[0])/(r.m_width/4),(a[1]-s[1])/(r.m_height/4),s[0]/(r.m_width/4),s[1]/(r.m_height/4)],c.m_shader.uniforms(l),this.drawRect(s,a,this.m_blemishTex[0],r.m_frameBuffer);var u=new y(this.m_context.context(),null,this.m_shader_h,r.m_width/4,r.m_height/4,r.m_frameBuffer);u.shader_texture("inputImageTexture",e.current()),u.shader_texture("blemishTexture",this.m_blemishTex[0]),(l={}).size=[r.m_width,r.m_height],l.pos=this.m_pos[i].pos,l.radius=this.m_pos[i].radius,l.trans=[(a[0]-s[0])/(r.m_width/4),(a[1]-s[1])/(r.m_height/4),s[0]/(r.m_width/4),s[1]/(r.m_height/4)],u.m_shader.uniforms(l),this.drawRect(s,a,this.m_blemishTex[1],r.m_frameBuffer);var h=new y(this.m_context.context(),r,this.m_shader_v);h.shader_texture("inputImageTexture",e.current()),h.shader_texture("blemishTexture",this.m_blemishTex[1]),(l={}).size=[h.m_width,h.m_height],l.pos=this.m_pos[i].pos,l.radius=this.m_pos[i].radius,l.trans=[(o[0]-n[0])/r.m_width,(o[1]-n[1])/r.m_height,n[0]/r.m_width,n[1]/r.m_height],h.m_shader.uniforms(l),this.drawRect(n,o,this.m_rectTex,r.m_frameBuffer),this.m_context.context().bindFramebuffer(this.m_context.context().FRAMEBUFFER,r.m_frameBuffer),this.m_context.context().framebufferTexture2D(this.m_context.context().FRAMEBUFFER,this.m_context.context().COLOR_ATTACHMENT0,this.m_context.context().TEXTURE_2D,this.m_rectTex,0),this.m_context.context().activeTexture(this.m_context.context().TEXTURE0),this.m_context.context().bindTexture(this.m_context.context().TEXTURE_2D,e.current()),this.m_context.context().copyTexSubImage2D(this.m_context.context().TEXTURE_2D,0,n[0],n[1],n[0],n[1],o[0]-n[0],o[1]-n[1]);var f=this.m_context.context().getError();if(f)throw new Error("blemishFix: "+f)}}catch(t){throw new Error("blemishFix: "+t)}},t.prototype.destroy=function(){if(this.m_shader_h&&(this.m_shader_h.destroy(),this.m_shader_h=null),this.m_shader_v&&(this.m_shader_v.destroy(),this.m_shader_v=null),this.m_shader_b&&(this.m_shader_b.destroy(),this.m_shader_b=null),this.m_extrusion_shader&&(this.m_extrusion_shader.destroy(),this.m_extrusion_shader=null),this.size_change(0,0),this.m_blemishTex){for(var t=0;t<this.m_blemishTex.length;++t)this.m_context.context().deleteTexture(this.m_blemishTex[t]);this.m_blemishTex=0}this.m_rectTex&&(this.m_context.context().deleteTexture(this.m_rectTex),this.m_blemishTex=0)},t.prototype.init=function(t){for(this.m_pos=[];t.test_symbol("point");){var e=[0,0];e[0]=t.fetch_float(),e[1]=t.fetch_float(),t.assume_symbol("radius");var r=t.fetch_float();this.m_pos.push({pos:e,radius:r})}},t.prototype.drawRect=function(t,e,r,i){var n=this.m_context.context();n.bindFramebuffer(n.FRAMEBUFFER,i),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,r,0),n.viewport(t[0],t[1],e[0]-t[0],e[1]-t[1]),n.drawArrays(n.TRIANGLE_FAN,0,4)},t.prototype.size_change=function(t,e){if(!this.m_blemishTex||0!=t&&0!=e){if(t!=this.m_width||e!=this.m_height){if(this.m_blemishTex)for(var r=0;r<this.m_blemishTex.length;++r)this.m_context.context().deleteTexture(this.m_blemishTex[r]);this.m_rectTex&&this.m_context.context().deleteTexture(this.m_rectTex),this.m_blemishTex=new Array(2),this.m_blemishTex[0]=this.m_context.create_new_texture(t/4,e/4,!0),this.m_blemishTex[1]=this.m_context.create_new_texture(t/4,e/4,!0),this.m_rectTex=this.m_context.create_new_texture(t,e,!0),this.m_width=t,this.m_height=t}}else{for(r=0;r<this.m_blemishTex.length;++r)this.m_context.context().deleteTexture(this.m_blemishTex[r]);this.m_context.context().deleteTexture(this.m_rectTex),this.m_blemishTex=null,this.m_rectTex=null}},t.parcerName="blemishFix",t}(),Tt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_dstPos=new Array(2),r.m_srcPos=new Array(2),r.m_opacity=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec2 offset;"},e.prototype.shader_procession=function(){return"vec2 cod = textureCoordinate - offset;                src = texture2D(inputImageTexture, textureCoordinate);                if (cod.x<1.0&&cod.x>0.0&&cod.y > 0.0&&cod.y < 1.0)                    dst = texture2D(inputImageTexture, cod);                else                    dst = src;"},e.prototype.init=function(t,e,r){this.m_srcPos[0]=t.fetch_float(),this.m_srcPos[1]=t.fetch_float(),this.m_dstPos[0]=t.fetch_float(),this.m_dstPos[1]=t.fetch_float(),this.m_opacity=t.fetch_float()/100},e.prototype.shader_setup=function(t){var e={};e.offset=[(this.m_dstPos[0]-this.m_srcPos[0])/t.m_width,(this.m_dstPos[1]-this.m_srcPos[1])/t.m_height],t.m_shader.uniforms(e)},e.parcerName="clone",e}(ht),Et=function(){function t(t){this.m_shader=null,this.m_model="",this.m_view_num=0,this.m_opacity=0,this.m_context=t,this.m_str_cloneBlendShader="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D blendMaskTexture;        uniform sampler2D baseTexture;        uniform sampler2D srcTexture;        uniform float model;        uniform float opacity;                void main()        {                        vec4 src = texture2D(srcTexture,textureCoordinate);                                            vec4 top = texture2D(inputImageTexture, textureCoordinate);                        vec4 dst = texture2D(baseTexture,textureCoordinate);                        float a = texture2D(blendMaskTexture, textureCoordinate).w;                                    vec4 blendResult;             if(model>0.0)blendResult=vec4(mix(dst.rgb,top.rgb,a),src.a);            else blendResult =vec4(mix(src.rgb,top.rgb,a),src.a);                        gl_FragColor = vec4(mix(src.rgb,blendResult.rgb,opacity),src.a);        }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.init(t);var i=void 0;this.m_view_num&&(i=e.load_view(this.m_view_num));var n=this.m_context.lock_image("","painter");if(!n)throw new Error("no painter cache");this.m_shader||(this.m_shader=new v(null,this.m_str_cloneBlendShader,this.m_context.context()));var o=new y(this.m_context.context(),r,this.m_shader);o.shader_texture("srcTexture",e.get_src()),o.shader_texture("inputImageTexture",e.current()),o.shader_texture("blendMaskTexture",n),o.shader_texture("baseTexture",i),this.shader_setup(o),o.draw_to(e.new_temporary());var s=this.m_context.context().getError();if(s)throw new Error("cloneBlend: "+s);e.push_to_current(),this.m_context.unlock_image(null,null,"painter")}catch(t){throw new Error("cloneBlend process: "+t)}},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},t.prototype.init=function(t){t.assume_symbol("view"),this.m_view_num=t.fetch_float(),t.assume_symbol("cache"),this.m_model=t.fetch_string(),t.assume_symbol("opacity"),this.m_opacity=t.fetch_float()},t.prototype.shader_setup=function(t){var e={};e.opacity=this.m_opacity/100,"painter"==this.m_model?e.model=1:e.model=0,t.m_shader.uniforms(e)},t.parcerName="cloneBlend",t}(),Ot=function(t){function e(e){var r=t.call(this,e)||this;return r.m_intensity=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform mat4 cmul;"},e.prototype.shader_procession=function(){return"src *= cmul;                dst = src;"},e.prototype.init=function(t,e,r){for(var i=0;16!=i;++i)this.m_intensity[i]=t.fetch_float()},e.prototype.shader_setup=function(t){var e={};e.cmul=this.m_intensity,t.m_shader.uniforms(e)},e.parcerName="colorMatf",e}(ht),kt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_intensity=[0,0,0,0,0,0,0,0,0],r.m_ms=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform mat3 cmul;"},e.prototype.shader_procession=function(){return"src.rgb *= cmul;                dst = vec4(src.rgb, src.a);"},e.prototype.init=function(t,e,r){switch(this.m_intensity=[0,0,0,0,0,0,0,0,0],l.Symbol==t.get_parcer_status()?this.m_ms=t.lookup_symbol(["float","vector","mat",0],!0):this.m_ms=2,this.m_ms){case 0:this.m_intensity[0]=t.fetch_float(),this.m_intensity[4]=this.m_intensity[0],this.m_intensity[8]=this.m_intensity[0];break;case 1:this.m_intensity[0]=t.fetch_float(),this.m_intensity[4]=t.fetch_float(),this.m_intensity[8]=t.fetch_float();break;case 2:for(var i=0;9!=i;++i)this.m_intensity[i]=t.fetch_float()}},e.prototype.shader_setup=function(t){var e={};e.cmul=this.m_intensity,t.m_shader.uniforms(e)},e.parcerName="colorMul",e}(ht),At=function(t){function e(e){var r=t.call(this,e)||this;return r.m_pos=new Array(2),r.m_src_size=new Array(2),r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec4 trans;                uniform sampler2D srcImage;"},e.prototype.shader_procession=function(){return"                dst = texture2D(srcImage, textureCoordinate*trans.xy+trans.zw);                "},e.prototype.init=function(t,e,r){t.assume_symbol("position"),this.m_pos[0]=t.fetch_float(),this.m_pos[1]=t.fetch_float(),t.assume_symbol("srcSize"),this.m_src_size[0]=t.fetch_float(),this.m_src_size[1]=t.fetch_float()},e.prototype.shader_setup=function(t){var e=this.getSrcTexture(this.m_context),r=[t.m_width/this.m_src_size[0],t.m_height/this.m_src_size[1],this.m_pos[0]/this.m_src_size[0],this.m_pos[1]/this.m_src_size[1]],i={};i.trans=r,t.m_shader.uniforms(i),t.shader_texture("srcImage",e)},e.prototype.getSrcTexture=function(t){var e=t.lock_image();return e||!1},e.parcerName="crop",e}(ht),Mt=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"   "},e.prototype.shader_procession=function(){return"        dst= vec4(127.0/255.0,127.0/255.0,0.0,0.0);"},e.prototype.init=function(t,e,r){},e.prototype.shader_setup=function(t){},e.parcerName="dark",e}(ht),Pt=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"   "},e.prototype.shader_procession=function(){return"        dst= vec4(0.0, 0.0, 0.0, 0.0);"},e.prototype.init=function(t,e,r){},e.prototype.shader_setup=function(t){},e.parcerName="darkClear",e}(ht),Dt=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec2 vSteps;                const float intensity = 0.45;                float getLum(vec3 src)                {                    return dot(src, vec3(0.299, 0.587, 0.114));                }"},e.prototype.shader_procession=function(){return"mat3 m;                m[0][0] = getLum(texture2D(inputImageTexture, textureCoordinate - vSteps).rgb);                m[0][1] = getLum(texture2D(inputImageTexture, textureCoordinate - vec2(0.0, vSteps.y)).rgb);                m[0][2] = getLum(texture2D(inputImageTexture, textureCoordinate + vec2(vSteps.x, -vSteps.y)).rgb);                m[1][0] = getLum(texture2D(inputImageTexture, textureCoordinate - vec2(vSteps.x, 0.0)).rgb);                m[1][1] = getLum(src.rgb);                m[1][2] = getLum(texture2D(inputImageTexture, textureCoordinate + vec2(vSteps.x, 0.0)).rgb);                m[2][0] = getLum(texture2D(inputImageTexture, textureCoordinate + vec2(-vSteps.x, vSteps.y)).rgb);                m[2][1] = getLum(texture2D(inputImageTexture, textureCoordinate + vec2(0.0, vSteps.y)).rgb);                m[2][2] = getLum(texture2D(inputImageTexture, textureCoordinate + vSteps).rgb);                float nx = m[0][0] + m[0][1] + m[0][2] - m[2][0] - m[2][1] - m[2][2];                float ny = m[0][0] + m[1][0] + m[2][0] - m[0][2] - m[1][2] - m[2][2];                float ndl = abs(nx + ny + intensity);                float shade = 0.0;                float norm = (nx * nx + ny * ny + intensity * intensity);                shade = (ndl * 0.577) / sqrt(norm);                dst = vec4(src.rgb * shade, src.a);"},e.prototype.init=function(t,e,r){},e.prototype.shader_setup=function(t){var e=[0,0];e[0]=1/t.m_width,e[1]=1/t.m_height;var r={};r.vSteps=e,t.m_shader.uniforms(r)},e.parcerName="darkEngraving",e}(ht),jt=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec2 vSteps;                const float intensity = 0.45;                float getLum(vec3 src)                {                    return dot(src, vec3(0.299, 0.587, 0.114));                }"},e.prototype.shader_procession=function(){return"mat3 m;                m[0][0] = getLum(texture2D(inputImageTexture, textureCoordinate - vSteps).rgb);                m[0][1] = getLum(texture2D(inputImageTexture, textureCoordinate - vec2(0.0, vSteps.y)).rgb);                m[0][2] = getLum(texture2D(inputImageTexture, textureCoordinate + vec2(vSteps.x, -vSteps.y)).rgb);                m[1][0] = getLum(texture2D(inputImageTexture, textureCoordinate - vec2(vSteps.x, 0.0)).rgb);                m[1][1] = getLum(src.rgb);                m[1][2] = getLum(texture2D(inputImageTexture, textureCoordinate + vec2(vSteps.x, 0.0)).rgb);                m[2][0] = getLum(texture2D(inputImageTexture, textureCoordinate + vec2(-vSteps.x, vSteps.y)).rgb);                m[2][1] = getLum(texture2D(inputImageTexture, textureCoordinate + vec2(0.0, vSteps.y)).rgb);                m[2][2] = getLum(texture2D(inputImageTexture, textureCoordinate + vSteps).rgb);                float nx = m[0][0] + m[0][1] + m[0][2] - m[2][0] - m[2][1] - m[2][2];                float ny = m[0][0] + m[1][0] + m[2][0] - m[0][2] - m[1][2] - m[2][2];                float ndl = abs(nx + ny + intensity);                float shade = 0.0;                float norm = (nx * nx + ny * ny + intensity * intensity);                shade = (ndl * 0.577) / sqrt(norm);                dst = vec4(vec3(shade), src.a);"},e.prototype.init=function(t,e,r){},e.prototype.shader_setup=function(t){var e=[0,0];e[0]=1/t.m_width,e[1]=1/t.m_height;var r={};r.vSteps=e,t.m_shader.uniforms(r)},e.parcerName="embossed",e}(ht),zt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_intensity=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec2 samplerSteps;                uniform float intensity;                const int samplerLimit = 5;                const float weight = float(samplerLimit) * 4.0 + 1.0;                "},e.prototype.shader_procession=function(){return"vec3 sum = src.rgb;                vec2 len = 2.0 * samplerSteps;                for (int i = 1; i <= samplerLimit; ++i)                {                    sum += texture2D(inputImageTexture, textureCoordinate - len).rgb;                    sum += texture2D(inputImageTexture, vec2(textureCoordinate.x - len.x, textureCoordinate.y + len.y)).rgb;                    sum += texture2D(inputImageTexture, vec2(textureCoordinate.x + len.x, textureCoordinate.y - len.y)).rgb;                    sum += texture2D(inputImageTexture, textureCoordinate + len).rgb;                    len *= 2.0;                }                vec3 _dst = max(src.rgb - sum / weight,0.0);                vec3 bmp2 = max(sum / weight - src.rgb, 0.0);                dst = vec4(mix(src.rgb, max(max(src.rgb - bmp2,0.0)+_dst,0.0), intensity),src.a);"},e.prototype.init=function(t,e,r){this.m_intensity=t.fetch_float()},e.prototype.shader_setup=function(t){var e={};e.samplerSteps=[1/t.m_width,1/t.m_height],e.intensity=this.m_intensity/100,t.m_shader.uniforms(e)},e.parcerName="eyeBrighten",e}(ht),It=function(t){function e(e){var r=t.call(this,e)||this;return r.m_intensity=0,r.m_tintColor=new Array(3),r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec3 tintColor;                uniform float intensity;                "},e.prototype.shader_procession=function(){return"float lsrc = dot(src.rgb, vec3(0.299, 0.587, 0.114));                float tintLum = dot(tintColor, vec3(0.299, 0.587, 0.114));                float srcLum = dot(vec3(lsrc), vec3(0.299, 0.587, 0.114));                vec3 tint = tintColor + srcLum - tintLum;                float mn = min(tint.r, min(tint.g, tint.b));                float mx = max(tint.r, max(tint.g, tint.b));                if (mn < 0.0)                {                    tint = srcLum + (tint - srcLum) * srcLum / (srcLum - mn);                }                if (mx > 1.0)                {                    tint = srcLum + (tint - srcLum) * (1.0 - srcLum) / (mx - srcLum);                }                dst = vec4(mix(src.rgb,tint,intensity), src.a);"},e.prototype.init=function(t,e,r){this.m_tintColor[0]=t.fetch_float(),this.m_tintColor[1]=t.fetch_float(),this.m_tintColor[2]=t.fetch_float(),this.m_intensity=t.fetch_float()},e.prototype.shader_setup=function(t){var e={};e.tintColor=[this.m_tintColor[0]/255,this.m_tintColor[1]/255,this.m_tintColor[2]/255],e.intensity=this.m_intensity/100,t.m_shader.uniforms(e)},e.parcerName="eyeTint",e}(ht),Rt=function(){function t(t){this.m_shader_h=null,this.m_shader_v=null,this.m_radius=0,this.m_sigma=0,this.m_context=t,this.m_GaussianBlurShader_h="varying vec2 textureCoordinate;                uniform sampler2D inputImageTexture;                uniform vec2 samplerSteps;                uniform float radius;                uniform float sigma;                        float random(vec3 scale, float seed) {                    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);                }                        float sigma_s = 3.0;                vec4 guidedFilter(vec2 uv)                {                    float res_w = 1.0;                    vec3 center_g = texture2D(inputImageTexture, uv).rgb;                    float sigma_i = 0.5 / sigma / sigma;                    float offset2 = random(vec3(12.9898, 78.233, 151.7182), 0.0);                    float offset = random(vec3(151.7182, 12.9898, 78.233), 0.0);                    for (float i = -16.0; i <= 16.0; i++) {                    vec2 coord_sample = uv + vec2(float(i) + offset - 0.5, offset2 - 0.5)*samplerSteps*radius / 16.0;                            vec3 tmp_g = texture2D(inputImageTexture, coord_sample).rgb;                    vec3 diff_g = (tmp_g - center_g);                            float tmp_w = exp(-(i*i)*sigma_i);                    center_g += tmp_w*tmp_g;                    res_w += tmp_w;                }                    vec4 res = vec4(center_g / res_w,res_w/16.0);                    return res;                }                void main() {                            vec4 res_t = guidedFilter(textureCoordinate);                    gl_FragColor = res_t;                }",this.m_GaussianBlurShader_v="varying vec2 textureCoordinate;                uniform sampler2D inputImageTexture;                uniform vec2 samplerSteps;                uniform float radius;                uniform float sigma;                        float random(vec3 scale, float seed) {                    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);                }                        float sigma_s = 3.0;                vec4 guidedFilter(vec2 uv)                {                    float res_w = 1.0;                    vec3 center_g = texture2D(inputImageTexture, uv).rgb;                    float sigma_i = 0.5 / sigma / sigma;                    float offset2 = random(vec3(12.9898, 78.233, 151.7182), 0.0);                    float offset = random(vec3(151.7182, 12.9898, 78.233), 0.0);                    for (float i = -16.0; i <= 16.0; i++) {                    vec2 coord_sample = uv + vec2(offset - 0.5, float(i) + offset2 - 0.5)*samplerSteps*radius/16.0;                    float tmp_h = texture2D(inputImageTexture, coord_sample).a;                            vec3 tmp_g = texture2D(inputImageTexture, coord_sample).rgb;                    vec3 diff_g = (tmp_g - center_g);                            float tmp_w = exp(-(i*i)*sigma_i)*tmp_h;                    center_g += tmp_w*tmp_g;                    res_w += tmp_w;                }                    vec4 res = vec4(center_g / res_w, 1.0);                    return res;                }                        void main() {                            vec4 res_t = guidedFilter(textureCoordinate);                    gl_FragColor = res_t;                }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.init(t),this.m_shader_h||(this.m_shader_h=new v(null,this.m_GaussianBlurShader_h,this.m_context.context())),this.m_shader_v||(this.m_shader_v=new v(null,this.m_GaussianBlurShader_v,this.m_context.context()));var i=new y(this.m_context.context(),r,this.m_shader_h);i.shader_texture("inputImageTexture",e.current()),this.shader_setup(i,i.m_width,i.m_height),i.draw_to(e.new_temporary());var n=this.m_context.context().getError();if(n)throw new Error("gaussianBlur shader h: "+n);e.push_to_current();var o=new y(this.m_context.context(),r,this.m_shader_v);if(o.shader_texture("inputImageTexture",e.current()),this.shader_setup(o,o.m_width,o.m_height),o.draw_to(e.new_temporary()),n=this.m_context.context().getError())throw new Error("gaussianBlur shader h: "+n);e.push_to_current()}catch(n){throw new Error("gaussianBlur: "+n)}},t.prototype.destroy=function(){this.m_shader_h&&(this.m_shader_h.destroy(),this.m_shader_h=null),this.m_shader_v&&(this.m_shader_v.destroy(),this.m_shader_v=null)},t.prototype.init=function(t){this.m_radius=t.fetch_float(),this.m_sigma=t.fetch_float()},t.prototype.shader_setup=function(t,e,r){var i={};i.samplerSteps=[1/e,1/r],i.radius=this.m_radius,i.sigma=this.m_sigma,t.m_shader.uniforms(i)},t.parcerName="gaussianBlur",t}(),Ft=function(t){function e(e){var r=t.call(this,e)||this;return r.m_angle=0,r.m_scale=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec4 trans;                uniform float meshWidth;                uniform vec2 size;                uniform float lineWidth;"},e.prototype.shader_procession=function(){return"                vec2 coord = textureCoordinate - vec2(0.5, 0.5);                                coord = vec2(coord.x*trans.x + coord.y*trans.y,                coord.x*trans.z + coord.y*trans.w);                                coord = coord + vec2(0.5, 0.5);                                vec2 realPixel = vec2(abs(textureCoordinate.x-0.5),abs(textureCoordinate.y-0.5))*size;                if(realPixel.x<2.0*lineWidth||realPixel.y<2.0*lineWidth){                    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);                    return;                }                                vec2 dis = vec2(realPixel.x - floor(realPixel.x/meshWidth)*meshWidth,realPixel.y - floor(realPixel.y/meshWidth)*meshWidth);                vec4 rotationResult = texture2D(inputImageTexture, coord);                if(dis.x<lineWidth||dis.x>(meshWidth-lineWidth)||dis.y<lineWidth||dis.y>(meshWidth-lineWidth))                {                    dis =  min(max(dis/lineWidth,dis/(meshWidth-lineWidth)),1.0);                    float alpha = max(dis.x,dis.y);                    dst = mix(rotationResult,vec4(1.0, 1.0, 1.0,1.0),alpha);                }                else                    dst = rotationResult;                "},e.prototype.init=function(t,e,r){this.m_angle=t.fetch_float(),this.m_scale=t.fetch_float()},e.prototype.shader_setup=function(t){var e=Math.abs(10*this.m_angle)%1800;90<(e/=10)&&(e=180-e),e=e/180*3.14159265358;var r=Math.sqrt(t.m_width/2*(t.m_width/2)+t.m_height/2*(t.m_height/2)),i=Math.min(t.m_width,t.m_height),n=Math.acos(i/2/r),o=n-e,s=i/2/Math.cos(o),a=s/r,c=Math.floor(50/this.m_scale/a+.5),l=1/this.m_scale;e=this.m_angle/180*3.14159265358;var u=[Math.cos(e)*a,-Math.sin(e)*a*t.m_height/t.m_width,Math.sin(e)*a*t.m_width/t.m_height,Math.cos(e)*a],h={};h.trans=u,h.meshWidth=c,h.size=[t.m_width,t.m_height],h.lineWidth=l,t.m_shader.uniforms(h)},e.parcerName="gribRotation",e}(ht),Lt=function(){function t(t){this.m_shader=null,this.m_context=t,this.m_hafToneShader="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec2 halfToneVars;        uniform vec2 vSteps;        uniform float scale;        uniform float al;        void main()        {            vec4 src = texture2D(inputImageTexture, textureCoordinate);            vec2 gradient = textureCoordinate / vSteps;            float lum = dot(src.rgb, vec3(0.299, 0.587, 0.114));            float alfx = sin(gradient.x*scale)*al;            float alfy = sin(gradient.y*scale)*al;            float fa = alfx *alfy*0.1668 + 0.8333;            lum = lum*fa;            lum = (lum - halfToneVars.x)*halfToneVars.y;            src.rgb = mix(vec3(0.3137, 0.1569, 0.6275), vec3(1.0, 1.0, 0.0), lum);            src.a = 1.0;            gl_FragColor = src;        }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.m_shader||(this.m_shader=new v(null,this.m_hafToneShader,this.m_context.context()));var i=new y(this.m_context.context(),r,this.m_shader);i.shader_texture("inputImageTexture",e.current());var n=this.getHalfToneLowFac(i.m_width,i.m_height);this.shader_setup(i,n.low,n.range);var o=this.m_context.context().getError();if(o)throw new Error("halfTone: "+o);e.push_to_current()}catch(t){throw new Error("halfTone process: "+t)}},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},t.prototype.shader_setup=function(t,e,r){var i=t.m_height,n=t.m_width,o=n<i?502.65/i:502.65/n,s=2*Math.sin(o/2);s/=o;var a=[];a[0]=1/t.m_width,a[1]=1/t.m_height;var c={};c.al=s,c.scale=o,c.halfToneVars=[e,r],c.vSteps=a,t.m_shader.uniforms(c)},t.prototype.getHalfToneLowFac=function(t,e){var r=new Uint8Array(t*e*4);if(!r)return{low:.2,range:1.4};this.m_context.context().readPixels(0,0,t,e,this.m_context.context().RGBA,this.m_context.context().UNSIGNED_BYTE,r);for(var i=new Array(256),n=0;n<256;++n)i[n]=0;var o=t*e;for(n=0;n!=o;++n){var s=.299*r[4*n]+.587*r[4*n+1]+.114*r[4*n+2];++i[Math.floor(s)]}for(n=1;256!=n;++n)i[n]+=i[n-1];var a=0;for(n=0;256!=n;++n)if(.1<i[n]/i[255]){a=n;break}var c=255;for(n=255;0<n;--n)if(.1<(i[255]-i[n])/i[255]){c=n;break}var l=255/Math.max(c-a,.01);return{low:a/=255,range:l}},t.parcerName="halfTone",t}(),Nt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_hueAdjust=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform float hueAdjust;                vec3 rgb2yiq(vec3 src)                {                    return src * mat3(0.299, 0.587, 0.114,                            0.595716, -0.274453, -0.321263,                            0.211456, -0.522591, 0.31135);                }                vec3 yiq2rgb(vec3 src)                {                    return src * mat3(1.0, 0.9563, 0.6210,                            1.0, -0.2721, -0.6474,                            1.0, -1.1070, 1.7046);                }"},e.prototype.shader_procession=function(){return"vec4 color =src;                vec3 yiq = rgb2yiq(color.rgb);                float hue = atan(yiq.z, yiq.y);                float chroma = length(yiq.yz);                hue -= hueAdjust;                yiq.yz = vec2(cos(hue), sin(hue)) * chroma;                dst = vec4(yiq2rgb(yiq), color.a);                "},e.prototype.init=function(t,e,r){this.m_hueAdjust=t.fetch_float()},e.prototype.shader_setup=function(t){var e={};e.hueAdjust=this.m_hueAdjust,t.m_shader.uniforms(e)},e.parcerName="hue",e}(ht),Bt=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"                vec3 blend(vec3 src1, vec3 src2, float alpha)                {                    return mix(src1, src2, alpha);                }"},e.prototype.shader_procession=function(){return"dst.xyz = blend(vec3(1.0, 1.0, 1.0), src.xyz, src.w);                dst.w = 1.0;"},e.prototype.init=function(t,e,r){},e.prototype.shader_setup=function(t){},e.parcerName="initialized",e}(ht),$t=function(t){function e(e){var r=t.call(this,e)||this;return r.m_intensity=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D srcImage; "},e.prototype.shader_procession=function(){return"                dst = texture2D(srcImage, textureCoordinate);                "},e.prototype.init=function(t,e,r){},e.prototype.shader_setup=function(t){var e=this.getSrcTexture(this.m_context);t.shader_texture("srcImage",e)},e.prototype.getSrcTexture=function(t){var e=t.lock_image();return e||!1},e.parcerName="justDraw",e}(ht),Ut=function(t){function e(e){var r=t.call(this,e)||this;return r.m_radius=0,r.m_pos=new Array(2),r.m_data=new Array(1024),r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D color;                uniform float radius;                uniform vec2 position;                uniform vec2 size; "},e.prototype.shader_procession=function(){return"        float dis = (textureCoordinate.x - position.x)*(textureCoordinate.x - position.x)*size.x*size.x + (textureCoordinate.y - position.y)*(textureCoordinate.y - position.y)*size.y*size.y;        dis = sqrt(dis);        float index = dis / (radius);        vec4 lens;        if (index < 1.0){            lens = texture2D(color, vec2(index, 0.5));            dst = vec4(mix(src.xyz, lens.xyz, lens.a), src.a);        }        else dst = src; "},e.prototype.init=function(t,e,r){t.assume_symbol("radius"),this.m_radius=t.fetch_float(),t.assume_symbol("pos"),this.m_pos[0]=t.fetch_float(),this.m_pos[1]=t.fetch_float();var i=0,n=0,o=0,s=0,a=0;for(t.assume_symbol("ratio"),a=t.fetch_float(),t.assume_symbol("color"),i=t.fetch_float(),n=t.fetch_float(),o=t.fetch_float(),s=t.fetch_float();t.test_symbol("ratio");){var c=t.fetch_float();t.assume_symbol("color");for(var l=t.fetch_float(),u=t.fetch_float(),h=t.fetch_float(),f=t.fetch_float(),m=Math.floor(256*a);m<256*c;++m){var d=(m-256*a)/(256*c-256*a);this.m_data[4*m]=Math.floor((1-d)*i+d*l+.5),this.m_data[4*m+1]=Math.floor((1-d)*n+d*u+.5),this.m_data[4*m+2]=Math.floor((1-d)*o+d*h+.5),this.m_data[4*m+3]=Math.floor((1-d)*s+d*f+.5)}a=c,i=l,n=u,o=h,s=f}},e.prototype.shader_setup=function(t){this.m_color_tex||(this.m_color_tex=this.m_context.create_new_texture(256,1,!0)),t.shader_texture("color",this.m_color_tex),this.m_context.context().texSubImage2D(this.m_context.context().TEXTURE_2D,0,0,0,256,1,this.m_context.context().RGBA,this.m_context.context().UNSIGNED_BYTE,new Uint8Array(this.m_data));var e={};e.radius=this.m_radius*Math.max(t.m_width,t.m_height),e.position=this.m_pos,e.size=[t.m_width,t.m_height],t.m_shader.uniforms(e)},e.parcerName="lensFlare",e}(ht),qt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_intensity=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D smallTex;"},e.prototype.shader_procession=function(){return"vec4 texColor = texture2D(smallTex,textureCoordinate);                dst = (texColor-vec4(126.0/255.0))*255.0;                dst.a = 1.0;"},e.prototype.init=function(t,e,r){},e.prototype.shader_setup=function(t){var e=this.m_context.create_new_texture(2,2,!0);this.m_context.context().texSubImage2D(this.m_context.context().TEXTURE_2D,0,0,0,2,2,this.m_context.context().RGBA,this.m_context.context().UNSIGNED_BYTE,new Uint8Array([32512/255,32512/255,32512/255,256,32256/255,32256/255,32256/255,256,32256/255,32256/255,32256/255,256,32512/255,32512/255,32512/255,256])),t.shader_texture("smallTex",e)},e.parcerName="linearTest",e}(ht),Ht=function(t){function e(e){var r=t.call(this,e)||this;return r.m_samplerScale=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec2 samplerSteps;                const int samplerRadius = 5;                uniform float samplerScale;"},e.prototype.shader_procession=function(){return"vec3 sum = src.rgb;                float cnt = 1.0;                for (int i = 1; i <= samplerRadius; ++i)                {                    float scale = float(i) * samplerScale;                    sum += texture2D(inputImageTexture, textureCoordinate + scale * vec2(samplerSteps.x, 0.0)).rgb;                    sum += texture2D(inputImageTexture, textureCoordinate + scale * vec2(-samplerSteps.x, 0.0)).rgb;                    sum += texture2D(inputImageTexture, textureCoordinate + scale * vec2(0.0, samplerSteps.y)).rgb;                    sum += texture2D(inputImageTexture, textureCoordinate + scale * vec2(0.0, -samplerSteps.y)).rgb;                    cnt += 4.0;                }                dst = vec4(src.rgb - max(sum / cnt - src.rgb, 0.0), src.a);"},e.prototype.init=function(t,e,r){this.m_samplerScale=t.fetch_float()/5},e.prototype.shader_setup=function(t){var e={};e.samplerSteps=[1/t.m_width,1/t.m_height],e.samplerScale=this.m_samplerScale,t.m_shader.uniforms(e)},e.parcerName="marscara",e}(ht),Vt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_red=0,r.m_green=0,r.m_blue=0,r.m_cyan=0,r.m_magenta=0,r.m_yellow=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform float red;                uniform float green;                uniform float blue;                uniform float cyan;                uniform float magenta;                uniform float yellow;"},e.prototype.shader_procession=function(){return"float maxc = max(max(src.r, src.g), src.b);                float minc = min(min(src.r, src.g), src.b);                float midc = src.r + src.g + src.b - maxc - minc;                if(maxc == minc)                    gl_FragColor = src;                vec3 ratioMax, ratioMin;                ratioMax.xy = vec2(equal(src.rg, vec2(maxc)));                float max_neg = 1.0 - ratioMax.x;                ratioMax.y *= max_neg;                ratioMax.z = (1.0 - ratioMax.y) * max_neg;                vec3 compMax = vec3(red, green, blue) * ratioMax;                ratioMin.xy = vec2(equal(src.rg, vec2(minc)));                float min_neg = 1.0 - ratioMin.x;                ratioMin.y *= min_neg;                ratioMin.z = (1.0 - ratioMin.y) * min_neg;                vec3 compMaxMid = vec3(cyan, magenta, yellow) * ratioMin;                float total = (compMax.x + compMax.y + compMax.z) * (maxc - midc) + (compMaxMid.x + compMaxMid.y + compMaxMid.z) * (midc - minc) + minc;                dst = vec4(total, total, total, 1.0);                "},e.prototype.init=function(t,e,r){this.m_red=t.fetch_float(),this.m_green=t.fetch_float(),this.m_blue=t.fetch_float(),this.m_cyan=t.fetch_float(),this.m_magenta=t.fetch_float(),this.m_yellow=t.fetch_float()},e.prototype.shader_setup=function(t){var e={};e.red=this.m_red,e.green=this.m_green,e.blue=this.m_blue,e.cyan=this.m_cyan,e.magenta=this.m_magenta,e.yellow=this.m_yellow,t.m_shader.uniforms(e)},e.parcerName="monoChrome",e}(ht),Xt=function(){this.m_m=s},Wt=function(t){function e(e){var r=t.call(this)||this;return r.m_m=[1,1,0,0],r.m_context=e,r.m_shader=null,r.m_fshFragLinearResizeProc="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;            void main()        {            gl_FragColor = texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw);        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_fshFragLinearResizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e);var s={};s.m=this.m_m,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragLinearResizeProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Yt=function(){function t(t){this.m_resize=null,this.m_min=0,this.m_swidth=0,this.m_sheight=0,this.m_context=t}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.m_resize||(this.m_resize=new Wt(this.m_context));var i=this.init(t);this.m_min&&(r.m_width>r.m_height?(i.height=this.m_min,i.width=this.m_min*r.m_width/r.m_height):(i.width=this.m_min,i.height=this.m_min*r.m_height/r.m_width)),this.m_swidth==i.width&&this.m_sheight==i.height||(this.m_swidth=i.width,this.m_sheight=i.height,this.m_tex&&(this.m_context.context().deleteTexture(this.m_tex),this.m_tex=null)),this.m_tex||(this.m_tex=this.m_context.create_new_texture(this.m_swidth,this.m_sheight,!1));var n=e.current();this.m_context.context().bindTexture(this.m_context.context().TEXTURE_2D,n),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MIN_FILTER,this.m_context.context().NEAREST),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MAG_FILTER,this.m_context.context().NEAREST),this.m_resize.process(this.m_tex,n,this.m_swidth,this.m_sheight,r.m_frameBuffer),this.m_context.context().bindTexture(this.m_context.context().TEXTURE_2D,n),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MIN_FILTER,this.m_context.context().LINEAR),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MAG_FILTER,this.m_context.context().LINEAR),this.m_resize.process(n,this.m_tex,r.m_width,r.m_height,r.m_frameBuffer);var o=this.m_context.context().getError();if(o)throw new Error("Mosaic: "+o)}catch(t){throw new Error("Mosaic process: "+t)}},t.prototype.destroy=function(){this.m_resize&&this.m_resize.destroy(),this.size_change()},t.prototype.init=function(t){this.m_min=0;var e=t.lookup_symbol(["edge","widthHeight",0],!0),r={width:0,height:0};return e?(r.width=Math.floor(t.fetch_float()+.5),r.height=Math.floor(t.fetch_float()+.5)):(this.m_min=Math.floor(t.fetch_float()+.5),r.width=r.height=this.m_min),r},t.prototype.size_change=function(){this.m_tex&&(this.m_context.context().deleteTexture(this.m_tex),this.m_tex=null)},t.parcerName="mosaic",t}(),Gt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_grain_amount=0,r.m_grain_size=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec2 imgSize;                uniform float scale;                uniform float grain_amount;                uniform float grain_size;                const float timer = 1.0;                const float intensity = 0.5;                const float permTexUnit = 1.0 / 256.0;                const float permTexUnitHalf = 0.5 / 256.0;                const vec3 lumcoeff = vec3(0.299, 0.587, 0.114);                vec4 rnm(in vec2 tc) {                    float noise = sin(dot(tc + vec2(timer), vec2(12.9898, 78.233))) * 43758.5453;                    return fract(vec4(1.0, 1.2154, 1.3453, 1.3647) * noise) * 2.0 - 1.0;                }                float fade(in float t) {                    return t*t*t*(t*(t*6.0 - 15.0) + 10.0);                }                float pnoise3D(in vec3 p) {                    vec3 pi = permTexUnit*floor(p) + permTexUnitHalf;                    vec3 pf = fract(p);                    float perm00 = rnm(pi.xy).a;                    vec3  grad000 = rnm(vec2(perm00, pi.z)).rgb * 4.0 - 1.0;                    float n000 = dot(grad000, pf);                    vec3  grad001 = rnm(vec2(perm00, pi.z + permTexUnit)).rgb * 4.0 - 1.0;                    float n001 = dot(grad001, pf - vec3(0.0, 0.0, 1.0));                    float perm01 = rnm(pi.xy + vec2(0.0, permTexUnit)).a;                    vec3  grad010 = rnm(vec2(perm01, pi.z)).rgb * 4.0 - 1.0;                    float n010 = dot(grad010, pf - vec3(0.0, 1.0, 0.0));                    vec3  grad011 = rnm(vec2(perm01, pi.z + permTexUnit)).rgb * 4.0 - 1.0;                    float n011 = dot(grad011, pf - vec3(0.0, 1.0, 1.0));                    float perm10 = rnm(pi.xy + vec2(permTexUnit, 0.0)).a;                    vec3  grad100 = rnm(vec2(perm10, pi.z)).rgb * 4.0 - 1.0;                    float n100 = dot(grad100, pf - vec3(1.0, 0.0, 0.0));                    vec3  grad101 = rnm(vec2(perm10, pi.z + permTexUnit)).rgb * 4.0 - 1.0;                    float n101 = dot(grad101, pf - vec3(1.0, 0.0, 1.0));                    float perm11 = rnm(pi.xy + vec2(permTexUnit, permTexUnit)).a;                    vec3  grad110 = rnm(vec2(perm11, pi.z)).rgb * 4.0 - 1.0;                    float n110 = dot(grad110, pf - vec3(1.0, 1.0, 0.0));                    vec3  grad111 = rnm(vec2(perm11, pi.z + permTexUnit)).rgb * 4.0 - 1.0;                    float n111 = dot(grad111, pf - vec3(1.0, 1.0, 1.0));                    vec4 n_x = mix(vec4(n000, n001, n010, n011), vec4(n100, n101, n110, n111), fade(pf.x));                    vec2 n_xy = mix(n_x.xy, n_x.zw, fade(pf.y));                    return mix(n_xy.x, n_xy.y, fade(pf.z));                }                vec2 coordRot(in vec2 tc, in float angle) {                    float aspect = imgSize.x / imgSize.y;                    float rotX = ((tc.x*2.0 - 1.0)*aspect*cos(angle)) - ((tc.y*2.0 - 1.0)*sin(angle));                    float rotY = ((tc.y*2.0 - 1.0)*cos(angle)) + ((tc.x*2.0 - 1.0)*aspect*sin(angle));                    return vec2((rotX / aspect)*0.5 + 0.5, rotY*0.5 + 0.5);                }"},e.prototype.shader_procession=function(){return"float size = grain_size;                float grain = grain_amount;                vec3 rotOffset = vec3(1.425, 3.892, 5.835);                vec2 rotCoordsR = coordRot(textureCoordinate.xy, timer + rotOffset.x);                vec3 noise = vec3(pnoise3D(vec3(imgSize / size * rotCoordsR, 0.0)));                                float luminance = mix(0.0, dot(src.rgb, lumcoeff), intensity);                luminance = clamp(1.0-luminance / 0.2, 0.0, 1.0) + luminance;                noise = mix(noise, vec3(0.0), pow(luminance, 4.0));                dst = vec4(src.rgb + noise * grain,src.a);"},e.prototype.init=function(t,e,r){this.m_grain_amount=t.fetch_float(),this.m_grain_size=t.fetch_float()+.2},e.prototype.shader_setup=function(t){var e=Math.sqrt(t.m_width*t.m_width+t.m_height*t.m_height),r=Math.sqrt(e/2828.42712);r=Math.max(r,1)*this.m_grain_size*2;var i=Math.sqrt(e/2828.42712)*this.m_grain_amount*.2,n={};n.imgSize=[t.m_width,t.m_height],n.grain_amount=i,n.grain_size=r,t.m_shader.uniforms(n)},e.parcerName="noise",e}(ht),Kt=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec2 samplerSize;"},e.prototype.shader_procession=function(){return"vec2 coord = textureCoordinate/samplerSize;                if(coord.x<4.0||coord.x>1.0/samplerSize.x-4.0||coord.y<4.0||coord.y>1.0/samplerSize.y-4.0)                dst = vec4(mix(src.xyz,vec3(0.0,1.0,132.0/255.0),0.5),src.a);                else                dst = src;"},e.prototype.init=function(t,e,r){},e.prototype.shader_setup=function(t){var e={};e.samplerSize=[1/t.m_width,1/t.m_height],t.m_shader.uniforms(e)},e.parcerName="rectangle",e}(ht),Jt=function(t){function e(e){var r=t.call(this,e)||this;return r.m_ms=0,r.m_position=[0,0],r.m_radius=0,r.m_alpha=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec2 samplerSteps;                uniform vec2 eyePosition;                uniform float radius;                uniform float alpha;"},e.prototype.shader_procession=function(){return"vec2 realPosition = textureCoordinate / samplerSteps;                float dis1 = distance(realPosition,eyePosition);                vec4 color = src;                if(dis1 >= radius)                {                    dst = color;                }                else                {                    vec3 v = color.rgb;                    v.r = (color.g + color.b) / 2.0;                    v.g = (color.g + color.r) / 2.0;                    v.b = (color.b + color.r) / 2.0;                    float vecR = color.r - v.r;                    float vecG = color.g - v.g;                    float vecB = color.b - v.b;                                        float r1 = v.r+vecR*pow(dis1/radius,1.5);                    float g1 = v.g+vecG*pow(dis1/radius,1.5);                    float b1 = v.b+vecB*pow(dis1/radius,1.5);                    dst = vec4(r1,g1,b1,color.a);                }"},e.prototype.init=function(t,e,r){l.Symbol==t.get_parcer_status()?this.m_ms=t.lookup_symbol(["relativePosition","realPosition",0],!0):this.m_ms=0,this.m_position[0]=t.fetch_float(),this.m_position[1]=t.fetch_float(),this.m_radius=t.fetch_float(),this.m_alpha=t.fetch_float()},e.prototype.shader_setup=function(t){var e=[0,0];switch(this.m_ms){case 0:e[0]=this.m_position[0]*t.m_width,e[1]=this.m_position[1]*t.m_height;break;case 1:e[0]=this.m_position[0],e[1]=this.m_position[1];break;default:throw new Error("Unexpected Redeye Remove Model!\n")}var r={};r.samplerSteps=[1/t.m_width,1/t.m_height],r.eyePosition=[e[0],e[1]],r.radius=this.m_radius,r.alpha=this.m_alpha,t.m_shader.uniforms(r)},e.parcerName="redeyeRemove",e}(ht),Qt=function(){function t(t){this.m_shader=null,this.m_warp_shader=null,this.m_width=0,this.m_height=0,this.m_last_src="",this.m_vecPoints=[],this.m_last_vecPoints=[],this.m_context=t,this.m_str_warpShader="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec2 samplerSteps;        uniform vec2 pos;        uniform vec2 v;        uniform float radius;        vec2 get_vector(float gvx, float gvy)        {            vec4 dst_v= texture2D(inputImageTexture, vec2(gvx, gvy)*samplerSteps);            vec2 result;            result.x = dst_v.x + (dst_v.z - 0.5) / 255.0;            result.x = (result.x - 0.5)*2.0;            result.y = dst_v.y + (dst_v.w - 0.5) / 255.0;            result.y = (result.y - 0.5)*2.0;            return result;        }        void main()        {            float dx = (textureCoordinate.x - pos.x)/samplerSteps.x;            float dy = (textureCoordinate.y - pos.y)/samplerSteps.y;            float r = 1.0 - ((dx / radius)*(dx / radius) + (dy / radius)*(dy / radius));            vec4 dst;            if (r > 0.0)            {                r = r*r;                float cdx = v.x*r;                float cdy = v.y*r;                float gvx = textureCoordinate.x/samplerSteps.x + cdx;                gvx = max(0.0, min(gvx, 1.0 / samplerSteps.x));                float gvy = textureCoordinate.y/samplerSteps.y + cdy;                gvy = max(0.0, min(gvy, 1.0 / samplerSteps.y));                vec2 ov;                ov = get_vector(gvx, gvy);                gvx = gvx*samplerSteps.x + ov.x;                gvy = gvy*samplerSteps.y + ov.y;                vec2 _dis = vec2(min(1.0,max(gvx - textureCoordinate.x,-1.0)),                min(1.0,max(gvy - textureCoordinate.y,-1.0)));                {                    float cx = _dis.x*127.5+128.0;                    float fcx = floor(cx);                    dst.z = cx - fcx;                    dst.x = fcx*(1.0 / 255.0);                }                {                    float cy = _dis.y*127.5 +128.0;                    float fcy = floor(cy);                    dst.w = cy - fcy;                    dst.y = fcy*(1.0 / 255.0);                            }            }            else{                dst = texture2D(inputImageTexture, textureCoordinate);            }            gl_FragColor = dst;        }",this.m_str_reshapeShader="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D reshapeMap;        void main()        {            vec2 cod,result;            vec4 dst;            vec4 trans = texture2D(reshapeMap, textureCoordinate);            result.x = trans.x + (trans.z - 0.5) / 255.0;            result.x = (result.x - 0.5)*2.0;            result.y = trans.y + (trans.w - 0.5) / 255.0;            result.y = (result.y - 0.5)*2.0;            cod.x = textureCoordinate.x - result.x;            cod.y = textureCoordinate.y - result.y;            dst = texture2D(inputImageTexture, cod);            gl_FragColor = dst;        }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.size_change(r.m_width,r.m_height),this.draw_map(t,r,2),this.m_shader||(this.m_shader=new v(null,this.m_str_reshapeShader,this.m_context.context()));var i=new y(this.m_context.context(),r,this.m_shader);i.shader_texture("inputImageTexture",e.current()),i.shader_texture("reshapeMap",this.m_deformMap),i.draw_to(e.new_temporary());var n=this.m_context.context().getError();if(n)throw new Error("basic adjust reshap: "+n);e.push_to_current()}catch(t){throw new Error("basic adjust reshap process: "+t)}},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null),this.m_warp_shader&&(this.m_warp_shader.destroy(),this.m_warp_shader=null),this.size_change(0,0),this.m_deformMap&&(this.m_context.context().deleteTexture(this.m_deformMap),this.m_deformMap=null),this.m_deformMap_buffer&&(this.m_context.context().deleteTexture(this.m_deformMap_buffer),this.m_deformMap_buffer=null),this.m_last_vecPoints=[]},t.prototype.size_change=function(t,e){this.m_width==t&&this.m_height==e||(this.m_width=t,this.m_height=e,this.m_last_src="",this.m_deformMap&&(this.m_context.context().deleteTexture(this.m_deformMap),this.m_deformMap=null),this.m_deformMap_buffer&&(this.m_context.context().deleteTexture(this.m_deformMap_buffer),this.m_deformMap_buffer=null),this.m_last_vecPoints=[])},t.prototype.init=function(t,e,r){if(t.lookup_symbol(["coordinate","realPixel",0],!0))for(;t.test_symbol("point");){var i={vecPoints:{x:0,y:0},stress:0,radius:0};t.assume_symbol("stress"),i.stress=t.fetch_float(),t.assume_symbol("radius"),i.radius=t.fetch_float(),i.vecPoints.x=t.fetch_float(),i.vecPoints.y=t.fetch_float(),this.m_vecPoints.push(i)}else for(;t.test_symbol("point");){i={vecPoints:{x:0,y:0},stress:0,radius:0};t.assume_symbol("stress"),i.stress=t.fetch_float(),t.assume_symbol("radius"),i.radius=t.fetch_float(),i.vecPoints.x=t.fetch_float()*e,i.vecPoints.y=t.fetch_float()*r,this.m_vecPoints.push(i)}if(this.m_vecPoints.length<2)throw new Error("need more point")},t.prototype.draw_map=function(t,e,r){if(this.m_deformMap||(this.m_deformMap=this.m_context.create_new_texture(e.m_width/r,e.m_height/r,!0),this.map_color_clear(e,this.m_deformMap),this.m_last_src=""),this.m_deformMap_buffer||(this.m_deformMap_buffer=this.m_context.create_new_texture(e.m_width/r,e.m_height/r,!0),this.map_color_clear(e,this.m_deformMap_buffer)),t.get_log()!=this.m_last_src&&(this.map_color_clear(e,this.m_deformMap),this.map_color_clear(e,this.m_deformMap_buffer),this.m_last_src=t.get_log()),this.init(t,e.m_width,e.m_height),this.points_change()&&(this.map_color_clear(e,this.m_deformMap),this.map_color_clear(e,this.m_deformMap_buffer)),this.m_vecPoints.length){this.m_warp_shader||(this.m_warp_shader=new v(null,this.m_str_warpShader,this.m_context.context()));for(var i=!0,n=0;n<this.m_vecPoints.length-1;++n)for(var o=this.m_vecPoints[n].vecPoints.x,s=this.m_vecPoints[n].vecPoints.y,a=this.m_vecPoints[n+1].vecPoints.x,c=this.m_vecPoints[n+1].vecPoints.y,l=this.m_vecPoints[n+1].stress,u=this.m_vecPoints[n+1].radius,h=a-o,f=c-s,m=Math.sqrt(h*h+f*f),d=Math.floor(4*m/u)+1,p=h/d,_=f/d,g=[p*l,_*l],b=1;b<=d;++b){var x=new y(this.m_context.context(),null,this.m_warp_shader,e.m_width/r,e.m_height/r,e.m_frameBuffer);i?x.shader_texture("inputImageTexture",this.m_deformMap):x.shader_texture("inputImageTexture",this.m_deformMap_buffer);var w={};w.pos=[(o+b*p)/e.m_width,(s+b*_)/e.m_height],w.radius=u,w.samplerSteps=[1/e.m_width,1/e.m_height],w.v=g,x.m_shader.uniforms(w),i?x.draw_to(this.m_deformMap_buffer):x.draw_to(this.m_deformMap),i=!i}if(!i){var S=void 0;S=this.m_deformMap,this.m_deformMap=this.m_deformMap_buffer,this.m_deformMap_buffer=S,S=null}var C=this.m_context.context().getError();if(C)throw new Error("basic adjust reshap draw map: "+C);this.m_vecPoints=[]}},t.prototype.map_color_clear=function(t,e){this.m_context.context().bindFramebuffer(this.m_context.context().FRAMEBUFFER,t.m_frameBuffer),this.m_context.context().framebufferTexture2D(this.m_context.context().FRAMEBUFFER,this.m_context.context().COLOR_ATTACHMENT0,this.m_context.context().TEXTURE_2D,e,0),this.m_context.context().clearColor(.5,.5,0,0),this.m_context.context().clear(this.m_context.context().COLOR_BUFFER_BIT)},t.prototype.points_change=function(){if(this.m_vecPoints.length<this.m_last_vecPoints.length||!this.m_last_vecPoints.length)return this.m_last_vecPoints=this.m_vecPoints,!0;for(var t=this.m_last_vecPoints.length,e=0;e<t;++e)if(this.m_vecPoints[e].radius!=this.m_last_vecPoints[e].radius||this.m_vecPoints[e].stress!=this.m_last_vecPoints[e].stress||this.m_vecPoints[e].vecPoints.x!=this.m_last_vecPoints[e].vecPoints.x||this.m_vecPoints[e].vecPoints.y!=this.m_last_vecPoints[e].vecPoints.y)return this.m_last_vecPoints=this.m_vecPoints,!0;return this.m_vecPoints.length==this.m_last_vecPoints.length?!(this.m_vecPoints=[]):(this.m_last_vecPoints=this.m_vecPoints,this.m_vecPoints=this.m_vecPoints.slice(t-1),!1)},t.parcerName="reshape",t}(),Zt=function(){function t(t){this.m_shader=null,this.m_stress=0,this.m_context=t,this.m_str_reshapeShader=" varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D reshapeMap;        uniform float stress;                        void main()        {            vec2 cod,result;            vec4 dst;            vec4 trans = texture2D(reshapeMap, textureCoordinate);                    float mid = 127.0;            result.x = trans.x*255.0 + (trans.z*(255.0/256.0));            result.x = (result.x - mid)/127.0;                    result.y = trans.y*255.0 + (trans.w*(255.0/256.0));            result.y = (result.y - mid)/127.0;                    cod.x = textureCoordinate.x - result.x*stress;            cod.y = textureCoordinate.y - result.y*stress;                            dst = texture2D(inputImageTexture, cod);            dst.xyz = dst.xyz*vec3(dst.a);            gl_FragColor = dst;        }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.init(t),this.m_shader||(this.m_shader=new v(null,this.m_str_reshapeShader,this.m_context.context()));var i=new y(this.m_context.context(),r,this.m_shader),n=this.m_context.lock_image("","reshape");if(!n)throw new Error("cannot find reshape cache");i.shader_texture("inputImageTexture",e.current()),i.shader_texture("reshapeMap",n);var o={};o.stress=this.m_stress,i.m_shader.uniforms(o),i.draw_to(e.new_temporary());var s=this.m_context.context().getError();if(s)throw new Error("reshapeDraw: "+s);e.push_to_current()}catch(t){throw new Error("reshapeDraw process: "+t)}},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},t.prototype.init=function(t){t.assume_symbol("useCache"),t.assume_symbol("stress"),this.m_stress=t.fetch_float()},t.parcerName="reshapeDraw",t}(),te=function(){function t(t){this.m_warp_shader=null,this.m_test_shader=null,this.m_width=0,this.m_height=0,this.m_vecPoints=[],this.m_GPU_precision_error_flag={haveTest:!1,errorStatus:!1},this.m_context=t,this.m_str_rectangleShader="attribute vec2 vertex;         attribute vec2 _texCoord;        varying vec2 textureCoordinate;        void main(){            textureCoordinate = _texCoord;            gl_Position = vec4(vertex*2.0 - 1.0, 0.0, 1.0);        }",this.m_str_testShader="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        void main(){            gl_FragColor = texture2D(inputImageTexture,textureCoordinate);        }",this.m_str_warpWithSamplerShader="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec2 samplerSteps;        uniform vec2 pos;        uniform vec2 v;        uniform float radius;        vec4 sampler(vec2 coord)        {            vec2 real = coord/samplerSteps-0.5;            vec2 freal = floor(real);            vec4 lb = texture2D(inputImageTexture,(freal+vec2(0.5,0.5))*samplerSteps);            vec4 lt = texture2D(inputImageTexture,(vec2(freal.x,freal.y + 1.0) + vec2(0.5,0.5))*samplerSteps);            vec4 rb = texture2D(inputImageTexture,(vec2(freal.x + 1.0,freal.y) + vec2(0.5,0.5))*samplerSteps);            vec4 rt = texture2D(inputImageTexture,(vec2(freal.x + 1.0,freal.y+1.0) + vec2(0.5,0.5))*samplerSteps);            vec4 horizonB = mix(lb,rb,(real-freal).x);            vec4 horizonT = mix(lt,rt,(real-freal).x);            vec4 dst = mix(horizonB,horizonT,(real-freal).y);            return dst;            }            vec2 get_vector(float gvx, float gvy)        {            vec4 dst_v= sampler(vec2(gvx, gvy)*samplerSteps);            vec2 result;            float mid = 127.0;            result.x = dst_v.x*255.0 + (dst_v.z * (255.0/256.0));            result.x = (result.x - mid)/127.0;            result.y = dst_v.y*255.0 + (dst_v.w * (255.0/256.0));            result.y = (result.y - mid)/127.0;            return result;        }        void main()        {            float dx = (textureCoordinate.x - pos.x)/samplerSteps.x;            float dy = (textureCoordinate.y - pos.y)/samplerSteps.y;            float r = 1.0 - ((dx / radius)*(dx / radius) + (dy / radius)*(dy / radius));            vec4 dst;            if (r > 0.0)            {                r = r*r;                float cdx = v.x*r;                float cdy = v.y*r;                            float gvx;                gvx = textureCoordinate.x/samplerSteps.x + cdx;                            gvx = max(0.0, min(gvx, 1.0 / samplerSteps.x));                            float gvy;                gvy = textureCoordinate.y/samplerSteps.y + cdy;                                gvy = max(0.0, min(gvy, 1.0 / samplerSteps.y));                vec2 ov;                ov = get_vector(gvx, gvy);                gvx = gvx*samplerSteps.x + ov.x;                gvy = gvy*samplerSteps.y + ov.y;                vec2 _dis = vec2(min(1.0,max(gvx - textureCoordinate.x,-0.999999)),                min(1.0,max(gvy - textureCoordinate.y,-0.999999)));                float mid = 127.0;                {                    float cx = _dis.x*127.0+mid;                    float fcx = floor(cx);                    dst.z = (cx - fcx)* (256.0/255.0);                    dst.x = fcx*(1.0 / 255.0);                }                {                    float cy = _dis.y*127.0 +mid;                    float fcy = floor(cy);                    dst.w = (cy - fcy) * (256.0/255.0);                    dst.y = fcy*(1.0 / 255.0);                            }            }            else{                dst = sampler(textureCoordinate);            }            gl_FragColor = dst;        }",this.m_str_warpShader="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec2 samplerSteps;        uniform vec2 pos;        uniform vec2 v;        uniform float radius;        vec2 get_vector(float gvx, float gvy)        {            vec4 dst_v= texture2D(inputImageTexture, vec2(gvx, gvy)*samplerSteps);            vec2 result;            float mid = 127.0;            result.x = dst_v.x*255.0 + (dst_v.z * (255.0/256.0));            result.x = (result.x - mid)/127.0;            result.y = dst_v.y*255.0 + (dst_v.w * (255.0/256.0));            result.y = (result.y - mid)/127.0;            return result;        }        void main()        {            float dx = (textureCoordinate.x - pos.x)/samplerSteps.x;            float dy = (textureCoordinate.y - pos.y)/samplerSteps.y;            float r = 1.0 - ((dx / radius)*(dx / radius) + (dy / radius)*(dy / radius));            vec4 dst;            if (r > 0.0)            {                r = r*r;                float cdx = v.x*r;                float cdy = v.y*r;                            float gvx;                gvx = textureCoordinate.x/samplerSteps.x + cdx;                            gvx = max(0.0, min(gvx, 1.0 / samplerSteps.x));                            float gvy;                gvy = textureCoordinate.y/samplerSteps.y + cdy;                                gvy = max(0.0, min(gvy, 1.0 / samplerSteps.y));                vec2 ov;                ov = get_vector(gvx, gvy);                gvx = gvx*samplerSteps.x + ov.x;                gvy = gvy*samplerSteps.y + ov.y;                vec2 _dis = vec2(min(1.0,max(gvx - textureCoordinate.x,-0.999999)),                min(1.0,max(gvy - textureCoordinate.y,-0.999999)));                float mid = 127.0;                {                    float cx = _dis.x*127.0+mid;                    float fcx = floor(cx);                    dst.z = (cx - fcx)* (256.0/255.0);                    dst.x = fcx*(1.0 / 255.0);                }                {                    float cy = _dis.y*127.0 +mid;                    float fcy = floor(cy);                    dst.w = (cy - fcy) * (256.0/255.0);                    dst.y = fcy*(1.0 / 255.0);                            }            }            else{                dst = texture2D(inputImageTexture, textureCoordinate);            }            gl_FragColor = dst;        }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.size_change(r.m_width,r.m_height),this.draw_map(t,r,2,e)}catch(t){throw new Error("basic adjust reshape map process: "+t)}},t.prototype.destroy=function(){this.m_deformMap_buffer&&(this.m_context.context().deleteTexture(this.m_deformMap_buffer),this.m_deformMap_buffer=null)},t.prototype.size_change=function(t,e){this.m_width==t&&this.m_height==e||(this.m_width=t,this.m_height=e,this.m_deformMap_buffer&&(this.m_context.context().deleteTexture(this.m_deformMap_buffer),this.m_deformMap_buffer=null))},t.prototype.init=function(t,e,r){if(t.lookup_symbol(["coordinate","realPixel",0],!0))for(;t.test_symbol("point");){var i={vecPoints:{x:0,y:0},stress:0,radius:0};t.assume_symbol("stress"),i.stress=t.fetch_float(),t.assume_symbol("radius"),i.radius=t.fetch_float(),i.vecPoints.x=t.fetch_float(),i.vecPoints.y=t.fetch_float(),this.m_vecPoints.push(i)}else for(;t.test_symbol("point");){i={vecPoints:{x:0,y:0},stress:0,radius:0};t.assume_symbol("stress"),i.stress=t.fetch_float(),t.assume_symbol("radius"),i.radius=t.fetch_float(),i.vecPoints.x=t.fetch_float()*e,i.vecPoints.y=t.fetch_float()*r,this.m_vecPoints.push(i)}if(this.m_vecPoints.length<2)throw new Error("need more point")},t.prototype.gpu_linear_test=function(t){var e=this.m_context.create_new_texture(128,1,!0),r=this.m_context.create_new_texture(2,1,!0);this.m_context.context().texSubImage2D(this.m_context.context().TEXTURE_2D,0,0,0,2,1,this.m_context.context().RGBA,this.m_context.context().UNSIGNED_BYTE,new Uint8Array([255,255,255,255,0,0,0,255])),this.m_test_shader||(this.m_test_shader=new v(null,this.m_str_testShader,this.m_context.context()));var i=new y(this.m_context.context(),null,this.m_test_shader,128,1,t.m_frameBuffer);i.shader_texture("inputImageTexture",r),i.draw_to(e);var n=new Uint8Array(16);this.m_context.context().bindFramebuffer(this.m_context.context().FRAMEBUFFER,t.m_frameBuffer),this.m_context.context().framebufferTexture2D(this.m_context.context().FRAMEBUFFER,this.m_context.context().COLOR_ATTACHMENT0,this.m_context.context().TEXTURE_2D,e,0),this.m_context.context().readPixels(64,0,4,1,this.m_context.context().RGBA,this.m_context.context().UNSIGNED_BYTE,n),this.m_GPU_precision_error_flag.errorStatus=!1;for(var o=0;o<4;++o)for(var s=0;s<4;s++)s!=o&&n[4*s]==n[4*o]&&(this.m_GPU_precision_error_flag.errorStatus=!0);this.m_GPU_precision_error_flag.haveTest=!0;var a=this.m_context.context().getError();if(a)throw new Error("reshapeMap gpu_linear_test: "+a)},t.prototype.draw_map=function(t,e,r,i){if(this.m_context.context().disable(this.m_context.context().BLEND),this.m_GPU_precision_error_flag.haveTest||this.gpu_linear_test(e),this.init(t,e.m_width,e.m_height),this.m_vecPoints.length){this.m_warp_shader||(this.m_GPU_precision_error_flag.errorStatus?this.m_warp_shader=new v(this.m_str_rectangleShader,this.m_str_warpWithSamplerShader,this.m_context.context()):this.m_warp_shader=new v(this.m_str_rectangleShader,this.m_str_warpShader,this.m_context.context())),this.m_deformMap_buffer||(this.m_deformMap_buffer=this.m_context.create_new_texture(e.m_width,e.m_height));for(var n=0;n<this.m_vecPoints.length-1;++n)for(var o=this.m_vecPoints[n].vecPoints.x,s=this.m_vecPoints[n].vecPoints.y,a=this.m_vecPoints[n+1].vecPoints.x,c=this.m_vecPoints[n+1].vecPoints.y,l=this.m_vecPoints[n+1].stress,u=this.m_vecPoints[n+1].radius,h=a-o,f=c-s,m=Math.sqrt(h*h+f*f),d=Math.floor(4*m/u)+1,p=h/d,_=f/d,g=[p*l,_*l],y=1;y<=d;++y){var b=Math.min(e.m_width,Math.max(0,o+y*p-u)),x=Math.min(e.m_height,Math.max(0,s+y*_-u)),w=Math.min(e.m_width,Math.max(0,o+y*p+u)),S=Math.min(e.m_height,Math.max(0,s+y*_+u)),C=Math.min(S+.5,e.m_height)/e.m_height,T=Math.max(b-.5,0)/e.m_width,E=Math.min(w+.5,e.m_width)/e.m_width,O=Math.max(x-.5,0)/e.m_height,k=new Float32Array([T,O,T,C,E,O,E,C]),A=new Float32Array([T,O,T,C,E,O,E,C]);this.m_context.context().activeTexture(this.m_context.context().TEXTURE0),this.m_context.context().bindTexture(this.m_context.context().TEXTURE_2D,i.current());var M={inputImageTexture:0};this.m_warp_shader.textures(M),this.m_context.context().bindFramebuffer(this.m_context.context().FRAMEBUFFER,e.m_frameBuffer),this.m_context.context().framebufferTexture2D(this.m_context.context().FRAMEBUFFER,this.m_context.context().COLOR_ATTACHMENT0,this.m_context.context().TEXTURE_2D,this.m_deformMap_buffer,0),this.m_context.context().viewport(0,0,e.m_width,e.m_height);var P={};P.pos=[(o+y*p)/e.m_width,(s+y*_)/e.m_height],P.radius=u,P.samplerSteps=[1/e.m_width,1/e.m_height],P.v=[g[0],g[1]],this.m_warp_shader.uniforms(P),this.m_warp_shader.drawRect(k,A),this.m_context.context().copyTexSubImage2D(this.m_context.context().TEXTURE_2D,0,b,x,b,x,w-b,S-x)}var D=this.m_context.context().getError();if(D)throw new Error("reshapeMap draw_map: "+D);this.m_vecPoints=[]}},t.parcerName="reshapeMap",t}(),ee=function(t){function e(e){var r=t.call(this,e)||this;return r.m_angle=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"  uniform vec4 trans; "},e.prototype.shader_procession=function(){return"                vec2 coord = textureCoordinate - vec2(0.5, 0.5);                        coord = vec2(coord.x*trans.x + coord.y*trans.y,                coord.x*trans.z + coord.y*trans.w);                        coord = coord + vec2(0.5, 0.5);                        dst = texture2D(inputImageTexture, coord); "},e.prototype.init=function(t,e,r){this.m_angle=t.fetch_float()},e.prototype.shader_setup=function(t){var e=Math.abs(10*this.m_angle)%1800;90<(e/=10)&&(e=180-e),e=e/180*3.14159265358;var r=Math.sqrt(t.m_width/2*(t.m_width/2)+t.m_height/2*(t.m_height/2)),i=Math.min(t.m_width,t.m_height),n=Math.acos(i/2/r),o=n-e,s=i/2/Math.cos(o),a=s/r;e=this.m_angle/180*3.14159265358;var c=[Math.cos(e)*a,-Math.sin(e)*a*t.m_height/t.m_width,Math.sin(e)*a*t.m_width/t.m_height,Math.cos(e)*a],l={};l.trans=c,t.m_shader.uniforms(l)},e.parcerName="rotation",e}(ht),re=function(t){function e(e){var r=t.call(this,e)||this;return r.m_intensity=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform float intensity;"},e.prototype.shader_procession=function(){return"float lum = (max(max(src.r, src.g),src.b) + min(min(src.r, src.g), src.b)) / 2.0;                dst = vec4(mix(vec3(lum), src.rgb, intensity), src.a);"},e.prototype.init=function(t,e,r){this.m_intensity=t.fetch_float()},e.prototype.shader_setup=function(t){var e={};e.intensity=this.m_intensity,t.m_shader.uniforms(e)},e.parcerName="saturation",e}(ht),ie=function(){function t(t){this.m_shader=null,this.m_radius=0,this.m_context=t,this.m_simplyMosaicShader="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec2 samplerSteps;        uniform float intensity;        uniform float blurPixels;        void main()        {            vec2 coord = floor(textureCoordinate / samplerSteps / blurPixels) * samplerSteps * blurPixels;            vec4 src = texture2D(inputImageTexture, textureCoordinate);            vec4 mosaic = texture2D(inputImageTexture, coord + samplerSteps * 0.5);            gl_FragColor = vec4(mosaic.rgb,src.a);}"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.init(t,r.m_width,r.m_height),this.m_shader||(this.m_shader=new v(null,this.m_simplyMosaicShader,this.m_context.context()));var i=new y(this.m_context.context(),r,this.m_shader);i.shader_texture("inputImageTexture",e.current()),this.shader_setup(i),i.draw_to(e.new_temporary());var n=this.m_context.context().getError();if(n)throw new Error("SimplyMosaic: "+n);e.push_to_current()}catch(t){throw new Error("SimplyMosaic process: "+t)}},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},t.prototype.init=function(t,e,r){t.assume_symbol("radius"),t.test_symbol("relToWidth")?this.m_radius=t.fetch_float(0,1)*e:this.m_radius=t.fetch_float()},t.prototype.shader_setup=function(t){this.m_radius>t.m_width/3&&(this.m_radius=30);var e={};e.blurPixels=this.m_radius,e.samplerSteps=[1/t.m_width,1/t.m_height],t.m_shader.uniforms(e)},t.parcerName="simplyMosaic",t}(),ne=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"const float fh_red = 0.1;                const float fh_yellow = -0.7;                const float fh_green = -0.7;                const float fh_cyan = -0.7;                const float fh_blue = -0.7;                const float fh_magenta = 0.1;"},e.prototype.shader_procession=function(){return"vec3 dst3;                vec3 hsv;                vec3 tmp_s;                float fmax;                float fmin;                float fdelta;                float fs_off;                dst3 = src.rgb;                fmax = max(dst3.r,max(dst3.g,dst3.b));                fmin = min(dst3.r,min(dst3.g,dst3.b));                fdelta = fmax - fmin;                hsv.z = fmax;                if(0.0 == fdelta)                {                    hsv.x = 0.0;                    hsv.y = 0.0;                    tmp_s = dst3;                }                else                {                    hsv.y = fdelta/fmax;                    if(fmax == dst3.r)                    {                        if(dst3.g >= dst3.b)                        {                            hsv.x = (dst3.g - dst3.b)/fdelta;                            fs_off = (fh_yellow - fh_red)*hsv.x + fh_red;                            hsv.y = hsv.y*(1.0 + fs_off);                            hsv.y = min(1.0 , hsv.y);                            hsv.y = max(0.0 , hsv.y);                            dst3.r = hsv.z;                            dst3.b = hsv.z*(1.0 - hsv.y);                            dst3.g = hsv.z*(1.0 - hsv.y + hsv.y*hsv.x);                            tmp_s = dst3;                            hsv.x = 0.658325;                            dst3.r = hsv.z;                            dst3.b = hsv.z*(1.0 - hsv.y);                            dst3.g = hsv.z*(1.0 - hsv.y + hsv.y*hsv.x);                        }                        else                        {                            hsv.x = (dst3.r - dst3.b)/fdelta;                            fs_off = (fh_red - fh_magenta)*hsv.x + fh_magenta;                            hsv.y = hsv.y*(1.0 + fs_off);                            hsv.y = min(1.0 , hsv.y);                            hsv.y = max(0.0 , hsv.y);                            dst3.r = hsv.z;                            dst3.g = hsv.z*(1.0 - hsv.y);                            dst3.b = hsv.z*(1.0 - hsv.y*hsv.x);                            tmp_s = dst3;                            hsv.x = 0.658325;                            dst3.r = hsv.z;                            dst3.g = hsv.z*(1.0 - hsv.y);                            dst3.b = hsv.z*(1.0 - hsv.y*hsv.x);                        }                    }                    else if(fmax == dst3.g)                    {                        if(dst3.r > dst3.b)                        {                            hsv.x = (dst3.g - dst3.r)/fdelta;                            fs_off = (fh_green - fh_yellow)*hsv.x + fh_yellow;                            hsv.y = hsv.y*(1.0 + fs_off);                            hsv.y = min(1.0 , hsv.y);                            hsv.y = max(0.0 , hsv.y);                            dst3.g = hsv.z;                            dst3.r = hsv.z*(1.0 - hsv.y*hsv.x);                            dst3.b = hsv.z*(1.0 - hsv.y);                            tmp_s = dst3;                            hsv.x = 0.658325;                            dst3.g = hsv.z;                            dst3.r = hsv.z*(1.0 - hsv.y*hsv.x);                            dst3.b = hsv.z*(1.0 - hsv.y);                        }                        else                        {                            hsv.x = (dst3.b - dst3.r)/fdelta;                            fs_off = (fh_cyan - fh_green)*hsv.x + fh_green;                            hsv.y = hsv.y*(1.0 + fs_off);                            hsv.y = min(1.0 , hsv.y);                            hsv.y = max(0.0 , hsv.y);                            dst3.g = hsv.z;                            dst3.r = hsv.z*(1.0 - hsv.y);                            dst3.b = hsv.z*(1.0 - hsv.y + hsv.y*hsv.x);                            tmp_s = dst3;                            hsv.x = 0.658325;                            dst3.g = hsv.z;                            dst3.r = hsv.z*(1.0 - hsv.y);                            dst3.b = hsv.z*(1.0 - hsv.y + hsv.y*hsv.x);                        }                    }                    else                    {                        if(dst3.g > dst3.r)                        {                            hsv.x = (dst3.b - dst3.g)/fdelta;                            fs_off = (fh_blue - fh_cyan)*hsv.x + fh_cyan;                            hsv.y = hsv.y*(1.0 + fs_off);                            hsv.y = min(1.0 , hsv.y);                            hsv.y = max(0.0 , hsv.y);                            dst3.b = hsv.z;                            dst3.r = hsv.z*(1.0 - hsv.y);                            dst3.g = hsv.z*(1.0 - hsv.y*hsv.x);                            tmp_s = dst3;                            hsv.x = 0.658325;                            dst3.b = hsv.z;                            dst3.r = hsv.z*(1.0 - hsv.y);                            dst3.g = hsv.z*(1.0 - hsv.y*hsv.x);                        }                        else                        {                            hsv.x = (dst3.r - dst3.g)/fdelta;                            fs_off = (fh_magenta - fh_blue)*hsv.x + fh_blue;                            hsv.y = hsv.y*(1.0 + fs_off);                            hsv.y = min(1.0 , hsv.y);                            hsv.y = max(0.0 , hsv.y);                            dst3.b = hsv.z;                            dst3.r = hsv.z*(1.0 - hsv.y + hsv.y*hsv.x);                            dst3.g = hsv.z*(1.0 - hsv.y);                            tmp_s = dst3;                            hsv.x = 0.658325;                            dst3.b = hsv.z;                            dst3.r = hsv.z*(1.0 - hsv.y + hsv.y*hsv.x);                            dst3.g = hsv.z*(1.0 - hsv.y);                        }                    }                }                dst3.r = hsv.z;                dst3.g = hsv.z*(1.0 - hsv.y);                dst3.b = hsv.z*(1.0 - hsv.y*hsv.x);                dst3 = tmp_s * 0.69 + dst3 * 0.31;                dst = vec4(dst3,src.a);"},e.prototype.init=function(t,e,r){},e.prototype.shader_setup=function(t){},e.parcerName="special",e}(ht),oe=function(t){function e(e){var r=t.call(this,e)||this;return r.m_intensity=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"  uniform float intensity; "},e.prototype.shader_procession=function(){return"                vec3 _dst;                if (src.r < src.g)                {                    if (src.r < src.b)                    {                        _dst.r = src.r + 0.587 * (src.g - src.r) + 0.114 * (src.b - src.r);                        _dst.g = max(src.g, _dst.r);                        _dst.b = max(src.b, _dst.r);                    }                    else                    {                        _dst = src.rgb;                    }                }                else                {                    if (src.g < src.b)                    {                        _dst.g = src.g + 0.299 * (src.r - src.g) + 0.114 * (src.b - src.g);                        _dst.r = max(src.r, _dst.g);                        _dst.b = max(src.b, _dst.g);                    }                    else                    {                        _dst.b = src.b + 0.299 * (src.r - src.b) + 0.587 * (src.g - src.b);                        _dst.r = max(src.r, _dst.b);                        _dst.g = max(src.g, _dst.b);                    }                }                dst = vec4(mix(src.rgb, _dst, intensity), src.a);                "},e.prototype.init=function(t,e,r){this.m_intensity=t.fetch_float()/100},e.prototype.shader_setup=function(t){var e={};e.intensity=this.m_intensity,t.m_shader.uniforms(e)},e.parcerName="teethWhiten",e}(ht),se=function(t){function e(e){var r=t.call(this,e)||this;return r.m_start=0,r.m_range=0,r.m_factor=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec2 vignette;                uniform vec2 vignetteCenter;                uniform float factor;"},e.prototype.shader_procession=function(){return"float d = distance(textureCoordinate, vignetteCenter);                float percent = clamp((d - vignette.x) / vignette.y, 0.0, 1.0);                float alpha = (1.0 - percent*percent)*factor;                dst = vec4(src.rgb * alpha, src.a);"},e.prototype.init=function(t,e,r){this.m_start=t.fetch_float(),this.m_range=t.fetch_float(),t.test_symbol("factor")?this.m_factor=t.fetch_float():this.m_factor=1},e.prototype.shader_setup=function(t){var e={vignetteCenter:[.5,.5]};e.vignette=[this.m_start,this.m_range],e.factor=this.m_factor,t.m_shader.uniforms(e)},e.parcerName="vignette",e}(ht),ae=function(t){function e(e){var r=t.call(this,e)||this;return r.m_start=0,r.m_range=0,r.m_color=[0,0,0,0],r.m_intensity=0,r.m_round=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec2 vignette;                uniform vec2 vignetteCenter;                uniform vec4 vignetteColor;                uniform float intensity;                uniform float vignette_roundness;                uniform vec2 size;"},e.prototype.shader_procession=function(){return"vec2 dist = textureCoordinate - vignetteCenter;                float scalex = mix(1.0, max(1.0, size.x / size.y), vignette_roundness);                float scaley = mix(1.0, max(1.0, size.y / size.x), vignette_roundness);                vec2 size_weight = vec2(scalex, scaley);                dist += dist*(size_weight - 1.0)*float(vignette_roundness >= 0.0);                float order_norm = 1.0 / mix(0.5, 0.05, max(0.0, -vignette_roundness));                float dist_norm = pow(pow(abs(dist.x), order_norm) + pow(abs(dist.y), order_norm), 1.0 / order_norm);                float percent = clamp((dist_norm - vignette.x) / vignette.y, 0.0, 1.0);                percent = percent * percent * (3.0 - 2.0 * percent);                float alpha = 1.0 *intensity*percent;                dst = vec4(vec3(vignetteColor.xyz),alpha);"},e.prototype.init=function(t,e,r){this.m_start=t.fetch_float(),this.m_range=t.fetch_float(),t.assume_symbol("color"),this.m_color[0]=t.fetch_float(0,255),this.m_color[1]=t.fetch_float(0,255),this.m_color[2]=t.fetch_float(0,255),this.m_color[3]=t.fetch_float(0,255),t.assume_symbol("intensity"),this.m_intensity=t.fetch_float(),this.m_round=0,t.test_symbol("round")&&(this.m_round=t.fetch_float())},e.prototype.shader_setup=function(t){var e={vignetteCenter:[.5,.5]};e.vignette=[this.m_start,this.m_range],e.vignetteColor=[this.m_color[0]/255,this.m_color[1]/255,this.m_color[2]/255,this.m_color[3]/255],e.intensity=this.m_intensity,e.vignette_roundness=this.m_round,e.size=[t.m_width,t.m_height],t.m_shader.uniforms(e)},e.parcerName="vignetteAdjust",e}(ht),ce=function(t){function e(e){var r=t.call(this,e)||this;return r.m_temperature=0,r.m_tint=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform float temperature;                uniform float tint;                vec3 whiteBalance(vec3 src, float temp, float tint)                {                    temp = clamp(temp, 1200.0, 12000.0);                    tint = clamp(tint, 0.02, 5.0);                    float xD;                    temp /= 1000.0;                    if(temp < 4.0)                        xD = 0.27475 / (temp * temp * temp) - 0.98598 / (temp * temp) + 1.17444 / temp + 0.145986;                    else if(temp < 7.0)                        xD = -4.6070 / (temp * temp * temp) + 2.9678 / (temp * temp) + 0.09911 / temp + 0.244063;                    else xD = -2.0064 / (temp * temp * temp) + 1.9018 / (temp * temp) + 0.24748 / temp + 0.237040;                    float yD = -3.0 * xD * xD + 2.87 * xD - 0.275;                    float X = xD / yD;                    float Z = (1.0 - xD - yD) / yD;                    vec3 color;                    color.r = X * 3.24074 - 1.53726 - Z * 0.498571;                    color.g = -X * 0.969258 + 1.87599 + Z * 0.0415557;                    color.b = X * 0.0556352 - 0.203996 + Z * 1.05707;                    color.g /= tint;                    color /= max(max(color.r, color.g), color.b);                    color = 1.0 / color;                    color /= color.r * 0.299 + color.g * 0.587 + color.b * 0.114;                    return src * color;                }                vec3 map_color(vec3 src, float lum)                {                    vec3 h = src - lum;                    if(src.r > 1.0)                    {                        float tmp = 1.0 - lum;                        h.g = h.g * tmp / h.r;                        h.b = h.b * tmp / h.r;                        h.r = tmp;                    }                    float t3r = h.b + lum;                    if(t3r < -0.00003)                    {                        src.rg = lum - h.rg * lum / h.b;                        src.b = 0.0;                    }                    else                    {                        src.rg = lum + h.rg;                        src.b = t3r;                    }                    return src;                }                vec3 dispatch(vec3 src)                {                    float lum = dot(src, vec3(0.299, 0.587, 0.114));                    if(src.g > src.b)                    {                        if(src.r > src.g)                        {                            src = map_color(src, lum);                        }                        else if(src.r > src.b)                        {                            src.grb = map_color(src.grb, lum);                        }                        else                        {                            src.gbr = map_color(src.gbr, lum);                        }                    }                    else                    {                        if(src.g > src.r)                        {                            src.bgr = map_color(src.bgr, lum);                        }                        else if(src.b > src.r)                        {                            src.brg = map_color(src.brg, lum);                        }                        else                        {                            src.rbg = map_color(src.rbg, lum);                        }                    }                    return src;                }                "},e.prototype.shader_procession=function(){return"src.rgb = dispatch(whiteBalance(src.rgb, temperature, tint));                dst = src;"},e.prototype.init=function(t,e,r){this.m_temperature=t.fetch_float(),this.m_temperature=5400*this.m_temperature+6500,this.m_tint=t.fetch_float()},e.prototype.shader_setup=function(t){var e={};e.temperature=this.m_temperature,e.tint=this.m_tint,t.m_shader.uniforms(e)},e.parcerName="whiteBalance",e}(ht),le=function(){function t(){this.m_src_width=0,this.m_src_height=0,this.m_dst_width=0,this.m_dst_height=0,this.m_x_start=0,this.m_y_start=0,this.m_emb_width=0,this.m_emb_height=0}return t.prototype.get_trans=function(t){t[0]=this.m_dst_width/this.m_emb_width,t[1]=this.m_dst_height/this.m_emb_height,t[2]=-this.m_x_start/this.m_emb_width,t[3]=-this.m_y_start/this.m_emb_height},t.prototype.get_rev_trans=function(t){t[0]=this.m_emb_width/this.m_dst_width,t[1]=this.m_emb_height/this.m_dst_height,t[2]=this.m_x_start/this.m_dst_width,t[3]=this.m_y_start/this.m_dst_height},t}(),ue=function(t){function e(e){var r=t.call(this)||this;return r.m_shader=null,r.m_context=e,r.m_str_fshFragDownProcTemplate="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec2 sft;            vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate + sft * cd);        }            void main()        {            vec4 dst;        %s                gl_FragColor = dst;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_str_fshFragDownProcTemplate.replace(/%s/g,this.shader_procession());this.m_shader||(this.m_shader=new v(null,o,this.m_context.context()));var s=new y(this.m_context.context(),null,this.m_shader,r,i,n);s.shader_texture("inputImageTexture",e);var a={};a.sft=[1/r,1/i],s.m_shader.uniforms(a),s.draw_to(t);var c=this.m_context.context().getError();if(c)throw new Error("FragDownProcTemplate: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),he=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.shader_procession=function(){return"vec4 src = get_sample(vec2(-0.25,-0.25));        dst =  src * src * src;        src = get_sample(vec2( 0.25,-0.25));        dst += src * src * src;        src = get_sample(vec2(-0.25, 0.25));        dst += src * src * src;        src = get_sample(vec2( 0.25, 0.25));        dst += src * src * src;        dst = pow(dst * vec4(0.25),vec4(1.0 / 3.0));"},e}(ue),fe=function(t){function e(e){var r=t.call(this)||this;return r.m_shader=null,r.m_context=e,r.m_str_fshFragFilterProcTemplate="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec2 sft;            vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate + sft * cd);        }            void main()        {            vec4 dst = vec4(0.0);            %s                gl_FragColor = dst;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){if(!this.m_shader){var o=this.m_str_fshFragFilterProcTemplate.replace(/%s/g,this.shader_procession());this.m_shader=new v(null,o,this.m_context.context())}var s=new y(this.m_context.context(),null,this.m_shader,r,i,n);s.shader_texture("inputImageTexture",e);var a={};a.sft=[1/r,1/i],s.m_shader.uniforms(a),s.draw_to(t);var c=this.m_context.context().getError();if(c)throw new Error("FragFilterProcTemplate: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),me=function(t){function e(e,r){var i=t.call(this)||this;return i.m_shader=null,i.m_context=e,i.m_num=r,i.m_str_fshFragFilterProcTemplate="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec2 sft;            vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate + sft * cd);        }            void main()        {            vec4 dst = vec4(0.0);            %s                gl_FragColor = dst;        }",i}return i(e,t),e.prototype.process=function(t,e,r,i,n){if(!this.m_shader){for(var o="varying vec2 textureCoordinate;            uniform vec2 sft;",s=0;s<this.m_num;++s)o+="uniform sampler2D inputImageTexture"+(s+1).toString()+";                ";for(s=0;s<this.m_num;++s)o+="vec4 get_sample"+(s+1).toString()+"(vec2 cd){                ",o+="return texture2D(inputImageTexture"+(s+1).toString()+", textureCoordinate + sft * cd);}                ";o+="void main(){ vec4 dst = vec4(0.0);            ",o+=this.shader_procession(),o+="gl_FragColor = dst;}",this.m_shader=new v(null,o,this.m_context.context())}var a=new y(this.m_context.context(),null,this.m_shader,r,i,n);for(s=0;s<this.m_num;++s)a.shader_texture("inputImageTexture"+(s+1).toString(),e[s]);var c={};c.sft=[1/r,1/i],a.m_shader.uniforms(c),a.draw_to(t);var l=this.m_context.context().getError();if(l)throw new Error("FragMultiFilterProcTemplate: "+l)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),de=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.shader_procession=function(){return"vec4 src = get_sample(vec2(-1.0,-1.0));        dst =  src * src * src;        src = get_sample(vec2( 0.0,-1.0));        dst += src * src * src;        src = get_sample(vec2(-1.0, 0.0));        dst += src * src * src;        src = get_sample(vec2( 0.0, 0.0));        dst += src * src * src;        dst = pow(dst * vec4(0.25),vec4(1.0 / 3.0));        "},e}(fe),pe=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.shader_procession=function(){return"vec4 src = get_sample(vec2(-1.0, 0.0));        dst =  src * src * src;        src = get_sample(vec2( 1.0, 0.0));        dst += src * src * src;        dst = pow(dst * vec4(0.5),vec4(1.0 / 3.0));        "},e}(fe),_e=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.shader_procession=function(){return"vec4 src = get_sample(vec2(-2.0,-1.0));        dst =  src * src * src;        src = get_sample(vec2(-2.0, 1.0));        dst += src * src * src;        src = get_sample(vec2( 2.0,-1.0));        dst += src * src * src;        src = get_sample(vec2( 2.0, 1.0));        dst += src * src * src;        dst = pow(dst * vec4(0.25),vec4(1.0 / 3.0));        "},e}(fe),ge=function(t){function e(e){return t.call(this,e,2)||this}return i(e,t),e.prototype.shader_procession=function(){return"vec4 src = get_sample1(vec2(-1.0,-2.0));        dst += src * src * src;        src = get_sample1(vec2( 0.0,-2.0));        dst += src * src * src;        src = get_sample1(vec2(-1.0, 1.0));        dst += src * src * src;        src = get_sample1(vec2( 0.0, 1.0));        dst += src * src * src;        dst *= vec4(0.25);        src = get_sample2(vec2(-1.0,0.0));        dst += src * src * src;        src = get_sample2(vec2( 1.0,0.0));        dst += src * src * src;        dst = pow(dst * vec4(1.0 / 3.0),vec4(1.0 / 3.0));        "},e}(me),ve=function(t){function e(e){return t.call(this,e,2)||this}return i(e,t),e.prototype.shader_procession=function(){return"vec4 src = get_sample1(vec2(-3.0,-3.0));        dst += src * src * src;        src = get_sample1(vec2( 2.0,-3.0));        dst += src * src * src;        src = get_sample1(vec2(-3.0, 2.0));        dst += src * src * src;        src = get_sample1(vec2( 2.0, 2.0));        dst += src * src * src;        dst *= vec4(0.125);        src = get_sample2(vec2( 0.0,-3.0));        dst += src * src * src;        src = get_sample2(vec2(-2.0,-1.0));        dst += src * src * src;        src = get_sample2(vec2( 2.0,-1.0));        dst += src * src * src;        src = get_sample2(vec2(-2.0, 1.0));        dst += src * src * src;        src = get_sample2(vec2( 2.0, 1.0));        dst += src * src * src;        src = get_sample2(vec2( 0.0, 3.0));        dst += src * src * src;        dst = pow(dst * vec4(1.0 / 6.5),vec4(1.0 / 3.0));        "},e}(me),ye=function(t){function e(e){return t.call(this,e,3)||this}return i(e,t),e.prototype.shader_procession=function(){return"vec4 src = get_sample1(vec2(-5.0,6.0));        dst = src * src * src;        src = get_sample1(vec2( 4.0,6.0));        dst += src * src * src;        src = get_sample1(vec2(-7.0,4.0));        dst += src * src * src;        src = get_sample1(vec2( 6.0,4.0));        dst += src * src * src;        src = get_sample1(vec2(-7.0,-5.0));        dst += src * src * src;        src = get_sample1(vec2( 6.0,-5.0));        dst += src * src * src;        src = get_sample1(vec2(-5.0,-7.0));        dst += src * src * src;        src = get_sample1(vec2( 4.0,-7.0));        dst += src * src * src;        dst *= vec4(0.125);        src = get_sample2(vec2( 2.0,7.0));        dst += src * src * src;        src = get_sample2(vec2(-2.0,7.0));        dst += src * src * src;        src = get_sample2(vec2( 4.0,5.0));        dst += src * src * src;        src = get_sample2(vec2( 0.0,5.0));        dst += src * src * src;        src = get_sample2(vec2(-4.0,5.0));        dst += src * src * src;        src = get_sample2(vec2( 4.0,-5.0));        dst += src * src * src;        src = get_sample2(vec2( 0.0,-5.0));        dst += src * src * src;        src = get_sample2(vec2(-4.0,-5.0));        dst += src * src * src;        src = get_sample2(vec2( 2.0,-7.0));        dst += src * src * src;        src = get_sample2(vec2(-2.0,-7.0));        dst += src * src * src;        dst *= vec4(0.25);        src = get_sample3(vec2(-4.0,2.0));        dst += src * src * src;        src = get_sample3(vec2( 4.0,2.0));        dst += src * src * src;        src = get_sample3(vec2(-4.0,-2.0));        dst += src * src * src;        src = get_sample3(vec2( 4.0,-2.0));        dst += src * src * src;        dst = pow(dst * vec4(1.0 / 6.75),vec4(1.0 / 3.0));        "},e}(me),be=function(){function t(t){this.m_shader=null,this.m_m1=new Array(4),this.m_m2=new Array(4),this.m_trans=new Array(4),this.m_center=new Array(2),this.m_th=0,this.m_bsth=0,this.m_context=t,this.m_str_fshTiltShiftResizeProc="\tvarying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D inputImageTextureS1;        uniform sampler2D inputImageTextureS2;        uniform vec4 m1;        uniform vec4 m2;        uniform mat2 trans;        uniform vec2 center;        uniform float th;        uniform float bsth;                void main()        {            vec4 src;                vec2 subtc = textureCoordinate;                vec2 ncodin = (subtc - center) * trans;            float p = sqrt(dot(ncodin,ncodin)) - th;                vec4 c1 = texture2D(inputImageTexture,textureCoordinate);            vec4 c2 = texture2D(inputImageTextureS1, subtc * m1.xy + m1.zw);            vec4 c3 = texture2D(inputImageTextureS2, subtc * m2.xy + m2.zw);                    float fac = fract(max(log(max(p,bsth)) * -1.44269504,0.0));            fac = min((1.0 - fac),fac) * 2.0;                src = mix(c2,c3,vec4(clamp(fac * 2.0 - 0.5,0.0,1.0)));                src = mix(c1,src,clamp(p / bsth,0.0,1.0));                gl_FragColor = src;        }",this.m_str_fshFragTiltShiftUpTopProc="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D inputImageTexture1;        uniform sampler2D inputImageTexture2;        uniform sampler2D inputImageTextureUp;        uniform vec2 upsft;        uniform mat2 trans;        uniform vec2 pos;        uniform vec3 th;            void main()        {            vec4 src;                vec2 ncodin = (textureCoordinate - pos) * trans;                float dt = dot(ncodin,ncodin);                if(dt < th.z)            {                src = texture2D(inputImageTexture2, textureCoordinate);            }            else if(dt < th.y)            {                src = texture2D(inputImageTexture1, textureCoordinate);            }            else if(dt < th.x)            {                src = texture2D(inputImageTexture, textureCoordinate);            }            else            {                src = texture2D(inputImageTextureUp, textureCoordinate + upsft);            }                    gl_FragColor = src;        }"}return t.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshTiltShiftResizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("inputImageTextureS1",e[1]),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MIN_FILTER,this.m_context.context().LINEAR),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MAG_FILTER,this.m_context.context().LINEAR),o.shader_texture("inputImageTextureS2",e[2]),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MIN_FILTER,this.m_context.context().LINEAR),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MAG_FILTER,this.m_context.context().LINEAR);var s={};s.m1=this.m_m1,s.m2=this.m_m2,s.center=[this.m_center[0],this.m_center[1]],s.th=this.m_th,s.bsth=this.m_bsth;var a={};a.trans=this.m_trans,o.m_shader.uniformMat4(a),o.m_shader.uniforms(s),o.draw_to(t),this.m_context.context().bindTexture(this.m_context.context().TEXTURE_2D,e[1]),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MIN_FILTER,this.m_context.context().LINEAR),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MAG_FILTER,this.m_context.context().LINEAR),this.m_context.context().bindTexture(this.m_context.context().TEXTURE_2D,e[2]),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MIN_FILTER,this.m_context.context().NEAREST),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MAG_FILTER,this.m_context.context().NEAREST);var c=this.m_context.context().getError();if(c)throw new Error("FragTiltShiftResizeProc: "+c)},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},t}(),xe=function(t){function e(e){var r=t.call(this)||this;return r.m_shader=null,r.m_shader_top=null,r.m_top=!1,r.m_th=new Array(3),r.m_us_x=0,r.m_us_y=0,r.m_px=0,r.m_py=0,r.m_context=e,r.m_str_fshFragTiltShiftUpProc="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D inputImageTextureUp;        uniform vec2 upsft;        uniform mat2 trans;        uniform vec2 pos;        uniform float th;            void main()        {            vec4 src;                vec2 ncodin = (textureCoordinate - pos) * trans;                if(dot(ncodin,ncodin) < th)            {                src = texture2D(inputImageTexture, textureCoordinate);            }            else            {                src = texture2D(inputImageTextureUp, textureCoordinate + upsft);            }                    gl_FragColor = src;        }        ",r.m_str_fshFragTiltShiftUpTopProc="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D inputImageTexture1;        uniform sampler2D inputImageTexture2;        uniform sampler2D inputImageTextureUp;        uniform vec2 upsft;        uniform mat2 trans;        uniform vec2 pos;        uniform vec3 th;            void main()        {            vec4 src;                vec2 ncodin = (textureCoordinate - pos) * trans;                float dt = dot(ncodin,ncodin);                if(dt < th.z)            {                src = texture2D(inputImageTexture2, textureCoordinate);            }            else if(dt < th.y)            {                src = texture2D(inputImageTexture1, textureCoordinate);            }            else if(dt < th.x)            {                src = texture2D(inputImageTexture, textureCoordinate);            }            else            {                src = texture2D(inputImageTextureUp, textureCoordinate + upsft);            }                    gl_FragColor = src;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o;(o=this.m_top?(this.m_shader_top||(this.m_shader_top=new v(null,this.m_str_fshFragTiltShiftUpTopProc,this.m_context.context())),new y(this.m_context.context(),null,this.m_shader_top,r,i,n)):(this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragTiltShiftUpProc,this.m_context.context())),new y(this.m_context.context(),null,this.m_shader,r,i,n))).shader_texture("inputImageTexture",e[0]),o.shader_texture("inputImageTextureUp",e[1]),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MIN_FILTER,this.m_context.context().LINEAR),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MAG_FILTER,this.m_context.context().LINEAR);var s={};this.m_top?(o.shader_texture("inputImageTexture1",e[2]),o.shader_texture("inputImageTexture2",e[3]),s.th=this.m_th):s.th=this.m_th[0],s.upsft=[this.m_us_x,this.m_us_y];var a={};a.trans=this.m_m,o.m_shader.uniformMat4(a),s.pos=[this.m_px,this.m_py],o.m_shader.uniforms(s),o.draw_to(t),this.m_context.context().bindTexture(this.m_context.context().TEXTURE_2D,e[1]),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MIN_FILTER,this.m_context.context().NEAREST),this.m_context.context().texParameteri(this.m_context.context().TEXTURE_2D,this.m_context.context().TEXTURE_MAG_FILTER,this.m_context.context().NEAREST);var c=this.m_context.context().getError();if(c)throw new Error("FragTiltShiftUpProc: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null),this.m_shader_top&&(this.m_shader_top.destroy(),this.m_shader_top=null)},e}(Xt),we=function(){function t(t){this.m_x_ofs=0,this.m_y_ofs=0,this.m_shader=null,this.m_context=t,this.m_str_fshEmbedFilter="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;            void main()        {            gl_FragColor = texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw);        }"}return t.prototype.process=function(t,e,r,i,n,o,s){var a=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshEmbedFilter,a));var c,l,u=new y(a,null,this.m_shader,r,i,s);u.shader_texture("inputImageTexture",e),c=a.getTexParameter(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER),l=a.getTexParameter(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER),a.NEAREST==c&&a.NEAREST==l||(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST));var h=[];h[0]=r/n,h[1]=i/o,h[2]=-this.m_x_ofs/n,h[3]=-this.m_y_ofs/o;var f={};f.m=h,u.m_shader.uniforms(f),u.draw_to(t),a.NEAREST==c&&a.NEAREST==l||(a.bindTexture(a.TEXTURE_2D,e),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,c),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,l));var m=a.getError();if(m)throw new Error("EmbedFilter: "+m)},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},t}(),Se=function(){function t(t,e,r,i,n,o){if(void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o=0),this.m_size=new Array,this.m_base_images=new Array,this.m_embed_filter=null,this.m_base_level=-1,this.m_base_size=-1,this.m_base_xo=0,this.m_base_yo=0,this.m_context=t,this.m_factor=e,this.m_param=i,this.m_progressive=n,this.m_ctn=o){for(var s=Math.max(e.m_dst_width,e.m_dst_height),a=o;a<s;)n&&(this.m_size[this.m_size.length]={width:a/2,height:a}),this.m_size[this.m_size.length]={width:a,height:a},a*=2;!this.m_size.length||a==e.m_dst_width&&a==e.m_dst_height?this.m_ctn=0:(this.m_base_level=this.m_size.length,this.m_base_size=a,this.m_base_xo=(e.m_dst_width-a)/2,this.m_base_xo=this.m_base_xo<0?Math.ceil(this.m_base_xo):Math.floor(this.m_base_xo),this.m_base_yo=(e.m_dst_height-a)/2,this.m_base_yo=this.m_base_yo<0?Math.ceil(this.m_base_yo):Math.floor(this.m_base_yo))}for(var c=this.m_factor.m_dst_width,l=this.m_factor.m_dst_height;this.m_progressive&&this.m_size.length&&(this.m_size[this.m_size.length]={width:c/2,height:l}),this.m_size[this.m_size.length]={width:c,height:l},l*=2,(c*=2)<this.m_factor.m_src_width&&l<this.m_factor.m_src_height&&c<r&&l<r;);this.m_images=new Array(this.m_size.length);for(var u=0;u<this.m_images.length;++u)this.m_images[u]=[];this.m_start=0,this.m_end=this.m_images.length,this.map_create(0)}return t.prototype._create_=function(t,e,r){var i=!1;return r&&(i=r),this.m_context.create_new_texture(t,e,i)},t.prototype.map_create=function(t,e){if("top"!=e){if("back"!=e){if("number"!=typeof e){for(var r=this.m_start;r<this.m_end;++r)if(this.m_images[r].length==t)this.m_images[r].push(this._create_(this.m_size[r].width,this.m_size[r].height,this.m_param));else if(this.m_images[r].length<t)throw"CGEPyramid::map_create";if(this.m_ctn&&this.m_start<=this.m_base_level&&this.m_base_level<this.m_end)if(this.m_base_images.length==t)this.m_base_images.push(this._create_(this.m_base_size,this.m_base_size,this.m_param));else if(this.m_base_images.length<t)throw"CGEPyramid::map_create"}else if(this.m_images[e].length==t)this.m_images[e].push(this._create_(this.m_size[e].width,this.m_size[e].height,this.m_param));else if(this.m_images[e].length<t)throw"CGEPyramid::map_create"}else if(this.m_images[this.m_end-1].length==t)this.m_images[this.m_end-1].push(this._create_(this.m_size[this.m_end-1].width,this.m_size[this.m_end-1].height,this.m_param));else if(this.m_images[this.m_end-1].length<t)throw"CGEPyramid::map_create"}else if(this.m_images[0].length==t)this.m_images[0].push(this._create_(this.m_size[0].width,this.m_size[0].height,this.m_param));else if(this.m_images[0].length<t)throw"CGEPyramid::map_create"},t.prototype.destroy=function(){this.m_embed_filter&&this.m_embed_filter.destroy();for(var t=[];this.m_images.length;){for(;this.m_images[this.m_images.length-1].length;)this.m_images[this.m_images.length-1][this.m_images[this.m_images.length-1].length-1]&&t.push(this.m_images[this.m_images.length-1][this.m_images[this.m_images.length-1].length-1]),this.m_images[this.m_images.length-1][this.m_images[this.m_images.length-1].length-1]=null,this.m_images[this.m_images.length-1].pop();this.m_images[this.m_images.length-1]=[],this.m_images.pop()}for(;this.m_base_images.length;)t.push(this.m_base_images[this.m_base_images.length-1]),this.m_base_images[this.m_base_images.length-1]=null,this.m_base_images.pop();if(t.length)for(var e=0;e<t.length;++e)this.m_context.context().deleteTexture(t[e]);this.m_size=[]},t.prototype.load_from=function(t,e,r){this.m_factor.get_trans(t.m_m),t.process(this.m_images[this.m_images.length-1][0],e,this.m_size[this.m_size.length-1].width,this.m_size[this.m_size.length-1].height,r)},t.prototype.base_move_up=function(t,e){if(this.m_ctn){this.m_embed_filter||(this.m_embed_filter=new we(this.m_context));var r=this.m_size[this.m_base_level].width,i=this.m_size[this.m_base_level].height;this.move_to(this.m_embed_filter,this.m_images[this.m_base_level][t],this.m_base_images[t],r,i,this.m_base_size,this.m_base_size,this.m_base_xo,this.m_base_yo,e)}},t.prototype.base_move_down=function(t,e){if(this.m_ctn){this.m_embed_filter||(this.m_embed_filter=new we(this.m_context));var r=this.m_size[this.m_base_level].width,i=this.m_size[this.m_base_level].height;this.move_to(this.m_embed_filter,this.m_base_images[t],this.m_images[this.m_base_level][t],this.m_base_size,this.m_base_size,r,i,-this.m_base_xo,-this.m_base_yo,e)}},t.prototype.draw_downward=function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);for(var n=this.m_images.length-2;r<=n;--n)this.m_ctn&&n+1==this.m_base_level?(this.base_move_down(i,e),t.process(this.m_images[n][i],this.m_base_images[i],this.m_size[n].width,this.m_size[n].height,e)):t.process(this.m_images[n][i],this.m_images[n+1][i],this.m_size[n].width,this.m_size[n].height,e)},t.prototype.map1=function(t,e,r,i){this.map_create(e);for(var n=this.m_start;n<this.m_end;++n)t.process(this.m_images[n][e],this.m_images[n][r],this.m_size[n].width,this.m_size[n].height,i)},t.prototype.mapN=function(t,e,r,i,n){this.map_create(e);for(var o=this.m_start;o<this.m_end;++o){for(var s=new Array(10),a=0;a<i;++a)s[a]=this.m_images[o][r[a]];t.process(this.m_images[o][e],s,this.m_size[o].width,this.m_size[o].height,n)}},t.prototype.move_to=function(t,e,r,i,n,o,s,a,c,l){t.m_x_ofs=a,t.m_y_ofs=c,t.process(e,r,i,n,o,s,l)},t}(),Ce=function(){function t(t){this.m_pyramid_gpu=new Array(2),this.m_width=0,this.m_height=0,this.m_last_src="",this.m_aperture=0,this.m_nx=0,this.m_ny=0,this.m_cx=0,this.m_cy=0,this.m_ms=0,this.m_start=0,this.m_inv_fac=0,this.m_context=t,this.m_factor=[new le,new le],this.m_up_filter=new xe(this.m_context),this.m_up_resize_filter=new be(this.m_context),this.m_linear_resize_filter=new Wt(this.m_context),this.m_nearest_resize_filter=new Wt(this.m_context),this.m_down_filter=new he(this.m_context),this.m_2x2_filter=new de(this.m_context),this.m_2x2x2_filter=new pe(this.m_context),this.m_2x4x4_filter=new _e(this.m_context),this.m_micro_filter=new ge(this.m_context),this.m_small_filter=new ve(this.m_context),this.m_big_filter=new ye(this.m_context)}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.inter_process(t,this.m_pyramid_gpu,e.new_temporary(),e.current(),r.m_width,r.m_height,r.m_frameBuffer);var i=this.m_context.context().getError();if(i)throw new Error("TiltShift: "+i);e.push_to_current()}catch(t){throw new Error("TiltShift process: "+t)}},t.prototype.destroy=function(){this.clear(),this.m_up_filter.destroy(),this.m_up_resize_filter.destroy(),this.m_linear_resize_filter.destroy(),this.m_nearest_resize_filter.destroy(),this.m_down_filter.destroy(),this.m_2x2_filter.destroy(),this.m_2x2x2_filter.destroy(),this.m_2x4x4_filter.destroy(),this.m_micro_filter.destroy(),this.m_small_filter.destroy(),this.m_big_filter.destroy()},t.prototype.size_change=function(t,e){this.m_width==t&&this.m_height==e||(this.m_width=t,this.m_height=e,this.m_last_src="",this.cal_embed(this.m_factor[0],this.m_width,this.m_height,256),this.cal_embed(this.m_factor[1],this.m_width,this.m_height,362),this.clear())},t.prototype.inter_process=function(t,e,r,i,n,o,s){this.size_change(n,o),e[0]||(e[0]=new Se(this.m_context,this.m_factor[0],1500),e[1]=new Se(this.m_context,this.m_factor[1],1500),this.m_last_src=""),t.get_log()!=this.m_last_src&&(this.draw_temp_textures(e[0],i,s),this.draw_temp_textures(e[1],i,s),this.m_last_src=t.get_log()),this.init(t),this.draw_up_textures(e[0],s,0),this.draw_up_textures(e[1],s,1),this.m_up_resize_filter.m_m1[0]=this.m_factor[0].m_emb_width/this.m_factor[0].m_dst_width,this.m_up_resize_filter.m_m1[1]=this.m_factor[0].m_emb_height/this.m_factor[0].m_dst_height,this.m_up_resize_filter.m_m1[2]=.5/e[0].m_size[e[0].m_size.length-1].width,this.m_up_resize_filter.m_m1[3]=.5/e[0].m_size[e[0].m_size.length-1].height,this.m_up_resize_filter.m_m2[0]=this.m_factor[1].m_emb_width/this.m_factor[1].m_dst_width,this.m_up_resize_filter.m_m2[1]=this.m_factor[1].m_emb_height/this.m_factor[1].m_dst_height,this.m_up_resize_filter.m_m2[2]=.5/e[1].m_size[e[1].m_size.length-1].width,this.m_up_resize_filter.m_m2[3]=.5/e[1].m_size[e[1].m_size.length-1].height,new Array(4);var a=this.cal_fac(this.m_up_resize_filter.m_trans);this.m_up_resize_filter.m_center[0]=a.px,this.m_up_resize_filter.m_center[1]=a.py,this.m_up_resize_filter.m_th=a.th,this.m_up_resize_filter.m_bsth=Math.pow(.5,.5*(e[0].m_images.length+e[1].m_images.length+6-1));var c=new Array(3);c[0]=i,c[1]=e[0].m_images[e[0].m_images.length-1][0],c[2]=e[1].m_images[e[1].m_images.length-1][0],this.m_up_resize_filter.process(r,c,n,o,s)},t.prototype.init=function(t){switch(t.assume_symbol("aperture"),this.m_aperture=t.fetch_float(),t.lookup_symbol(["angleAng","angleRad","angleVec",0],!0)){case 0:var e=3.14159265*t.fetch_float()/180;this.m_nx=Math.cos(e),this.m_ny=Math.sin(e);break;case 1:e=t.fetch_float();this.m_nx=Math.cos(e),this.m_ny=Math.sin(e);break;case 2:this.m_nx=t.fetch_float(),this.m_ny=t.fetch_float();var r=1/Math.sqrt(this.m_nx*this.m_nx+this.m_ny*this.m_ny);this.m_nx*=r,this.m_ny*=r;break;default:throw"CGETiltshiftParser::init"}t.assume_symbol("measuringScale"),this.m_ms=t.lookup_symbol(["pixel","width","height","longEdge","relative",0],!0),t.assume_symbol("center"),this.m_cx=t.fetch_float(),this.m_cy=t.fetch_float();var i=t.lookup_symbol(["vector","ellipse",0],!0);if(0==i)this.m_start=t.fetch_float(),this.m_inv_fac=0;else{var n=t.fetch_float(),o=t.fetch_float();if(n<o)this.m_start=n,this.m_inv_fac=this.m_start/(o+1e-5);else{this.m_start=o,this.m_inv_fac=this.m_start/(n+1e-5);var s=void 0;s=this.m_nx,this.m_nx=this.m_ny,this.m_ny=s,this.m_nx=-this.m_nx}}},t.prototype.cal_embed=function(t,e,r,i){var n,o,s,a;r<=0||e<=0||(a=r<e?(o=((n=i)-1)*r/e,(i-1)*r%e&&++o,++o,(s=i-1)*r/e):(n=(i-1)*e/r,((o=i)-1)*e%r&&++n,++n,s=(i-1)*e/r,i-1),t.m_src_width=e,t.m_src_height=r,t.m_dst_width=n,t.m_dst_height=o,t.m_x_start=0,t.m_y_start=0,t.m_emb_width=s,t.m_emb_height=a)},t.prototype.cal_fac=function(t){t[0]=-this.m_ny,t[1]=this.m_nx,t[2]=this.m_nx,t[3]=this.m_ny;var e=Math.max(this.m_width,this.m_height),r=.5*e*this.m_aperture/1.4,i=[1*this.m_inv_fac/r,0,0,1/r],n=[this.m_width,0,0,this.m_height];t[0]*=i[0]*n[0],t[1]*=i[0]*n[3],t[2]*=i[3]*n[0],t[3]*=i[3]*n[3];var o=1,s=1,a=1;switch(this.m_ms){case 0:break;case 1:o=s=a=this.m_width;break;case 2:o=s=a=this.m_height;break;case 3:o=s=a=e;break;case 4:o=this.m_width,s=this.m_height,a=e}var c={px:0,py:0,th:0};return c.px=o*this.m_cx/this.m_width,c.py=s*this.m_cy/this.m_height,c.th=a*this.m_start/r,c},t.prototype.correct_fac=function(t,e,r,i,n,o,s){var a=i.m_dst_width/i.m_emb_width,c=i.m_dst_height/i.m_emb_height;t[0]*=a,t[1]*=c,t[2]*=a,t[3]*=c;var l={px:0,py:0,fac:0};return l.fac=Math.pow(.5,.5*(n+1)),l.px=e/a+o,l.py=r/c+s,l},t.prototype.clear=function(){this.m_pyramid_gpu[0]&&this.m_pyramid_gpu[0].destroy(),this.m_pyramid_gpu[1]&&this.m_pyramid_gpu[1].destroy(),this.m_pyramid_gpu=[]},t.prototype.draw_temp_textures=function(t,e,r){t.load_from(this.m_linear_resize_filter,e,r),t.draw_downward(this.m_down_filter,r),t.map1(this.m_2x2_filter,1,0,r),t.map1(this.m_2x2x2_filter,2,1,r);var i=new Array(3);i[0]=0,i[1]=2,t.mapN(this.m_small_filter,3,i,2,r),t.m_end=1,t.map1(this.m_2x4x4_filter,4,2,r),i[2]=4,t.mapN(this.m_big_filter,5,i,3,r),t.m_end=t.m_images.length,t.m_start=t.m_images.length-1,i[1]=1,t.mapN(this.m_micro_filter,2,i,2,r),t.m_start=0},t.prototype.draw_up_textures=function(t,e,r){for(var i=0;i<t.m_images.length;++i){var n=this.m_up_filter.m_m,o=(this.m_up_filter.m_px,void this.m_up_filter.m_py),s=void 0,a=t.m_size[i],c=.5/a.width,l=.5/a.height,u=this.cal_fac(n);o=u.th;var h=this.correct_fac(n,u.px,u.py,t.m_factor,2*i+r,c,l);this.m_up_filter.m_px=h.px,this.m_up_filter.m_py=h.py,this.m_up_filter.m_m=n,s=h.fac,this.m_up_filter.m_th[0]=(o+1*s)*(o+1*s),this.m_up_filter.m_th[1]=(o+.5*s)*(o+.5*s),this.m_up_filter.m_th[2]=(o+.25*s)*(o+.25*s);var f=new Array(4);f[0]=t.m_images[i][3],f[2]=t.m_images[i][2],f[3]=t.m_images[i][1],i?(f[1]=t.m_images[i-1][0],this.m_up_filter.m_us_x=c,this.m_up_filter.m_us_y=l):(f[1]=f[1]=t.m_images[i][5],this.m_up_filter.m_us_x=0,this.m_up_filter.m_us_y=0),i==t.m_images.length-1?this.m_up_filter.m_top=!0:this.m_up_filter.m_top=!1,this.m_up_filter.process(t.m_images[i][0],f,a.width,a.height,e)}},t.parcerName="tiltShift",t}(),Te=function(){function t(t){this.m_list=et.CreateBlendMap(),this.m_reOpacity=0,this.m_pos=[],this.pos=[],this.m_size=[],this.m_view_layer=!1,this.m_view_num=0,this.m_tex_name="",this.m_cname="",this.m_alpha=0,this.m_blend_mode=0,this.m_trans_mode=0,this.m_alignMode=0,this.m_trans_tile=0,this.m_stick_size=0,this.m_painter_alpha=0,this.m_flag=0,this.m_texturelocker=null,this.m_context=t}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{(new Date).getTime();var i=this.m_context.context();if(this.init(t),!this.m_item)throw new Error("blend process with no shader");var n=new y(i,r,this.m_item.check_shader(this.m_blend_mode,i));switch(n.shader_texture("inputImageTexture",e.current()),this.m_blend_mode){case 0:if(this.m_texturelocker=this.m_context.get_resource_texture(this.m_tex_name),!this.m_texturelocker)throw new Error("blend m_tex_name "+this.m_tex_name);n.shader_texture("blendTexture",this.m_texturelocker.texture),this.cal_trans_shader(r.m_width,r.m_height,this.m_texturelocker.width,this.m_texturelocker.height,n);var o={};o.opacity=this.m_alpha,o.flag=this.m_flag,n.m_shader.uniforms(o);break;case 1:case 2:case 3:case 4:case 5:var s=void 0;if((s=this.m_view_layer?e.load_view(this.m_view_num):e.load_channel(this.m_cname))||t.error("invalid layer name",[this.m_cname]),n.shader_texture("blendTexture",s),1==this.m_blend_mode){if(this.m_texturelocker=this.m_context.get_resource_texture(this.m_tex_name),!this.m_texturelocker)throw new Error("blend m_tex_name "+this.m_tex_name);n.shader_texture("alphaTexture",this.m_texturelocker.texture),this.cal_trans_shader(r.m_width,r.m_height,this.m_texturelocker.width,this.m_texturelocker.height,n);var a={};a.flag=this.m_flag,n.m_shader.uniforms(a)}else if(4==this.m_blend_mode){var c=void 0;(c=e.load_channel(this.m_tex_name))||t.error("invalid layer name",[this.m_tex_name]),n.shader_texture("alphaTexture",c)}else if(5==this.m_blend_mode){var l=this.m_context.lock_image("","painter");if(!l)throw new Error("no painter cache");n.shader_texture("alphaTexture",l);var u={};u.opacity=this.m_painter_alpha,n.m_shader.uniforms(u)}else{var h={};h.reOpacity=this.m_reOpacity,h.opacity=this.m_alpha,n.m_shader.uniforms(h)}}if(this.m_size.length){var f=[this.m_size[0]/r.m_width,this.m_size[1]/r.m_height,this.m_pos[0]/r.m_width,this.m_pos[1]/r.m_height];o={};o.trans=f,n.m_shader.uniforms(o),i.enable(i.BLEND),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.bindFramebuffer(i.FRAMEBUFFER,r.m_frameBuffer),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e.new_temporary(),0),i.viewport(Math.floor(this.m_pos[0]+.5),Math.floor(this.m_pos[1]+.5),Math.floor(this.m_size[0]+.5),Math.floor(this.m_size[1]+.5)),i.drawArrays(i.TRIANGLE_FAN,0,4),i.disable(i.BLEND)}else{if(5==this.m_blend_mode){o={trans:[1,1,0,0]};n.m_shader.uniforms(o)}n.draw_to(e.new_temporary())}i.getError(),e.push_to_current(),i.getError(),5==this.m_blend_mode&&this.m_context.unlock_image(null,null,"painter");var m=i.getError();if(m)throw new Error("blend : "+m)}catch(t){throw new Error("blend process: "+t)}finally{this.m_texturelocker&&(this.m_context.release_resource_texture(this.m_texturelocker),this.m_texturelocker=null)}},t.prototype.destroy=function(){this.m_list.forEach(function(t){t.destroy()})},t.prototype.cal_trans=function(t,e,r,i,n){n[0]=1,n[1]=1,n[2]=0,n[3]=0,this.m_flag=1;var o=t/r,s=e/i;if(s<o){var a=s/o;n[0]=1,n[1]=a}else{a=o/s;n[0]=a,n[1]=1}switch(this.m_trans_mode){case 0:n[0]=1,n[1]=1;break;case 1:n[2]=.5*(1-n[0]),n[3]=.5*(1-n[1]);break;case 2:if(o<s){a=s/o;n[0]=1,n[1]=a}else{a=o/s;n[0]=a,n[1]=1}n[2]=.5*(1-n[0]),n[3]=.5*(1-n[1]),this.m_flag=0;break;case 3:break;case 4:n[2]=1-n[0],n[3]=1-n[1];break;case 5:n[0]/=this.m_trans_tile,n[1]/=this.m_trans_tile;break;case 6:switch(s<o?(n[0]=this.m_stick_size*o/s,n[1]=this.m_stick_size,n[2]=-this.pos[0]*this.m_stick_size*o/s,n[3]=-this.pos[1]*this.m_stick_size):(n[0]=this.m_stick_size,n[1]=this.m_stick_size*s/o,n[2]=-this.pos[0]*this.m_stick_size,n[3]=-this.pos[1]*this.m_stick_size*s/o),this.m_alignMode){case 0:break;case 1:n[3]=1-n[1]-n[3];break;case 2:n[2]=1-n[0]-n[2];break;case 3:n[2]=1-n[0]-n[2],n[3]=1-n[1]-n[3]}this.m_flag=0;break;default:throw"CGEBlendParser::cal_trans"}},t.prototype.cal_trans_shader=function(t,e,r,i,n){var o=new Array(4);this.cal_trans(t,e,r,i,o);var s={};s.trans=o,n.m_shader.uniforms(s)},t.prototype.get_trans=function(t){this.m_trans_mode=0,this.m_alignMode=0,t.test_symbol("align")&&(this.m_trans_mode=t.lookup_symbol(["none","center","centerFit","rightTop","leftBottom","tile","stick",0],!0)),6==this.m_trans_mode&&(this.pos[0]=t.fetch_float(),this.pos[1]=t.fetch_float(),this.m_stick_size=t.fetch_float(),this.m_alignMode=t.lookup_symbol(["leftTop","leftBottom","rightTop","rightBottom",0],!0)),5==this.m_trans_mode&&(this.m_trans_tile=t.fetch_float(.05,1))},t.prototype.init=function(t){switch(this.m_reOpacity=0,this.m_pos=[],this.m_size=[],this.m_view_layer=!1,t.lookup_symbol(["texture","layer","view","shit",0],!0)){case 0:t.assume_symbol("file"),this.m_tex_name=t.fetch_string(),this.get_trans(t),this.get_item(t),this.m_alpha=.01*t.fetch_float(0,100),this.m_blend_mode=0;break;case 1:this.m_view_layer=!1;var e=["file","alpha","layer",0];if(this.m_cname=t.fetch_symbol(),this.get_item(t),l.Number==t.get_parcer_status())this.m_alpha=.01*t.fetch_float(0,100),this.m_blend_mode=3;else switch(t.lookup_symbol(e,!0)){case 0:this.m_tex_name=t.fetch_string(),this.get_trans(t),this.m_blend_mode=1;break;case 1:this.m_alpha=.01*t.fetch_float(0,100),this.m_blend_mode=2;break;case 2:this.m_tex_name=t.fetch_symbol(),this.m_blend_mode=4}break;case 2:this.m_view_layer=!0;e=["file","alpha","cache",0];if(this.m_view_num=t.fetch_float(),this.get_item(t),l.Number==t.get_parcer_status())this.m_alpha=.01*t.fetch_float(0,100),this.m_blend_mode=3;else{var r=void 0;(r=t.lookup_symbol(e,!0))?2==r?(this.m_blend_mode=5,this.m_painter_alpha=1,t.test_symbol("alpha")&&(this.m_painter_alpha=t.fetch_float()),t.test_symbol("position")&&(this.m_pos[0]=t.fetch_float(),this.m_pos[1]=t.fetch_float(),t.assume_symbol("size"),this.m_size[0]=t.fetch_float(),this.m_size[1]=t.fetch_float())):(t.test_symbol("reOpacity")&&(this.m_reOpacity=2),this.m_alpha=.01*t.fetch_float(0,100),this.m_blend_mode=2):(this.m_tex_name=t.fetch_string(),this.get_trans(t),this.m_blend_mode=1)}break;default:throw"CGEBlendParser::init"}},t.prototype.get_item=function(t){var e=t.fetch_symbol();if(this.m_item=this.m_list.get(e),!this.m_item)throw new Error("invalid blend mode"+e)},t.parcerName="blend",t}(),Ee=function(t){function e(e){var r=t.call(this,e)||this;return r.m_size=0,r.m_fade=0,r.m_angle=0,r.m_distance=0,r.m_sColor=new Array(3),r.m_bColor=new Array(3),r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D srcImage;        uniform vec4 fac;        uniform vec3 sColor;        uniform vec3 bColor;        uniform vec2 shadow_pos;        uniform vec4 sBorder;        uniform vec2 size;        uniform float fade;        "},e.prototype.shader_procession=function(){return"        vec2 pos = textureCoordinate;                if(pos.x<size.x||pos.x>1.0 - size.x||pos.y<size.y||pos.y>1.0-size.y)        {            pos = pos-shadow_pos;            float x = max(max(pos.x - sBorder.y,sBorder.x - pos.x),0.0);            float y = max(max(pos.y - sBorder.w,sBorder.z - pos.y),0.0);            float alpha = 1.0 -((x/(size.x/1.2))*(x/(size.x/1.2))+(y/(size.y/1.2))*(y/(size.y/1.2)));            alpha = clamp(alpha,0.0,1.0);            alpha = 3.0*alpha*alpha-2.0*alpha*alpha*alpha;            alpha = fade*alpha*alpha;            dst =vec4( mix(bColor,sColor,alpha),1.0);        }        else            dst = texture2D(srcImage,pos*vec2(fac.x,fac.y)+vec2(fac.z,fac.w));"},e.prototype.init=function(t,e,r){t.assume_symbol("size"),this.m_size=t.fetch_float(),t.assume_symbol("fade"),this.m_fade=t.fetch_float()/100,t.assume_symbol("angle"),this.m_angle=t.fetch_float(),t.assume_symbol("distance"),this.m_distance=t.fetch_float(),t.assume_symbol("shadowColor");for(var i=0;i<3;++i)this.m_sColor[i]=t.fetch_float()/255;t.assume_symbol("backColor");for(i=0;i<3;++i)this.m_bColor[i]=t.fetch_float()/255},e.prototype.shader_setup=function(t){var e=this.m_context.lock_image(),r=new Array(4);r[0]=t.m_width/(t.m_width-2*this.m_size),r[1]=t.m_height/(t.m_height-2*this.m_size),r[2]=-this.m_size/(t.m_width-2*this.m_size),r[3]=-this.m_size/(t.m_height-2*this.m_size);var i=[this.m_distance/t.m_width,0];i=[i[0]*Math.cos(this.m_angle/180*Math.PI)-i[1]*Math.sin(this.m_angle/180*Math.PI),i[0]*Math.sin(this.m_angle/180*Math.PI)+i[1]*Math.cos(this.m_angle/180*Math.PI)];var n=new Array(4);n[0]=this.m_size/t.m_width*1.4,n[1]=1-this.m_size/t.m_width*1.4,n[2]=this.m_size/t.m_height*1.4,n[3]=1-this.m_size/t.m_height*1.4,t.shader_texture("srcImage",e);var o={};o.size=[this.m_size/t.m_width,this.m_size/t.m_height],o.fade=this.m_fade,o.sBorder=n,o.fac=r,o.sColor=this.m_sColor,o.bColor=this.m_bColor,o.shadow_pos=i,t.m_shader.uniforms(o)},e.parcerName="shadow",e}(ht),Oe=function(t){function e(e){var r=t.call(this,e)||this;return r.m_size=0,r.m_fade=0,r.m_angle=0,r.m_distance=0,r.m_sColor=new Array(3),r.m_bColor=new Array(3),r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return" uniform vec4 fac;        uniform vec3 sColor;        uniform vec4 bColor;        uniform vec2 shadow_pos;        uniform vec4 sBorder;        uniform vec2 size;        uniform float fade;        "},e.prototype.shader_procession=function(){return"        vec2 pos = textureCoordinate;                if(pos.x<size.x||pos.x>1.0 - size.x||pos.y<size.y||pos.y>1.0-size.y)        {            pos = pos-shadow_pos;            float x = max(max(pos.x - sBorder.y,sBorder.x - pos.x),0.0);            float y = max(max(pos.y - sBorder.w,sBorder.z - pos.y),0.0);            float alpha = 1.0 -((x/(size.x/1.5))*(x/(size.x/1.5))+(y/(size.y/1.5))*(y/(size.y/1.5)));            alpha = clamp(alpha,0.0,1.0);            alpha = alpha*alpha*fade;            dst =vec4( mix(bColor,vec4(sColor.xyz,1.0),alpha));        }        else            dst = texture2D(inputImageTexture,pos*vec2(fac.x,fac.y)+vec2(fac.z,fac.w));"},e.prototype.init=function(t,e,r){if(!e)throw new Error("no width");t.assume_symbol("size"),this.m_size=t.fetch_float()*e,t.assume_symbol("fade"),this.m_fade=t.fetch_float()/100,t.assume_symbol("angle"),this.m_angle=t.fetch_float(),t.assume_symbol("distance"),this.m_distance=t.fetch_float()*e,t.assume_symbol("shadowColor");for(var i=0;i<3;++i)this.m_sColor[i]=t.fetch_float()/255;t.assume_symbol("backColor");for(i=0;i<4;++i)this.m_bColor[i]=t.fetch_float()/255},e.prototype.shader_setup=function(t){var e=new Array(4),r=Math.max(t.m_width,t.m_height);e[0]=r/(r-2*this.m_size),e[1]=e[0],r==t.m_width?(e[2]=-this.m_size/t.m_width*e[0],e[3]=-(e[0]-1)/2):(e[3]=-this.m_size/t.m_height*e[0],e[2]=-(e[0]-1)/2);var i=[this.m_distance/t.m_width,0];i=[i[0]*Math.cos(this.m_angle/180*Math.PI)-i[1]*Math.sin(this.m_angle/180*Math.PI),i[0]*Math.sin(this.m_angle/180*Math.PI)+i[1]*Math.cos(this.m_angle/180*Math.PI)];var n=new Array(4);n[0]=this.m_size/t.m_width*1.3,n[1]=1-this.m_size/t.m_width*1.3,n[2]=this.m_size/t.m_height*1.3,n[3]=1-this.m_size/t.m_height*1.3;var o={};o.size=[this.m_size/t.m_width,this.m_size/t.m_height],o.fade=this.m_fade,o.sBorder=n,o.fac=e,o.sColor=this.m_sColor,o.bColor=this.m_bColor,o.shadow_pos=i,t.m_shader.uniforms(o)},e.parcerName="smallShadow",e}(ht),ke=function(t){function e(e){var r=t.call(this,e)||this;return r.m_outSize=0,r.m_innerSize=0,r.m_oColor=new Array(3),r.m_iColor=new Array(3),r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D srcImage;        uniform vec4 fac;        uniform vec3 iColor;        uniform vec3 oColor;        uniform vec2 outSize;        uniform vec2 innerSize;        uniform vec4 shadeBorder;        "},e.prototype.shader_procession=function(){return"        vec2 pos = textureCoordinate;                if(pos.x<outSize.x||pos.x>1.0 - outSize.x||pos.y<outSize.y||pos.y>1.0-outSize.y)        {            dst = vec4(oColor,1.0);        }        else if(pos.x<(outSize.x+innerSize.x)||pos.x>1.0 - (outSize.x+innerSize.x)||pos.y<(outSize.y+innerSize.y)||pos.y>1.0 - (outSize.y+innerSize.y))        {            dst = vec4(iColor,1.0);        }        else        {            float x = max(max(pos.x - shadeBorder.y,shadeBorder.x - pos.x),0.0);            float y = max(max(pos.y - shadeBorder.w,shadeBorder.z - pos.y),0.0);            float alpha = ((x)*(x)+(y)*(y))/0.00002;                        alpha = clamp(alpha,0.0,1.0);            alpha = alpha*alpha*0.5;                vec4 color = texture2D(srcImage, pos * vec2(fac.x, fac.y) + vec2(fac.z, fac.w));            color.xyz = mix(color.xyz,vec3(0.0,0.0,0.0),alpha);            dst = color;        }        "},e.prototype.init=function(t,e,r){t.assume_symbol("outSize"),this.m_outSize=t.fetch_float(),t.assume_symbol("innerSize"),this.m_innerSize=t.fetch_float(),t.assume_symbol("outColor");for(var i=0;i<3;++i)this.m_oColor[i]=t.fetch_float()/255;t.assume_symbol("innerColor");for(i=0;i<3;++i)this.m_iColor[i]=t.fetch_float()/255},e.prototype.shader_setup=function(t){var e=this.m_context.lock_image(),r=new Array(4);r[0]=t.m_width/(t.m_width-2*this.m_outSize-2*this.m_innerSize),r[1]=t.m_height/(t.m_height-2*this.m_outSize-2*this.m_innerSize),r[2]=-(this.m_outSize+this.m_innerSize)/(t.m_width-2*this.m_outSize-2*this.m_innerSize),r[3]=-(this.m_outSize+this.m_innerSize)/(t.m_height-2*this.m_outSize-2*this.m_innerSize);var i=[];i[0]=(this.m_outSize+this.m_innerSize)/t.m_width+.006,i[1]=1-(this.m_outSize+this.m_innerSize)/t.m_width-.006,i[2]=(this.m_outSize+this.m_innerSize)/t.m_height+.006,i[3]=1-(this.m_outSize+this.m_innerSize)/t.m_height-.006,t.shader_texture("srcImage",e);var n={};n.outSize=[this.m_outSize/t.m_width,this.m_outSize/t.m_height],n.innerSize=[this.m_innerSize/t.m_width,this.m_innerSize/t.m_height],n.fac=r,n.shadeBorder=i,n.iColor=this.m_iColor,n.oColor=this.m_oColor,t.m_shader.uniforms(n)},e.parcerName="gallery",e}(ht),Ae=function(t){function e(e){var r=t.call(this,e)||this;return r.m_outSize=0,r.m_innerSize=0,r.m_oColor=new Array(3),r.m_iColor=new Array(3),r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec4 fac;        uniform vec3 iColor;        uniform vec3 oColor;        uniform vec2 outSize;        uniform vec2 innerSize;        uniform vec4 shadowInBorder;        uniform vec4 shadowOutBorder;        "},e.prototype.shader_procession=function(){return"        vec2 pos = textureCoordinate;                if(pos.x<outSize.x||pos.x>1.0 - outSize.x||pos.y<outSize.y||pos.y>1.0-outSize.y)        {            dst = vec4(oColor,1.0);        }        else if(pos.x<(outSize.x+innerSize.x)||pos.x>1.0 - (outSize.x+innerSize.x)||pos.y<(outSize.y+innerSize.y)||pos.y>1.0 - (outSize.y+innerSize.y))        {            float x = max(max(pos.x - shadowOutBorder.y,shadowOutBorder.x - pos.x),0.0);            float y = max(max(pos.y - shadowOutBorder.w,shadowOutBorder.z - pos.y),0.0);            float alpha = ((x)*(x)+(y)*(y))/0.00007;                        alpha = clamp(alpha,0.0,1.0);            alpha = alpha*alpha*0.5;            dst = vec4(mix(iColor,vec3(0.0,0.0,0.0),alpha),1.0);        }        else        {            float x = max(max(pos.x - shadowInBorder.y,shadowInBorder.x - pos.x),0.0);            float y = max(max(pos.y - shadowInBorder.w,shadowInBorder.z - pos.y),0.0);            float alpha = ((x)*(x)+(y)*(y))/0.00007;                        alpha = clamp(alpha,0.0,1.0);            alpha = alpha*alpha*0.4;            vec4 color = texture2D(inputImageTexture, pos * vec2(fac.x, fac.y) + vec2(fac.z, fac.w));            color.xyz = mix(color.xyz,vec3(0.0,0.0,0.0),alpha);            dst = color;        }        "},e.prototype.init=function(t,e,r){if(!e)throw new Error("no width");if(!r)throw new Error("no height");t.assume_symbol("outSize"),this.m_outSize=t.fetch_float()*e,t.assume_symbol("innerSize"),this.m_innerSize=t.fetch_float()*r,t.assume_symbol("outColor");for(var i=0;i<3;++i)this.m_oColor[i]=t.fetch_float()/255;t.assume_symbol("innerColor");for(i=0;i<3;++i)this.m_iColor[i]=t.fetch_float()/255},e.prototype.shader_setup=function(t){var e=new Array(4),r=Math.max(t.m_width,t.m_height);e[0]=r/(r-2*this.m_outSize-2*this.m_innerSize),e[1]=e[0],r==t.m_width?(e[2]=-(this.m_outSize+this.m_innerSize)/t.m_width*e[0],e[3]=-(e[0]-1)/2):(e[3]=-(this.m_outSize+this.m_innerSize)/t.m_height*e[0],e[2]=-(e[0]-1)/2);var i=[];i[0]=(this.m_outSize+this.m_innerSize)/t.m_width+.01,i[1]=1-(this.m_outSize+this.m_innerSize)/t.m_width-.01,i[2]=(this.m_outSize+this.m_innerSize)/t.m_height+.01,i[3]=1-(this.m_outSize+this.m_innerSize)/t.m_height-.01;var n=[];n[0]=this.m_outSize/t.m_width+.01,n[1]=1-this.m_outSize/t.m_width-.01,n[2]=this.m_outSize/t.m_height+.01,n[3]=1-this.m_outSize/t.m_height-.01;var o={};o.outSize=[this.m_outSize/t.m_width,this.m_outSize/t.m_height],o.innerSize=[this.m_innerSize/t.m_width,this.m_innerSize/t.m_height],o.fac=e,o.shadowInBorder=i,o.shadowOutBorder=n,o.iColor=this.m_iColor,o.oColor=this.m_oColor,t.m_shader.uniforms(o)},e.parcerName="smallGallery",e}(ht),Me=function(t){function e(e){var r=t.call(this,e)||this;return r.m_corner=0,r.m_captation=0,r.m_outSize=0,r.m_innerSize=0,r.m_oColor=new Array(3),r.m_iColor=new Array(3),r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D srcImage;        uniform vec4 fac;        uniform vec3 iColor;        uniform vec3 oColor;        uniform vec2 outSize;        uniform vec2 innerSize;        uniform vec2 dstSize;        uniform float captationSize;        uniform float radius;        "},e.prototype.shader_procession=function(){return"        vec2 pos = textureCoordinate;        vec4 outRoundBorder = vec4(outSize.x+radius/dstSize.x,1.0-outSize.x-radius/dstSize.x,outSize.y+radius/dstSize.y,1.0-outSize.y-captationSize-radius/dstSize.y);        vec4 innerRoundBorder = vec4((innerSize.x+outSize.x)+radius/dstSize.x,1.0-(innerSize.x+outSize.x)-radius/dstSize.x,(innerSize.y+outSize.y)+radius/dstSize.y,1.0-(innerSize.y+outSize.y)-captationSize-radius/dstSize.y);        float ox = max(max(outRoundBorder.x-pos.x,pos.x-outRoundBorder.y),0.0);        float oy = max(max(outRoundBorder.z-pos.y,pos.y-outRoundBorder.w),0.0);        float ix = max(max(innerRoundBorder.x-pos.x,pos.x-innerRoundBorder.y),0.0);        float iy = max(max(innerRoundBorder.z-pos.y,pos.y-innerRoundBorder.w),0.0);        if(pos.x<outSize.x||pos.x>1.0 - outSize.x||pos.y<outSize.y||pos.y>1.0-(outSize.y+captationSize)        ||(ox>0.0&&oy>0.0&&(ox*ox*dstSize.x*dstSize.x+oy*oy*dstSize.y*dstSize.y)>(radius)*(radius)))        {            dst = vec4(oColor,1.0);        }        else if(pos.x<(outSize.x+innerSize.x)||pos.x>1.0 - (outSize.x+innerSize.x)||pos.y<(outSize.y+innerSize.y)||pos.y>1.0 - (outSize.y+innerSize.y+captationSize)        ||(ix>0.0&&iy>0.0&&(ix*ix*dstSize.x*dstSize.x+iy*iy*dstSize.y*dstSize.y)>radius*radius))        {            dst = vec4(iColor,1.0);        }        else        {            dst = vec4(texture2D(srcImage, pos * vec2(fac.x, fac.y) + vec2(fac.z, fac.w)).xyz,1.0);        }        "},e.prototype.init=function(t,e,r){t.assume_symbol("outSize"),this.m_outSize=t.fetch_float(),t.assume_symbol("innerSize"),this.m_innerSize=t.fetch_float(),t.assume_symbol("roundCorner"),this.m_corner=t.fetch_float(),t.assume_symbol("captionSize"),this.m_captation=t.fetch_float(),t.assume_symbol("outColor");for(var i=0;i<3;++i)this.m_oColor[i]=t.fetch_float()/255;t.assume_symbol("innerColor");for(i=0;i<3;++i)this.m_iColor[i]=t.fetch_float()/255},e.prototype.shader_setup=function(t){var e=this.m_context.lock_image(),r=new Array(4);r[0]=t.m_width/(t.m_width-2*this.m_outSize-2*this.m_innerSize),r[1]=t.m_height/(t.m_height-2*this.m_outSize-2*this.m_innerSize-this.m_captation),r[2]=-(this.m_outSize+this.m_innerSize)/(t.m_width-2*this.m_outSize-2*this.m_innerSize),r[3]=-(this.m_outSize+this.m_innerSize)/(t.m_height-2*this.m_outSize-2*this.m_innerSize-this.m_captation),t.shader_texture("srcImage",e);var i={};i.outSize=[this.m_outSize/t.m_width,this.m_outSize/t.m_height],i.innerSize=[this.m_innerSize/t.m_width,this.m_innerSize/t.m_height],i.captationSize=this.m_captation/t.m_height,i.dstSize=[t.m_width,t.m_height],i.fac=r,i.iColor=this.m_iColor,i.oColor=this.m_oColor,i.radius=this.m_corner,t.m_shader.uniforms(i)},e.parcerName="polaroid",e}(ht),Pe=function(t){function e(e){var r=t.call(this,e)||this;return r.m_x1=0,r.m_x2=0,r.m_x3=0,r.m_y1=0,r.m_y2=0,r.m_y3=0,r.m_ms=0,r.m_borderSize=0,r.m_ratio=0,r.m_res_name="",r.m_color=new Array(3),r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D border;        uniform sampler2D srcImage;        uniform vec4 my;        uniform vec3 py;        uniform vec3 ky;        uniform vec4 mx;        uniform vec3 px;        uniform vec3 kx;        uniform vec4 fac;        uniform vec2 borderSize;        uniform vec3 color;        "},e.prototype.shader_procession=function(){return"vec3 bx = (vec3(textureCoordinate.x) - kx) * mx.xyz;        bx.y = fract(bx.y)*mx.w;        bx += px;        vec3 by = (vec3(textureCoordinate.y) - ky) * my.xyz;        by.y = fract(by.y)*my.w;        by += py;        vec2 borderCord;        if(textureCoordinate.x > kx.z)        {            borderCord.x = bx.z;        }        else if(textureCoordinate.x > kx.y)        {            borderCord.x = bx.y;        }        else        {            borderCord.x = bx.x;        }        if(textureCoordinate.y > ky.z)        {            borderCord.y = by.z;        }        else if(textureCoordinate.y > ky.y)        {            borderCord.y = by.y;        }        else        {            borderCord.y = by.x;        }        if(textureCoordinate.x<borderSize.x||textureCoordinate.x>1.0 - borderSize.x||textureCoordinate.y<borderSize.y||textureCoordinate.y>1.0-borderSize.y)        {            dst.a = texture2D(border, borderCord).a;                dst.xyz = color;        }        else        {            dst = texture2D(srcImage, textureCoordinate * vec2(fac.x, fac.y) + vec2(fac.z, fac.w));        }        "},e.prototype.init=function(t,e,r){t.assume_symbol("file"),this.m_res_name=t.fetch_string(),t.assume_symbol("resourceLayoutH"),this.m_x1=t.fetch_float()+1e-5,this.m_x2=t.fetch_float()+1e-5,this.m_x3=t.fetch_float()+1e-5,this.m_x2=Math.max(this.m_x2,.008*(this.m_x1+this.m_x3)),t.assume_symbol("resourceLayoutV"),this.m_y1=t.fetch_float()+1e-5,this.m_y2=t.fetch_float()+1e-5,this.m_y3=t.fetch_float()+1e-5,this.m_y2=Math.max(this.m_y2,.008*(this.m_y1+this.m_y3)),t.assume_symbol("thickness"),-1==(this.m_ms=t.lookup_symbol(["pixel","width","height","perimeter",0]))&&(this.m_ms=3),this.m_borderSize=t.fetch_float(),t.assume_symbol("color");for(var i=0;i<3;++i)this.m_color[i]=t.fetch_float()/255;t.assume_symbol("ratio"),this.m_ratio=t.fetch_float()},e.prototype.shader_setup=function(t){var e,r=this.m_context.lock_image(),i=Math.min(t.m_width,t.m_height),n=(e=3==this.m_ms?this.m_borderSize*t.m_width:this.m_borderSize)/(i*this.m_ratio);if(this.m_texturelocker=this.m_context.get_resource_texture(this.m_res_name),!this.m_texturelocker)throw new Error("outside "+this.m_res_name);t.shader_texture("border",this.m_texturelocker.texture),t.shader_texture("srcImage",r);var o=new Array(3),s=new Array(3),a=new Array(4),c=new Array(4),l=new Array(3),u=new Array(3);this.cal_uniform(t.m_width,t.m_height,o,s,a,c,l,u,n);var h=new Array(4);h[0]=t.m_width/(t.m_width-2*e),h[1]=t.m_height/(t.m_height-2*e),h[2]=-e/(t.m_width-2*e),h[3]=-e/(t.m_height-2*e);var f={};f.fac=h,f.borderSize=[e/t.m_width,e/t.m_height],f.color=this.m_color,f.kx=o,f.ky=s,f.mx=a,f.my=c,f.px=l,f.py=u,t.m_shader.uniforms(f)},e.prototype.cal_uniform=function(t,e,r,i,n,o,s,a,c){var l,u;switch(this.m_ms){case 0:l=4*c*(this.m_x1+this.m_x3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*t),u=4*c*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*e);break;case 1:u=(l=2*c)*t*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3)*e);break;case 2:l=(u=2*c)*e*(this.m_x1+this.m_x2)/((this.m_y1+this.m_y3)*t);break;case 3:default:var h=2*t+2*e;l=c*h*(this.m_x1+this.m_x3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*t),u=c*h*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*e)}var f=Math.max(u,l);if(.99<f){var m=.99/f;u*=m,l*=m}var d=this.m_x1+this.m_x2+this.m_x3,p=this.m_y1+this.m_y2+this.m_y3,_=u*e/(this.m_y1+this.m_y3),g=l*t/(this.m_x1+this.m_x3),v=(1-l)*t/this.m_x2,y=(1-u)*e/this.m_y2,b=Math.max(Math.floor(v/_+.5),1),x=Math.max(Math.floor(y/g+.5),1),w=this.m_x1/d,S=this.m_x2/d,C=this.m_x3/d,T=this.m_y1/p,E=this.m_y2/p,O=this.m_y3/p,k=1/(w+C),A=1/(T+O);r[0]=0,r[1]=l*w*k,r[2]=1-l*C*k,i[0]=0,i[1]=u*T*A,i[2]=1-u*O*A,n[0]=(w+C)/l,n[1]=b/(1-l),n[2]=n[0],n[3]=S,o[0]=(T+O)/u,o[1]=x/(1-u),o[2]=o[0],o[3]=E,s[0]=0,s[1]=w,s[2]=w+S,a[0]=0,a[1]=T,a[2]=T+E},e.parcerName="outside",e}(ht),De=function(t){function e(e){var r=t.call(this,e)||this;return r.m_x1=0,r.m_x2=0,r.m_x3=0,r.m_y1=0,r.m_y2=0,r.m_y3=0,r.m_ms=0,r.m_borderSize=0,r.m_ratio=0,r.m_res_name="",r.m_blend_res_name="",r.m_res_size=new Array,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D border;        uniform sampler2D srcImage;        uniform sampler2D resImage;        uniform vec2 resSize;        uniform vec4 my;        uniform vec3 py;        uniform vec3 ky;        uniform vec4 mx;        uniform vec3 px;        uniform vec3 kx;        uniform vec4 fac;        uniform vec2 borderSize;        "},e.prototype.shader_procession=function(){return"vec3 bx = (vec3(textureCoordinate.x) - kx) * mx.xyz;        bx.y = fract(bx.y)*mx.w;        bx += px;        vec3 by = (vec3(textureCoordinate.y) - ky) * my.xyz;        by.y = fract(by.y)*my.w;        by += py;                vec2 borderCord;                if(textureCoordinate.x > kx.z)        {            borderCord.x = bx.z;        }        else if(textureCoordinate.x > kx.y)        {            borderCord.x = bx.y;        }        else        {            borderCord.x = bx.x;        }                if(textureCoordinate.y > ky.z)        {            borderCord.y = by.z;        }        else if(textureCoordinate.y > ky.y)        {            borderCord.y = by.y;        }        else        {            borderCord.y = by.x;        }        if(textureCoordinate.x<borderSize.x||textureCoordinate.x>1.0 - borderSize.x||textureCoordinate.y<borderSize.y||textureCoordinate.y>1.0-borderSize.y)        {            vec2 resCoord;            resCoord.x  = (textureCoordinate.x-floor(textureCoordinate.x/resSize.x)*resSize.x)/resSize.x;            resCoord.y  = (textureCoordinate.y-floor(textureCoordinate.y/resSize.y)*resSize.y)/resSize.y;            dst.xyz = texture2D(resImage, resCoord).rgb;            dst.a = texture2D(border, borderCord).a;        }        else        {            dst = texture2D(srcImage, textureCoordinate * vec2(fac.x, fac.y) + vec2(fac.z, fac.w));        }        "},e.prototype.init=function(t,e,r){t.assume_symbol("file"),this.m_res_name=t.fetch_string(),t.assume_symbol("blend"),this.m_blend_res_name=t.fetch_string(),t.assume_symbol("resSize"),this.m_res_size[0]=t.fetch_float(),this.m_res_size[1]=t.fetch_float(),t.assume_symbol("resourceLayoutH"),this.m_x1=t.fetch_float()+1e-5,this.m_x2=t.fetch_float()+1e-5,this.m_x3=t.fetch_float()+1e-5,this.m_x2=Math.max(this.m_x2,.008*(this.m_x1+this.m_x3)),t.assume_symbol("resourceLayoutV"),this.m_y1=t.fetch_float()+1e-5,this.m_y2=t.fetch_float()+1e-5,this.m_y3=t.fetch_float()+1e-5,this.m_y2=Math.max(this.m_y2,.008*(this.m_y1+this.m_y3)),t.assume_symbol("thickness"),-1==(this.m_ms=t.lookup_symbol(["pixel","width","height","perimeter",0]))&&(this.m_ms=3),this.m_borderSize=t.fetch_float(),t.assume_symbol("ratio"),this.m_ratio=t.fetch_float()},e.prototype.shader_setup=function(t){var e=this.m_context.lock_image(),r=Math.min(t.m_width,t.m_height),i=0;3==this.m_ms&&(i=this.m_borderSize*t.m_width);var n=i/(r*this.m_ratio);this.m_texturelocker=this.m_context.get_resource_texture(this.m_res_name);var o=this.m_context.get_resource_texture(this.m_blend_res_name);if(!this.m_texturelocker)throw new Error("blendedOutside "+this.m_res_name);if(!o)throw new Error("blendedOutside "+this.m_blend_res_name);t.shader_texture("border",this.m_texturelocker.texture),t.shader_texture("resImage",o.texture),t.shader_texture("srcImage",e);var s=new Array(3),a=new Array(3),c=new Array(4),l=new Array(4),u=new Array(3),h=new Array(3);this.cal_uniform(t.m_width,t.m_height,s,a,c,l,u,h,n);var f=new Array(4);f[0]=t.m_width/(t.m_width-2*i),f[1]=t.m_height/(t.m_height-2*i),f[2]=-i/(t.m_width-2*i),f[3]=-i/(t.m_height-2*i);var m={};m.fac=f,m.resSize=[Math.min(this.m_res_size[0]/t.m_width,1),Math.min(this.m_res_size[1]/t.m_height,1)],m.borderSize=[i/t.m_width,i/t.m_height],m.kx=s,m.ky=a,m.mx=c,m.my=l,m.px=u,m.py=h,t.m_shader.uniforms(m)},e.prototype.cal_uniform=function(t,e,r,i,n,o,s,a,c){var l,u;switch(this.m_ms){case 0:l=4*c*(this.m_x1+this.m_x3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*t),u=4*c*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*e);break;case 1:u=(l=2*c)*t*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3)*e);break;case 2:l=(u=2*c)*e*(this.m_x1+this.m_x2)/((this.m_y1+this.m_y3)*t);break;case 3:default:var h=2*t+2*e;l=c*h*(this.m_x1+this.m_x3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*t),u=c*h*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*e)}var f=Math.max(u,l);if(.99<f){var m=.99/f;u*=m,l*=m}var d=this.m_x1+this.m_x2+this.m_x3,p=this.m_y1+this.m_y2+this.m_y3,_=u*e/(this.m_y1+this.m_y3),g=l*t/(this.m_x1+this.m_x3),v=(1-l)*t/this.m_x2,y=(1-u)*e/this.m_y2,b=Math.max(Math.floor(v/_+.5),1),x=Math.max(Math.floor(y/g+.5),1),w=this.m_x1/d,S=this.m_x2/d,C=this.m_x3/d,T=this.m_y1/p,E=this.m_y2/p,O=this.m_y3/p,k=1/(w+C),A=1/(T+O);r[0]=0,r[1]=l*w*k,r[2]=1-l*C*k,i[0]=0,i[1]=u*T*A,i[2]=1-u*O*A,n[0]=(w+C)/l,n[1]=b/(1-l),n[2]=n[0],n[3]=S,o[0]=(T+O)/u,o[1]=x/(1-u),o[2]=o[0],o[3]=E,s[0]=0,s[1]=w,s[2]=w+S,a[0]=0,a[1]=T,a[2]=T+E},e.parcerName="blendedOutside",e}(ht),je=function(t){function e(e){var r=t.call(this,e)||this;return r.m_x1=0,r.m_x2=0,r.m_x3=0,r.m_y1=0,r.m_y2=0,r.m_y3=0,r.m_ms=0,r.m_borderSize=0,r.m_ratio=0,r.m_res_name="",r.m_blend_res_name="",r.m_color=new Array(3),r.m_res_size=new Array,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D border;        uniform vec4 my;        uniform vec3 py;        uniform vec3 ky;        uniform vec4 mx;        uniform vec3 px;        uniform vec3 kx;        uniform vec4 fac;        uniform vec2 borderSize;        uniform vec3 color;        "},e.prototype.shader_procession=function(){return"vec3 bx = (vec3(textureCoordinate.x) - kx) * mx.xyz;        bx.y = fract(bx.y)*mx.w;        bx += px;        vec3 by = (vec3(textureCoordinate.y) - ky) * my.xyz;        by.y = fract(by.y)*my.w;        by += py;                vec2 borderCord;                if(textureCoordinate.x > kx.z)        {            borderCord.x = bx.z;        }        else if(textureCoordinate.x > kx.y)        {            borderCord.x = bx.y;        }        else        {            borderCord.x = bx.x;        }                if(textureCoordinate.y > ky.z)        {            borderCord.y = by.z;        }        else if(textureCoordinate.y > ky.y)        {            borderCord.y = by.y;        }        else        {            borderCord.y = by.x;        }        if(textureCoordinate.x<borderSize.x||textureCoordinate.x>1.0 - borderSize.x||textureCoordinate.y<borderSize.y||textureCoordinate.y>1.0-borderSize.y)        {            dst.xyz = color;            dst.a = texture2D(border, borderCord).a;        }        else        {            dst = texture2D(inputImageTexture, textureCoordinate * vec2(fac.x, fac.y) + vec2(fac.z, fac.w));        }        "},e.prototype.init=function(t,e,r){t.assume_symbol("file"),this.m_res_name=t.fetch_string(),t.assume_symbol("resourceLayoutH"),this.m_x1=t.fetch_float()+1e-5,this.m_x2=t.fetch_float()+1e-5,this.m_x3=t.fetch_float()+1e-5,this.m_x2=Math.max(this.m_x2,.008*(this.m_x1+this.m_x3)),t.assume_symbol("resourceLayoutV"),this.m_y1=t.fetch_float()+1e-5,this.m_y2=t.fetch_float()+1e-5,this.m_y3=t.fetch_float()+1e-5,this.m_y2=Math.max(this.m_y2,.008*(this.m_y1+this.m_y3)),t.assume_symbol("thickness"),-1==(this.m_ms=t.lookup_symbol(["pixel","width","height","perimeter",0]))&&(this.m_ms=3),this.m_borderSize=t.fetch_float(),t.assume_symbol("color");for(var i=0;i<3;++i)this.m_color[i]=t.fetch_float()/255;t.assume_symbol("ratio"),this.m_ratio=t.fetch_float()},e.prototype.shader_setup=function(t){var e=Math.min(t.m_width+2*this.m_borderSize,t.m_height+2*this.m_borderSize),r=this.m_borderSize/(e*this.m_ratio);t.shader_texture("border",this.m_texturelocker.texture);var i=new Array(3),n=new Array(3),o=new Array(4),s=new Array(4),a=new Array(3),c=new Array(3);this.cal_uniform(t.m_width+2*this.m_borderSize,t.m_height+2*this.m_borderSize,i,n,o,s,a,c,r);var l=new Array(4);l[0]=(t.m_width+2*this.m_borderSize)/t.m_width,l[1]=(t.m_height+2*this.m_borderSize)/t.m_height,l[2]=-this.m_borderSize/t.m_width,l[3]=-this.m_borderSize/t.m_height;var u={};if(this.m_texturelocker=this.m_context.get_resource_texture(this.m_res_name),!this.m_texturelocker)throw new Error("smallOutside "+this.m_res_name);u.fac=l,u.borderSize=[this.m_borderSize/(t.m_width+2*this.m_borderSize),this.m_borderSize/(t.m_height+2*this.m_borderSize)],u.color=this.m_color,u.kx=i,u.ky=n,u.mx=o,u.my=s,u.px=a,u.py=c,t.m_shader.uniforms(u)},e.prototype.cal_uniform=function(t,e,r,i,n,o,s,a,c){var l,u;switch(this.m_ms){case 0:l=4*c*(this.m_x1+this.m_x3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*t),u=4*c*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*e);break;case 1:u=(l=2*c)*t*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3)*e);break;case 2:l=(u=2*c)*e*(this.m_x1+this.m_x2)/((this.m_y1+this.m_y3)*t);break;case 3:default:var h=2*t+2*e;l=c*h*(this.m_x1+this.m_x3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*t),u=c*h*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*e)}var f=Math.max(u,l);if(.99<f){var m=.99/f;u*=m,l*=m}var d=this.m_x1+this.m_x2+this.m_x3,p=this.m_y1+this.m_y2+this.m_y3,_=u*e/(this.m_y1+this.m_y3),g=l*t/(this.m_x1+this.m_x3),v=(1-l)*t/this.m_x2,y=(1-u)*e/this.m_y2,b=Math.max(Math.floor(v/_+.5),1),x=Math.max(Math.floor(y/g+.5),1),w=this.m_x1/d,S=this.m_x2/d,C=this.m_x3/d,T=this.m_y1/p,E=this.m_y2/p,O=this.m_y3/p,k=1/(w+C),A=1/(T+O);r[0]=0,r[1]=l*w*k,r[2]=1-l*C*k,i[0]=0,i[1]=u*T*A,i[2]=1-u*O*A,n[0]=(w+C)/l,n[1]=b/(1-l),n[2]=n[0],n[3]=S,o[0]=(T+O)/u,o[1]=x/(1-u),o[2]=o[0],o[3]=E,s[0]=0,s[1]=w,s[2]=w+S,a[0]=0,a[1]=T,a[2]=T+E},e.parcerName="smallOutside",e}(ht),ze=function(t){function e(e){var r=t.call(this,e)||this;return r.m_corner=0,r.m_captation=0,r.m_outSize=0,r.m_innerSize=0,r.m_oColor=new Array(3),r.m_iColor=new Array(3),r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec4 fac;        uniform vec3 iColor;        uniform vec3 oColor;        uniform vec2 outSize;        uniform vec2 innerSize;        uniform vec2 dstSize;        uniform float radius;        "},e.prototype.shader_procession=function(){return"        vec2 pos = textureCoordinate;        vec4 outRoundBorder = vec4(outSize.x+radius/dstSize.x,1.0-outSize.x-radius/dstSize.x,outSize.y+radius/dstSize.y,1.0-outSize.y-radius/dstSize.y);        vec4 innerRoundBorder = vec4((innerSize.x+outSize.x)+radius/dstSize.x,1.0-(innerSize.x+outSize.x)-radius/dstSize.x,(innerSize.y+outSize.y)+radius/dstSize.y,1.0-(innerSize.y+outSize.y)-radius/dstSize.y);        float ox = max(max(outRoundBorder.x-pos.x,pos.x-outRoundBorder.y),0.0);        float oy = max(max(outRoundBorder.z-pos.y,pos.y-outRoundBorder.w),0.0);        float ix = max(max(innerRoundBorder.x-pos.x,pos.x-innerRoundBorder.y),0.0);        float iy = max(max(innerRoundBorder.z-pos.y,pos.y-innerRoundBorder.w),0.0);        if(pos.x<outSize.x||pos.x>1.0 - outSize.x||pos.y<outSize.y||pos.y>1.0-(outSize.y)        ||(ox>0.0&&oy>0.0&&(ox*ox*dstSize.x*dstSize.x+oy*oy*dstSize.y*dstSize.y)>(radius)*(radius)))        {            dst = vec4(oColor,1.0);        }        else if(pos.x<(outSize.x+innerSize.x)||pos.x>1.0 - (outSize.x+innerSize.x)||pos.y<(outSize.y+innerSize.y)||pos.y>1.0 - (outSize.y+innerSize.y)        ||(ix>0.0&&iy>0.0&&(ix*ix*dstSize.x*dstSize.x+iy*iy*dstSize.y*dstSize.y)>radius*radius))        {            dst = vec4(iColor,1.0);        }        else        {            dst = texture2D(inputImageTexture, pos * vec2(fac.x, fac.y) + vec2(fac.z, fac.w));        }        "},e.prototype.init=function(t,e,r){if(!e)throw new Error("no width");t.assume_symbol("outSize"),this.m_outSize=t.fetch_float()*e,t.assume_symbol("innerSize"),this.m_innerSize=t.fetch_float()*e,t.assume_symbol("roundCorner"),this.m_corner=t.fetch_float()*e,t.assume_symbol("outColor");for(var i=0;i<3;++i)this.m_oColor[i]=t.fetch_float()/255;t.assume_symbol("innerColor");for(i=0;i<3;++i)this.m_iColor[i]=t.fetch_float()/255},e.prototype.shader_setup=function(t){var e=new Array(4),r=Math.max(t.m_width,t.m_height);e[0]=r/(r-2*this.m_outSize-2*this.m_innerSize),e[1]=e[0],r==t.m_width?(e[2]=-(this.m_outSize+this.m_innerSize)/t.m_width*e[0],e[3]=-(e[0]-1)/2):(e[3]=-(this.m_outSize+this.m_innerSize)/t.m_height*e[0],e[2]=-(e[0]-1)/2);var i={};i.outSize=[this.m_outSize/t.m_width,this.m_outSize/t.m_height],i.innerSize=[this.m_innerSize/t.m_width,this.m_innerSize/t.m_height],i.dstSize=[t.m_width,t.m_height],i.fac=e,i.iColor=this.m_iColor,i.oColor=this.m_oColor,i.radius=this.m_corner,t.m_shader.uniforms(i)},e.parcerName="smallPolaroid",e}(ht),Ie=function(){function t(){}return t.create=function(t){return new fi(t,fi.special_border_list)},t.parcerName="specialBorder",t}(),Re=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.shader_procession=function(){return"vec4 src = get_sample(vec2(-3.0 / 8.0, -3.0 / 8.0));        src += get_sample(vec2(3.0 / 8.0, -3.0 / 8.0));        src += get_sample(vec2(-3.0 / 8.0, 3.0 / 8.0));        src += get_sample(vec2(3.0 / 8.0, 3.0 / 8.0));                dst = src * 0.25;"},e}(ue),Fe=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_m=new Array(4),r.m_str_fshFragBlurSharpenDownResizeProc="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;        uniform vec2 sft;                vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw + sft * cd);        }                void main()        {                    vec4 src = get_sample(vec2(-3.0 / 8.0, -3.0 / 8.0));            src += get_sample(vec2(3.0 / 8.0, -3.0 / 8.0));            src += get_sample(vec2(-3.0 / 8.0, 3.0 / 8.0));            src += get_sample(vec2(3.0 / 8.0, 3.0 / 8.0));                    gl_FragColor = src * 0.25;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragBlurSharpenDownResizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e);var s={};s.m=this.m_m,s.sft=[1/r,1/i],o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragBlurSharpenDownResizeProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Le=function(t){function e(e){var r=t.call(this)||this;return r.m_amount=0,r.m_end_fac=0,r.m_context=e,r.m_shader=null,r.m_m=new Array(4),r.m_str_fshFragBlurSharpenResizeProc="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D subImageTextureR;        uniform sampler2D subImageTextureD;        uniform vec4 m;        uniform float amount;        uniform float end_fac;                void main()        {                        vec4 src = texture2D(inputImageTexture, textureCoordinate);                        vec4 sub_r = texture2D(subImageTextureR, textureCoordinate * m.xy + m.zw);            vec4 sub_d = texture2D(subImageTextureD, textureCoordinate * m.xy + m.zw);                        gl_FragColor = ((src - sub_r) * end_fac + sub_d) *(1.0 - amount) +src * amount;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragBlurSharpenResizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("subImageTextureR",e[1]),o.shader_texture("subImageTextureD",e[2]);var s={};s.m=this.m_m,s.amount=this.m_amount,s.end_fac=this.m_end_fac,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragBlurSharpenResizeProc: "+a)},e.prototype.init=function(t,e){this.m_amount=t,this.m_end_fac=e},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Ne=function(t){function e(e){var r=t.call(this)||this;return r.m_factor=0,r.m_context=e,r.m_shader=null,r.m_str_fshFragBlurSharpenUpProc="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D subImageTextureR;        uniform sampler2D subImageTextureD;        uniform float fac;                        void main()        {            vec4 dst = texture2D(inputImageTexture, textureCoordinate);                        vec4 sub_r = texture2D(subImageTextureR, textureCoordinate);            vec4 sub_d = texture2D(subImageTextureD, textureCoordinate);                        gl_FragColor = (dst - sub_r)*fac + sub_d;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragBlurSharpenUpProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("subImageTextureR",e[1]),o.shader_texture("subImageTextureD",e[2]);var s={};s.fac=this.m_factor,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragBlurSharpenUpProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Be=function(){function t(t){this.m_pyramid_gpu=null,this.m_width=0,this.m_height=0,this.m_last_src="",this.m_amount=0,this.m_radius=0,this.m_context=t,this.m_factor=new le,this.m_down_resize_filter=new Fe(this.m_context),this.m_down_filter=new Re(this.m_context),this.m_up_filter=new Ne(this.m_context),this.m_up_resize_filter=new Le(this.m_context)}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.size_change(r.m_width,r.m_height),this.m_pyramid_gpu||(this.m_pyramid_gpu=new Se(this.m_context,this.m_factor,4099,!0,!1,2),this.m_last_src=""),this.inter_process(t,this.m_pyramid_gpu,e.new_temporary(),e.current(),r.m_width,r.m_height,r.m_frameBuffer);var i=this.m_context.context().getError();if(i)throw new Error("BlurSharpen : "+i);e.push_to_current()}catch(t){throw new Error("BlurSharpen process: "+t)}},t.prototype.destroy=function(){this.clear(),this.m_down_resize_filter&&this.m_down_resize_filter.destroy(),this.m_down_filter&&this.m_down_filter.destroy()},t.prototype.size_change=function(t,e){this.m_width==t&&this.m_height==e||(this.m_width=t,this.m_height=e,this.m_last_src="",this.cal_embed(this.m_factor,this.m_width,this.m_height),this.clear())},t.prototype.inter_process=function(t,e,r,i,n,o,s){t.get_log()!=this.m_last_src&&(this.draw_temp_textures(e,i,s),this.m_last_src=t.get_log()),this.init(t);var a=1;a=this.draw_up_textures(e,s,a),this.m_factor.get_rev_trans(this.m_up_resize_filter.m_m),this.m_up_resize_filter.init(.01*this.m_amount+1,a);var c=new Array(3);c[0]=i,c[1]=e.m_images[e.m_images.length-1][0],c[2]=e.m_images[e.m_images.length-1][1],this.m_up_resize_filter.process(r,c,n,o,s)},t.prototype.init=function(t){t.assume_symbol("amount"),this.m_amount=t.fetch_float(-100,500),t.assume_symbol("radius"),this.m_radius=t.fetch_float(0,4)},t.prototype.clear=function(){this.m_pyramid_gpu&&(this.m_pyramid_gpu.destroy(),this.m_pyramid_gpu=null)},t.prototype.cal_embed=function(t,e,r){var i,n,o,s;r<=0||e<=0||(s=r<e?(n=(i=32)*r/e,32*r%e&&++n,++n,(o=32)*r/e):(i=32*e/r,(n=32)*e%r&&++i,++i,o=32*e/r,32),t.m_src_width=e,t.m_src_height=r,t.m_dst_width=i,t.m_dst_height=n,t.m_x_start=0,t.m_y_start=0,t.m_emb_width=o,t.m_emb_height=s)},t.prototype.draw_temp_textures=function(t,e,r){t.load_from(this.m_down_resize_filter,e,r),t.draw_downward(this.m_down_filter,r)},t.prototype.draw_up_textures=function(t,e,r){t.map_create(1);for(var i=new Array(t.m_images.length),n=0;n<i.length;++n){var o=Math.max(t.m_size[n].width,t.m_size[n].height)/16*this.m_radius;i[n]=Math.exp(-o*o)}o=Math.max(t.m_factor.m_src_width,t.m_factor.m_src_height)/16*this.m_radius;r=Math.exp(-o*o);for(n=1;n<t.m_images.length;++n)if(this.m_up_filter.m_factor=i[n],t.m_base_level==n){var s=[t.m_base_images[0],t.m_images[n-1][0],t.m_images[n-1][1]];1==n&&this.m_context.copy_texture(t.m_images[n-1][1],t.m_images[n-1][0],t.m_size[n-1].width,t.m_size[n-1].height,e),this.m_up_filter.process(t.m_base_images[1],s,t.m_base_size,t.m_base_size,e),t.base_move_up(1,e)}else{s=[t.m_images[n][0],t.m_images[n-1][0],t.m_images[n-1][1]];1==n&&this.m_context.copy_texture(t.m_images[n-1][1],t.m_images[n-1][0],t.m_size[n-1].width,t.m_size[n-1].height,e),this.m_up_filter.process(t.m_images[n][1],s,t.m_size[n].width,t.m_size[n].height,e)}return r},t.parcerName="blurSharpen",t}(),$e=function(){function t(t){this.m_shader=null,this.m_key=0,this.m_context=t,this.m_str_fshCGEToneMapEnd="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D srcTexForAlpha;                uniform float key;        uniform float key_base;                vec3 color_limite(vec3 src,float lum)        {            vec3 vl = vec3(lum);                        vec3 vc = src - vl;                        vec3 fac = min((vec3(1.0) - vl) / max(vc,0.00001),1.0);                        vc = vc * vec3(min(fac.r,min(fac.g,fac.b)));                        return vl + vc;        }                void main()        {            vec4 src = texture2D(inputImageTexture, textureCoordinate);                        vec3 csrc;            float lum;            csrc.r = src.x;            csrc.b = src.y;            csrc.g = 1.0 - src.x - src.y;                        lum = src.w + (- 0.5 + src.z)*(1.0 / 255.0);                        lum = (exp(lum * key_base) - 1.0) * key;                        lum = min(lum,0.9999);                        csrc *= vec3(lum);                        vec3 lsrc = csrc * vec3(1.0/0.299,1.0/0.587,1.0/0.114);                        lsrc = color_limite(lsrc,lum);                        lsrc = min(lsrc,0.9999);                         src.rgb = min(lsrc * 12.82,pow(lsrc,vec3(1.0 / 2.4)) * vec3(1.055) - vec3(0.055));                        src.a =texture2D(srcTexForAlpha, textureCoordinate).w;                        gl_FragColor = src;        } "}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.m_shader||(this.m_shader=new v(null,this.m_str_fshCGEToneMapEnd,this.m_context.context()));var i=new y(this.m_context.context(),r,this.m_shader);if(!this.init(t))return;i.shader_texture("inputImageTexture",e.current()),i.shader_texture("srcTexForAlpha",e.get_src());var n={key:0,key_base:0};this.cal_fac(n);var o={};o.key=n.key,o.key_base=n.key_base,i.m_shader.uniforms(o),i.draw_to(e.new_temporary());var s=this.m_context.context().getError();if(s)throw new Error("ToneMapEnd: "+s);e.push_to_current()}catch(s){throw new Error("ToneMapEnd process: "+s)}},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},t.prototype.init=function(t){return t.m_parcer.backup(),this.pre_check(t.m_parcer,t.m_key)?(t.log("start merged"),!1):(t.m_parcer.restore(),this.m_key=t.m_key,t.m_mode=mt.SRGB,!0)},t.prototype.cal_fac=function(t){var e=Math.pow(2,5-this.m_key/20);t.key_base=Math.log(e+1),t.key=1/e},t.prototype.pre_check=function(t,e){return l.Semicolon!=t.get_current_status()?0:(t.next(),t.cmp_symbol("toneMapStart")?(t.next(),t.cmp_symbol("key")?(t.next(),e!=t.get_float()?0:4):0):0)},t.parcerName="toneMapEnd",t}(),Ue=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.shader_procession=function(){return"dst = get_sample(vec2(0.0,0.0));"},e}(ue),qe=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragToneEnhanceHistProc="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;                void main()        {            vec2 cod = textureCoordinate * m.xy + m.zw;                        cod = max(cod,-cod);            cod = min(cod,vec2(2.0)-cod);                        vec4 src = texture2D(inputImageTexture, cod);                        vec4 hst = vec4(src.w);                        hst = (hst - vec4(-0.25,0.0,0.5,0.75)) * vec4(8.0);                        hst = min(max(hst,0.0),4.0);                        hst = abs( hst - vec4(2.0));                        hst = hst - vec4(1.0);                        hst = hst * (hst * hst - vec4(3.0))* vec4(0.25) + vec4(0.5);                        gl_FragColor = hst;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragToneEnhanceHistProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e);var s={};s.m=[this.m_m[0],this.m_m[1],this.m_m[2],this.m_m[3]],o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragToneEnchangceHistProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),He=function(t){function e(e){var r=t.call(this)||this;return r.m_al=0,r.m_au=0,r.m_bl=0,r.m_bu=0,r.m_context=e,r.m_shader=null,r.m_str_fshToneEnhanceResizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D hisImageTexture;        uniform vec4 m;        uniform float al;        uniform float au;        uniform float bl;        uniform float bu;                void main()        {            vec4 hst = texture2D(hisImageTexture,textureCoordinate * m.xy + m.zw);                        vec3 h = vec3((hst.x + hst.y/2.0),(1.0 + hst.x + hst.y - hst.z - hst.w)/2.0,(1.0 - hst.z/2.0 - hst.w));                        vec3 ha = h - vec3(0.25,0.5,0.75);                        float a = dot(ha , vec3(288.0/77.0,256.0/77.0,96.0/77.0));                        a = max (al,min(au,a));                        vec3 hb = h - vec3(0.25,0.5,0.75) - vec3(a) * vec3(9.0/64.0,1.0/8.0,3.0/64.0);                        float b = dot(hb , vec3(-96.0/77.0,-256.0/77.0,-288.0/77.0));                        b = max(bl,min(bu,b));                        vec3 f = vec3(1.0,-2.0,1.0) * vec3(a) + vec3(1.0,-1.0,0.0) * vec3(b);                        vec4 src = texture2D(inputImageTexture,textureCoordinate);                        float v = src.w + (- 0.5 + src.z)*(1.0 / 255.0);                        v = ((f.x * v + f.y) * v + (f.z + 1.0)) * v;                        v = clamp(v,0.0,1.0);                        src.w = v;            gl_FragColor = src;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshToneEnhanceResizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("hisImageTexture",e[1]);var s={};s.m=[this.m_m[0],this.m_m[1],this.m_m[2],this.m_m[3]],s.al=this.m_al,s.au=this.m_au,s.bl=this.m_bl,s.bu=this.m_bu,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragToneEnhanceResizeProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Ve=function(t){function e(e){var r=t.call(this)||this;return r.m_fac=0,r.m_context=e,r.m_shader=null,r.m_str_fshFragToneEnhanceUpProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D subImageTexture;        uniform float fac;                        void main()        {            vec4 src = texture2D(inputImageTexture, textureCoordinate);            vec4 sub = texture2D(subImageTexture,textureCoordinate);            vec4 dst = src* vec4(fac) + vec4(1.0 - fac) * sub;                        gl_FragColor = dst;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragToneEnhanceUpProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("subImageTexture",e[1]);var s={};s.fac=this.m_fac,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragToneEnhanceUpProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Xe=function(){function t(t){this.m_pyramid_gpu=null,this.m_width=0,this.m_height=0,this.m_last_src="",this.m_dark_low=0,this.m_dark_up=0,this.m_light_low=0,this.m_light_up=0,this.m_blur_level=0,this.m_blur_factor=0,this.m_context=t,this.m_factor=new le,this.m_up_resize_filter=new He(this.m_context),this.m_up_filter=new Ve(this.m_context),this.m_hst_filter=new qe(this.m_context),this.m_down_filter=new Ue(this.m_context),this.m_resize_filter=new Wt(this.m_context)}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.size_change(r.m_width,r.m_height),this.m_pyramid_gpu||(this.m_pyramid_gpu=new Se(this.m_context,this.m_factor,1025,!0),this.m_last_src=""),this.inter_process(t,this.m_pyramid_gpu,e.new_temporary(),e.current(),r.m_width,r.m_height,r.m_frameBuffer);var i=this.m_context.context().getError();if(i)throw new Error("ToneEnhance: "+i);e.push_to_current()}catch(t){throw new Error("ToneEnhance process: "+t)}},t.prototype.destroy=function(){this.clear(),this.m_up_resize_filter.destroy(),this.m_up_filter.destroy(),this.m_hst_filter.destroy(),this.m_down_filter.destroy(),this.m_resize_filter.destroy()},t.prototype.size_change=function(t,e){this.m_width==t&&this.m_height==e||(this.m_width=t,this.m_height=e,this.m_last_src="",this.cal_embed(this.m_factor,this.m_width,this.m_height),this.clear())},t.prototype.clear=function(){this.m_pyramid_gpu&&(this.m_pyramid_gpu.destroy(),this.m_pyramid_gpu=null)},t.prototype.inter_process=function(t,e,r,i,n,o,s){t.get_log()!=this.m_last_src&&(this.draw_temp_textures(e,i,s),this.m_last_src=t.get_log()),this.init(t),this.draw_up_textures(e,s),this.m_factor.get_rev_trans(this.m_up_resize_filter.m_m),this.m_up_resize_filter.m_al=this.m_dark_low,this.m_up_resize_filter.m_au=this.m_dark_up,this.m_up_resize_filter.m_bl=this.m_light_low,this.m_up_resize_filter.m_bu=this.m_light_up;var a=new Array(3);a[0]=i,a[1]=e.m_images[e.m_images.length-1][1],this.m_up_resize_filter.process(r,a,n,o,s)},t.prototype.init=function(t){if(t.assume_symbol("dark"),this.m_dark_low=t.fetch_float(-1,3),this.m_dark_up=t.fetch_float(-1,3),this.m_dark_low>this.m_dark_up)throw"dark1 must less than dark2";if(t.assume_symbol("light"),this.m_light_low=t.fetch_float(-1,3),this.m_light_up=t.fetch_float(-1,3),this.m_light_low>this.m_light_up)throw"light1 must less than light2";this.m_blur_level=1,this.m_blur_factor=3.5,t.test_symbol("blurFactor")&&(this.m_blur_level+=6*t.fetch_float(0,1),this.m_blur_factor*=Math.pow(1/16,t.fetch_float(0,1)))},t.prototype.draw_up_textures=function(t,e){t.map_create(1);for(var r=new Array(t.m_images.length),i=0,n=0;n<r.length;++n){var o=(n-this.m_blur_level)/this.m_blur_factor,s=Math.exp(-o*o);r[n]=s/(i+s),i+=s}for(n=1;n<t.m_images.length;++n){this.m_up_filter.m_fac=r[n];var a=1;1==n&&(a=0);var c=[t.m_images[n][0],t.m_images[n-1][a]];this.m_up_filter.process(t.m_images[n][1],c,t.m_size[n].width,t.m_size[n].height,e)}},t.prototype.draw_temp_textures=function(t,e,r){t.load_from(this.m_hst_filter,e,r),t.draw_downward(this.m_down_filter,r)},t.prototype.cal_embed=function(t,e,r){r<=0||e<=0||(t.m_src_width=e,t.m_src_height=r,t.m_dst_width=1,t.m_dst_height=1,r<e?(t.m_emb_width=1,t.m_x_start=0,t.m_emb_height=1/e*r,t.m_y_start=.5*(1-t.m_emb_height)):(t.m_emb_height=1,t.m_y_start=0,t.m_emb_width=1/r*e,t.m_x_start=.5*(1-t.m_emb_width)))},t.parcerName="toneEnhance",t}(),We=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragMixLogDebugResizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;                void main()        {            vec4 src = texture2D(inputImageTexture, textureCoordinate);                        float dlum = 256.0*src.y - 0.5 + src.x;            float rlum = 256.0*src.w - 0.5 + src.z;                        float lum = rlum;                        src.x = 77.5 / 256.0;            src.y = 29.5 / 256.0;                        float flum = floor(lum);            src.z = lum - flum;            src.w = (flum + 0.5) * (1.0/256.0);                                    gl_FragColor = src;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragMixLogDebugResizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e),this.m_context.texture_enable_linear(e,!1),o.draw_to(t),this.m_context.texture_enable_linear(e,!0);var s=this.m_context.context().getError();if(s)throw new Error("FragMixLogDebugResizeFilter: "+s)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Ye=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.shader_procession=function(){return"        vec4 src = get_sample(vec2(-3.0/8.0,-3.0/8.0));        src += get_sample(vec2( 3.0/8.0,-3.0/8.0));        src += get_sample(vec2(-3.0/8.0, 3.0/8.0));        src += get_sample(vec2( 3.0/8.0, 3.0/8.0));                float dlum = (255.0*src.w + src.z)*0.25;                float fdlum = floor(dlum);                dst.z = dlum - fdlum;        dst.w = fdlum * (1.0/255.0);                dst.xy = dst.zw;                "},e}(ue),Ge=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragStructureSharpenUpProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;        uniform vec2 sft;                vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw + sft * cd);        }                void main()        {                        vec4 src = get_sample(vec2(-3.0/8.0,-3.0/8.0));            src += get_sample(vec2( 3.0/8.0,-3.0/8.0));            src += get_sample(vec2(-3.0/8.0, 3.0/8.0));            src += get_sample(vec2( 3.0/8.0, 3.0/8.0));                        float dlum = (255.0*src.w + src.z)*0.25;                        float fdlum = floor(dlum);                        src.z = dlum - fdlum;            src.w = fdlum * (1.0/255.0);                        src.xy = src.zw;                        gl_FragColor = src;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragStructureSharpenUpProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e);var s={};s.m=[this.m_m[0],this.m_m[1],this.m_m[2],this.m_m[3]],s.sft=[1/r,1/i],o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragStructureSharpenDownResizeProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Ke=function(t){function e(e){var r=t.call(this)||this;return r.m_fac=0,r.m_relax=0,r.m_context=e,r.m_shader=null,r.m_str_fshFragStructureSharpenIterate="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform float fac;        uniform float relax;        uniform vec2 sft;        uniform vec4 w_th;                vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate + sft * cd);        }                void main()        {            vec4 dst = vec4(0.0);                        vec4 wt = step(w_th,vec4(textureCoordinate.xy,-textureCoordinate.xy));                        vec4 src = get_sample(vec2( 0.0,-1.0)) * wt.y;            src += get_sample(vec2(-1.0, 0.0)) * wt.x;            src += get_sample(vec2( 1.0, 0.0)) * wt.z;            src += get_sample(vec2( 0.0, 1.0)) * wt.w;                        float wf = wt.x + wt.y + wt.z + wt.w;            wf = 1.0 / wf;                        vec4 srcn = get_sample(vec2( 0.0, 0.0));                        vec4 v1 = vec4(src.wy,srcn.wy);            vec4 v2 = vec4(src.zx,srcn.zx);                        v1 = v1 * 255.0 + v2;            v1 *= vec4(wf,wf,1.0,1.0);            float lum = dot(v1,vec4(-fac * relax,relax,fac * relax,1.0 - relax));                        float flum = floor(lum);                        dst.x = lum - flum;            dst.y = flum * (1.0/255.0);                        float frefn = floor(v1.z);                        dst.z = v1.z - frefn;            dst.w = frefn * (1.0/255.0);                        gl_FragColor = dst;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragStructureSharpenIterate,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e);var s=1/r,a=1/i,c={};c.sft=[s,a],c.fac=this.m_fac,c.relax=this.m_relax,c.w_th=[s,a,s-1,a-1],o.m_shader.uniforms(c),o.draw_to(t);var l=this.m_context.context().getError();if(l)throw new Error("FragStructureSharpenIterateProc: "+l)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Je=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.shader_procession=function(){return"vec4 src;                        src = get_sample(vec2( 0.0, 0.0));                        float ref = 255.0*src.w + src.z;                                float fref = floor(ref);                        dst.z = ref - fref;                dst.w = fref * (1.0/255.0);                        dst.x = 0.5;                dst.y = 0.5;                "},e}(fe),Qe=function(t){function e(e){var r=t.call(this)||this;return r.m_contrast=0,r.m_strength=0,r.m_dark=0,r.m_light=0,r.m_end_fac=0,r.m_context=e,r.m_shader=null,r.m_str_fshFragStructureSharpenUpProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D subImageTexture;        uniform vec4 m;        uniform float contrast;        uniform float strength;        uniform float end_fac;        uniform vec2 darklight;        uniform vec2 darklight_inv;                void main()        {                    vec4 src = texture2D(inputImageTexture, textureCoordinate);                        float slum = 255.0*src.w + src.z;                        vec4 sub = texture2D(subImageTexture,textureCoordinate * m.xy + m.zw);                        float dlum = 255.0*sub.y + sub.x;            float rlum = 255.0*sub.w + sub.z;                        float sl1 = (slum - 0.5) * (1.0 / 255.0);                        vec2 dh;            dh.x = darklight.x - sl1;            dh.y = sl1 - darklight.y;            dh *= darklight_inv;            dh = max(dh,0.0);            dh *= dh;            dh = max(1.0 - dh,0.0);                                    float lt= (slum - ((slum - 128.0) * end_fac + dlum - rlum) * contrast - 128.0) * strength;                        lt *= mix(dh.x, dh.y, step(0.0, lt));                        slum -= lt;                        slum = clamp(slum,0.5,255.5);                        float fslum = floor(slum);                        src.z = slum - fslum;            src.w = fslum * (1.0/255.0);                        gl_FragColor = src;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragStructureSharpenUpProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("subImageTexture",e[1]);var s={};s.m=[this.m_m[0],this.m_m[1],this.m_m[2],this.m_m[3]],s.contrast=this.m_contrast,s.strength=this.m_strength,s.darklight=[this.m_dark,this.m_light],s.darklight_inv=[1/this.m_dark,1/(1-this.m_light)],s.end_fac=this.m_end_fac,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragStructureSharpenResizeProc: "+a)},e.prototype.init=function(t,e,r,i,n){this.m_contrast=t,this.m_strength=e,this.m_dark=r,this.m_light=i,this.m_end_fac=n},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Ze=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragStructureSharpenUpProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D subImageTexture;                        void main()        {            vec4 dst;                        vec4 src = texture2D(inputImageTexture, textureCoordinate);                        float slum = 255.0*src.w + src.z;                        float fslum = floor(slum);                        dst.z = slum - fslum;            dst.w = fslum * (1.0/255.0);                        vec4 sub = texture2D(subImageTexture,textureCoordinate);                        float dlum = 255.0*sub.y + sub.x;                        dlum = clamp(dlum,0.5,255.5);                        float fdlum = floor(dlum);                        dst.x = dlum - fdlum;            dst.y = fdlum * (1.0/255.0);                        gl_FragColor = dst;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragStructureSharpenUpProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("subImageTexture",e[1]),o.draw_to(t);var s=this.m_context.context().getError();if(s)throw new Error("FragStructureSharpenUpProc: "+s)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),tr=function(){function t(t){this.m_pyramid_gpu=null,this.m_width=0,this.m_height=0,this.m_last_src="",this.m_times=0,this.m_blur_factor=0,this.m_blur_factor_radius=0,this.m_relaxation_start=0,this.m_relaxation_end=0,this.m_relaxation_radius=0,this.m_strength=0,this.m_contrast=0,this.m_dark=0,this.m_light=0,this.m_context=t,this.m_factor=new le,this.m_up_resize_filter=new Qe(this.m_context),this.m_iterate_filter=new Ke(this.m_context),this.m_up_filter=new Ze(this.m_context),this.m_down_resize_filter=new Ge(this.m_context),this.m_down_filter=new Ye(this.m_context),this.m_iterate_start_filter=new Je(this.m_context),this.m_debug_filter=new We(this.m_context)}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.size_change(r.m_width,r.m_height),this.m_pyramid_gpu||(this.m_pyramid_gpu=new Se(this.m_context,this.m_factor,1025,!0,!1,2),this.m_last_src=""),this.inter_process(t,this.m_pyramid_gpu,e.new_temporary(),e.current(),r.m_width,r.m_height,r.m_frameBuffer);var i=this.m_context.context().getError();if(i)throw new Error("StructureSharpen: "+i);e.push_to_current()}catch(t){throw"StructureSharpen process: "+t}},t.prototype.destroy=function(){this.clear(),this.m_up_resize_filter&&this.m_up_resize_filter.destroy(),this.m_iterate_filter&&this.m_iterate_filter.destroy(),this.m_up_filter&&this.m_up_filter.destroy(),this.m_down_resize_filter&&this.m_down_resize_filter.destroy(),this.m_down_filter&&this.m_down_filter.destroy(),this.m_iterate_start_filter&&this.m_iterate_start_filter.destroy(),this.m_debug_filter&&this.m_debug_filter.destroy()},t.prototype.size_change=function(t,e){this.m_width==t&&this.m_height==e||(this.m_width=t,this.m_height=e,this.m_last_src="",this.cal_embed(this.m_factor,this.m_width,this.m_height),this.clear())},t.prototype.clear=function(){this.m_pyramid_gpu&&(this.m_pyramid_gpu.destroy(),this.m_pyramid_gpu=null)},t.prototype.inter_process=function(t,e,r,i,n,o,s){t.get_log()!=this.m_last_src&&(this.draw_temp_textures(e,i,s),this.m_last_src=t.get_log()),this.init(t);var a={end_fac:0},c=this.draw_up_textures(e,s,a);this.m_factor.get_rev_trans(this.m_up_resize_filter.m_m),this.m_up_resize_filter.init(this.m_contrast,.01*this.m_strength,this.m_dark,this.m_light,a.end_fac);var l=new Array(3);l[0]=i,l[1]=e.m_images[e.m_images.length-1][c],this.m_up_resize_filter.process(r,l,n,o,s)},t.prototype.init=function(t){t.assume_symbol("iterateTimes"),this.m_times=Math.floor(t.fetch_float(1,20)+.5),t.assume_symbol("factor"),this.m_blur_factor=t.fetch_float(0,1),this.m_blur_factor_radius=t.fetch_float(.1,10),t.assume_symbol("relaxation"),this.m_relaxation_start=t.fetch_float(0,2),this.m_relaxation_end=t.fetch_float(0,2),this.m_relaxation_radius=t.fetch_float(.1,5),t.assume_symbol("strength"),this.m_strength=t.fetch_float(0,100),t.assume_symbol("contrast"),this.m_contrast=t.fetch_float(0,5),t.assume_symbol("darkLight"),this.m_dark=t.fetch_float(0,.5),this.m_light=t.fetch_float(.5,1)},t.prototype.draw_up_textures=function(t,e,r){t.map_create(1);for(var i=new Array(t.m_images.length),n=new Array(t.m_images.length),o=0;o<i.length;++o){var s=o/this.m_blur_factor_radius,a=Math.exp(-s*s);i[o]=1-a+this.m_blur_factor*a}s=(Math.log(Math.max(t.m_factor.m_src_width,t.m_factor.m_src_height))/Math.log(2)-1)/this.m_blur_factor_radius,a=Math.exp(-s*s);r.end_fac=1-a+this.m_blur_factor*a;for(o=0;o<n.length;++o){s=o/this.m_relaxation_radius,a=Math.exp(-s*s);n[o]=this.m_relaxation_end*(1-a)+this.m_relaxation_start*a}t.m_start=0,t.m_end=1,t.map1(this.m_iterate_start_filter,1,0,e);var c=1;this.m_context.texture_enable_linear(t.m_images[0][0],!1),this.m_context.texture_enable_linear(t.m_images[0][1],!1);for(o=0;o<t.m_images.length;++o){this.m_iterate_filter.m_fac=i[o],this.m_iterate_filter.m_relax=n[o];for(var l=0;l<this.m_times;++l)t.map1(this.m_iterate_filter,1-c,c,e),c=1-c;if(this.m_context.texture_enable_linear(t.m_images[o][0],!0),this.m_context.texture_enable_linear(t.m_images[o][1],!0),o<t.m_images.length-1){var u=o+1;if(t.m_start=u,t.m_end=u+1,t.m_base_level==u){var h=[t.m_base_images[0],t.m_images[u-1][c]];this.m_up_filter.process(t.m_base_images[1],h,t.m_base_size,t.m_base_size,e),t.base_move_up(1,e)}else{h=[t.m_images[u][0],t.m_images[u-1][c]];this.m_up_filter.process(t.m_images[u][1],h,t.m_size[u].width,t.m_size[u].height,e)}c=1,this.m_context.texture_enable_linear(t.m_images[u][0],!1),this.m_context.texture_enable_linear(t.m_images[u][1],!1)}}return c},t.prototype.draw_temp_textures=function(t,e,r){t.load_from(this.m_down_resize_filter,e,r),t.draw_downward(this.m_down_filter,r)},t.prototype.cal_embed=function(t,e,r){if(!(r<=0||e<=0)){var i=0,n=0,o=0,s=0;r<e?(n=(i=32)*r/e,32*r%e&&++n,++n,s=(o=32)*r/e):0!=r&&(i=32*e/r,(n=32)*e%r&&++i,++i,o=32*e/r,s=32),t.m_src_width=e,t.m_src_height=r,t.m_dst_width=Math.floor(i),t.m_dst_height=Math.floor(n),t.m_x_start=0,t.m_y_start=0,t.m_emb_width=Math.floor(o),t.m_emb_height=Math.floor(s)}},t.parcerName="structureSharpen",t}(),er=function(t){function e(e){var r=t.call(this)||this;return r.m_amount=0,r.m_end_fac=0,r.m_context=e,r.m_shader=null,r.m_m=new Array(4),r.m_str_fshBlurSharpenResizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D subImageTexture;        uniform vec4 m;        uniform float amount;        uniform float end_fac;        uniform float highlight;        uniform float highlight_inv;                void main()        {                        vec4 src = texture2D(inputImageTexture, textureCoordinate);                        float slum = 255.0*src.w + src.z;                        vec4 sub = texture2D(subImageTexture,textureCoordinate * m.xy + m.zw);                        float dlum = 255.0*sub.y + sub.x;            float rlum = 255.0*sub.w + sub.z;                        slum = ((slum - rlum) * end_fac + dlum) * (1.0 - amount) + slum * amount;                        slum = clamp(slum,0.5,255.5);                        float fslum = floor(slum);                        src.z = slum - fslum;            src.w = fslum * (1.0/255.0);                        gl_FragColor = src;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshBlurSharpenResizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("subImageTexture",e[1]);var s={};s.m=this.m_m,s.amount=this.m_amount,s.end_fac=this.m_end_fac,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragMixLogBlurSharpenResizeProc: "+a)},e.prototype.init=function(t,e){this.m_amount=t,this.m_end_fac=e},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),rr=function(t){function e(e){var r=t.call(this)||this;return r.m_factor=0,r.m_context=e,r.m_shader=null,r.m_m=new Array(4),r.m_str_fshFragBlurSharpenUpProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D subImageTexture;        uniform float fac;                void main()        {            vec4 dst = texture2D(inputImageTexture, textureCoordinate);                        float slum = 255.0*dst.w + dst.z;                        vec4 sub = texture2D(subImageTexture,textureCoordinate);                        float rlum = 255.0*sub.w + sub.z;            float dlum = 255.0*sub.y + sub.x;                        dlum = (slum - rlum)*fac + dlum;                        dlum = clamp(dlum,0.5,255.5);                        float fdlum = floor(dlum);                        dst.x = dlum - fdlum;            dst.y = fdlum * (1.0/255.0);                        gl_FragColor = dst;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragBlurSharpenUpProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("subImageTexture",e[1]);var s={};s.fac=this.m_factor,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragMixLogBlurSharpenUpProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),ir=function(){function t(t){this.m_pyramid_gpu=null,this.m_width=0,this.m_height=0,this.m_last_src="",this.m_amount=0,this.m_radius=0,this.m_context=t,this.m_factor=new le,this.m_up_resize_filter=new er(this.m_context),this.m_up_filter=new rr(this.m_context),this.m_down_resize_filter=new Ge(this.m_context),this.m_down_filter=new Ye(this.m_context),this.m_debug_filter=new We(this.m_context)}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.size_change(r.m_width,r.m_height),this.m_pyramid_gpu||(this.m_pyramid_gpu=new Se(this.m_context,this.m_factor,1025,!0,!1,2),this.m_last_src=""),this.inter_process(t,this.m_pyramid_gpu,e.new_temporary(),e.current(),r.m_width,r.m_height,r.m_frameBuffer);var i=this.m_context.context().getError();if(i)throw new Error("BlurSharpenMixLog : "+i);e.push_to_current()}catch(t){throw"BlurSharpenMixLog process: "+t}},t.prototype.destroy=function(){this.clear(),this.m_up_resize_filter.destroy(),this.m_up_filter.destroy(),this.m_down_resize_filter.destroy(),this.m_down_filter.destroy(),this.m_debug_filter.destroy()},t.prototype.size_change=function(t,e){this.m_width==t&&this.m_height==e||(this.m_width=t,this.m_height=e,this.m_last_src="",this.cal_embed(this.m_factor,this.m_width,this.m_height),this.clear())},t.prototype.inter_process=function(t,e,r,i,n,o,s){t.get_log()!=this.m_last_src&&(this.draw_temp_textures(e,i,s),this.m_last_src=t.get_log()),this.init(t);var a=this.draw_up_textures(e,s);this.m_factor.get_rev_trans(this.m_up_resize_filter.m_m),this.m_up_resize_filter.init(.01*this.m_amount+1,a);var c=new Array(3);c[0]=i,c[1]=e.m_images[e.m_images.length-1][1],this.m_up_resize_filter.process(r,c,n,o,s)},t.prototype.clear=function(){this.m_pyramid_gpu&&(this.m_pyramid_gpu.destroy(),this.m_pyramid_gpu=null)},t.prototype.init=function(t){t.assume_symbol("amount"),this.m_amount=t.fetch_float(-100,500),t.assume_symbol("radius"),this.m_radius=t.fetch_float(0,1)},t.prototype.draw_up_textures=function(t,e){var r=1;t.map_create(1);for(var i=new Array(t.m_images.length),n=0;n<i.length;++n){var o=Math.max(t.m_size[n].width,t.m_size[n].height)/16*this.m_radius;i[n]=Math.exp(-o*o)}o=Math.max(t.m_factor.m_src_width,t.m_factor.m_src_height)/16*this.m_radius;r=Math.exp(-o*o);for(n=1;n<t.m_images.length;++n)if(this.m_up_filter.m_factor=i[n],t.m_base_level==n){var s=[t.m_base_images[0],t.m_images[n-1][1]];1==n&&(s[1]=t.m_images[0][0]),this.m_up_filter.process(t.m_base_images[1],s,t.m_base_size,t.m_base_size,e),t.base_move_up(1,e)}else{s=[t.m_images[n][0],t.m_images[n-1][1]];1==n&&(s[1]=t.m_images[0][0]),this.m_up_filter.process(t.m_images[n][1],s,t.m_size[n].width,t.m_size[n].height,e)}return r},t.prototype.draw_temp_textures=function(t,e,r){t.load_from(this.m_down_resize_filter,e,r),t.draw_downward(this.m_down_filter,r)},t.prototype.cal_embed=function(t,e,r){var i,n,o,s;r<=0||e<=0||(s=r<e?(n=(i=32)*r/e,32*r%e&&++n,++n,(o=32)*r/e):(i=32*e/r,(n=32)*e%r&&++i,++i,o=32*e/r,32),t.m_src_width=e,t.m_src_height=r,t.m_dst_width=i,t.m_dst_height=n,t.m_x_start=0,t.m_y_start=0,t.m_emb_width=o,t.m_emb_height=s)},t.parcerName="blurSharpen",t}(),nr=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.shader_procession=function(){return"        vec4 src = get_sample(vec2(-3.0 / 8.0, -3.0 / 8.0));        src += get_sample(vec2(3.0 / 8.0, -3.0 / 8.0));        src += get_sample(vec2(-3.0 / 8.0, 3.0 / 8.0));        src += get_sample(vec2(3.0 / 8.0, 3.0 / 8.0));                src *= vec4(0.25);        vec2 dlum;        dlum.x = src.w*255.0 + src.z*(255.0 / 256.0);        dlum.y = src.y*256.0 + src.x*(255.0 / 256.0);                vec2 fdlum = floor(dlum);        src.z = (dlum.x - fdlum.x)*(256.0 / 255.0);        src.w = fdlum.x / 255.0;                src.x = (dlum.y - fdlum.y)*(256.0 / 255.0);        src.y = fdlum.y / 255.0;                dst = src; "},e}(ue),or=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragNewStructureSharpenDownsizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;        uniform vec2 sft;                vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw + sft * cd);        }                void main()        {                    vec4 src = get_sample(vec2(-3.0 / 8.0, -3.0 / 8.0));            src += get_sample(vec2(3.0 / 8.0, -3.0 / 8.0));            src += get_sample(vec2(-3.0 / 8.0, 3.0 / 8.0));            src += get_sample(vec2(3.0 / 8.0, 3.0 / 8.0));                        vec2 dlum;                        dlum.x = (255.0*src.w + src.z * (255.0 / 256.0))*0.25;                        dlum.y = dlum.x * dlum.x * (1.0 / 256.0);                        vec2 fdlum = floor(dlum);                        src.xz = dlum - fdlum;            src.yw = fdlum;                        src *= vec4((256.0 / 255.0), 1.0 / 255.0, (256.0 / 255.0), 1.0 / 255.0);                        gl_FragColor = src;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragNewStructureSharpenDownsizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e);var s={};s.m=[this.m_m[0],this.m_m[1],this.m_m[2],this.m_m[3]],s.sft=[1/r,1/i],o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragNewStructureSharpenFactorProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),sr=function(t){function e(e){var r=t.call(this)||this;return r.m_esp=0,r.m_context=e,r.m_shader=null,r.m_str_fshFragNewStructureSharpenFator="        precision highp float;        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform float esp;                void main()        {            vec4 dst = texture2D(inputImageTexture, textureCoordinate);                        vec2 lum;            lum.x = dst.y*255.0 + dst.x*(255.0 / 256.0);            lum.y = dst.w*255.0 + dst.z*(255.0 / 256.0);                        float var = lum.y * 256.0 - lum.x * lum.x;                        var = max(var, 0.0);                        float a = var /(var + esp * (65536.0 * 4.0));                        float b = (1.0 - a) * lum.x;                        vec2 dlum = vec2(a * 256.0, b);                        vec2 fdlum = floor(dlum);                                    dst.x = (dlum.x - fdlum.x)*(256.0 / 255.0);            dst.y = fdlum.x / 255.0;                        dst.z = (dlum.y - fdlum.y)*(256.0 / 255.0);            dst.w = fdlum.y / 255.0;                        gl_FragColor = dst;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragNewStructureSharpenFator,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e);var s={};s.esp=this.m_esp,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragNewStructureSharpenFactorProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),ar=function(t){function e(e){var r=t.call(this)||this;return r.m_factor=0,r.m_context=e,r.m_shader=null,r.m_str_fshFragNewStructureSharpenUpProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D subImageTextureR;        uniform sampler2D subImageTextureD;        uniform float fac;                void main()        {            vec4 dst = texture2D(inputImageTexture, textureCoordinate);                        vec2 slum;            slum.x = dst.y*255.0 + dst.x*(255.0 / 256.0);            slum.y = dst.w*255.0 + dst.z*(255.0 / 256.0);                        vec4 sub_r = texture2D(subImageTextureR, textureCoordinate);                        vec2 rlum;            rlum.x = sub_r.y*255.0 + sub_r.x*(255.0 / 256.0);            rlum.y = sub_r.w*255.0 + sub_r.z*(255.0 / 256.0);                        vec4 sub_d = texture2D(subImageTextureD, textureCoordinate);                        vec2 dlum;            dlum.x = sub_d.y*255.0 + sub_d.x*(255.0 / 256.0);            dlum.y = sub_d.w*255.0 + sub_d.z*(255.0 / 256.0);                        dlum = (slum - rlum)*fac + dlum;                        vec2 fdlum = floor(dlum);                        dst.x = (dlum.x - fdlum.x)*(256.0 / 255.0);            dst.y = fdlum.x / 255.0;                        dst.z = (dlum.y - fdlum.y)*(256.0 / 255.0);            dst.w = fdlum.y / 255.0;                        gl_FragColor = dst;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragNewStructureSharpenUpProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("subImageTextureR",e[1]),o.shader_texture("subImageTextureD",e[2]);var s={};s.fac=this.m_factor,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("FragNewStructureSharpenUpProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),cr=function(t){function e(e){var r=t.call(this)||this;return r.m_contrast_dark=0,r.m_contrast_light=0,r.m_details=0,r.m_dark=0,r.m_light=0,r.m_context=e,r.m_shader=null,r.m_m=new Array,r.m_str_fshFragNewStructureSharpenUpsizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D subImageTexture;        uniform vec4 m;        uniform vec4 contrast;        uniform float details;        uniform vec2 darklight;        uniform vec2 darklight_inv;                void main()        {                        vec4 src = texture2D(inputImageTexture, textureCoordinate);                        float slum = 255.0*src.w + src.z * (255.0 / 256.0);                        vec4 sub = texture2D(subImageTexture, textureCoordinate * m.xy + m.zw);                        float a = (255.0 / 256.0)*sub.y + sub.x * (255.0 / 65536.0);            float b = 255.0*sub.w + sub.z * (255.0 / 256.0);                                    float sl1 = slum * (1.0 / 256.0);                        vec2 dh;            dh.x = darklight.x - sl1;            dh.y = sl1 - darklight.y;            dh *= darklight_inv;            dh = max(dh, 0.0);            dh *= dh;            dh = max(1.0 - dh, 0.0);                                    float lo = a *  slum + b;                        float hi = slum - lo;                        lo = (((contrast.x * lo + contrast.y) * lo + contrast.z) * lo+contrast.w)*lo;                        float lt = slum - lo - hi * details;                        lt *= mix(dh.x, dh.y, step(0.0, lt));                        slum -= lt;                        slum = clamp(slum, 0.0, 255.996);                        float fslum = floor(slum);                        src.z = (slum - fslum) * (256.0 / 255.0);            src.w = fslum * (1.0 / 255.0);                        gl_FragColor = src;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragNewStructureSharpenUpsizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("subImageTexture",e[1]);var s=this.get_fac(),a={};a.m=this.m_m,a.contrast=s,a.details=this.m_details,a.darklight=[this.m_dark,this.m_light],a.darklight_inv=[1/this.m_dark,1/this.m_light],o.m_shader.uniforms(a),o.draw_to(t);var c=this.m_context.context().getError();if(c)throw new Error("NewFragStructureSharpenUpsizeProc: "+c)},e.prototype.init=function(t,e,r,i,n){this.m_contrast_dark=t,this.m_contrast_light=e,this.m_details=r,this.m_dark=i,this.m_light=n},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e.prototype.get_fac=function(){var t=(0<this.m_contrast_dark?-2.9167*Math.abs(this.m_contrast_dark):1.0667*Math.abs(this.m_contrast_dark))+(0<this.m_contrast_light?2.9167*Math.abs(this.m_contrast_light):-1.0667*Math.abs(this.m_contrast_light));t/=16777216;var e=(0<this.m_contrast_dark?7.4167*Math.abs(this.m_contrast_dark):-3.2*Math.abs(this.m_contrast_dark))+(0<this.m_contrast_light?-4.25*Math.abs(this.m_contrast_light):1.0667*Math.abs(this.m_contrast_light));e/=65536;var r=(0<this.m_contrast_dark?-6.2208*Math.abs(this.m_contrast_dark):3.1333*Math.abs(this.m_contrast_dark))+(0<this.m_contrast_light?1.4708*Math.abs(this.m_contrast_light):.0667*Math.abs(this.m_contrast_light));r/=256;var i=(0<this.m_contrast_dark?1.7208*Math.abs(this.m_contrast_dark):-1*Math.abs(this.m_contrast_dark))+(0<this.m_contrast_light?Math.abs(this.m_contrast_light)*(.8625-1):Math.abs(this.m_contrast_light)*(.9333-1));return[t,e,r,++i]},e}(Xt),lr=function(){function t(t){this.m_pyramid_gpu=null,this.m_width=0,this.m_height=0,this.m_radius=0,this.m_esp=0,this.m_last_src="",this.m_flushed=!1,this.m_precessing="",this.m_contrast_dark=0,this.m_contrast_light=0,this.m_detals=0,this.m_dark=0,this.m_light=0,this.m_context=t,this.m_factor=new le,this.m_downsize_filter=new or(this.m_context),this.m_down_filter=new nr(this.m_context),this.m_up_filter=new ar(this.m_context),this.m_upsize_filter=new cr(this.m_context),this.m_fator_filter=new sr(this.m_context)}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.size_change(r.m_width,r.m_height),this.m_pyramid_gpu||(this.m_pyramid_gpu=new Se(this.m_context,this.m_factor,4099,!0,!1,2),this.m_last_src=0),this.inter_process(t,this.m_pyramid_gpu,e.new_temporary(),e.current(),r.m_width,r.m_height,r.m_frameBuffer);var i=this.m_context.context().getError();if(i)throw new Error("NewStructureSharpen: "+i);e.push_to_current()}catch(t){throw"NewStructureSharpen process: "+t}},t.prototype.destroy=function(){this.clear(),this.m_downsize_filter&&this.m_downsize_filter.destroy(),this.m_down_filter&&this.m_down_filter.destroy(),this.m_up_filter&&this.m_up_filter.destroy(),this.m_upsize_filter&&this.m_upsize_filter.destroy(),this.m_fator_filter&&this.m_fator_filter.destroy()},t.prototype.size_change=function(t,e){this.m_width==t&&this.m_height==e||(this.m_width=t,this.m_height=e,this.m_last_src="",this.cal_embed(this.m_factor,this.m_width,this.m_height),this.clear())},t.prototype.clear=function(){this.m_pyramid_gpu&&(this.m_pyramid_gpu.destroy(),this.m_pyramid_gpu=null)},t.prototype.inter_process=function(t,e,r,i,n,o,s){if(this.init(t),this.m_flushed){this.m_last_src="",e.load_from(this.m_downsize_filter,i,s),this.draw_textures(e,s),this.m_fator_filter.m_esp=this.m_esp,this.m_fator_filter.process(e.m_images[e.m_images.length-1][0],e.m_images[e.m_images.length-1][1],e.m_size[e.m_size.length-1].width,e.m_size[e.m_size.length-1].height,s),this.draw_textures(e,s);var a=void 0;a=this.m_last_src,this.m_last_src=this.m_precessing,this.m_precessing=a}this.m_factor.get_rev_trans(this.m_upsize_filter.m_m),this.m_upsize_filter.init(this.m_contrast_dark,this.m_contrast_light,this.m_detals,this.m_dark,this.m_light);var c=[];c[0]=i,c[1]=e.m_images[e.m_images.length-1][1],this.m_upsize_filter.process(r,c,n,o,s)},t.prototype.init=function(t){t.assume_symbol("radius"),this.m_radius=t.fetch_float(1e-4,16),t.assume_symbol("esp"),this.m_esp=.01*t.fetch_float(.001,100),t.get_log()!=this.m_last_src?(this.m_flushed=!0,this.m_precessing=t.get_log()):this.m_flushed=!1,t.test_symbol("contrastDarkLight")?(this.m_contrast_dark=t.fetch_float(-1,1),this.m_contrast_light=t.fetch_float(-1,1)):(this.m_contrast_dark=0,this.m_contrast_light=0),t.assume_symbol("details"),this.m_detals=t.fetch_float(0,5),t.test_symbol("preserveDarkLight")?(this.m_dark=t.fetch_float(0,.5),this.m_light=t.fetch_float(.5,1)):(this.m_dark=0,this.m_light=1)},t.prototype.draw_textures=function(t,e){t.draw_downward(this.m_down_filter,e),t.map_create(1);for(var r=new Array(t.m_images.length),i=0;i<r.length;++i){var n=Math.max(t.m_size[i].width,t.m_size[i].height)/16*this.m_radius;r[i]=Math.exp(-n*n)}for(i=1;i<t.m_images.length;++i)if(this.m_up_filter.m_factor=r[i],t.m_base_level==i){var o=[t.m_base_images[0],t.m_images[i-1][0],t.m_images[i-1][1]];this.m_up_filter.process(t.m_base_images[1],o,t.m_base_size,t.m_base_size,e),t.base_move_up(1,e)}else{o=[t.m_images[i][0],t.m_images[i-1][0],t.m_images[i-1][1]];1==i&&this.m_context.copy_texture(t.m_images[i-1][1],t.m_images[i-1][0],t.m_size[i-1].width,t.m_size[i-1].height,e),this.m_up_filter.process(t.m_images[i][1],o,t.m_size[i].width,t.m_size[i].height,e)}},t.prototype.cal_embed=function(t,e,r){if(!(r<=0||e<=0)){var i=0,n=0,o=0,s=0;r<e?(n=(i=32)*r/e,32*r%e&&++n,++n,s=(o=32)*r/e):0!=r&&(i=32*e/r,(n=32)*e%r&&++i,++i,o=32*e/r,s=32),t.m_src_width=e,t.m_src_height=r,t.m_dst_width=Math.floor(i),t.m_dst_height=Math.floor(n),t.m_x_start=0,t.m_y_start=0,t.m_emb_width=Math.floor(o),t.m_emb_height=Math.floor(s)}},t.parcerName="newStructureSharpen",t}(),ur=function(){function t(t){this.m_shader=null,this.m_texturelocker1=null,this.m_width=0,this.m_height=0,this.m_mvp=new Array,this.m_angle=null,this.m_s_vecPoints=new Array,this.m_vecPoints=new Float32Array(0),this.m_vecDirection=new Float32Array(0),this.m_vecSize=new Float32Array(0),this.m_vecOpacity=new Float32Array(0),this.m_vecTexNum=new Float32Array(0),this.m_num=0,this.m_opacity=0,this.m_model=0,this.m_pointStride=0,this.m_texSize=0,this.m_outsideRadius=0,this.m_innerRadius=0,this.m_numRatio=0,this.m_texture="",this.m_context=t,this.m_str_vshPointPositionAndSize="        attribute vec4 vPosition;        attribute float pointSize;        attribute float attrOpacity;        attribute float attrTexNum;        attribute vec2 attrDirection;        varying float opacity;        varying float texNum;        varying vec2 direction;        uniform mat4 uMat;                void main()        {            gl_PointSize = pointSize;            gl_Position = (uMat * vPosition);            opacity = attrOpacity;            texNum = attrTexNum;            direction = attrDirection;        }",this.m_str_fshChooseTexAndDraw="        varying float opacity;        varying float texNum;        varying vec2 direction;        uniform sampler2D star1;        uniform float reOpacity;                void main()        {            vec4 dst;            float vn = floor(texNum / 4.0);            float hn = floor(texNum - vn*4.0);                        vec2 coord = (gl_PointCoord - vec2(0.5));            coord = vec2(coord.x*direction.x - coord.y*direction.y,            coord.x*direction.y + coord.y*direction.x);            coord = coord + vec2(0.5, 0.5);                        coord = coord / 4.0;            coord.x = coord.x + vn*0.25;            coord.y = coord.y + hn*0.25;                        dst = texture2D(star1,coord);                        dst.a = dst.a*opacity;            if(reOpacity>1.0)                dst.xyz = dst.xyz*vec3(dst.a);                        gl_FragColor =dst;        }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{var i=this.createCGEGeneralLocker(e);r.m_width==this.m_width&&r.m_height==this.m_height||(this.m_mvp=this.makeOrtho(0,r.m_width,0,r.m_height,-1,1),this.m_width=r.m_width,this.m_height=r.m_height),this.init(t,r.m_width,r.m_height);var n=[];n[0]=r.m_width,n[1]=r.m_height;var o,s,a,c,l,u=this.m_context.context();if(this.genInterpolationPointsAndDirections(this.m_s_vecPoints,n,this.m_pointStride),u.enable(u.BLEND),this.m_model?u.blendFuncSeparate(u.ONE_MINUS_DST_ALPHA,u.ONE,u.ONE_MINUS_DST_ALPHA,u.ONE):u.blendFuncSeparate(u.SRC_ALPHA,u.ONE,u.ONE,u.ONE),this.m_shader||(this.m_shader=new v(this.m_str_vshPointPositionAndSize,this.m_str_fshChooseTexAndDraw,this.m_context.context())),this.m_context.context().bindFramebuffer(u.FRAMEBUFFER,r.m_frameBuffer),this.m_context.context().framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,e.current(),0),this.m_context.context().useProgram(this.m_shader.m_program),o=u.getAttribLocation(this.m_shader.m_program,"vPosition"),u.enableVertexAttribArray(o),this.m_positionBuffer||(this.m_positionBuffer=u.createBuffer(u.ARRAY_BUFFER)),u.bindBuffer(u.ARRAY_BUFFER,this.m_positionBuffer),u.vertexAttribPointer(o,2,u.FLOAT,!1,0,0),s=u.getAttribLocation(this.m_shader.m_program,"pointSize"),u.enableVertexAttribArray(s),this.m_pointSizeBuffer||(this.m_pointSizeBuffer=u.createBuffer(u.ARRAY_BUFFER)),u.bindBuffer(u.ARRAY_BUFFER,this.m_pointSizeBuffer),u.vertexAttribPointer(s,1,u.FLOAT,!1,0,0),a=u.getAttribLocation(this.m_shader.m_program,"attrOpacity"),u.enableVertexAttribArray(a),this.m_opacityBuffer||(this.m_opacityBuffer=u.createBuffer(u.ARRAY_BUFFER)),u.bindBuffer(u.ARRAY_BUFFER,this.m_opacityBuffer),u.vertexAttribPointer(a,1,u.FLOAT,!1,0,0),c=u.getAttribLocation(this.m_shader.m_program,"attrTexNum"),u.enableVertexAttribArray(c),this.m_texNumBuffer||(this.m_texNumBuffer=u.createBuffer(u.ARRAY_BUFFER)),u.bindBuffer(u.ARRAY_BUFFER,this.m_texNumBuffer),u.vertexAttribPointer(c,1,u.FLOAT,!1,0,0),l=u.getAttribLocation(this.m_shader.m_program,"attrDirection"),u.enableVertexAttribArray(l),this.m_directionBuffer||(this.m_directionBuffer=u.createBuffer(u.ARRAY_BUFFER)),u.bindBuffer(u.ARRAY_BUFFER,this.m_directionBuffer),u.vertexAttribPointer(l,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this.m_positionBuffer),u.bufferData(u.ARRAY_BUFFER,this.m_vecPoints,u.STATIC_DRAW),u.bindBuffer(u.ARRAY_BUFFER,this.m_pointSizeBuffer),u.bufferData(u.ARRAY_BUFFER,this.m_vecSize,u.STATIC_DRAW),u.bindBuffer(u.ARRAY_BUFFER,this.m_opacityBuffer),u.bufferData(u.ARRAY_BUFFER,this.m_vecOpacity,u.STATIC_DRAW),u.bindBuffer(u.ARRAY_BUFFER,this.m_texNumBuffer),u.bufferData(u.ARRAY_BUFFER,this.m_vecTexNum,u.STATIC_DRAW),u.bindBuffer(u.ARRAY_BUFFER,this.m_directionBuffer),u.bufferData(u.ARRAY_BUFFER,this.m_vecDirection,u.STATIC_DRAW),this.m_texturelocker1=this.m_context.get_resource_texture(this.m_texture),!this.m_texturelocker1)throw new Error("magicPainter tex"+this.m_texture);var h={};h.star1=this.m_texturelocker1.texture,this.m_shader.textures(h);var f={};f.uMat=this.m_mvp,this.m_model?f.reOpacity=2:f.reOpacity=0,this.m_shader.uniforms(f),this.m_context.context().viewport(0,0,r.m_width,r.m_height),this.m_context.context().drawArrays(this.m_context.context().POINTS,0,this.m_num),this.m_context.context().disable(this.m_context.context().BLEND);var m=u.getError();if(m)throw new Error("MagicPainter: "+m)}catch(m){throw new Error("MagicPainter process "+m)}finally{i.destroy(),this.m_context.release_resource_texture(this.m_texturelocker1)}},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},t.prototype.drawPointInInnerCircle=function(t,e){var r=this.m_outsideRadius,i=(Math.random()+Math.random()+Math.random()+Math.random()+Math.random()+Math.random()-3)*r*.5,n=2*Math.PI*Math.random();this.m_vecPoints[2*e]=t.x+i*Math.cos(n),this.m_vecPoints[2*e+1]=t.y+i*Math.sin(n)},t.prototype.drawPointInOutsideCircle=function(t,e){var r=this.m_innerRadius,i=r*Math.random(),n=2*Math.PI*Math.random();this.m_vecPoints[2*e]=t.x+i*Math.cos(n),this.m_vecPoints[2*e+1]=t.y+i*Math.sin(n)},t.prototype.getPointAttribute=function(t,e){var r,i=Math.random();if(i<=this.m_numRatio){this.drawPointInInnerCircle(t,e);var n=(Math.random()+Math.random()+Math.random()+Math.random()+Math.random()+Math.random()-3)*this.m_opacity*.08333333+this.m_opacity;n=Math.min(Math.max(0,n),1),this.m_vecOpacity[e]=n}else{this.drawPointInOutsideCircle(t,e);n=(Math.random()+Math.random()+Math.random()+Math.random()+Math.random()+Math.random()-3)*this.m_opacity*.08333333+this.m_opacity;n=Math.min(Math.max(0,n),1),this.m_vecOpacity[e]=n}r=null==this.m_angle?2*Math.PI*Math.random():this.m_angle+(Math.random()+Math.random()+Math.random()+Math.random()+Math.random()+Math.random()-3)*Math.PI*.1666666+Math.PI,this.m_vecDirection[2*e]=Math.cos(r),this.m_vecDirection[2*e+1]=Math.sin(r),this.m_vecSize[e]=this.m_texSize+this.m_texSize*(Math.random()-.5)*.6,this.m_vecTexNum[e]=16*Math.random()},t.prototype.genInterpolationPointsAndDirections=function(t,e,r){var i=t.length;if(i<1||r<1)throw"Invalid Parameters";if(1==i)return this.m_vecPoints=new Float32Array(2),this.m_vecDirection=new Float32Array(2),this.m_vecSize=new Float32Array(1),this.m_vecOpacity=new Float32Array(1),this.m_vecTexNum=new Float32Array(1),this.m_num=1,void this.getPointAttribute(t[0],0);for(var n=[],o=1;o<i;++o)for(var s={x:(t[o].x-t[o-1].x)*e[0],y:(t[o].y-t[o-1].y)*e[1]},a=Math.floor(Math.max(Math.ceil(Math.sqrt(s.x*s.x+s.y*s.y))/r,1)),c={x:s.x/a,y:s.y/a},l={x:t[o-1].x*e[0],y:t[o-1].y*e[1]},u=0;u<a;++u)n.push({x:l.x+c.x*u,y:l.y+c.y*u});this.m_num=n.length,this.m_vecPoints=new Float32Array(2*this.m_num),this.m_vecDirection=new Float32Array(2*this.m_num),this.m_vecSize=new Float32Array(this.m_num),this.m_vecOpacity=new Float32Array(this.m_num),this.m_vecTexNum=new Float32Array(this.m_num);for(var h=0;h<this.m_num;++h)this.getPointAttribute(n[h],h)},t.prototype.init=function(t,e,r){if(this.m_angle=null,this.m_s_vecPoints=[],this.m_vecPoints=new Float32Array(0),this.m_vecDirection=new Float32Array(0),this.m_vecSize=new Float32Array(0),this.m_vecOpacity=new Float32Array(0),this.m_vecTexNum=new Float32Array(0),this.m_num=0,this.m_opacity=.1,this.m_model=0,this.m_model=t.lookup_symbol(["add","opacity","texture",0],!0),t.assume_symbol("opacity"),this.m_opacity=t.fetch_float(0,1),t.assume_symbol("pointStride"),t.test_symbol("relToWidth")?this.m_pointStride=t.fetch_float()*e:this.m_pointStride=t.fetch_float(),t.assume_symbol("texSize"),this.m_texSize=t.fetch_float(),t.assume_symbol("outsideRadius"),this.m_outsideRadius=t.fetch_float(),t.assume_symbol("innerRadius"),this.m_innerRadius=t.fetch_float(),t.assume_symbol("numRatio"),this.m_numRatio=t.fetch_float(),t.assume_symbol("file"),this.m_texture=t.fetch_string(),t.test_symbol("angle")&&(this.m_angle=t.fetch_float()),t.lookup_symbol(["coordinate","realPixel",0],!0))for(;t.test_symbol("point");){var i=t.fetch_float()/e,n=t.fetch_float()/r;this.m_s_vecPoints.push({x:i,y:n})}else for(;t.test_symbol("point");){i=t.fetch_float(),n=t.fetch_float();this.m_s_vecPoints.push({x:i,y:n})}},t.prototype.makeOrtho=function(t,e,r,i,n,o){var s=e+t,a=e-t,c=i-r,l=i+r,u=o+n,h=o-n,f=[2/a,0,0,0,0,2/c,0,0,0,0,-2/h,0,-s/a,-l/c,-u/h,1];return f},t.prototype.createCGEGeneralLocker=function(t){var e={};return e.m_taget=t,e.destroy=function(){this.m_taget&&this.m_taget.unlock()},e.lock=function(t){return t==this.m_taget||!!t.lock()&&(this.m_taget=t,!0)},e},t.parcerName="magicPainter",t}(),hr=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragImageMattingDownsizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;        uniform vec2 sft;            vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw + sft * cd);        }            void main()        {                vec4 src = get_sample(vec2(-3.0 / 8.0, -3.0 / 8.0));            src += get_sample(vec2(3.0 / 8.0, -3.0 / 8.0));            src += get_sample(vec2(-3.0 / 8.0, 3.0 / 8.0));            src += get_sample(vec2(3.0 / 8.0, 3.0 / 8.0));                src = src*vec4(0.25);                gl_FragColor = src;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingDownsizeProc,o));var s=new y(o,null,this.m_shader,r,i,n);s.shader_texture("inputImageTexture",e[0]);var a={};a.m=[this.m_m[0],this.m_m[1],this.m_m[2],this.m_m[3]],a.sft=[1/r,1/i],s.m_shader.uniforms(a),s.draw_to(t);var c=o.getError();if(c)throw new Error("FragImageMattingDownSizeProc: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),fr=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragImageMattingForeIterationProc="        varying vec2 textureCoordinate;        uniform sampler2D textureAfterFilter;            void main()        {                vec4 dst = texture2D(textureAfterFilter, textureCoordinate);                        dst.x = clamp(dst.x*1.4 - 0.2,0.0,1.0);                gl_FragColor = dst;            }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingForeIterationProc,o));var s=new y(o,null,this.m_shader,r,i,n);s.shader_texture("textureAfterFilter",e[0]),s.draw_to(t);var a=o.getError();if(a)throw new Error("FragImageMattingForeIterationProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),mr=function(t){function e(e){var r=t.call(this)||this;return r.m_rectangle=new Array,r.m_context=e,r.m_shader=null,r.m_str_fshFragImageMattingDrawProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;            void main()        {            gl_FragColor = texture2D(inputImageTexture, textureCoordinate);        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingDrawProc,o));var s=Math.floor(r/10+.5),a=Math.floor(i/10+.5),c=this.m_context.create_new_texture(s,a,!0),l=new y(o,null,this.m_shader,s,a,n);l.shader_texture("inputImageTexture",e),l.draw_to(c),o.bindFramebuffer(o.FRAMEBUFFER,n),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,c,0);var u=new Uint8Array(s*a*4);o.readPixels(0,0,s,a,o.RGBA,o.UNSIGNED_BYTE,u);for(var h=[65536,65536],f=0,m=0,d=0;d<a;++d)for(var p=0;p<s;++p)10<u[4*(d*s+p)]&&(f<p&&(f=p),m<d&&(m=d),h[0]>p&&(h[0]=p),h[1]>d&&(h[1]=d));f=Math.min(10*(f+2),r),m=Math.min(10*(m+2),i),h[0]=Math.max(10*(h[0]-1),0),h[1]=Math.max(10*(h[1]-1),0),f-=h[0],m-=h[1],this.m_rectangle=[h[0],h[1],f,m],o.deleteTexture(c);var _=o.getError();if(_)throw new Error("FragImageMattingGetRectangleProc: "+_)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),dr=function(t){function e(e){var r=t.call(this)||this;return r.m_fac=0,r.m_context=e,r.m_shader=null,r.m_str_fshFragImageMattingGuideMapProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D axayImageTexture;        uniform sampler2D azbImageTexture;        uniform float fac;            uniform vec2 sft;        uniform vec4 m;            vec2 get_axay_sample(vec2 cd)        {            vec4 axay = texture2D(axayImageTexture, textureCoordinate*m.xy+m.zw + sft * cd)*            vec4((255.0 / 256.0), 255.0, (255.0 / 256.0), 255.0);            return vec2((axay.x + axay.y)/2.0 - 64.0, (axay.z + axay.w)/2.0 - 64.0);        }                vec2 get_azb_sample(vec2 cd)        {            vec4 azb = texture2D(azbImageTexture, textureCoordinate*m.xy+m.zw + sft * cd)*            vec4((255.0 / 256.0), 255.0, (255.0 / 256.0), 255.0);            return vec2((azb.x + azb.y)/2.0 - 64.0, (azb.z + azb.w)/2.0 - 64.0);        }            void main()        {            float axSum=0.0, aySum=0.0, azSum=0.0, bSum=0.0;            for (float i = -1.0; i <= 1.0;++i)            for (float n = -1.0; n <= 1.0; ++n)            {                vec2 axay = get_axay_sample(vec2(i, n));                vec2 azb = get_azb_sample(vec2(i, n));                axSum += axay.x;                aySum += axay.y;                azSum += azb.x;                bSum += azb.y;            }            float ax = axSum / 9.0;            float ay = aySum / 9.0;            float az = azSum / 9.0;            float b = bSum / 9.0;            vec4 src = texture2D(inputImageTexture, textureCoordinate);                vec4 dst;            dst.x = (ax*src.x + ay*src.y + az*src.z + b);                    gl_FragColor = dst;            if(fac<0.5)return;            dst.x = float(dst.x>0.5);            gl_FragColor = dst;                }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingGuideMapProc,o));var s=new y(o,null,this.m_shader,r,i,n);s.shader_texture("inputImageTexture",e[0]),s.shader_texture("axayImageTexture",e[1]),s.shader_texture("azbImageTexture",e[2]);var a={};a.fac=this.m_fac,a.m=[this.m_m[0],this.m_m[1],this.m_m[2],this.m_m[3]],a.sft=[1/r,1/i],s.m_shader.uniforms(a),s.draw_to(t);var c=o.getError();if(c)throw new Error("FragImageMattingGuideMapProc: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),pr=function(t){function e(e){var r=t.call(this)||this;return r.m_filter_flag=0,r.m_context=e,r.m_shader=null,r.m_str_fshFragImageMattingIterationProc="\tvarying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D textureAfterFilter;                uniform vec4 m;        uniform vec2 sft;        uniform float filter_flag;            vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw + sft * cd);        }        vec4 get_dst_sample(vec2 cd)        {            return texture2D(textureAfterFilter, textureCoordinate * m.xy + m.zw + sft * cd);        }                void main()        {                vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));            src += get_sample(vec2(1.0 / 4.0, -1.0 / 4.0));            src += get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0));            src += get_sample(vec2(1.0 / 4.0, 1.0 / 4.0));                src = src*vec4(0.25);            src.r = float(src.r > 0.0);            src.g = float(src.g > 0.0);                vec4 dst = get_dst_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));            dst += get_dst_sample(vec2(1.0 / 4.0, -1.0 / 4.0));            dst += get_dst_sample(vec2(-1.0 / 4.0, 1.0 / 4.0));            dst += get_dst_sample(vec2(1.0 / 4.0, 1.0 / 4.0));                dst = dst*vec4(0.25);                    if (filter_flag > 0.5){                dst.r = float(dst.r>0.5);            }                    src.r = src.r + max(min(dst.r*1.3-0.15, 1.0), 0.0) - src.g;            gl_FragColor = src;            }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingIterationProc,o));var s=new y(o,null,this.m_shader,r,i,n);s.shader_texture("inputImageTexture",this.m_res),s.shader_texture("textureAfterFilter",e[0]);var a={};a.m=[this.m_m[0],this.m_m[1],this.m_m[2],this.m_m[3]],a.sft=[1/r,1/i],a.filter_flag=this.m_filter_flag,s.m_shader.uniforms(a),s.draw_to(t);var c=o.getError();if(c)throw new Error("FragImageMattingIterationProc: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),_r=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragImageMattingUpsizeProc="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec2 samplerSize;        float large(float a){            return float(a>0.5);        }            void main()        {                vec4 src = texture2D(inputImageTexture, textureCoordinate);                float res00 = texture2D(inputImageTexture, (textureCoordinate + vec2(-1.0, -1.0)*samplerSize)).x;                float res01 = texture2D(inputImageTexture, (textureCoordinate + vec2(-1.0, 0.0)*samplerSize)).x;                float res02 = texture2D(inputImageTexture, (textureCoordinate + vec2(-1.0, 1.0)*samplerSize)).x;                float res10 = texture2D(inputImageTexture, (textureCoordinate + vec2(0.0, -1.0)*samplerSize)).x;                float res12 = texture2D(inputImageTexture, (textureCoordinate + vec2(0.0, 1.0)*samplerSize)).x;                float res20 = texture2D(inputImageTexture, (textureCoordinate + vec2(1.0, -1.0)*samplerSize)).x;                float res21 = texture2D(inputImageTexture, (textureCoordinate + vec2(1.0, 0.0)*samplerSize)).x;                float res22 = texture2D(inputImageTexture, (textureCoordinate + vec2(1.0, 1.0)*samplerSize)).x;               float ux = large(res20) * (1.0) + large(res10) * (2.0) + large(res00) * (1.0)                    + large(res02) * (-1.0) + large(res12) * (-2.0) + large(res22) *(-1.0);                float uy = large(res02) * (1.0) + large(res01) * (2.0) +large(res00) *(1.0)                    + large(res20) * (-1.0) + large(res21) *(-2.0) + large(res22) *(-1.0);                    float fac2 = clamp(pow(ux*ux + uy*uy, 0.5),0.0,1.0);                    gl_FragColor = vec4(vec3(fac2,fac2,fac2), 1.0);                }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingUpsizeProc,o));var s=new y(o,null,this.m_shader,r,i,n);s.shader_texture("inputImageTexture",e[0]);var a={};a.samplerSize=[1/r,1/i],s.m_shader.uniforms(a),s.draw_to(t);var c=o.getError();if(c)throw new Error("FragImageMattingLineProc: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),gr=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragImageMattingPainterBlend="        varying vec2 textureCoordinate;        uniform sampler2D painted1_0Texture;        uniform sampler2D painted1_1Texture;        uniform sampler2D srcTexture;        float get_painted_sample()        {                float res;        vec4 p1_0Src = texture2D(painted1_0Texture, textureCoordinate)            *vec4((255.0 / (256.0 * 65536.0)), (255.0 / (65536.0)), (255.0 / 256.0), 255.0);        vec4 p1_1Src = texture2D(painted1_1Texture, textureCoordinate)            *vec4((255.0 / (256.0 * 65536.0)), (255.0 / (65536.0)), (255.0 / 256.0), 255.0);            float p1_0 = (p1_0Src.x + p1_0Src.y + p1_0Src.z + p1_0Src.w);        float p1_1 = (p1_1Src.x + p1_1Src.y + p1_1Src.z + p1_1Src.w);            if (p1_1 <= 0.0) return -1.0;            res =floor(p1_0 / p1_1*254.0 + 0.5);                    return res;                }            void main()        {            float res = get_painted_sample();            res = (res+1.0)/255.0;            vec4 dst = vec4(texture2D(srcTexture,textureCoordinate).xyz,res);                gl_FragColor = dst;        }            ",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingPainterBlend,o));var s=new y(o,null,this.m_shader,r,i,n);s.shader_texture("painted1_0Texture",e[0]),s.shader_texture("painted1_1Texture",e[1]),s.shader_texture("srcTexture",e[2]),s.draw_to(t);var a=o.getError();if(a)throw new Error("FragImageMattingPainterBlendProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),vr=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragImageMattingPainting1_1DownsizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;        uniform vec2 sft;            vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw + sft * cd);        }            void main()        {            vec4 src = get_sample(vec2(-3.0 / 8.0, -3.0 / 8.0));            src += get_sample(vec2(3.0 / 8.0, -3.0 / 8.0));            src += get_sample(vec2(-3.0 / 8.0, 3.0 / 8.0));            src += get_sample(vec2(3.0 / 8.0, 3.0 / 8.0));                src *= vec4(0.25);            float dlum = clamp(max(src.r,src.g)*65536.0*256.0, 0.0, (65536.0 * 65536.0 - 1.0) / (256.0));            float lum8 = dlum - floor(dlum);                dlum = clamp(max(src.r, src.g)*65536.0, 0.0, (65536.0*256.0 - 1.0) / (256.0));            float lum8_16 = dlum - floor(dlum);                dlum = clamp(max(src.r, src.g)*256.0, 0.0, (65536.0 - 1.0) / (256.0));            float dlum24_32 = floor(dlum);            float lum16_24 = dlum - dlum24_32;                src.x = lum8*(256.0 / 255.0);            src.y = lum8_16*(256.0 / 255.0);            src.z = lum16_24*(256.0 / 255.0);            src.w = dlum24_32 / 255.0;                gl_FragColor = src;                }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingPainting1_1DownsizeProc,o));var s=new y(o,null,this.m_shader,r,i,n);s.shader_texture("inputImageTexture",e[0]);var a={};a.m=[this.m_m[0],this.m_m[1],this.m_m[2],this.m_m[3]],a.sft=[1/r,1/i],s.m_shader.uniforms(a),s.draw_to(t);var c=o.getError();if(c)throw new Error("FragImageMattingPainting1_1DownSizeProc: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),yr=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragImageMattingDownsize32Proc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec2 sft;            vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate + sft * cd);        }            void main()        {            vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));            src += get_sample(vec2(1.0 / 4.0, -1.0 / 4.0));            src += get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0));            src += get_sample(vec2(1.0 / 4.0, 1.0 / 4.0));                src *= vec4((255.0 / (256.0*65536.0)), (255.0 / (256.0*256.0)), (255.0 / 256.0), 255.0) * 0.25;                float dlum = (src.x + src.y + src.z + src.w)*65536.0;                float lum8 = dlum - floor(dlum);                        dlum = dlum / 256.0;            float lum8_16 = dlum - floor(dlum);                    dlum = dlum / 256.0;                float lum24_32 = floor(dlum);            float lum16_24 = dlum - lum24_32;                src.x = lum8*(256.0 / 255.0);            src.y = lum8_16*(256.0 / 255.0);            src.z = lum16_24*(256.0 / 255.0);            src.w = lum24_32 / 255.0;                gl_FragColor = src;            }        ",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingDownsize32Proc,o));var s=new y(o,null,this.m_shader,r,i,n);o.bindTexture(o.TEXTURE_2D,e),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),s.shader_texture("inputImageTexture",e);var a={};a.sft=[1/r,1/i],s.m_shader.uniforms(a),s.draw_to(t),o.bindTexture(o.TEXTURE_2D,e),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR);var c=o.getError();if(c)throw new Error("FragImageMattingPaintingDown32Proc: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),br=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragNewStructureSharpenFator="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;        uniform vec2 sft;            vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw + sft * cd);        }            void main()        {                vec4 src = get_sample(vec2(-3.0 / 8.0, -3.0 / 8.0));            src += get_sample(vec2(3.0 / 8.0, -3.0 / 8.0));            src += get_sample(vec2(-3.0 / 8.0, 3.0 / 8.0));            src += get_sample(vec2(3.0 / 8.0, 3.0 / 8.0));                src *= vec4(0.25);                    float dlum = clamp(src.r*65536.0*256.0, 0.0, (65536.0 * 65536.0 - 1.0) / (256.0));            float lum8 = dlum - floor(dlum);                dlum = clamp(src.r*65536.0, 0.0, (65536.0*256.0 - 1.0) / (256.0));            float lum8_16 = dlum - floor(dlum);                dlum = clamp(src.r*256.0, 0.0, (65536.0 - 1.0) / (256.0));            float dlum24_32 = floor(dlum);            float dlum16_24 = dlum - dlum24_32;                src.x = lum8*(256.0 / 255.0);            src.y = lum8_16*(256.0 / 255.0);            src.z = dlum16_24*(256.0 / 255.0);            src.w = dlum24_32 / 255.0;                gl_FragColor = src;            }        ",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragNewStructureSharpenFator,o));var s=new y(o,null,this.m_shader,r,i,n);s.shader_texture("inputImageTexture",e[0]);var a={};a.m=this.m_m,a.sft=[1/r,1/i],s.m_shader.uniforms(a),s.draw_to(t);var c=o.getError();if(c)throw new Error("FragImageMattingPaintingDownSize1_0Proc: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),xr=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragImageMattingPaintingDownsizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;        uniform vec2 sft;            vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw + sft * cd);        }            void main()        {                vec4 src = get_sample(vec2(-3.0 / 8.0, -3.0 / 8.0));            src += get_sample(vec2(3.0 / 8.0, -3.0 / 8.0));            src += get_sample(vec2(-3.0 / 8.0, 3.0 / 8.0));            src += get_sample(vec2(3.0 / 8.0, 3.0 / 8.0));                src *= vec4(0.25);                vec2 dlum = vec2(src.r, max(src.r, src.g))*256.0;                dlum = clamp(dlum, 0.0, 255.996);                vec2 fdlum = floor(dlum);                    src.x = (dlum.x - fdlum.x)*(256.0 / 255.0);            src.y = fdlum.x / 255.0;                src.z = (dlum.y - fdlum.y)*(256.0 / 255.0);            src.w = fdlum.y / 255.0;                gl_FragColor = src;                }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingPaintingDownsizeProc,o));var s=new y(o,null,this.m_shader,r,i,n);s.shader_texture("inputImageTexture",e[0]);var a={};a.m=this.m_m,a.sft=[1/r,1/i],s.m_shader.uniforms(a),s.draw_to(t);var c=o.getError();if(c)throw new Error("FragImageMattingPaintingDownSizeProc: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),wr=function(t){function e(e){var r=t.call(this)||this;return r.m_shader=new Array,r.m_filter_num=0,r.m_esp=0,r.m_blend_flag=0,r.m_fac=0,r.m_context=e,r.m_str_fshFragImageMattingPyrFator2="        varying vec2 textureCoordinate;            uniform sampler2D srcTexture;        uniform sampler2D subTexture;            uniform vec2 sft;        uniform float esp;        uniform float bf;        uniform float fac;                vec4 get_sample(vec2 cd)        {            return texture2D(srcTexture, textureCoordinate + sft * cd);        }                    float get_painted_sample(vec2 cd,float p)        {                float res = texture2D(subTexture, textureCoordinate + sft * cd).x;        res =  clamp(res*(1.0 + fac) - 0.5*fac, 0.0, 1.0);        p = p*255.0 - 1.0;            if(p>-0.5)res = p/254.0;                    return res;                }            void main()        {            vec4 src1 = get_sample(vec2(-1.0, -1.0));                vec4 src2 = get_sample(vec2(0.0, -1.0));                vec4 src3 = get_sample(vec2(1.0, -1.0));                        vec4 src4 = get_sample(vec2(-1.0, 0.0));                vec4 src5 = get_sample(vec2(0.0, 0.0));                vec4 src6 = get_sample(vec2(1.0, 0.0));                        vec4 src7 = get_sample(vec2(-1.0, 1.0));                vec4 src8 = get_sample(vec2(0.0, 1.0));                vec4 src9 = get_sample(vec2(1.0, 1.0));            float res1 = get_painted_sample(vec2(-1.0, -1.0),src1.a);            float res = res1;                float res2 = get_painted_sample(vec2(0.0, -1.0),src2.a);            res += res2;                float res3 = get_painted_sample(vec2(1.0, -1.0),src3.a);            res += res3;                        float res4 = get_painted_sample(vec2(-1.0, 0.0),src4.a);            res += res4;                float res5 = get_painted_sample(vec2(0.0, 0.0),src5.a);            res += res5;                float res6 = get_painted_sample(vec2(1.0, 0.0),src6.a);            res += res6;                        float res7 = get_painted_sample(vec2(-1.0, 1.0),src7.a);            res += res7;                float res8 = get_painted_sample(vec2(0.0, 1.0),src8.a);            res += res8;                float res9 = get_painted_sample(vec2(1.0, 1.0),src9.a);            res += res9;                            res *=1.0 / 9.0;            float stp = res;                                        vec4 tsrc = src1 + src2 + src3 + src4 + src5 + src6 + src7 + src8 + src9;            tsrc *= vec4(1.0 / 9.0);            float tr = tsrc.r;            float tg = tsrc.g;            float tb = tsrc.b;                float trg = src1.r*src1.g + src2.r*src2.g + src3.r*src3.g + src4.r*src4.g + src5.r*src5.g + src6.r*src6.g + src7.r*src7.g + src8.r*src8.g + src9.r*src9.g;            trg *= (1.0 / 9.0);                float trb = src1.r*src1.b + src2.r*src2.b + src3.r*src3.b + src4.r*src4.b + src5.r*src5.b + src6.r*src6.b + src7.r*src7.b + src8.r*src8.b + src9.r*src9.b;            trb *= (1.0 / 9.0);                float tgb = src1.g*src1.b + src2.g*src2.b + src3.g*src3.b + src4.g*src4.b + src5.g*src5.b + src6.g*src6.b + src7.g*src7.b + src8.g*src8.b + src9.g*src9.b;            tgb *= (1.0 / 9.0);                vec4 tsrc2 = src1* src1 + src2* src2 + src3* src3 + src4* src4 + src5*src5 + src6*src6 + src7*src7 + src8*src8 + src9*src9;            tsrc2 *= vec4(1.0 / 9.0);            float tr2 = tsrc2.x;            float tg2 = tsrc2.y;            float tb2 = tsrc2.z;                vec4 tpsrc = src1*res1 + src2*res2 + src3*res3 + src4*res4+  src5*res5 + src6*res6 + src7*res7 + src8*res8 + src9*res9;            tpsrc *= vec4(1.0 / 9.0);            float tpr = tpsrc.x;            float tpg = tpsrc.y;            float tpb = tpsrc.z;                    float brg = (trg  - tr * tg);            float brb = (trb  - tr * tb);            float bgb = (tgb  - tg * tb);                float br2 = tr2 - tr * tr + esp;            float bg2 = tg2 - tg * tg + esp;            float bb2 = tb2 - tb * tb + esp;                float ur = (tpr - stp * tr);            float ug = (tpg - stp * tg);            float ub = (tpb - stp * tb);                float bs = br2*bgb*bgb + bg2*brb*brb + bb2*brg*brg - 2.0 * bgb*brb*brg - bb2*bg2*br2;                float ar = (bgb*bgb - bb2*bg2)*ur + (bb2*brg - bgb*brb)*ug + (bg2*brb - bgb*brg)*ub;            float ag = (bb2*brg - bgb*brb)*ur + (brb*brb - bb2*br2)*ug + (bgb*br2 - brb*brg)*ub;            float ab = (bg2*brb - bgb*brg)*ur + (bgb*br2 - brb*brg)*ug + (brg*brg - bg2*br2)*ub;                bs = 1.0 / bs;                ar *= bs;            ag *= bs;            ab *= bs;                vec2 arag = vec2((ar + 64.0)*2.0, (ag + 64.0)*2.0);                arag = clamp(arag, 0.0, 255.996);                vec2 farag = floor(arag);                vec4 dst;                dst.xz = arag - farag;                dst.yw = farag;                dst *= vec4((256.0 / 255.0), 1.0 / 255.0, (256.0 / 255.0), 1.0 / 255.0);                    if (dst.x > (513.0 / 512.0))                {                    dst.x = 0.0;                    dst.y += (1.0 / 255.0);                }                    if (dst.z > (513.0 / 512.0))            {                dst.z = 0.0;                dst.w += (1.0 / 255.0);                    }                gl_FragColor = dst;        }            ",r.m_str_fshFragImageMattingPyrFator3="        varying vec2 textureCoordinate;                uniform sampler2D srcTexture;        uniform sampler2D subTexture;            uniform vec2 sft;        uniform float esp;        uniform float bf;        uniform float fac;                vec4 get_sample(vec2 cd)        {            return texture2D(srcTexture, textureCoordinate + sft * cd);        }                    float get_painted_sample(vec2 cd,float p)        {                float res = texture2D(subTexture, textureCoordinate + sft * cd).x;        res =  clamp(res*(1.0 + fac) - 0.5*fac, 0.0, 1.0);        p = p*255.0 - 1.0;            if(p>-0.5)res = p/254.0;                    return res;                }            void main()        {            vec4 src1 = get_sample(vec2(-1.0, -1.0));                vec4 src2 = get_sample(vec2(0.0, -1.0));                vec4 src3 = get_sample(vec2(1.0, -1.0));                        vec4 src4 = get_sample(vec2(-1.0, 0.0));                vec4 src5 = get_sample(vec2(0.0, 0.0));                vec4 src6 = get_sample(vec2(1.0, 0.0));                        vec4 src7 = get_sample(vec2(-1.0, 1.0));                vec4 src8 = get_sample(vec2(0.0, 1.0));                vec4 src9 = get_sample(vec2(1.0, 1.0));            float res1 = get_painted_sample(vec2(-1.0, -1.0),src1.a);            float res = res1;                float res2 = get_painted_sample(vec2(0.0, -1.0),src2.a);            res += res2;                float res3 = get_painted_sample(vec2(1.0, -1.0),src3.a);            res += res3;                        float res4 = get_painted_sample(vec2(-1.0, 0.0),src4.a);            res += res4;                float res5 = get_painted_sample(vec2(0.0, 0.0),src5.a);            res += res5;                float res6 = get_painted_sample(vec2(1.0, 0.0),src6.a);            res += res6;                        float res7 = get_painted_sample(vec2(-1.0, 1.0),src7.a);            res += res7;                float res8 = get_painted_sample(vec2(0.0, 1.0),src8.a);            res += res8;                float res9 = get_painted_sample(vec2(1.0, 1.0),src9.a);            res += res9;                            res *=1.0 / 9.0;            float stp = res;                vec4 tsrc = src1 + src2 + src3 + src4 + src5 + src6 + src7 + src8 + src9;            tsrc *= vec4(1.0 / 9.0);            float tr = tsrc.r;            float tg = tsrc.g;            float tb = tsrc.b;                float trg = src1.r*src1.g + src2.r*src2.g + src3.r*src3.g + src4.r*src4.g + src5.r*src5.g + src6.r*src6.g + src7.r*src7.g + src8.r*src8.g + src9.r*src9.g;            trg *= 1.0 / 9.0;                float trb = src1.r*src1.b + src2.r*src2.b + src3.r*src3.b + src4.r*src4.b + src5.r*src5.b + src6.r*src6.b + src7.r*src7.b + src8.r*src8.b + src9.r*src9.b;            trb *= 1.0 / 9.0;                float tgb = src1.g*src1.b + src2.g*src2.b + src3.g*src3.b + src4.g*src4.b + src5.g*src5.b + src6.g*src6.b + src7.g*src7.b + src8.g*src8.b + src9.g*src9.b;            tgb *= 1.0 / 9.0;                vec4 tsrc2 = src1* src1 + src2* src2 + src3* src3 + src4* src4 + src5*src5 + src6*src6 + src7*src7 + src8*src8 + src9*src9;            tsrc2 *= vec4(1.0 / 9.0);            float tr2 = tsrc2.x;            float tg2 = tsrc2.y;            float tb2 = tsrc2.z;                vec4 tpsrc = src1*res1 + src2*res2 + src3*res3 + src4*res4 + src5*res5 + src6*res6 + src7*res7 + src8*res8 + src9*res9;            tpsrc *= vec4(1.0 / 9.0);            float tpr = tpsrc.x;            float tpg = tpsrc.y;            float tpb = tpsrc.z;                        float brg = (trg - tr * tg);            float brb = (trb - tr * tb);            float bgb = (tgb - tg * tb);                float br2 = tr2 - tr * tr + esp;            float bg2 = tg2 - tg * tg + esp;            float bb2 = tb2 - tb * tb + esp;                float ur = (tpr - stp * tr);            float ug = (tpg - stp * tg);            float ub = (tpb - stp * tb);                    float bs = br2*bgb*bgb + bg2*brb*brb + bb2*brg*brg - 2.0 * bgb*brb*brg - bb2*bg2*br2;                float ar = (bgb*bgb - bb2*bg2)*ur + (bb2*brg - bgb*brb)*ug + (bg2*brb - bgb*brg)*ub;            float ag = (bb2*brg - bgb*brb)*ur + (brb*brb - bb2*br2)*ug + (bgb*br2 - brb*brg)*ub;            float ab = (bg2*brb - bgb*brg)*ur + (bgb*br2 - brb*brg)*ug + (brg*brg - bg2*br2)*ub;            bs = 1.0 / bs;                ar *= bs;            ag *= bs;            ab *= bs;                float b = (stp - ar*tr - ag*tg - ab*tb);                vec2 arag = vec2((ab + 64.0)*2.0, (b + 64.0)*2.0);            arag = clamp(arag, 0.0, 255.996);            vec2 farag = floor(arag);                vec4 dst;                dst.xz = arag - farag;                dst.yw = farag;                dst *= vec4((256.0 / 255.0), 1.0 / 255.0, (256.0 / 255.0), 1.0 / 255.0);            if (dst.x > (513.0 / 512.0))                {                    dst.x = 0.0;                    dst.y += (1.0 / 255.0);                }                    if (dst.z > (513.0 / 512.0))                {                    dst.z = 0.0;                    dst.w += (1.0 / 255.0);                    }                gl_FragColor = dst;            }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=[this.m_str_fshFragImageMattingPyrFator2,this.m_str_fshFragImageMattingPyrFator3];this.m_shader[this.m_filter_num]||(this.m_shader[this.m_filter_num]=new v(null,o[this.m_filter_num],this.m_context.context()));var s=new y(this.m_context.context(),null,this.m_shader[this.m_filter_num],r,i,n);s.shader_texture("subTexture",e[0]),s.shader_texture("srcTexture",e[1]);var a={};a.bf=this.m_blend_flag,a.esp=this.m_esp,a.sft=[1/r,1/i],a.fac=this.m_fac,s.m_shader.uniforms(a),s.draw_to(t);var c=this.m_context.context().getError();if(c)throw new Error("FragImageMattingPyrFactorProc: "+c)},e.prototype.destroy=function(){this.m_shader[0]&&(this.m_shader[0].destroy(),this.m_shader[0]=null),this.m_shader[1]&&(this.m_shader[1].destroy(),this.m_shader[1]=null)},e}(Xt),Sr=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_str_fshFragImageMattingTempUpProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;                void main()        {            vec4 dst = texture2D(inputImageTexture, textureCoordinate);            dst.x = dst.x*2.0 - 0.5;                    gl_FragColor = dst;        }        ",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingTempUpProc,o));var s=new y(o,null,this.m_shader,r,i,n);s.shader_texture("inputImageTexture",e[0]),s.draw_to(t);var a=o.getError();if(a)throw new Error("FragImageMattingTempUpProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Cr=function(t){function e(e){var r=t.call(this)||this;return r.m_shader=new Array,r.m_filter_num=0,r.m_esp=0,r.m_context=e,r.m_str_fshFragImageMattingTopFator2="        varying vec2 textureCoordinate;        uniform sampler2D painted1_0Texture;        uniform sampler2D painted1_1Texture;            uniform sampler2D srcTexture;            uniform vec2 sft;        uniform float esp;                vec4 get_sample(vec2 cd)        {            return texture2D(srcTexture, textureCoordinate + sft * cd);        }                    float get_painted_sample(vec2 cd)        {            vec4 p1_0Src = texture2D(painted1_0Texture, textureCoordinate + sft * cd)*vec4((255.0 / (256.0*65536.0)), (255.0 / 65536.0), (255.0 / 256.0), 255.0);                vec4 p1_1Src = texture2D(painted1_1Texture, textureCoordinate + sft * cd)*vec4((255.0 / (256.0*65536.0)), (255.0 / 65536.0), (255.0 / 256.0), 255.0);                        float p1_0 = (p1_0Src.x + p1_0Src.y + p1_0Src.z + p1_0Src.w);            float p1_1 = (p1_1Src.x + p1_1Src.y + p1_1Src.z + p1_1Src.w);                if (p1_1 <= 0.0) return 0.5;                return p1_0 / p1_1;                }            void main()        {            float res1 = get_painted_sample(vec2(-1.0, -1.0));            float res = res1;                float res2 = get_painted_sample(vec2(0.0, -1.0));            res += res2;                float res3 = get_painted_sample(vec2(1.0, -1.0));            res += res3;                        float res4 = get_painted_sample(vec2(-1.0, 0.0));            res += res4;                float res5 = get_painted_sample(vec2(0.0, 0.0));            res += res5;                float res6 = get_painted_sample(vec2(1.0, 0.0));            res += res6;                        float res7 = get_painted_sample(vec2(-1.0, 1.0));            res += res7;                float res8 = get_painted_sample(vec2(0.0, 1.0));            res += res8;                float res9 = get_painted_sample(vec2(1.0, 1.0));            res += res9;                            res *=1.0 / 9.0;            float stp = res;                            vec4 src1 = get_sample(vec2(-1.0, -1.0));                vec4 src2 = get_sample(vec2(0.0, -1.0));                vec4 src3 = get_sample(vec2(1.0, -1.0));                        vec4 src4 = get_sample(vec2(-1.0, 0.0));                vec4 src5 = get_sample(vec2(0.0, 0.0));                vec4 src6 = get_sample(vec2(1.0, 0.0));                        vec4 src7 = get_sample(vec2(-1.0, 1.0));                vec4 src8 = get_sample(vec2(0.0, 1.0));                vec4 src9 = get_sample(vec2(1.0, 1.0));                        vec4 tsrc = src1 + src2 + src3 + src4 + src5 + src6 + src7 + src8 + src9;            tsrc *= vec4(1.0 / 9.0);            float tr = tsrc.r;            float tg = tsrc.g;            float tb = tsrc.b;                float trg = src1.r*src1.g + src2.r*src2.g + src3.r*src3.g + src4.r*src4.g + src5.r*src5.g + src6.r*src6.g + src7.r*src7.g + src8.r*src8.g + src9.r*src9.g;            trg *= (1.0 / 9.0);                float trb = src1.r*src1.b + src2.r*src2.b + src3.r*src3.b + src4.r*src4.b + src5.r*src5.b + src6.r*src6.b + src7.r*src7.b + src8.r*src8.b + src9.r*src9.b;            trb *= (1.0 / 9.0);                float tgb = src1.g*src1.b + src2.g*src2.b + src3.g*src3.b + src4.g*src4.b + src5.g*src5.b + src6.g*src6.b + src7.g*src7.b + src8.g*src8.b + src9.g*src9.b;            tgb *= (1.0 / 9.0);                vec4 tsrc2 = src1* src1 + src2* src2 + src3* src3 + src4* src4 + src5*src5 + src6*src6 + src7*src7 + src8*src8 + src9*src9;            tsrc2 *= vec4(1.0 / 9.0);            float tr2 = tsrc2.x;            float tg2 = tsrc2.y;            float tb2 = tsrc2.z;                vec4 tpsrc = src1*res1 + src2*res2 + src3*res3 + src4*res4+  src5*res5 + src6*res6 + src7*res7 + src8*res8 + src9*res9;            tpsrc *= vec4(1.0 / 9.0);            float tpr = tpsrc.x;            float tpg = tpsrc.y;            float tpb = tpsrc.z;                    float brg = (trg  - tr * tg);            float brb = (trb  - tr * tb);            float bgb = (tgb  - tg * tb);                float br2 = tr2 - tr * tr + esp;            float bg2 = tg2 - tg * tg + esp;            float bb2 = tb2 - tb * tb + esp;                float ur = (tpr - stp * tr);            float ug = (tpg - stp * tg);            float ub = (tpb - stp * tb);                float bs = br2*bgb*bgb + bg2*brb*brb + bb2*brg*brg - 2.0 * bgb*brb*brg - bb2*bg2*br2;                float ar = (bgb*bgb - bb2*bg2)*ur + (bb2*brg - bgb*brb)*ug + (bg2*brb - bgb*brg)*ub;            float ag = (bb2*brg - bgb*brb)*ur + (brb*brb - bb2*br2)*ug + (bgb*br2 - brb*brg)*ub;            float ab = (bg2*brb - bgb*brg)*ur + (bgb*br2 - brb*brg)*ug + (brg*brg - bg2*br2)*ub;                bs = 1.0 / bs;                ar *= bs;            ag *= bs;            ab *= bs;                vec2 arag = vec2((ar + 64.0)*2.0, (ag + 64.0)*2.0);                arag = clamp(arag, 0.0, 255.996);                vec2 farag = floor(arag);                vec4 dst;                dst.xz = arag - farag;                dst.yw = farag;                dst *= vec4((256.0 / 255.0), 1.0 / 255.0, (256.0 / 255.0), 1.0 / 255.0);            if (dst.x > (513.0 / 512.0))            {                dst.x = 0.0;                dst.y += (1.0 / 255.0);            }            if (dst.z > (513.0 / 512.0))            {                dst.z = 0.0;                dst.w += (1.0 / 255.0);            }                gl_FragColor = dst;        }            ",r.m_str_fshFragImageMattingTopFator3="        varying vec2 textureCoordinate;            uniform sampler2D painted1_0Texture;        uniform sampler2D painted1_1Texture;            uniform sampler2D srcTexture;            uniform vec2 sft;        uniform float esp;                vec4 get_sample(vec2 cd)        {            return texture2D(srcTexture, textureCoordinate + sft * cd);        }                    float get_painted_sample(vec2 cd)        {            vec4 p1_0Src = texture2D(painted1_0Texture, textureCoordinate + sft * cd)*vec4((255.0 / (256.0*65536.0)), (255.0 / 65536.0), (255.0 / 256.0), 255.0);            vec4 p1_1Src = texture2D(painted1_1Texture, textureCoordinate + sft * cd)*vec4((255.0 / (256.0*65536.0)), (255.0 / 65536.0), (255.0 / 256.0), 255.0);                    float p1_0 = (p1_0Src.x + p1_0Src.y + p1_0Src.z + p1_0Src.w);            float p1_1 = (p1_1Src.x + p1_1Src.y + p1_1Src.z + p1_1Src.w);                if (p1_1 <= 0.0) return 0.5;                if (p1_0 <= 0.0) return 0.0;                return p1_0 / p1_1;        }            void main()        {            float res1 = get_painted_sample(vec2(-1.0, -1.0));            float res = res1;                float res2 = get_painted_sample(vec2(0.0, -1.0));            res += res2;                float res3 = get_painted_sample(vec2(1.0, -1.0));            res += res3;                        float res4 = get_painted_sample(vec2(-1.0, 0.0));            res += res4;                float res5 = get_painted_sample(vec2(0.0, 0.0));            res += res5;                float res6 = get_painted_sample(vec2(1.0, 0.0));            res += res6;                        float res7 = get_painted_sample(vec2(-1.0, 1.0));            res += res7;                float res8 = get_painted_sample(vec2(0.0, 1.0));            res += res8;                float res9 = get_painted_sample(vec2(1.0, 1.0));            res += res9;                    res *= 1.0 / 9.0;            float stp = res;                        vec4 src1 = get_sample(vec2(-1.0, -1.0));                vec4 src2 = get_sample(vec2(0.0, -1.0));                vec4 src3 = get_sample(vec2(1.0, -1.0));                        vec4 src4 = get_sample(vec2(-1.0, 0.0));                vec4 src5 = get_sample(vec2(0.0, 0.0));                vec4 src6 = get_sample(vec2(1.0, 0.0));            vec4 src7 = get_sample(vec2(-1.0, 1.0));                vec4 src8 = get_sample(vec2(0.0, 1.0));                vec4 src9 = get_sample(vec2(1.0, 1.0));            vec4 tsrc = src1 + src2 + src3 + src4 + src5 + src6 + src7 + src8 + src9;            tsrc *= vec4(1.0 / 9.0);            float tr = tsrc.r;            float tg = tsrc.g;            float tb = tsrc.b;                float trg = src1.r*src1.g + src2.r*src2.g + src3.r*src3.g + src4.r*src4.g + src5.r*src5.g + src6.r*src6.g + src7.r*src7.g + src8.r*src8.g + src9.r*src9.g;            trg *= 1.0 / 9.0;                float trb = src1.r*src1.b + src2.r*src2.b + src3.r*src3.b + src4.r*src4.b + src5.r*src5.b + src6.r*src6.b + src7.r*src7.b + src8.r*src8.b + src9.r*src9.b;            trb *= 1.0 / 9.0;                float tgb = src1.g*src1.b + src2.g*src2.b + src3.g*src3.b + src4.g*src4.b + src5.g*src5.b + src6.g*src6.b + src7.g*src7.b + src8.g*src8.b + src9.g*src9.b;            tgb *= 1.0 / 9.0;                vec4 tsrc2 = src1* src1 + src2* src2 + src3* src3 + src4* src4 + src5*src5 + src6*src6 + src7*src7 + src8*src8 + src9*src9;            tsrc2 *= vec4(1.0 / 9.0);            float tr2 = tsrc2.x;            float tg2 = tsrc2.y;            float tb2 = tsrc2.z;                vec4 tpsrc = src1*res1 + src2*res2 + src3*res3 + src4*res4 + src5*res5 + src6*res6 + src7*res7 + src8*res8 + src9*res9;            tpsrc *= vec4(1.0 / 9.0);            float tpr = tpsrc.x;            float tpg = tpsrc.y;            float tpb = tpsrc.z;                        float brg = (trg - tr * tg);            float brb = (trb - tr * tb);            float bgb = (tgb - tg * tb);                float br2 = tr2 - tr * tr + esp;            float bg2 = tg2 - tg * tg + esp;            float bb2 = tb2 - tb * tb + esp;                float ur = (tpr - stp * tr);            float ug = (tpg - stp * tg);            float ub = (tpb - stp * tb);                    float bs = br2*bgb*bgb + bg2*brb*brb + bb2*brg*brg - 2.0 * bgb*brb*brg - bb2*bg2*br2;                float ar = (bgb*bgb - bb2*bg2)*ur + (bb2*brg - bgb*brb)*ug + (bg2*brb - bgb*brg)*ub;            float ag = (bb2*brg - bgb*brb)*ur + (brb*brb - bb2*br2)*ug + (bgb*br2 - brb*brg)*ub;            float ab = (bg2*brb - bgb*brg)*ur + (bgb*br2 - brb*brg)*ug + (brg*brg - bg2*br2)*ub;            bs = 1.0 / bs;                ar *= bs;            ag *= bs;            ab *= bs;                float b = (stp - ar*tr - ag*tg - ab*tb);                vec2 arag = vec2((ab + 64.0)*2.0, (b + 64.0)*2.0);            arag = clamp(arag, 0.0, 255.996);                vec2 farag = floor(arag);                vec4 dst;                dst.xz = arag - farag;                dst.yw = farag;                dst *= vec4((256.0 / 255.0), 1.0 / 255.0, (256.0 / 255.0), 1.0 / 255.0);            if (dst.x > (513.0 / 512.0))            {                dst.x = 0.0;                dst.y += (1.0 / 255.0);            }            if (dst.z > (513.0 / 512.0))            {                dst.z = 0.0;                dst.w += (1.0 / 255.0);            }                gl_FragColor = dst;            }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=[this.m_str_fshFragImageMattingTopFator2,this.m_str_fshFragImageMattingTopFator3];this.m_shader[this.m_filter_num]||(this.m_shader[this.m_filter_num]=new v(null,o[this.m_filter_num],this.m_context.context()));var s=new y(this.m_context.context(),null,this.m_shader[this.m_filter_num],r,i,n);s.shader_texture("painted1_0Texture",e[0]),s.shader_texture("painted1_1Texture",e[1]),s.shader_texture("srcTexture",e[2]);var a={};a.esp=this.m_esp,a.sft=[1/r,1/i],s.m_shader.uniforms(a),s.draw_to(t);var c=this.m_context.context().getError();if(c)throw new Error("FragImageMattingTopFactorProc: "+c)},e.prototype.destroy=function(){this.m_shader[0]&&(this.m_shader[0].destroy(),this.m_shader[0]=null),this.m_shader[1]&&(this.m_shader[1].destroy(),this.m_shader[1]=null)},e}(Xt),Tr=function(t){function e(e){var r=t.call(this)||this;return r.m_amount=0,r.m_end_fac=0,r.m_crop=!1,r.m_rectangle=new Array,r.m_context=e,r.m_shader=null,r.m_str_fshFragImageMattingBlurUpsizeProc="varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D inputMaskTexture;        uniform sampler2D subMaskTextureR;        uniform sampler2D subMaskTextureD;        uniform vec4 m;        uniform float amount;        uniform float end_fac;        uniform vec2 samplerSize;                uniform vec4 rectangle;        uniform float crop;                void main()        {                    vec4 src = texture2D(inputMaskTexture, textureCoordinate);                    vec4 sub_r = texture2D(subMaskTextureR, textureCoordinate * m.xy + m.zw);            vec4 sub_d = texture2D(subMaskTextureD, textureCoordinate * m.xy + m.zw);                    float res = (((src - sub_r) * end_fac + sub_d) *(1.0 - amount) +src * amount).x*src.x;            res = res*res*res;            vec4 src2 = texture2D(inputImageTexture, textureCoordinate);            vec4 dst4 = vec4(src2.rgb, src2.a*res);            gl_FragColor = dst4;                        if(crop<0.5)return;            vec2 rc = textureCoordinate/samplerSize;            rc = rc - rectangle.xy;            float mi = min(rc.x,rc.y);            float mir = min(rectangle.z - rc.x,rectangle.w - rc.y);            mi = min(mi,mir);            if(mi<0.0)return;            if(mi>3.0)return;            vec3 color = vec3(172.0/255.0,151.0/255.0,94.0/255.0);            rc = rc/20.0 - floor(rc/20.0)- vec2(0.5);            float a = 0.0;            if(rc.x*rc.y>0.0)a = 1.0;            gl_FragColor = vec4(mix(dst4.xyz,color,a),a);                    }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();o.disable(o.BLEND),this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingBlurUpsizeProc,o));var s=new y(o,null,this.m_shader,r,i,n);s.shader_texture("inputImageTexture",e[0]),s.shader_texture("subMaskTextureR",e[1]),s.shader_texture("subMaskTextureD",e[2]),s.shader_texture("inputMaskTexture",e[3]);var a={};a.m=this.m_m,a.amount=this.m_amount,a.end_fac=this.m_end_fac,a.samplerSize=[1/r,1/i],a.crop=this.m_crop?1:0,a.rectangle=this.m_rectangle,s.m_shader.uniforms(a),s.draw_to(t);var c=o.getError();if(c)throw new Error("FragImageMattingUpsizeBlurProc: "+c)},e.prototype.init=function(t,e){this.m_amount=t,this.m_end_fac=e},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Er=function(t){function e(e){var r=t.call(this)||this;return r.m_alpha_flag=!1,r.m_crop=!1,r.m_rectangle=new Array,r.m_context=e,r.m_shader=null,r.m_m=[],r.m_str_fshFragImageMattingUpsizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D paintResTexture;        uniform sampler2D tempTexture;        uniform vec4 m;        uniform vec2 samplerSize;        uniform float alpha_flag;                uniform vec4 rectangle;        uniform float crop;            void main()        {                vec4 src = texture2D(inputImageTexture, textureCoordinate);                        float res = texture2D(paintResTexture, textureCoordinate).x;            if (alpha_flag < 0.5){                float line = texture2D(tempTexture, textureCoordinate*m.xy + m.zw).x*1.2 - 0.1;                line = clamp(line,0.0,1.0);                vec2 coord = textureCoordinate/samplerSize;                if(res>0.6&&(coord.x<4.0||coord.x>1.0/samplerSize.x-4.0||coord.y<4.0||coord.y>1.0/samplerSize.y-4.0))                                    line = 0.6;                    vec3 color = vec3(0.0/255.0,255.0/255.0,132.0/255.0);                    vec3 dst = mix(src.xyz, vec3(1.0,0.0,54.0/255.0), (1.0 - res)*0.4);                dst = mix(dst, color, line*0.7);                vec4 dst4 = vec4(dst, mix(src.a,1.0,line));                gl_FragColor = dst4;                if(crop<0.5)return;            vec2 rc = textureCoordinate/samplerSize;            rc = rc - rectangle.xy;            float mi = min(rc.x,rc.y);            float mir = min(rectangle.z - rc.x,rectangle.w - rc.y);            mi = min(mi,mir);            if(mi<0.0)return;            if(mi>1.0)return;            color = vec3(172.0/255.0,151.0/255.0,94.0/255.0);            rc = rc/4.0 - floor(rc/4.0)- vec2(0.5);            float a = 0.0;            if(rc.x*rc.y>0.0)a = 1.0;            gl_FragColor = vec4(mix(dst4.xyz,color,a),1.0);                }            else                gl_FragColor = vec4(src.rgb*(src.a*res), src.a*res);                }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){var o=this.m_context.context();this.m_shader||(this.m_shader=new v(null,this.m_str_fshFragImageMattingUpsizeProc,o));var s=new y(o,null,this.m_shader,r,i,n);s.shader_texture("inputImageTexture",e[0]),s.shader_texture("paintResTexture",e[1]),s.shader_texture("tempTexture",e[2]);var a={};a.m=[this.m_m[0],this.m_m[1],this.m_m[2],this.m_m[3]],a.samplerSize=[1/r,1/i],a.alpha_flag=this.m_alpha_flag?1:0,a.crop=this.m_crop?1:0,a.rectangle=this.m_rectangle,s.m_shader.uniforms(a),s.draw_to(t);var c=o.getError();if(c)throw new Error("FragImageMattingUpsizeProc: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Or=function(){function t(t){this.m_pyramid_gpu=null,this.m_width=0,this.m_height=0,this.m_last_src="",this.m_last_blur_view=0,this.m_last_matting_view=0,this.m_view_num=0,this.m_sharpenTimes=0,this.m_esp=0,this.m_iteration_times=0,this.m_alpha_flag=!1,this.m_blurFlag=!1,this.m_crop=!1,this.m_amount=0,this.m_radius=0,this.m_rectangle=new Array,this.m_context=t,this.m_factor=new le,this.m_down_x32_filter=new yr(t),this.m_downsize_painter_filter=new xr(t),this.m_downsize_1_0_painter_filter=new br(t),this.m_downsize_1_1_painter_filter=new vr(t),this.m_downsize_filter=new hr(t),this.m_8x_down_filter=new Re(t),this.m_pyr_top_factor_filter=new Cr(t),this.m_matting_guidance_filter=new dr(t),this.m_pyr_factor_filter=new wr(t),this.m_fore_iteration_filter=new fr(t),this.m_iteration_filter=new pr(t),this.m_upsize_filter=new Er(t),this.m_matting_line_filter=new _r(t),this.m_temp_up_filter=new Sr(t),this.m_pyr_blend_filter=new gr(t),this.m_down_resize_filter=new Fe(t),this.m_down_filter=new Re(t),this.m_up_filter=new Ne(t),this.m_up_blur_filter=new Tr(t),this.m_get_rectangle_filter=new mr(t)}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{if(this.size_change(r.m_width,r.m_height),this.m_pyramid_gpu||(this.m_pyramid_gpu=new Se(this.m_context,this.m_factor,513,!0,!1,2)),this.init(t),this.m_blurFlag){if(!this.m_painterCache)return;(new Date).getTime();return this.process_blur(t,this.m_pyramid_gpu,e.new_temporary(),e.current(),r.m_width,r.m_height,r.m_frameBuffer,this.m_painterCache),e.push_to_current(),void(new Date).getTime()}this.m_painterCache||(this.m_painterCache=this.m_context.create_new_texture(r.m_width,r.m_height,!0));var i=void 0;i=this.m_view_num<0?this.m_context.lock_image("","matting"):e.load_view(this.m_view_num),(new Date).getTime(),this.inner_process(t,this.m_pyramid_gpu,e.new_temporary(),e.current(),r.m_width,r.m_height,r.m_frameBuffer,i,this.m_painterCache),(new Date).getTime(),e.push_to_current();var n=this.m_context.context().getError();if(n)throw new Error("ImageMatting: "+n)}catch(n){throw new Error("ImageMatting process: "+n)}},t.prototype.size_change=function(t,e){this.m_width==t&&this.m_height==e||(this.m_width=t,this.m_height=e,this.m_last_src="",this.m_last_blur_view=0,this.m_last_matting_view=0,this.cal_embed(this.m_factor,this.m_width,this.m_height),this.clear())},t.prototype.destroy=function(){this.clear(),this.m_down_x32_filter&&this.m_down_x32_filter.destroy(),this.m_downsize_painter_filter&&this.m_downsize_painter_filter.destroy(),this.m_downsize_1_0_painter_filter&&this.m_downsize_1_0_painter_filter.destroy(),this.m_downsize_1_1_painter_filter&&this.m_downsize_1_1_painter_filter.destroy(),this.m_downsize_filter&&this.m_downsize_filter.destroy(),this.m_8x_down_filter&&this.m_8x_down_filter.destroy(),this.m_pyr_top_factor_filter&&this.m_pyr_top_factor_filter.destroy(),this.m_matting_guidance_filter&&this.m_matting_guidance_filter.destroy(),this.m_pyr_factor_filter&&this.m_pyr_factor_filter.destroy(),this.m_fore_iteration_filter&&this.m_fore_iteration_filter.destroy(),this.m_iteration_filter&&this.m_iteration_filter.destroy(),this.m_upsize_filter&&this.m_upsize_filter.destroy(),this.m_matting_line_filter&&this.m_matting_line_filter.destroy(),this.m_temp_up_filter&&this.m_temp_up_filter.destroy()},t.prototype.clear=function(){this.m_pyramid_gpu&&(this.m_pyramid_gpu.destroy(),this.m_pyramid_gpu=null),this.m_painterCache&&(this.m_context.context().deleteTexture(this.m_painterCache),this.m_painterCache=null)},t.prototype.init=function(t){t.assume_symbol("used"),t.test_symbol("cache")?this.m_view_num=-1:this.m_view_num=t.fetch_float(),t.assume_symbol("sharpenTimes"),this.m_sharpenTimes=t.fetch_float(0,6),t.assume_symbol("esp"),this.m_esp=.01*t.fetch_float(.001,100),t.test_symbol("iteration")?this.m_iteration_times=t.fetch_float(0,10):this.m_iteration_times=2,t.test_symbol("alpha")?this.m_alpha_flag=!0:this.m_alpha_flag=!1,this.m_blurFlag=!1,this.m_crop=!1,(this.m_blurFlag=t.test_symbol("blurResult"))&&(t.assume_symbol("amount"),this.m_amount=t.fetch_float(-200,500),t.assume_symbol("radius"),this.m_radius=t.fetch_float(0,4)),this.m_crop=t.test_symbol("crop")},t.prototype.draw_up_lineTemp=function(t,e,r,i){void 0===i&&(i=0);for(var n=r+1;n<t.m_images.length;++n)if(t.m_base_level==n){var o=[t.m_images[n-1][i]];this.m_temp_up_filter.process(t.m_base_images[i],o,t.m_size[i].width,t.m_size[i].height,e),t.base_move_up(i,e)}else{o=[t.m_images[n-1][i]];this.m_temp_up_filter.process(t.m_images[n][i],o,t.m_size[n].width,t.m_size[n].height,e)}},t.prototype.painter_pyr_blend=function(t,e){for(var r=0;r<t.m_images.length;++r){var i=[];t.m_base_level==r?(i[0]=t.m_base_images[1],i[1]=t.m_base_images[2],i[2]=t.m_base_images[0],this.m_pyr_blend_filter.process(t.m_base_images[3],i,t.m_base_size,t.m_base_size,e),t.base_move_up(3,e)):(i[0]=t.m_images[r][1],i[1]=t.m_images[r][2],i[2]=t.m_images[r][0],this.m_pyr_blend_filter.process(t.m_images[r][3],i,t.m_size[r].width,t.m_size[r].height,e))}},t.prototype.inner_process=function(t,e,r,i,n,o,s,a,c){var l=new Array(7);if(this.m_last_matting_view!=this.m_view_num){this.m_matting_guidance_filter.m_fac=0;for(var u=0;u<4;++u)e.map_create(u);e.map_create(4,2),e.map_create(5,2),this.m_factor.get_trans(this.m_downsize_painter_filter.m_m),l[0]=a,this.m_factor.get_trans(this.m_downsize_1_0_painter_filter.m_m),this.m_downsize_1_0_painter_filter.process(e.m_images[e.m_images.length-1][1],l,e.m_size[e.m_size.length-1].width,e.m_size[e.m_size.length-1].height,s),e.draw_downward(this.m_down_x32_filter,s,2,1),this.m_factor.get_trans(this.m_downsize_1_1_painter_filter.m_m),l[0]=a,this.m_downsize_1_1_painter_filter.process(e.m_images[e.m_images.length-1][2],l,e.m_size[e.m_size.length-1].width,e.m_size[e.m_size.length-1].height,s),e.draw_downward(this.m_down_x32_filter,s,2,2),this.m_factor.get_trans(this.m_downsize_filter.m_m),l[0]=i,this.m_downsize_filter.process(e.m_images[e.m_images.length-1][0],l,e.m_size[e.m_size.length-1].width,e.m_size[e.m_size.length-1].height,s),e.draw_downward(this.m_8x_down_filter,s,2),l[0]=e.m_images[2][1],l[1]=e.m_images[2][2],l[2]=e.m_images[2][0],this.m_pyr_top_factor_filter.m_esp=this.m_esp,this.m_pyr_top_factor_filter.m_filter_num=0,this.m_pyr_top_factor_filter.process(e.m_images[2][4],l,e.m_size[2].width,e.m_size[2].height,s),this.m_pyr_top_factor_filter.m_filter_num=1,this.m_pyr_top_factor_filter.process(e.m_images[2][5],l,e.m_size[2].width,e.m_size[2].height,s),this.painter_pyr_blend(e,s),l[0]=e.m_images[2][3],l[1]=e.m_images[2][4],l[2]=e.m_images[2][5],this.m_matting_guidance_filter.m_m[0]=1,this.m_matting_guidance_filter.m_m[1]=1,this.m_matting_guidance_filter.m_m[2]=0,this.m_matting_guidance_filter.m_m[3]=0,this.m_matting_guidance_filter.process(e.m_images[2][0],l,e.m_size[2].width,e.m_size[2].height,s);for(var h=0;h<this.m_iteration_times*(e.m_images.length+1)+1;++h)this.m_pyr_factor_filter.m_fac=.06,this.m_pyr_factor_filter.m_blend_flag=1,l[0]=e.m_images[2][0],l[1]=e.m_images[2][3],this.m_pyr_factor_filter.m_esp=this.m_esp,this.m_pyr_factor_filter.m_filter_num=0,this.m_pyr_factor_filter.process(e.m_images[2][1],l,e.m_size[2].width,e.m_size[2].height,s),this.m_pyr_factor_filter.m_filter_num=1,this.m_pyr_factor_filter.process(e.m_images[2][2],l,e.m_size[2].width,e.m_size[2].height,s),l[0]=e.m_images[2][3],l[1]=e.m_images[2][1],l[2]=e.m_images[2][2],this.m_matting_guidance_filter.process(e.m_images[2][0],l,e.m_size[2].width,e.m_size[2].height,s);for(u=3;u<e.m_images.length;++u){if(this.m_pyr_factor_filter.m_blend_flag=1,e.m_base_level==u){var f=[e.m_images[u-1][0],e.m_base_images[3]];this.m_pyr_factor_filter.m_esp=this.m_esp,this.m_pyr_factor_filter.m_filter_num=0,this.m_pyr_factor_filter.process(e.m_base_images[1],f,e.m_base_size,e.m_base_size,s),this.m_pyr_factor_filter.m_filter_num=1,this.m_pyr_factor_filter.process(e.m_base_images[2],f,e.m_base_size,e.m_base_size,s),f[0]=e.m_base_images[3],f[1]=e.m_base_images[1],f[2]=e.m_base_images[2],this.m_matting_guidance_filter.process(e.m_base_images[0],f,e.m_base_size,e.m_base_size,s),e.base_move_up(0,s)}else l[0]=e.m_images[u-1][0],l[1]=e.m_images[u][3],this.m_pyr_factor_filter.m_esp=this.m_esp,this.m_pyr_factor_filter.m_filter_num=0,this.m_pyr_factor_filter.process(e.m_images[u][1],l,e.m_size[u].width,e.m_size[u].height,s),this.m_pyr_factor_filter.m_filter_num=1,this.m_pyr_factor_filter.process(e.m_images[u][2],l,e.m_size[u].width,e.m_size[u].height,s),l[0]=e.m_images[u][3],l[1]=e.m_images[u][1],l[2]=e.m_images[u][2],this.m_matting_guidance_filter.process(e.m_images[u][0],l,e.m_size[u].width,e.m_size[u].height,s);var m=this.m_iteration_times*(e.m_images.length-u+1)+1;for(h=0;h<m;++h)this.m_pyr_factor_filter.m_blend_flag=1,l[0]=e.m_images[u][0],l[1]=e.m_images[u][3],this.m_pyr_factor_filter.m_esp=this.m_esp,this.m_pyr_factor_filter.m_filter_num=0,this.m_pyr_factor_filter.process(e.m_images[u][1],l,e.m_size[u].width,e.m_size[u].height,s),this.m_pyr_factor_filter.m_filter_num=1,this.m_pyr_factor_filter.process(e.m_images[u][2],l,e.m_size[u].width,e.m_size[u].height,s),l[0]=e.m_images[u][3],l[1]=e.m_images[u][1],l[2]=e.m_images[u][2],this.m_matting_guidance_filter.process(e.m_images[u][0],l,e.m_size[u].width,e.m_size[u].height,s)}this.m_pyr_factor_filter.m_fac=.3,this.m_factor.get_trans(this.m_fore_iteration_filter.m_m),l[0]=e.m_images[e.m_images.length-1][0],this.m_fore_iteration_filter.process(e.m_images[e.m_images.length-1][2],l,e.m_size[e.m_size.length-1].width,e.m_size[e.m_size.length-1].height,s);for(h=0;h<this.m_sharpenTimes;++h)(this.m_iteration_filter.m_filter_flag=0)<h&&(this.m_factor.get_trans(this.m_iteration_filter.m_m),l[0]=c,this.m_iteration_filter.m_res=a,this.m_iteration_filter.process(e.m_images[e.m_images.length-1][2],l,e.m_size[e.m_size.length-1].width,e.m_size[e.m_size.length-1].height,s)),this.m_pyr_factor_filter.m_blend_flag=1,l[0]=e.m_images[e.m_images.length-1][2],l[1]=e.m_images[e.m_images.length-1][3],this.m_pyr_factor_filter.m_esp=8e-5,this.m_pyr_factor_filter.m_filter_num=0,this.m_pyr_factor_filter.process(e.m_images[e.m_images.length-1][0],l,e.m_size[e.m_size.length-1].width,e.m_size[e.m_size.length-1].height,s),this.m_pyr_factor_filter.m_filter_num=1,this.m_pyr_factor_filter.process(e.m_images[e.m_images.length-1][1],l,e.m_size[e.m_size.length-1].width,e.m_size[e.m_size.length-1].height,s),l[0]=i,l[1]=e.m_images[e.m_images.length-1][0],l[2]=e.m_images[e.m_images.length-1][1],this.m_factor.get_rev_trans(this.m_matting_guidance_filter.m_m),h==this.m_sharpenTimes-1&&(this.m_matting_guidance_filter.m_fac=1),this.m_matting_guidance_filter.process(c,l,n,o,s);this.m_last_matting_view=this.m_view_num}if(this.m_factor.get_rev_trans(this.m_upsize_filter.m_m),l[0]=i,l[1]=c,this.m_factor.get_trans(this.m_downsize_filter.m_m),l[0]=c,!this.m_pyramid_gpu)throw new Error("ImageMatting inner process pyr uninit");this.m_downsize_filter.process(this.m_pyramid_gpu.m_images[this.m_pyramid_gpu.m_images.length-1][0],l,this.m_pyramid_gpu.m_size[this.m_pyramid_gpu.m_size.length-1].width,this.m_pyramid_gpu.m_size[this.m_pyramid_gpu.m_size.length-1].height,s),this.m_pyramid_gpu.draw_downward(this.m_8x_down_filter,s,7),this.draw_up_lineTemp(this.m_pyramid_gpu,s,7),l[0]=this.m_pyramid_gpu.m_images[this.m_pyramid_gpu.m_images.length-1][0],this.m_matting_line_filter.process(this.m_pyramid_gpu.m_images[this.m_pyramid_gpu.m_images.length-1][1],l,this.m_pyramid_gpu.m_size[this.m_pyramid_gpu.m_size.length-1].width,this.m_pyramid_gpu.m_size[this.m_pyramid_gpu.m_size.length-1].height,s),this.m_pyramid_gpu.draw_downward(this.m_8x_down_filter,s,7,1),this.draw_up_lineTemp(this.m_pyramid_gpu,s,7,1),l[0]=i,l[2]=this.m_pyramid_gpu.m_images[this.m_pyramid_gpu.m_images.length-1][1],l[1]=c,this.m_alpha_flag&&(this.m_upsize_filter.m_m[0]=1,this.m_upsize_filter.m_m[1]=1,this.m_upsize_filter.m_m[2]=0,this.m_upsize_filter.m_m[3]=0),this.m_upsize_filter.m_alpha_flag=this.m_alpha_flag,this.m_crop?(this.m_get_rectangle_filter.process(r,c,n,o,s),this.m_rectangle=this.m_get_rectangle_filter.m_rectangle,this.m_upsize_filter.m_rectangle=this.m_rectangle):this.m_upsize_filter.m_rectangle=[0,0,0,0],this.m_upsize_filter.m_crop=this.m_crop,this.m_upsize_filter.process(r,l,n,o,s)},t.prototype.draw_temp_textures=function(t,e,r){t.load_from(this.m_down_resize_filter,e,r),t.draw_downward(this.m_down_filter,r)},t.prototype.draw_up_textures=function(t,e,r){t.map_create(1);for(var i=new Array(t.m_images.length),n=0;n<i.length;++n){var o=Math.max(t.m_size[n].width,t.m_size[n].height)/16*this.m_radius;i[n]=Math.exp(-o*o)}o=Math.max(t.m_factor.m_src_width,t.m_factor.m_src_height)/16*this.m_radius;r=Math.exp(-o*o);for(n=1;n<t.m_images.length;++n)if(this.m_up_filter.m_factor=i[n],t.m_base_level==n){var s=[t.m_base_images[0],t.m_images[n-1][0],t.m_images[n-1][1]];1==n&&this.m_context.copy_texture(t.m_images[n-1][1],t.m_images[n-1][0],t.m_size[n-1].width,t.m_size[n-1].height,e),this.m_up_filter.process(t.m_base_images[1],s,t.m_base_size,t.m_base_size,e),t.base_move_up(1,e)}else{s=[t.m_images[n][0],t.m_images[n-1][0],t.m_images[n-1][1]];1==n&&this.m_context.copy_texture(t.m_images[n-1][1],t.m_images[n-1][0],t.m_size[n-1].width,t.m_size[n-1].height,e),this.m_up_filter.process(t.m_images[n][1],s,t.m_size[n].width,t.m_size[n].height,e)}return r},t.prototype.process_blur=function(t,e,r,i,n,o,s,a){this.m_last_blur_view!=this.m_view_num&&(this.draw_temp_textures(e,a,s),this.m_get_rectangle_filter.process(r,a,n,o,s),this.m_rectangle=this.m_get_rectangle_filter.m_rectangle,this.m_last_blur_view=this.m_view_num);var c=1;c=this.draw_up_textures(e,s,c),this.m_factor.get_rev_trans(this.m_up_blur_filter.m_m),this.m_up_blur_filter.init(.01*this.m_amount+1,c);var l=new Array(3);l[0]=i,l[1]=e.m_images[e.m_images.length-1][0],l[2]=e.m_images[e.m_images.length-1][1],l[3]=a,this.m_up_blur_filter.m_crop=this.m_crop,this.m_crop?this.m_up_blur_filter.m_rectangle=this.m_rectangle:this.m_up_blur_filter.m_rectangle=[0,0,0,0],this.m_up_blur_filter.process(r,l,n,o,s)},t.prototype.cal_embed=function(t,e,r){if(!(r<=0||e<=0)){var i=0,n=0,o=0,s=0;r<e?(n=(i=32)*r/e,32*r%e&&++n,++n,s=(o=32)*r/e):0!=r&&(i=32*e/r,(n=32)*e%r&&++i,++i,o=32*e/r,s=32),t.m_src_width=e,t.m_src_height=r,t.m_dst_width=Math.floor(i),t.m_dst_height=Math.floor(n),t.m_x_start=0,t.m_y_start=0,t.m_emb_width=Math.floor(o),t.m_emb_height=Math.floor(s)}},t.parcerName="imageMatting",t}(),kr=function(){function t(t){this.m_t_shader=null,this.m_e_shader=null,this.m_width=0,this.m_height=0,this.m_mvp=new Array,this.m_s_vecPoints=new Array,this.m_r=0,this.m_g=0,this.m_b=0,this.m_pointSize=0,this.m_pointStride=0,this.m_opacity=0,this.m_context=t,this.m_str_vshPaintColorRotWithNorm="        attribute vec4 vPosition;        attribute vec2 vPointNorm;        uniform mat4 uMat;        uniform float pointSize;        void main()        {            gl_PointSize = pointSize;            gl_Position = (uMat * vPosition);        }",this.m_str_fshPaintColorRot="        uniform sampler2D brushTexture;        uniform vec4 vColor;        void main()        {            vec2 coord = gl_PointCoord - vec2(0.5);            float radius = coord.x*coord.x + coord.y*coord.y;            radius = sqrt(radius);            if(radius<0.5)gl_FragColor = vColor;            else gl_FragColor = vec4(0.0);        }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{var i=this.m_context.context();r.m_width==this.m_width&&r.m_height==this.m_height||(this.m_mvp=this.makeOrtho(0,r.m_width,0,r.m_height,-1,1),this.m_width=r.m_width,this.m_height=r.m_height),this.init(t,r.m_width,r.m_height),this.m_opacity;var n=this.m_pointSize;i.enable(i.BLEND),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),this.m_t_shader||(this.m_t_shader=new v(this.m_str_vshPaintColorRotWithNorm,this.m_str_fshPaintColorRot,i)),i.bindFramebuffer(i.FRAMEBUFFER,r.m_frameBuffer),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e.current(),0),i.useProgram(this.m_t_shader.m_program);var o=[],s=[];if(s[0]=r.m_width,s[1]=r.m_height,this.genInterpolationPointsAndDirections(this.m_s_vecPoints,o,[],s,this.m_pointStride),0==o.length)return;this.m_s_vecPoints=[];var a=o.length;null==i.engineVertexBuffer&&(i.engineVertexBuffer=i.createBuffer()),i.bindBuffer(i.ARRAY_BUFFER,i.engineVertexBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array(this.vecToData(o)),i.STATIC_DRAW);var c=i.getAttribLocation(this.m_t_shader.m_program,"vPosition");i.vertexAttribPointer(c,2,i.FLOAT,!1,0,new Float32Array(this.vecToData(o))),i.enableVertexAttribArray(c);var l={};l.uMat=this.m_mvp,l.pointSize=n,l.vColor=[this.m_r/255,this.m_g/255,this.m_b/255,1],i.viewport(0,0,r.m_width,r.m_height),this.m_t_shader.uniforms(l),i.drawArrays(i.POINTS,0,a),i.disable(i.BLEND);var u=i.getError();if(u)throw new Error("ColorPainter: "+u)}catch(u){throw new Error("ColorPainter process: "+u)}},t.prototype.destroy=function(){this.m_t_shader&&(this.m_t_shader.destroy(),this.m_t_shader=null),this.m_e_shader&&(this.m_e_shader.destroy(),this.m_e_shader=null)},t.prototype.init=function(t,e,r){if(this.m_r=1,this.m_g=.1,this.m_b=.05,this.m_opacity=.1,t.assume_symbol("pointSize"),t.test_symbol("relToWidth")?this.m_pointSize=t.fetch_float()*e:this.m_pointSize=t.fetch_float(),t.assume_symbol("pointStride"),t.test_symbol("relToWidth")?this.m_pointStride=t.fetch_float()*e:this.m_pointStride=t.fetch_float(),this.m_r=t.fetch_float(0,255),this.m_g=t.fetch_float(0,255),this.m_b=t.fetch_float(0,255),t.lookup_symbol(["coordinate","realPixel",0],!0))for(;t.test_symbol("point");){var i=t.fetch_float()/e,n=t.fetch_float()/r;this.m_s_vecPoints.push({x:i,y:n})}else for(;t.test_symbol("point");){i=t.fetch_float(),n=t.fetch_float();this.m_s_vecPoints.push({x:i,y:n})}},t.prototype.genInterpolationPointsAndDirections=function(t,e,r,i,n){var o=t.length;if(o<1||n<1)throw"Invalid Parameters";if(1==o)return e.push({x:t[0].x*i[0],y:t[0].y*i[1]}),void r.push({x:0,y:0});for(var s=1;s<o;++s)for(var a={x:(t[s].x-t[s-1].x)*i[0],y:(t[s].y-t[s-1].y)*i[1]},c=Math.floor(Math.max(Math.ceil(Math.sqrt(a.x*a.x+a.y*a.y))/n,1)),l={x:a.x/c,y:a.y/c},u={x:t[s-1].x*i[0],y:t[s-1].y*i[1]},h=0;h<c;++h)e.push({x:u.x+l.x*h,y:u.y+l.y*h})},t.prototype.vecToData=function(t){for(var e=[],r=0;r<t.length;++r)e[2*r]=t[r].x,e[2*r+1]=t[r].y;return e},t.prototype.makeOrtho=function(t,e,r,i,n,o){var s=e+t,a=e-t,c=i-r,l=i+r,u=o+n,h=o-n,f=[2/a,0,0,0,0,2/c,0,0,0,0,-2/h,0,-s/a,-l/c,-u/h,1];return f},t.parcerName="colorPainter",t}(),Ar=function(t){function e(e){var r=t.call(this,e)||this;return r.m_vigFac=0,r.m_red=0,r.m_green=0,r.m_blue=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec3 mul;        uniform vec2 a;        vec3 color_limite(vec3 src, float lum)        {            vec3 vc = src - lum;            vec3 fac = min(vec3(1.0 - lum) / max(vc, 0.00001), 1.0);            vc = vc * min(fac.r, min(fac.g, fac.b));            return vc + lum;        }"},e.prototype.shader_procession=function(){return"vec3 lsrc = max(src.rgb * vec3(1.0 / 12.82), pow((src.rgb + vec3(0.055)) * vec3(1.0 / 1.055), vec3(2.4)));                        vec2 cod = textureCoordinate - 0.5;                float v = dot(a, cod * cod);                v = 1.0 / (1.0 + v);                lsrc *= mul * v * v;                float lum = dot(lsrc, vec3(0.299, 0.587, 0.114));                lsrc = mix(color_limite(lsrc, lum),vec3(1.0),step(1.0,lum));                src.rgb = min(lsrc * 12.82, pow(lsrc, vec3(1.0 / 2.4)) * vec3(1.055) - vec3(0.055));                dst = src;"},e.prototype.init=function(t,e,r){t.assume_symbol("exposure");var i,n,o,s=t.fetch_float(.01,4);if(t.lookup_symbol(["color","temperature",0],!0)){var a=t.fetch_float(1200,12e3);t.assume_symbol("tint");var c=t.fetch_float(.02,5),l=[];l=this.temp2color(a,c),i=l[0],n=l[1],o=l[2]}else i=t.fetch_float(0,255)*(1/255),n=t.fetch_float(0,255)*(1/255),o=t.fetch_float(0,255)*(1/255),i=Math.max(i*(1/12.82),Math.pow((i+.055)*(1/1.055),2.4)),n=Math.max(n*(1/12.82),Math.pow((n+.055)*(1/1.055),2.4)),o=Math.max(o*(1/12.82),Math.pow((o+.055)*(1/1.055),2.4));var u=.299*(i=1/i)+.587*(n=1/n)+.114*(o=1/o),h=s/u;if(this.m_red=i*h,this.m_green=n*h,this.m_blue=o*h,this.m_red=Math.min(this.m_red,16),this.m_green=Math.min(this.m_green,16),this.m_blue=Math.min(this.m_blue,16),t.lookup_symbol(["focalLength","vignetting",0],!0)){var f=t.fetch_float(0,1);this.m_vigFac=20*f/12}else{var m=t.fetch_float(12,1600);this.m_vigFac=20/m}},e.prototype.shader_setup=function(t){var e={},r=[this.m_red,this.m_green,this.m_blue];e.mul=r;var i=t.m_width,n=t.m_height,o=i*i*.25+n*n*.25,s=i*i/o,a=n*n/o;s*=this.m_vigFac*this.m_vigFac,a*=this.m_vigFac*this.m_vigFac;var c=[s,a];e.a=c,t.m_shader.uniforms(e)},e.prototype.temp2color=function(t,e){var r,i=-3*(r=(t/=1e3)<4?.27475/(t*t*t)-.98598/(t*t)+1.17444/t+.145986:t<7?-4.607/(t*t*t)+2.9678/(t*t)+.09911/t+.244063:-2.0064/(t*t*t)+1.9018/(t*t)+.24748/t+.23704)*r+2.87*r-.275,n=r/i,o=(1-r-i)/i,s=[];return s[0]=3.24074*n-1.53726-.498571*o,s[1]=.969258*-n+1.87599+.0415557*o,s[2]=.0556352*n-.203996+1.05707*o,s[1]/=e,s},e.parcerName="opticsAdjust",e}(ht),Mr=function(t){function e(e){var r=t.call(this,e)||this;return r.red=new Array,r.green=new Array,r.blue=new Array,r.cyan=new Array,r.magenta=new Array,r.yellow=new Array,r.white=new Array,r.gray=new Array,r.black=new Array,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec4 red;                uniform vec4 yellow;                uniform vec4 green;                uniform vec4 cyan;                uniform vec4 blue;                uniform vec4 magenta;                uniform vec4 white;                uniform vec4 gray;                uniform vec4 black;                vec4 getFac(vec4 facPre,vec4 facNex,float h,float s,float v)                {                    vec4 ret = mix(facPre,facNex,h);                    vec4 rets0;                    v = v * 2.0 - 1.0;                    if(v > 0.0)                    {                        rets0 = mix(gray,white,v);                    }                    else                    {                        rets0 = mix(gray,black,-v);                    }                    s = 1.0 - s;                    s = s * s * s;                    s = 1.0 - s;                    return mix(rets0,ret,s);                }                vec3 adjColor(vec3 src,float a,vec4 fac)                {                    vec3 tfac = fac.xyz *  vec3(fac.w,fac.w,fac.w);                    tfac = min(tfac,vec3(2.0,2.0,2.0));                    vec3 tfc1 = clamp(tfac - vec3(1.0,1.0,1.0),0.0,0.5);                    vec3 tfc2 = max(tfac - vec3(1.5,1.5,1.5),0.0);                    src = vec3(1.0,1.0,1.0) - src;                    src = src * (tfac -  src * (src * (tfc1 - tfc2) + vec3(2.0,2.0,2.0) * tfc2));                    return vec3(1.0,1.0,1.0) - src;                }                vec3 hsvAdjust(vec3 src)                {                    vec3 temp;                    vec4 color1, color2;                    if(src.r > src.g)                    {                        if(src.g > src.b)                        {                            temp = src.rgb;                            color1 = red;                            color2 = yellow;                        }                        else if(src.b > src.r)                        {                            temp = src.brg;                            color1 = blue;                            color2 = magenta;                        }                        else                            {                            temp = src.rbg;                            color1 = red;                            color2 = magenta;                        }                    }                    else                    {                        if(src.r > src.b)                        {                            temp = src.grb;                            color1 = green;                            color2 = yellow;                        }                        else if(src.b > src.g)                        {                            temp = src.bgr;                            color1 = blue;                            color2 = cyan;                        }                        else                        {                            temp = src.gbr;                            color1 = green;                            color2 = cyan;                        }                    }                    float d = temp.x - temp.z + 0.0001;                    float s = temp.y - temp.z;                    vec4 fac = getFac(color1, color2, s/d, d, temp.x);                    return adjColor(src, temp.x, fac);                }"},e.prototype.shader_procession=function(){return"src.rgb = hsvAdjust(src.rgb);        dst = src;"},e.prototype.init=function(t,e,r){for(var i=0;i<4;++i)this.red[i]=0,this.green[i]=0,this.blue[i]=0,this.cyan[i]=0,this.magenta[i]=0,this.yellow[i]=0,this.white[i]=0,this.gray[i]=0,this.black[i]=0;var n,o,s=["red","green","blue","cyan","magenta","yellow","white","gray","black",0],a=!0,c=!0,l=!0,u=!0,h=!0,f=!0,m=!0,d=!0,p=!0;for(n=0;n<9;++n){var _=t.lookup_symbol(s,!1);switch(_){case 0:for(0==a&&t.error("parameter red has been input"),o=0;o<4;++o)this.red[o]=.01*t.fetch_float();a=!1;break;case 1:for(0==c&&t.error("parameter green has been input"),o=0;o<4;++o)this.green[o]=.01*t.fetch_float();c=!1;break;case 2:for(0==l&&t.error("parameter blue has been input"),o=0;o<4;++o)this.blue[o]=.01*t.fetch_float();l=!1;break;case 3:for(0==u&&t.error("parameter cyan has been input"),o=0;o<4;++o)this.cyan[o]=.01*t.fetch_float();u=!1;break;case 4:for(0==h&&t.error("parameter magenta has been input"),o=0;o<4;++o)this.magenta[o]=.01*t.fetch_float();h=!1;break;case 5:for(0==f&&t.error("parameter yellow has been input"),o=0;o<4;++o)this.yellow[o]=.01*t.fetch_float();f=!1;break;case 6:for(0==m&&t.error("parameter white has been input"),o=0;o<4;++o)this.white[o]=.01*t.fetch_float();m=!1;break;case 7:for(0==d&&t.error("parameter has been input"),o=0;o<4;++o)this.gray[o]=.01*t.fetch_float();d=!1;break;case 8:for(0==p&&t.error("parameter black has been input"),o=0;o<4;++o)this.black[o]=.01*t.fetch_float();p=!1}if(-1==_)break}},e.prototype.shader_setup=function(t){var e={};e.red=[this.red[0]+1,this.red[1]+1,this.red[2]+1,this.red[3]+1],e.green=[this.green[0]+1,this.green[1]+1,this.green[2]+1,this.green[3]+1],e.blue=[this.blue[0]+1,this.blue[1]+1,this.blue[2]+1,this.blue[3]+1],e.cyan=[this.cyan[0]+1,this.cyan[1]+1,this.cyan[2]+1,this.cyan[3]+1],e.magenta=[this.magenta[0]+1,this.magenta[1]+1,this.magenta[2]+1,this.magenta[3]+1],e.yellow=[this.yellow[0]+1,this.yellow[1]+1,this.yellow[2]+1,this.yellow[3]+1],e.white=[this.white[0]+1,this.white[1]+1,this.white[2]+1,this.white[3]+1],e.gray=[this.gray[0]+1,this.gray[1]+1,this.gray[2]+1,this.gray[3]+1],e.black=[this.black[0]+1,this.black[1]+1,this.black[2]+1,this.black[3]+1],t.m_shader.uniforms(e)},e.parcerName="selectiveColor",e}(ht),Pr=function(t){function e(e){var r=t.call(this,e)||this;return r.m_red=0,r.m_green=0,r.m_blue=0,r.m_opacity=0,r.m_intensity=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec4 blendColor;        uniform float intensity;        float getLumValue(vec3 src)        {            return 0.299 * src.r + 0.587 * src.g + 0.114 * src.b;        }        vec3 blend(vec3 src1, vec3 src2, float alpha)        {            return mix(src1, getLumValue(src1) - getLumValue(src2) + src2, alpha);        }"},e.prototype.shader_procession=function(){return"dst = vec4(blend(src.rgb, blendColor.rgb, intensity * blendColor.a), src.a);"},e.prototype.init=function(t,e,r){this.m_red=t.fetch_float(0,256),this.m_green=t.fetch_float(0,256),this.m_blue=t.fetch_float(0,256),this.m_opacity=t.fetch_float(0,256),this.m_intensity=t.fetch_float(0,100)},e.prototype.shader_setup=function(t){var e={};e.blendColor=[this.m_red/255,this.m_green/255,this.m_blue/255,this.m_opacity/255],e.intensity=this.m_intensity/100,t.m_shader.uniforms(e)},e.parcerName="color",e}(ht),Dr=function(t){function e(e){var r=t.call(this,e)||this;return r.m_red=0,r.m_green=0,r.m_blue=0,r.m_opacity=0,r.m_intensity=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec4 blendColor;        uniform float intensity;        vec3 blend(vec3 src1, vec3 src2, float alpha)        {            vec3 dst = dot(src1, vec3(0.299, 0.587, 0.114)) > dot(src2, vec3(0.299, 0.587, 0.114)) ? src1 : src2;            return mix(src1, dst, alpha);        }"},e.prototype.shader_procession=function(){return"dst = vec4(blend(src.rgb, blendColor.rgb, intensity * blendColor.a), src.a);"},e.prototype.init=function(t,e,r){this.m_red=t.fetch_float(0,256),this.m_green=t.fetch_float(0,256),this.m_blue=t.fetch_float(0,256),this.m_opacity=t.fetch_float(0,256),this.m_intensity=t.fetch_float(0,100)},e.prototype.shader_setup=function(t){var e={};e.blendColor=[this.m_red/255,this.m_green/255,this.m_blue/255,this.m_opacity/255],e.intensity=this.m_intensity/100,t.m_shader.uniforms(e)},e.parcerName="lighterColor",e}(ht),jr=function(t){function e(e){var r=t.call(this,e)||this;return r.m_red=0,r.m_green=0,r.m_blue=0,r.m_opacity=0,r.m_intensity=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform vec4 blendColor;        uniform float intensity;        vec3 blend(vec3 src1, vec3 src2, float alpha)        {            vec3 dst = dot(src1, vec3(0.299, 0.587, 0.114)) < dot(src2, vec3(0.299, 0.587, 0.114)) ? src1 : src2;            return mix(src1, dst, alpha);        }"},e.prototype.shader_procession=function(){return"dst = vec4(blend(src.rgb, blendColor.rgb, intensity * blendColor.a), src.a);"},e.prototype.init=function(t,e,r){this.m_red=t.fetch_float(0,256),this.m_green=t.fetch_float(0,256),this.m_blue=t.fetch_float(0,256),this.m_opacity=t.fetch_float(0,256),this.m_intensity=t.fetch_float(0,100)},e.prototype.shader_setup=function(t){var e={};e.blendColor=[this.m_red/255,this.m_green/255,this.m_blue/255,this.m_opacity/255],e.intensity=this.m_intensity/100,t.m_shader.uniforms(e)},e.parcerName="darkerColor",e}(ht),zr=function(){function t(){}return t.create=function(t){return new fi(t,fi.special_mix_color_list)},t.parcerName="specialMixColor",t}(),Ir=function(){function t(){}return t.create=function(t){return new fi(t,fi.border_list)},t.parcerName="border",t}(),Rr=function(t){function e(e){var r=t.call(this,e)||this;return r.texturelocker=null,r.m_color=null,r.m_file_name_vec=new Array,r.m_res_name="",r.m_x1=0,r.m_x2=0,r.m_x3=0,r.m_y1=0,r.m_y2=0,r.m_y3=0,r.m_thk=0,r.m_ms=0,r.thicken=!1,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D border;        uniform vec4 my;        uniform vec3 py;        uniform vec3 ky;        uniform vec4 mx;        uniform vec3 px;        uniform vec3 kx;        uniform vec4 color;        "},e.prototype.shader_procession=function(){return"vec3 bx = (vec3(textureCoordinate.x) - kx) * mx.xyz;        bx.y = fract(bx.y)*mx.w;        bx += px;        vec3 by = (vec3(textureCoordinate.y) - ky) * my.xyz;        by.y = fract(by.y)*my.w;        by += py;        vec2 borderCord;        if(textureCoordinate.x > kx.z)        {            borderCord.x = bx.z;        }        else if(textureCoordinate.x > kx.y)        {            borderCord.x = bx.y;        }        else        {            borderCord.x = bx.x;        }        if(textureCoordinate.y > ky.z)        {            borderCord.y = by.z;        }        else if(textureCoordinate.y > ky.y)        {            borderCord.y = by.y;        }        else        {            borderCord.y = by.x;        }        vec4 bp = texture2D(border, borderCord);        if(color.w==1.0)            bp = vec4(color.xyz,bp.w);        dst.rgb = mix(src.rgb,bp.rgb,bp.a);        dst.a = 1.0;"},e.prototype.init=function(t,e,r){for(this.m_color=null,this.m_file_name_vec=[],this.thicken=!1;t.test_symbol("file");){var i={size:0,file_name:""};i.file_name=t.fetch_string(),l.Number==t.get_parcer_status()&&(i.size=t.fetch_float()),i.size*=i.size,this.m_file_name_vec.push(i)}if(this.m_res_name=this.m_file_name_vec[0].file_name,t.assume_symbol("resourceLayoutH"),this.m_x1=t.fetch_float()+1e-5,this.m_x2=t.fetch_float()+1e-5,this.m_x3=t.fetch_float()+1e-5,this.m_x2=Math.max(this.m_x2,.008*(this.m_x1+this.m_x3)),t.assume_symbol("resourceLayoutV"),this.m_y1=t.fetch_float()+1e-5,this.m_y2=t.fetch_float()+1e-5,this.m_y3=t.fetch_float()+1e-5,this.m_y2=Math.max(this.m_y2,.008*(this.m_y1+this.m_y3)),t.assume_symbol("thickness"),-1==(this.m_ms=t.lookup_symbol(["pixel","width","height","perimeter",0]))&&(this.m_ms=3),this.m_thk=t.fetch_float(.01,.5),t.test_symbol("thicken")&&(this.thicken=!0),t.test_symbol("color")){this.m_color=new Array(3);for(var n=0;n<3;++n)this.m_color[n]=t.fetch_float()/255}},e.prototype.shader_setup=function(t){var e=t.m_width*t.m_height;if(this.thicken){var r=Math.min(t.m_width,t.m_height),i=void 0;r<=331&&(i=.9*(1-r/331),this.m_thk=this.m_thk+i,.48<this.m_thk&&(this.m_thk=.48))}else if(1<this.m_file_name_vec.length)for(var n=0;n<this.m_file_name_vec.length;++n)if(e<this.m_file_name_vec[n].size||0==this.m_file_name_vec[n].size){this.m_res_name=this.m_file_name_vec[n].file_name;break}if(this.texturelocker=this.m_context.get_resource_texture(this.m_res_name),!this.texturelocker)throw new Error("corner "+this.m_res_name);t.shader_texture("border",this.texturelocker.texture);var o=new Array(3),s=new Array(3),a=new Array(4),c=new Array(4),l=new Array(3),u=new Array(3);this.cal_uniform(t.m_width,t.m_height,o,s,a,c,l,u);var h={};this.m_color?h.color=[this.m_color[0],this.m_color[1],this.m_color[2],1]:h.color=[0,0,0,0],h.kx=o,h.ky=s,h.mx=a,h.my=c,h.px=l,h.py=u,t.m_shader.uniforms(h)},e.prototype.cal_uniform=function(t,e,r,i,n,o,s,a){var c,l;switch(this.m_ms){case 0:c=4*this.m_thk*(this.m_x1+this.m_x3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*t),l=4*this.m_thk*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*e);break;case 1:c=2*this.m_thk,l=c*t*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3)*e);break;case 2:l=2*this.m_thk,c=l*e*(this.m_x1+this.m_x2)/((this.m_y1+this.m_y3)*t);break;case 3:default:var u=2*t+2*e;c=this.m_thk*u*(this.m_x1+this.m_x3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*t),l=this.m_thk*u*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*e)}var h=Math.max(l,c);if(.99<h){var f=.99/h;l*=f,c*=f}var m=this.m_x1+this.m_x2+this.m_x3,d=this.m_y1+this.m_y2+this.m_y3,p=l*e/(this.m_y1+this.m_y3),_=c*t/(this.m_x1+this.m_x3),g=(1-c)*t/this.m_x2,v=(1-l)*e/this.m_y2,y=Math.max(Math.floor(g/p+.5),1),b=Math.max(Math.floor(v/_+.5),1),x=this.m_x1/m,w=this.m_x2/m,S=this.m_x3/m,C=this.m_y1/d,T=this.m_y2/d,E=this.m_y3/d,O=1/(x+S),k=1/(C+E);r[0]=0,r[1]=c*x*O,r[2]=1-c*S*O,i[0]=0,i[1]=l*C*k,i[2]=1-l*E*k,n[0]=(x+S)/c,n[1]=y/(1-c),n[2]=n[0],n[3]=w,o[0]=(C+E)/l,o[1]=b/(1-l),o[2]=o[0],o[3]=T,s[0]=0,s[1]=x,s[2]=x+w,a[0]=0,a[1]=C,a[2]=C+T},e.parcerName="corner",e}(ht),Fr=function(t){function e(e){var r=t.call(this,e)||this;return r.texturelocker=null,r.i_blocks=new Array,r.m_blocks=new Array,r.m_res_name="",r.m_ms=0,r.m_thk=0,r.m_texAspectRatio=0,r.m_TexUDAspectRatio=0,r.m_texArea=new Array,r.model="",r.m_align="",r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D borderTexture;        uniform vec4 borderBlocks[3];        uniform vec4 texArea;        uniform float lengthH;        uniform float borderThickness;        vec3 blend(vec3 src, vec3 dst, float alpha)        {            return mix(src, dst, alpha);        }        "},e.prototype.shader_procession=function(){return"vec2 tc = textureCoordinate;        vec2 coord;        if(tc.y <= borderThickness)        {            coord = vec2(mod(tc.x, lengthH) / lengthH, tc.y / borderThickness) * borderBlocks[0].zw + borderBlocks[0].xy;            vec4 frameTop = texture2D(borderTexture, coord);            src.rgb = blend(src.rgb, frameTop.rgb, frameTop.a);        }        else if(tc.y >= 1.0 - borderThickness)        {            coord = vec2(mod(tc.x, lengthH) / lengthH, (tc.y - 1.0 + borderThickness) / borderThickness) * borderBlocks[1].zw + borderBlocks[1].xy;            vec4 frameBottom = texture2D(borderTexture, coord);            src.rgb = blend(src.rgb, frameBottom.rgb, frameBottom.a);        }        if(tc.x >= texArea.x && tc.x <= texArea.x + texArea.z            && tc.y >= texArea.y && tc.y <= texArea.y + texArea.w)        {            coord = (tc - texArea.xy) / texArea.zw * borderBlocks[2].zw + borderBlocks[2].xy;            vec4 texText = texture2D(borderTexture, coord);            src.rgb = blend(src.rgb, texText.rgb, texText.a);        }        dst = src;"},e.prototype.init=function(t,e,r){var i,n;t.assume_symbol("file"),this.m_res_name=t.fetch_string(),i=t.fetch_float(),n=t.fetch_float();for(var o=0;12!=o;++o)this.i_blocks[o]=t.fetch_float(),this.m_blocks[o]=o%2==0?this.i_blocks[o]/i:this.i_blocks[o]/n;this.model=t.fetch_symbol(),this.m_align=this.model,this.m_texArea[0]=t.fetch_float(),this.m_texArea[1]=t.fetch_float(),t.assume_symbol("thickness"),l.Symbol==t.get_parcer_status()?this.m_ms=t.lookup_symbol(["pixel","width","height","perimeter",0],!0):this.m_ms=3,this.m_thk=t.fetch_float(),this.m_texAspectRatio=i/n,this.m_TexUDAspectRatio=this.m_blocks[2]/this.m_blocks[3]},e.prototype.shader_setup=function(t){if(this.texturelocker=this.m_context.get_resource_texture(this.m_res_name),!this.texturelocker)throw new Error("plan "+this.m_res_name);t.shader_texture("borderTexture",this.texturelocker.texture);var e=this.m_context.context().getUniformLocation(t.m_shader.m_program,"borderBlocks");if(e<0)throw new Error("CGEBorderCoverudtProcess::shader_setup");this.m_context.context().uniform4fv(e,this.m_blocks);var r=this.cal_uniform(t.m_width,t.m_height,this.m_align,this.m_thk,this.m_texArea),i={};i.borderThickness=r.thk,i.lengthH=r.lengthH,i.texArea=r.dst_texArea,t.m_shader.uniforms(i)},e.prototype.cal_uniform=function(t,e,r,i,n){var o,s=[],a=t/e;a<1&&(i*=a);var c=n[0],l=n[1];o=i/a*this.m_TexUDAspectRatio*this.m_texAspectRatio,1<=a?c/=a:l*=a;var u=0,h=0;"LB"==r?(u=0,h=1-this.m_thk-l):"CB"==r?(u=.5-c/2,h=1-this.m_thk-l):"RB"==r?(u=1-c,h=1-this.m_thk-l):"LT"==r?(u=0,h=this.m_thk):"CT"==r?(u=.5-c/2,h=this.m_thk):"RT"==r?(u=1-c,h=this.m_thk):"CX"==r?(u=.5-c/2,h=-1):"XC"==r?(u=-1,h=.5-l/2):"CC"==r?(u=.5-c/2,h=.5-l/2):"XX"==r&&(h=u=-1),s[0]=u,s[1]=h,s[2]=c,s[3]=l;var f={dst_texArea:s,thk:i,lengthH:o};return f},e.parcerName="Plan",e}(ht),Lr=function(t){function e(e){var r=t.call(this,e)||this;return r.texturelocker=null,r.m_file_name_vec=new Array,r.m_res_name="",r.m_x1=0,r.m_x2=0,r.m_x3=0,r.m_y1=0,r.m_y2=0,r.m_y3=0,r.m_thk=0,r.m_ms=0,r}return i(e,t),e.create=function(t){return new e(t)},e.prototype.shader_uniform=function(){return"uniform sampler2D border;        uniform vec4 my;        uniform vec3 py;        uniform vec3 ky;        uniform vec4 mx;        uniform vec3 px;        uniform vec3 kx;        uniform vec4 color;        "},e.prototype.shader_procession=function(){return"vec3 bx = (vec3(textureCoordinate.x) - kx) * mx.xyz;        bx.y = fract(bx.y)*mx.w;        bx += px;        vec3 by = (vec3(textureCoordinate.y) - ky) * my.xyz;        by.y = fract(by.y)*my.w;        by += py;        vec2 borderCord;        if(textureCoordinate.x > kx.z)        {            borderCord.x = bx.z;        }        else if(textureCoordinate.x > kx.y)        {            borderCord.x = bx.y;        }        else        {            borderCord.x = bx.x;        }        if(textureCoordinate.y > ky.z)        {            borderCord.y = by.z;        }        else if(textureCoordinate.y > ky.y)        {            borderCord.y = by.y;        }        else        {            borderCord.y = by.x;        }        vec4 bp = texture2D(border, borderCord);        dst = vec4(src.rgb,bp.a);"},e.prototype.init=function(t,e,r){for(this.m_file_name_vec=[];t.test_symbol("file");){var i={size:0,file_name:""};i.file_name=t.fetch_string(),l.Number==t.get_parcer_status()&&(i.size=t.fetch_float()),i.size*=i.size,this.m_file_name_vec.push(i)}this.m_res_name=this.m_file_name_vec[0].file_name,t.assume_symbol("resourceLayoutH"),this.m_x1=t.fetch_float()+1e-5,this.m_x2=t.fetch_float()+1e-5,this.m_x3=t.fetch_float()+1e-5,this.m_x2=Math.max(this.m_x2,.008*(this.m_x1+this.m_x3)),t.assume_symbol("resourceLayoutV"),this.m_y1=t.fetch_float()+1e-5,this.m_y2=t.fetch_float()+1e-5,this.m_y3=t.fetch_float()+1e-5,this.m_y2=Math.max(this.m_y2,.008*(this.m_y1+this.m_y3)),t.assume_symbol("thickness"),-1==(this.m_ms=t.lookup_symbol(["pixel","width","height","perimeter",0]))&&(this.m_ms=3),this.m_thk=t.fetch_float(.01,.5)},e.prototype.shader_setup=function(t){for(var e=t.m_width*t.m_height,r=0;r<this.m_file_name_vec.length;++r)if(e<this.m_file_name_vec[r].size||0==this.m_file_name_vec[r].size){this.m_res_name=this.m_file_name_vec[r].file_name;break}if(this.texturelocker=this.m_context.get_resource_texture(this.m_res_name),!this.texturelocker)throw new Error("inner "+this.m_res_name);t.shader_texture("border",this.texturelocker.texture);var i=new Array(3),n=new Array(3),o=new Array(4),s=new Array(4),a=new Array(3),c=new Array(3);this.cal_uniform(t.m_width,t.m_height,i,n,o,s,a,c);var l={};l.kx=i,l.ky=n,l.mx=o,l.my=s,l.px=a,l.py=c,t.m_shader.uniforms(l)},e.prototype.cal_uniform=function(t,e,r,i,n,o,s,a){var c,l;switch(this.m_ms){case 0:c=4*this.m_thk*(this.m_x1+this.m_x3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*t),l=4*this.m_thk*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*e);break;case 1:c=2*this.m_thk,l=c*t*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3)*e);break;case 2:l=2*this.m_thk,c=l*e*(this.m_x1+this.m_x2)/((this.m_y1+this.m_y3)*t);break;case 3:default:var u=2*t+2*e;c=this.m_thk*u*(this.m_x1+this.m_x3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*t),l=this.m_thk*u*(this.m_y1+this.m_y3)/((this.m_x1+this.m_x3+this.m_y1+this.m_y3)*e)}var h=Math.max(l,c);if(.99<h){var f=.99/h;l*=f,c*=f}var m=this.m_x1+this.m_x2+this.m_x3,d=this.m_y1+this.m_y2+this.m_y3,p=l*e/(this.m_y1+this.m_y3),_=c*t/(this.m_x1+this.m_x3),g=(1-c)*t/this.m_x2,v=(1-l)*e/this.m_y2,y=Math.max(Math.floor(g/p+.5),1),b=Math.max(Math.floor(v/_+.5),1),x=this.m_x1/m,w=this.m_x2/m,S=this.m_x3/m,C=this.m_y1/d,T=this.m_y2/d,E=this.m_y3/d,O=1/(x+S),k=1/(C+E);r[0]=0,r[1]=c*x*O,r[2]=1-c*S*O,i[0]=0,i[1]=l*C*k,i[2]=1-l*E*k,n[0]=(x+S)/c,n[1]=y/(1-c),n[2]=n[0],n[3]=w,o[0]=(C+E)/l,o[1]=b/(1-l),o[2]=o[0],o[3]=T,s[0]=0,s[1]=x,s[2]=x+w,a[0]=0,a[1]=C,a[2]=C+T},e.parcerName="inner",e}(ht),Nr=function(){function t(t){this.m_shader=null,this.m_map_shader=null,this.m_str_fshChromeMap="",this.m_str_fshChromeAlpha="",this.m_factor=0,this.m_red=0,this.m_blue=0,this.m_context=t,this.m_str_fshChromeMap="        varying vec2 textureCoordinate;        uniform float m_red;        uniform float m_blue;        uniform float m_factor;                void main()        {        float red = textureCoordinate.x-0.299;        float blue = textureCoordinate.y-0.114;        float cr = red;        float cb = blue;        float n = 1.0/sqrt(cr*cr+cb*cb);        cr *=n;        cb *=n;        float vp = cr*m_red+cb*m_blue;        float fac;        if(vp>0.0)        {            float vs = (cr*m_blue - cb*m_red)*m_factor;            fac = vp/(vp*vp+vs*vs);            }            else                fac = 0.0;            float ratio =0.125*25.0/8192.0;            float dst = fac;                if((red*red*0.3 + blue*blue)<ratio)                {                    float x = (red*red*0.3 + blue*blue) / ratio;                    dst = (1.0 - (x*x - 2.0*x + 1.0))*fac;                }            gl_FragColor = vec4(0.0,0.0,0.0,dst);            }",this.m_str_fshChromeAlpha="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D chrome;        void main()        {            vec4 src = texture2D(inputImageTexture, textureCoordinate);            vec3 lsrc = max(src.rgb * vec3(1.0 / 12.82), pow((src.rgb + vec3(0.055)) * vec3(1.0 / 1.055), vec3(2.4)));            vec3 csrc = lsrc * vec3(0.299, 0.587, 0.114);            float lum = csrc.r + csrc.g + csrc.b;            csrc /= vec3(lum + 0.000001);            src.a = src.a - texture2D(chrome, vec2(csrc.r, csrc.b)).w;            gl_FragColor = src;        }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.init(t),this.m_shader||(this.m_shader=new v(null,this.m_str_fshChromeAlpha,this.m_context.context())),this.get_chrome(r);var i=new y(this.m_context.context(),r,this.m_shader);i.shader_texture("inputImageTexture",e.current()),i.shader_texture("chrome",this.m_chrome),i.draw_to(e.new_temporary());var n=this.m_context.context().getError();if(n)throw new Error("HueAlphaAdjust: "+n);e.push_to_current()}catch(t){throw new Error("HueAlphaAdjust process "+t)}},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null),this.m_map_shader&&(this.m_map_shader.destroy(),this.m_map_shader=null),this.m_chrome&&(this.m_context.context().deleteTexture(this.m_chrome),this.m_chrome=null)},t.prototype.get_chrome=function(t){this.m_map_shader||(this.m_map_shader=new v(null,this.m_str_fshChromeMap,this.m_context.context())),this.m_chrome||(this.m_chrome=this.m_context.create_new_texture(256,256,!0));var e=new y(this.m_context.context(),null,this.m_map_shader,256,256,t.m_frameBuffer),r={};r.m_red=this.m_red,r.m_blue=this.m_blue,r.m_factor=this.m_factor,this.m_map_shader.uniforms(r),e.draw_to(this.m_chrome)},t.prototype.init=function(t){t.assume_symbol("factor");var e=t.fetch_float(0,1);this.m_factor=Math.pow(20,1-e);var r=t.lookup_symbol(["hue","color",0],!0);if(0==r){var i=t.fetch_float();i=i/180*Math.PI,this.m_red=Math.sin(i),this.m_blue=Math.cos(i)}else{var n=t.fetch_float(0,256);n=this.encode(n),n*=.299;var o=t.fetch_float(0,256);o=this.encode(o),o*=.587;var s=t.fetch_float(0,256);s=this.encode(s);var a=n+o+(s*=.114),c=1/a;n*=c,o*=c,s*=c,n-=.299,s-=.114,c=1/Math.sqrt(n*n+s*s),this.m_red=n*c,this.m_blue=s*c}},t.prototype.encode=function(t){var e=(t+.5)*(1/256),r=256*(e=e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4));return r},t.parcerName="hueAlphaAdjust",t}(),Br=function(){function t(t){this.m_shader=null,this.m_intensityArray=new Array,this.m_chrome=new Array,this.m_angleArray=[0,0,0,0,0,0,0,0],this.m_width=0,this.m_height=0,this.M_PI=3.141592653589793,this.RLUM=9798,this.GLUM=19234,this.BLUM=3736,this.m_context=t,this.m_s_fshChromeHSLAdjustProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D chrome;                vec3 color_limite(vec3 src, float lum)\t    {\t        lum *= 0.7;\t        \t        vec3 vc = src - lum;\t        \t        vec3 fac = min((1.0 - lum) / max(vc, vec3(0.00001)), vec3(1.0));\t        \t        vc = vc * vec3(min(fac.r, min(fac.g, fac.b)));\t        \t        return lum + vc;        }                vec3 rgb2luv(vec3 src) {\t        vec3 lsrc = max(src.rgb * vec3(1.0 / 12.82), pow((src.rgb + vec3(0.055)) * vec3(1.0 / 1.055), vec3(2.4)));\t        \t        vec3 csrc = lsrc * vec3(0.299, 0.587, 0.114);\t        \t        float lum = csrc.r + csrc.g + csrc.b;\t        \t        csrc /= vec3(lum + 0.00001);\t        \t        return vec3(lum, csrc.rb);        }                vec3 luv2rgb(vec3 luv){\t        float lum = luv.x;\t        \t        vec3 csrc;\t        \t        csrc.rb = luv.yz;\t        \t        csrc.g = 1.0 - csrc.r - csrc.b;\t        \t        csrc *= vec3(lum + 0.00001);\t        \t        vec3 lsrc = csrc * vec3(1.0 / 0.299, 1.0 / 0.587, 1.0 / 0.114);\t        \t        lsrc = color_limite(lsrc, lum);\t        \t        return min(lsrc * 12.82, pow(lsrc, vec3(1.0 / 2.4)) * vec3(1.055) - vec3(0.055));        }                void main()\t    {            vec4 src = texture2D(inputImageTexture, textureCoordinate);            \t\t    vec3 luv = rgb2luv(src.rgb);            \t\t    vec2 satv = luv.yz - vec2(0.299, 0.114);            \t\t    float sat = sqrt(dot(satv, satv)) * luv.x;            \t\t    vec3 chrome_fac = texture2D(chrome, vec2(luv.y, luv.z)).rgb;            \t\t    {                float lum = luv.x;                \t\t\t    float fac = chrome_fac.b - 0.5;                \t\t\t    float dlum = fac > 0.0 ?\t\t\t\t    1.0 - lum - (1.41421 / 1.41421) + sqrt(1.0 - 1.4121*1.41421 + (2.0*1.41421)*lum*1.41421 + 0.5*1.41421*1.41421):\t\t\t\t    1.0 - lum + (1.41421 / 1.41421) - sqrt(1.0 + 1.41421*1.41421 - (2.0*1.41421)*lum*1.41421 + 0.5*1.41421*1.41421);                \t\t\t    fac = clamp(abs(fac*2.0)*sat*15.0, 0.0, 1.0);\t\t\t    lum = mix(lum, dlum, fac);\t\t\t    lum = clamp(lum, 0.0, 1.0);                \t\t\t    luv.x = lum;\t\t    }            \t\t    luv.yz = chrome_fac.rg;            \t\t    src.rgb = luv2rgb(luv);            \t\t    gl_FragColor = src;\t    }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){this.init(t),this.get_chrome(),this.m_shader||(this.m_shader=new v(null,this.m_s_fshChromeHSLAdjustProc,this.m_context.context()));var i=new y(this.m_context.context(),r,this.m_shader);i.shader_texture("inputImageTexture",e.current());var n=0;n=n||this.m_context.create_new_texture(256,256,!0),i.shader_texture("chrome",n);for(var o=[],s=0;s<256;++s)for(var a=0;a<256;++a){for(var c=0;c<3;++c)o.push(this.m_chrome[s][a][c]>>7);o.push(135)}var l=this.m_context.context();l.texSubImage2D(this.m_context.context().TEXTURE_2D,0,0,0,256,256,l.RGBA,l.UNSIGNED_BYTE,new Uint8Array(o)),i.draw_to(e.new_temporary());var u=this.m_context.context().getError();if(u)throw new Error("HueAlphaAdjust: "+u);e.push_to_current()},t.prototype.catch=function(t){throw new Error("HueAlphaAdjust process "+t)},t.prototype.get_chrome=function(){for(var t=0;t<256;++t)for(var e=0;e<256;++e){0==t&&199==e&&(e+=1,e-=1);var r=64+(e<<7),i=64+(t<<7);r-=this.RLUM,i-=this.BLUM;var n=r/32768,o=i/32768,s=Math.atan2(n,o);s=0<s?s:s+2*this.M_PI;var a=this.get_fac(this.m_angleArray,this.m_intensityArray[0],s);this.m_chrome[t][e][2]=Math.floor(32768*(.5*a+.5)+.5),a=this.get_fac(this.m_angleArray,this.m_intensityArray[1],s);var c=this.get_sat(r,i),l=Math.floor(4096*(a+1)+.5);4096<l&&(l=8192-l+((65536-c)*(l-4096)>>15)),r=this.round_shift(12,r*l),i=this.round_shift(12,i*l),c=this.get_sat(r,i),a=this.get_hue_fac(this.m_angleArray,this.m_intensityArray[2],s);var u=Math.floor(32768*Math.cos(a)+.5),h=Math.floor(32768*Math.sin(a)+.5),f=Math.floor(32768*-Math.sin(a)+.5),m=Math.floor(32768*Math.cos(a)+.5);c=Math.min(c,32752);var d=this.round_shift(15,r*u+i*h),p=this.round_shift(15,r*f+i*m);r=d,i=p,i=Math.max(Math.min(29864,i),-29864);var _=Math.floor(2048.5),g=this.get_sat(r,i);(c=this.round_shift(12,g*_+c*(4096-_)))<g>>1&&(c=g>>1),c=Math.min(c,32752),l=Math.floor(4096*c/g+.5),l=Math.min(l,8192),r=this.round_shift(12,r*l),i=this.round_shift(12,i*l),r+=this.RLUM,i+=this.BLUM,this.m_chrome[t][e][0]=r,this.m_chrome[t][e][1]=i}},t.prototype.round_shift=function(t,e){return(e+=1<<t-1)>>t},t.prototype.get_hue_fac=function(t,e,r){for(var i,n,o=0,s=0;s<8&&!(r<t[s]);++s);0==s?(i=t[o=7]-2*this.M_PI,n=t[0]):8==s?(s=0,i=t[o=7],n=t[0]+2*this.M_PI):(o=s-1,n=t[s],i=t[o]);var a,c,l=n-i,u=(r-i)/l,h=1-u,f=e[o]*h+e[s]*u;return f<0?(a=0!=o?t[o]-t[o-1]:t[0]+2*this.M_PI-t[7],c=l):(c=7!=s?t[s+1]-t[s]:t[0]+2*this.M_PI-t[7],a=l),f*(u*c+h*a)},t.prototype.get_fac=function(t,e,r){for(var i=0,n=0,o=0,s=0;n<8&&!(r<t[n]);++n);0==n?(o=t[i=7]-2*this.M_PI,s=t[0]):8==n?(n=0,o=t[i=7],s=t[0]+2*this.M_PI):(i=n-1,s=t[n],o=t[i]);var a=s-o,c=(r-o)/a,l=1-c,u=e[i]*l+e[n]*c;return u},t.prototype.get_sat=function(t,e){var r=Math.ceil(Math.floor(134217728)/(3-this.RLUM)),i=Math.ceil(Math.floor(268435456)/(3-this.BLUM)),n=Math.floor(Math.floor(33554432)/(this.GLUM-3)),o=t*r>>12,s=e*i>>13,a=(t+e)*n>>10;return Math.max(Math.max(o,s),a)},t.prototype.init=function(t){for(var e=["brightness","saturation","hue"],r=0;r<3;++r){t.assume_symbol(e[r]);var i=[];t.assume_symbol("red"),i[2]=t.fetch_float(-1,1),t.assume_symbol("orange"),i[3]=t.fetch_float(-1,1),t.assume_symbol("yellow"),i[4]=t.fetch_float(-1,1),t.assume_symbol("green"),i[5]=t.fetch_float(-1,1),t.assume_symbol("lightGreen"),i[6]=t.fetch_float(-1,1),t.assume_symbol("blue"),i[7]=t.fetch_float(-1,1),t.assume_symbol("purple"),i[0]=t.fetch_float(-1,1),t.assume_symbol("magenta"),i[1]=t.fetch_float(-1,1),this.m_intensityArray[r]=i,this.m_angleArray[0]=this.get_color_angle([235,0,254]),this.m_angleArray[1]=this.get_color_angle([255,0,165]),this.m_angleArray[2]=this.get_color_angle([255,0,92]),this.m_angleArray[3]=this.get_color_angle([255,141,0]),this.m_angleArray[4]=this.get_color_angle([254,206,0]),this.m_angleArray[5]=this.get_color_angle([131,254,0]),this.m_angleArray[6]=this.get_color_angle([0,255,223]),this.m_angleArray[7]=this.get_color_angle([0,165,255])}for(r=0;r<256;r++){for(var n=new Array(256),o=0;o<256;o++)n[o]=[0,0,0];this.m_chrome[r]=n}},t.prototype.get_color_angle=function(t){var e=t[0];e=this.encode(e),e*=.299;var r=t[1];r=this.encode(r),r*=.587;var i=t[2];i=this.encode(i);var n=e+r+(i*=.114),o=1/(n+.00256);r*=o;var s=(e*=o)-.299,a=(i*=o)-.114;return 0<Math.atan2(s,a)?Math.atan2(s,a):Math.atan2(s,a)+2*this.M_PI},t.prototype.encode=function(t){var e=(t+.5)*(1/256);e=e<.04045?e/12.82:Math.pow((e+.055)/1.055,2.4);var r=Math.floor(256*e+.5);return r},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null),this.m_chrome&&(this.m_chrome=[])},t.parcerName="hslAdjust",t}(),$r=function(){function t(t){this.m_shader=null,this.mid_tone=0,this.l_red=0,this.l_blue=0,this.d_red=0,this.d_blue=0,this.m_red=0,this.m_blue=0,this.m_context=t,this.m_str_fshRGBTiltShiftMap="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform float d_red;        uniform float d_blue;        uniform float l_red;        uniform float l_blue;        uniform float m_red;        uniform float m_blue;        uniform float mid_tone;                vec3 color_limite(vec3 src,float lum)            {                vec3 vl = vec3(lum);                vec3 vc = src - vl;                vec3 fac = min((vec3(1.0) - vl) / max(vc, vec3(0.00001)), vec3(1.0));                vc = vc * vec3(min(fac.r, min(fac.g, fac.b)));                return vl + vc;            }                void main()        {\t\t        vec4 src = texture2D(inputImageTexture, textureCoordinate);                vec3 lsrc = max(src.rgb * vec3(1.0 / 12.82),pow((src.rgb + vec3(0.055)) * vec3(1.0 / 1.055),vec3(2.4)));                vec3 csrc = lsrc * vec3(0.299,0.587,0.114);        float lum = csrc.r + csrc.g + csrc.b;        csrc /= vec3(lum);        csrc.rb = csrc.rb - vec2(0.299,0.114);        float p_lum;        if(lum<mid_tone)        {            p_lum = lum/mid_tone;            p_lum = p_lum*p_lum*(3.0 - 2.0 * p_lum);            csrc.rb = (csrc.rb + vec2(d_red,d_blue)) * vec2(1.0 - p_lum) + (csrc.rb + vec2(m_red,m_blue)) * vec2(p_lum);        }        else        {            p_lum = (lum - mid_tone)/(1.0 - mid_tone);            p_lum = p_lum*p_lum*(3.0 - 2.0 * p_lum);            csrc.rb = (csrc.rb + vec2(m_red,m_blue)) * vec2(1.0 - p_lum) + (csrc.rb + vec2(l_red,l_blue)) * vec2(p_lum);        }        {            float sr,sb,sg,smax;            sr = csrc.r * (1.0 / -0.299);            sb = csrc.b * (1.0 / -0.114);            sg = (csrc.r+csrc.b) * (1.0/0.587);            smax = max(max(sr,sb),sg);            if(smax > 1.0)                csrc.rb = csrc.rb * vec2(1.0/smax);            csrc.rb = csrc.rb + vec2(0.299,0.114);        }        csrc.g = 1.0 - csrc.r - csrc.b;        csrc *= vec3(lum);        lsrc = csrc * vec3(1.0/0.299,1.0/0.587,1.0/0.114);        lsrc = color_limite(lsrc,lum);        src.rgb = min(lsrc * 12.82,pow(lsrc,vec3(1.0 / 2.4)) * vec3(1.055) - vec3(0.055));        gl_FragColor = src;        }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{this.init(t),this.m_shader||(this.m_shader=new v(null,this.m_str_fshRGBTiltShiftMap,this.m_context.context())),this.shader_setup(r);var i=new y(this.m_context.context(),r,this.m_shader);i.shader_texture("inputImageTexture",e.current()),i.draw_to(e.new_temporary());var n=this.m_context.context().getError();if(n)throw new Error("RGB: "+n);e.push_to_current()}catch(t){throw new Error("RGB process: "+t)}},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},t.prototype.init=function(t){this.d_red=0,this.d_blue=0,this.l_red=0,this.l_blue=0,this.m_red=0,this.m_blue=0,this.mid_tone=.5;for(var e=["dark","light","middle","midTone",0],r=-1;-1!=(r=t.lookup_symbol(e));)switch(r){case 0:this.d_red=t.fetch_float(),this.d_blue=t.fetch_float();break;case 1:this.l_red=t.fetch_float(),this.l_blue=t.fetch_float();break;case 2:this.m_red=t.fetch_float(),this.m_blue=t.fetch_float();break;case 3:this.mid_tone=t.fetch_float()}this.d_red=3*this.d_red/1e3,this.d_blue=3*this.d_blue/1e3,this.l_red=3*this.l_red/1e3,this.l_blue=3*this.l_blue/1e3,this.m_red=3*this.m_red/1e3,this.m_blue=3*this.m_blue/1e3},t.prototype.shader_setup=function(t){var e={};e.mid_tone=this.mid_tone,e.l_red=this.l_red,e.l_blue=this.l_blue,e.d_red=this.d_red,e.d_blue=this.d_blue,e.m_red=this.m_red,e.m_blue=this.m_blue,this.m_shader.uniforms(e)},t.parcerName="RGB",t}(),Ur=function(){function t(t){this.t_shader=null,this.e_shader=null,this.m_model=0,this.m_opacity=0,this.m_pointSize=0,this.m_pointStride=0,this.m_rectangle=null,this.m_width=0,this.m_height=0,this.m_mvp=new Array,this.s_vecPoints=new Array,this.r=0,this.g=0,this.b=0,this.m_context=t,this.m_str_vshPaintRotWithNorm="        attribute vec4 vPosition;        attribute vec2 vPointNorm;        uniform mat4 uMat;        uniform float pointSize;        void main()        {            gl_PointSize = pointSize;            gl_Position = (uMat * vPosition);        }",this.m_str_fshPaintRot="        uniform vec4 vColor;                void main()        {                    vec2 pos = gl_PointCoord*2.0 - 1.0;                    float dis =  sqrt(pos.x*pos.x + pos.y*pos.y);                    float a=0.0;                if(dis<0.2){                    float fac = dis/0.2;                    a = 0.64*(1.0-fac)+0.41*fac;                }                else if(dis<0.4){                        float fac = (dis-0.2) / 0.2;                        a = 0.41*(1.0-fac)+0.24*fac;                }                else if(dis<0.7){                        float fac = (dis-0.4) / 0.3;                        a = 0.24*(1.0-fac)+0.08*fac;                }                else if(dis<0.83){                        float fac = (dis-0.7) / 0.13;                        a = 0.08*(1.0-fac)+0.06*fac;                }                else if(dis<0.89){                        float fac = (dis-0.83) / 0.03;                        a = 0.06*(1.0-fac)+0.008*fac;                }                else if(dis<1.0){                        float fac = (dis-0.89) / 0.11;                        a = 0.008*(1.0-fac);                }            gl_FragColor =vColor*vec4(0.0, 0.0, 0.0, a);        }",this.m_str_fshEraserRot="        uniform vec4 vColor;                void main()        {                    vec2 pos = gl_PointCoord*2.0 - 1.0;                    float dis =  sqrt(pos.x*pos.x + pos.y*pos.y);                    float a=0.0;                    if(dis<0.89){                        float fac = (dis) / 0.89;                    a = 0.9*(1.0-fac)+0.1*fac;                    }                    else if(dis<1.0){                    float fac = (dis - 0.89) / 0.11;                    a = 0.1*(1.0 - fac);            }            gl_FragColor =vColor*vec4(0.0, 0.0, 0.0, a);        }"}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.process=function(t,e,r){try{var i=this.m_context.context();r.m_width==this.m_width&&r.m_height==this.m_height||(this.m_mvp=this.makeOrtho(0,r.m_width,0,r.m_height,-1,1),this.m_width=r.m_width,this.m_height=r.m_height),this.init(t,r.m_width,r.m_height);var n=this.m_opacity,o=this.m_pointSize;i.enable(i.BLEND),o=this.m_model?(i.blendEquation(i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE_MINUS_SRC_ALPHA),n=2==this.m_model?10:1,this.m_pointSize):(i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ZERO,i.ONE_MINUS_SRC_COLOR),1.15*this.m_pointSize),this.t_shader||(this.t_shader=new v(this.m_str_vshPaintRotWithNorm,this.m_str_fshPaintRot,i)),this.e_shader||(this.e_shader=new v(this.m_str_vshPaintRotWithNorm,this.m_str_fshEraserRot,i)),i.bindFramebuffer(i.FRAMEBUFFER,r.m_frameBuffer),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e.current(),0);var s=void 0;s=this.m_model?this.e_shader:this.t_shader,i.useProgram(s.m_program);var a=[],c=[];if(c[0]=r.m_width,c[1]=r.m_height,this.genInterpolationPointsAndDirections(this.s_vecPoints,a,[],c,this.m_pointStride),0==a.length)return;this.s_vecPoints=[];var l=a.length;null==i.engineVertexBuffer&&(i.engineVertexBuffer=i.createBuffer()),i.bindBuffer(i.ARRAY_BUFFER,i.engineVertexBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array(this.vecToData(a)),i.STATIC_DRAW);var u=i.getAttribLocation(s.m_program,"vPosition");i.vertexAttribPointer(u,2,i.FLOAT,!1,0,new Float32Array(this.vecToData(a))),i.enableVertexAttribArray(u);var h={};h.uMat=this.m_mvp,h.pointSize=o,h.vColor=[this.r,this.g,this.b,n],this.m_rectangle?(h.trans=[r.m_width/this.m_rectangle.size[0],r.m_height/this.m_rectangle.size[1],-this.m_rectangle.position[0]*(r.m_width/this.m_rectangle.size[0]),-this.m_rectangle.position[1]*(r.m_height/this.m_rectangle.size[1])],i.viewport(this.m_rectangle.position[0],this.m_rectangle.position[1],this.m_rectangle.size[0],this.m_rectangle.size[1])):i.viewport(0,0,r.m_width,r.m_height),s.uniforms(h),i.drawArrays(i.POINTS,0,l),i.disable(i.BLEND);var f=i.getError();if(f)throw new Error("painter "+f)}catch(t){throw new Error("painter process: "+t)}},t.prototype.destroy=function(){this.t_shader&&(this.t_shader.destroy(),this.t_shader=null),this.e_shader&&(this.e_shader.destroy(),this.e_shader=null)},t.prototype.createRectangleObject=function(){return{position:[],size:[]}},t.prototype.genInterpolationPointsAndDirections=function(t,e,r,i,n){var o=t.length;if(o<1||n<1)throw"Invalid Parameters";if(1==o)return e.push({x:t[0].x*i[0],y:t[0].y*i[1]}),void r.push({x:0,y:0});for(var s=1;s<o;++s)for(var a={x:(t[s].x-t[s-1].x)*i[0],y:(t[s].y-t[s-1].y)*i[1]},c=Math.floor(Math.max(Math.ceil(Math.sqrt(a.x*a.x+a.y*a.y))/n,1)),l={x:a.x/c,y:a.y/c},u={x:t[s-1].x*i[0],y:t[s-1].y*i[1]},h=0;h<c;++h)e.push({x:u.x+l.x*h,y:u.y+l.y*h})},t.prototype.makeOrtho=function(t,e,r,i,n,o){var s=e+t,a=e-t,c=i-r,l=i+r,u=o+n,h=o-n,f=[2/a,0,0,0,0,2/c,0,0,0,0,-2/h,0,-s/a,-l/c,-u/h,1];return f},t.prototype.vecToData=function(t){for(var e=[],r=0;r<t.length;++r)e[2*r]=t[r].x,e[2*r+1]=t[r].y;return e},t.prototype.init=function(t,e,r){if(this.m_rectangle=null,this.r=1,this.g=.1,this.b=.05,this.m_opacity=.1,this.m_model=0,this.m_model=t.lookup_symbol(["lucency","eraser","hardEraser","texture",0],!0),t.assume_symbol("opacity"),this.m_opacity=t.fetch_float(0,1),t.assume_symbol("pointSize"),t.test_symbol("relToWidth")?this.m_pointSize=t.fetch_float()*e:this.m_pointSize=t.fetch_float(),t.assume_symbol("pointStride"),t.test_symbol("relToWidth")?this.m_pointStride=t.fetch_float()*e:this.m_pointStride=t.fetch_float(),t.lookup_symbol(["coordinate","realPixel",0],!0))for(;t.test_symbol("point");){var i=t.fetch_float()/e,n=t.fetch_float()/r;this.s_vecPoints.push({x:i,y:n})}else for(;t.test_symbol("point");){i=t.fetch_float(),n=t.fetch_float();this.s_vecPoints.push({x:i,y:n})}t.test_symbol("rectangle")&&(this.m_rectangle=this.createRectangleObject(),this.m_rectangle.position[0]=t.fetch_float(),this.m_rectangle.position[1]=t.fetch_float(),this.m_rectangle.size[0]=t.fetch_float(),this.m_rectangle.size[1]=t.fetch_float())},t.parcerName="painter",t}(),qr=function(t){function e(e){var r=t.call(this)||this;return r.m_factor=0,r.m_channel=0,r.m_m=[0,0,0,0],r.m_context=e,r.m_shader=null,r.m_s_fshFragDenoiseDownResizeProc="        precision highp float;\t\tvarying vec2 textureCoordinate;\t    uniform sampler2D inputImageTexture;\t    uniform vec4 m;\t    uniform vec2 sft;\t    uniform vec4 channel;        \t    vec4 get_sample(vec2 cd)\t    {\t\t    return texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw + sft * cd);\t    }        \t    void main()\t    {            vec4 src = get_sample(vec2(-3.0/8.0,-3.0/8.0));\t\t    src += get_sample(vec2( 3.0/8.0,-3.0/8.0));\t\t    src += get_sample(vec2(-3.0/8.0, 3.0/8.0));            src += get_sample(vec2( 3.0/8.0, 3.0/8.0));                        float slum = dot(src,channel)*0.25;                        slum = max(slum * 1.0 / 12.82, pow((slum + 0.055) * (1.0 / 1.055), 2.4));            \t\t    vec2 dlum = vec2(slum, slum * slum) * 256.0;            \t\t    dlum = clamp(dlum, 0.0, 255.996);            \t\t    vec2 fdlum = floor(dlum);            \t\t    src.x = (dlum.x - fdlum.x)*(256.0 / 255.0);\t\t    src.y = fdlum.x / 255.0;            \t\t    src.z = (dlum.y - fdlum.y)*(256.0 / 255.0);\t\t    src.w = fdlum.y / 255.0;            \t\t    gl_FragColor = src;\t    }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_s_fshFragDenoiseDownResizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e);var s={};s.m=this.m_m,s.sft=[1/r,1/i];var a=[0,0,0,0];this.set_channel(a,this.m_channel),s.channel=a,o.m_shader.uniforms(s),o.draw_to(t);var c=this.m_context.context().getError();if(c)throw new Error("DenoiseDownResizeProc: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e.prototype.set_channel=function(t,e){t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[e]=1},e}(Xt),Hr=function(t){function e(e){var r=t.call(this)||this;return r.m_factor=0,r.m_channel=0,r.m_m=[0,0,0,0],r.m_context=e,r.m_shader=null,r.m_s_fshDenoiseUpResizeProc="\t\tvarying vec2 textureCoordinate;\t    uniform sampler2D inputImageTexture;\t    uniform sampler2D subImageTexture;\t    uniform vec4 m;\t    uniform vec4 channel;        \t    void main()        {            vec4 src = texture2D(inputImageTexture, textureCoordinate);                        float slum = dot(src,channel);            \t\t    slum = max(slum * 1.0 / 12.82, pow((slum + 0.055) * (1.0 / 1.055), 2.4));            \t\t    vec4 sub = texture2D(subImageTexture, textureCoordinate * m.xy + m.zw)* vec4(255.0 / 65536.0, 255.0 / 256.0, 255.0 / 65536.0, 255.0 / 256.0);            \t\t    float a = sub.y + sub.x;\t\t    float b = sub.w + sub.z;            \t\t    slum = a *  slum + b;            \t\t    slum = min(slum * 12.82, pow(slum, 1.0 / 2.4) * 1.055 - 0.055);            \t\t    gl_FragColor = src * (1.0 - channel) + slum * channel;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_s_fshDenoiseUpResizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("subImageTexture",e[1]);var s={};s.m=this.m_m;var a=[0,0,0,0];this.set_channel(a,this.m_channel),s.channel=a,o.m_shader.uniforms(s),o.draw_to(t);var c=this.m_context.context().getError();if(c)throw new Error("DenoiseUpResizeProc: "+c)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e.prototype.set_channel=function(t,e){t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[e]=1},e}(Xt),Vr=function(t){function e(e){var r=t.call(this)||this;return r.m_factor=0,r.m_channel=0,r.m_m=[0,0,0,0],r.m_color=0,r.m_luminance=0,r.m_context=e,r.m_shader=null,r.m_s_fshFragDenoiseMix="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTextureR;        uniform sampler2D inputImageTextureD;        uniform float color;        uniform float luminance;                void main()        {            vec4 src = texture2D(inputImageTextureR, textureCoordinate);                        vec3 lsrc = max(src.rgb * (1.0 / 12.82), pow((src.rgb + 0.055) * (1.0 / 1.055), vec3(2.4)));                        float slum = dot(lsrc, vec3(0.299, 0.587, 0.114));                        lsrc /= slum + 0.00001;                        vec4 dst = texture2D(inputImageTextureD, textureCoordinate);                        vec3 ldst = max(dst.rgb * (1.0 / 12.82), pow((dst.rgb + 0.055) * (1.0 / 1.055), vec3(2.4)));                        float dlum = dot(ldst, vec3(0.299, 0.587, 0.114));                        ldst /= dlum + 0.00001;                        lsrc = mix(lsrc, ldst, color);            slum = mix(slum, dlum, luminance);                        lsrc *= slum;                        src.rgb = min(lsrc * 12.82, pow(lsrc, vec3(1.0 / 2.4)) * 1.055 - 0.055);                        gl_FragColor = src;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_s_fshFragDenoiseMix,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTextureR",e[0]),o.shader_texture("inputImageTextureD",e[1]);var s={};s.color=this.m_color,s.luminance=this.m_luminance,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("DenoiseMixProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e.prototype.set_channel=function(t,e){t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[e]=1},e}(Xt),Xr=function(){function t(t){this.m_shader=null,this.m_fast=!1,this.m_radius=0,this.m_esp=0,this.m_luminance=0,this.m_color=0,this.m_width=0,this.m_height=0,this.m_pyramid_gpu=null,this.m_context=t,this.m_factor=new le,this.m_down_resize_filter=new qr(this.m_context),this.m_up_resize_filter=new Hr(this.m_context),this.m_mix_filter=new Vr(this.m_context),this.m_fator_filter=new sr(this.m_context),this.m_down_filter=new nr(this.m_context),this.m_up_filter=new ar(this.m_context)}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.init=function(t){this.m_fast=t.test_symbol("fast"),t.assume_symbol("radius"),this.m_radius=t.fetch_float(1e-4,16),t.assume_symbol("esp"),this.m_esp=.01*t.fetch_float(.001,100),t.assume_symbol("luminance"),this.m_luminance=.01*t.fetch_float(0,100),t.assume_symbol("color"),this.m_color=.01*t.fetch_float(0,100)},t.prototype.inner_process=function(t,e,r,i,n,o,s){if(this.init(t),!(this.m_color<.01&&this.m_luminance<.01)){var a,c,l,u=this.m_color<.99||this.m_luminance<.99;if(a=r.current(),u&&(l=r.new_temporary(),this.m_context.copy_texture(l,a,n,o,s)),c=i?a:r.new_temporary(),this.process_channel(e,c,a,n,o,0,s),this.process_channel(e,a,c,n,o,1,s),this.process_channel(e,c,a,n,o,2,s),u){this.m_mix_filter.m_color=this.m_color,this.m_mix_filter.m_luminance=this.m_luminance;var h=new Array(2);h[0]=l,h[1]=c,this.m_mix_filter.process(a,h,n,o,s)}else i||r.push_to_current()}},t.prototype.process=function(t,e,r){try{this.size_change(r.m_width,r.m_height),this.m_pyramid_gpu||(this.m_pyramid_gpu=new Se(this.m_context,this.m_factor,4099,!0,!1,2)),this.inner_process(t,this.m_pyramid_gpu,e,!1,r.m_width,r.m_height,r.m_frameBuffer);var i=this.m_context.context().getError();if(i)throw new Error("Denoise : "+i)}catch(t){throw new Error("Denoise process "+t)}},t.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},t.prototype.process_channel=function(t,e,r,i,n,o,s){this.m_down_resize_filter.m_channel=o,t.load_from(this.m_down_resize_filter,r,s),this.draw_textures(t,s),this.m_fator_filter.m_esp=this.m_esp,this.m_fator_filter.process(t.m_images[t.m_images.length-1][0],t.m_images[t.m_images.length-1][1],t.m_size[t.m_size.length-1].width,t.m_size[t.m_size.length-1].height,s),this.draw_textures(t,s),this.m_factor.get_rev_trans(this.m_up_resize_filter.m_m),this.m_up_resize_filter.m_channel=o;var a=new Array(2);a[0]=r,a[1]=t.m_images[t.m_images.length-1][1],this.m_up_resize_filter.process(e,a,i,n,s)},t.prototype.draw_textures=function(t,e){t.draw_downward(this.m_down_filter,e),t.map_create(1);for(var r=new Array(t.m_images.length),i=0;i<r.length;++i){var n=Math.max(t.m_size[i].width,t.m_size[i].height)/16*this.m_radius;r[i]=Math.exp(-n*n)}for(i=1;i<t.m_images.length;++i)if(this.m_up_filter.m_factor=r[i],t.m_base_level==i){var o=[t.m_base_images[0],t.m_images[i-1][0],t.m_images[i-1][1]];this.m_up_filter.process(t.m_base_images[1],o,t.m_base_size,t.m_base_size,e),t.base_move_up(1,e)}else{o=[t.m_images[i][0],t.m_images[i-1][0],t.m_images[i-1][1]];1==i&&this.m_context.copy_texture(t.m_images[i-1][1],t.m_images[i-1][0],t.m_size[i-1].width,t.m_size[i-1].height,e),this.m_up_filter.process(t.m_images[i][1],o,t.m_size[i].width,t.m_size[i].height,e)}},t.prototype.size_change=function(t,e){this.m_width==t&&this.m_height==e||(this.m_width=t,this.m_height=e,this.cal_embed(this.m_factor,this.m_width,this.m_height),this.clear())},t.prototype.cal_embed=function(t,e,r){var i,n,o,s;r<=0||e<=0||(s=r<e?(i=32,n=Math.floor(32*r/e),32*r%e&&++n,++n,(o=32)*r/e):(i=Math.floor(32*e/r),(n=32)*e%r&&++i,++i,o=32*e/r,32),t.m_src_width=e,t.m_src_height=r,t.m_dst_width=i,t.m_dst_height=n,t.m_x_start=0,t.m_y_start=0,t.m_emb_width=o,t.m_emb_height=s)},t.prototype.clear=function(){this.m_pyramid_gpu&&(this.m_pyramid_gpu.destroy(),this.m_pyramid_gpu=null)},t.parcerName="denoise",t}(),Wr=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_s_fshFragHazeRemoveMap1Proc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;                float filter_window = 0.01;        vec3 minimumFilter(sampler2D tex, vec2 uv)        {            float wsize = filter_window / 28.0;            vec3 res = vec3(1000.0, 1000.0, 1000.0);                        for (float i = -14.0; i <= 14.0; i++) {                                vec2 coord_sample = uv + vec2(float(i), 0.0)*wsize;                                vec3 tmp = texture2D(tex, coord_sample).rgb;                                res = min(res, tmp);            }                        return res;        }                void main() {            vec3 res_t = minimumFilter(inputImageTexture, textureCoordinate);            gl_FragColor = vec4(res_t, 1.0);        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_s_fshFragHazeRemoveMap1Proc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.draw_to(t);var s=this.m_context.context().getError();if(s)throw new Error("HazeRemoveMap1Proc: "+s)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Yr=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_s_fshFragHazeRemoveMap2Proc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;                float filter_window = 0.01;        float minimumFilter(sampler2D tex, vec2 uv)        {            float wsize = filter_window / 28.0;            vec3 res = vec3(1000.0, 1000.0, 1000.0);                        for (float j = -14.0; j <= 14.0; j++) {                                vec2 coord_sample = uv + vec2(0.0, float(j))*wsize;                vec3 tmp = texture2D(tex, coord_sample).rgb;                res = min(res, tmp);                            }            return min(min(res[0], res[1]), res[2]);        }                void main() {                        vec3 base = texture2D(inputImageTexture, textureCoordinate).rgb;            float res_t = 1.0 - 0.95*minimumFilter(inputImageTexture, textureCoordinate);            res_t = max(0.0, min(1.0, res_t));            gl_FragColor = vec4(vec3(res_t, res_t, res_t), 1.0);        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_s_fshFragHazeRemoveMap2Proc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.draw_to(t);var s=this.m_context.context().getError();if(s)throw new Error("HazeRemoveMap2Proc: "+s)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Gr=function(t){function e(e){var r=t.call(this)||this;return r.m_m=[0,0,0,0],r.filter_num=0,r.m_context=e,r.m_shader=[0,0,0,0,0,0,0,0],r.m_s_fshFragHazeRemoveDownsize2Proc="\t\tvarying vec2 textureCoordinate;\t    uniform sampler2D inputImageTexture;\t    uniform sampler2D guidanceImage;\t    uniform vec4 m;\t    uniform vec2 sft;        \t    vec4 get_sample(vec2 cd)\t    {\t\t    return texture2D(guidanceImage, textureCoordinate * m.xy + m.zw + sft * cd);\t    }        \t    void main()\t    {\t\t    vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, 1.0 / 4.0));            \t\t    float res = texture2D(inputImageTexture, textureCoordinate).x;            \t\t    float dlum;            \t\t    dlum = (src.r * 0.299 + src.g * 0.587 + src.b * 0.114)*res;\t\t    dlum = (256.0*dlum)*0.25;            \t\t    float fdlum = floor(dlum);            \t\t    src.x = dlum - fdlum;\t\t    src.y = fdlum;            \t\t    float u = res*256.0;\t\t    float fu = floor(u);            \t\t    src.z = u - fu;\t\t    src.w = fu;            \t\t    src *= vec4((256.0 / 255.0), 1.0 / 255.0, (256.0 / 255.0), 1.0 / 255.0);            \t\t    gl_FragColor = src;\t    }",r.m_s_fshFragHazeRemoveDownsize2_1Proc="\t\tvarying vec2 textureCoordinate;\t    uniform sampler2D inputImageTexture;\t    uniform sampler2D guidanceImage;\t    uniform vec4 m;\t    uniform vec2 sft;        \t    vec4 get_sample(vec2 cd)\t    {\t\t    return texture2D(guidanceImage, textureCoordinate * m.xy + m.zw + sft * cd);\t    }        \t    void main()\t    {\t\t    vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, 1.0 / 4.0));                        float res = texture2D(inputImageTexture, textureCoordinate).x;            \t\t    vec3 src_c = src.xyz*256.0*0.25;            \t\t    src_c = clamp(src_c, 0.0, 255.996);            \t\t    vec3 fsrc_c = floor(src_c);            \t\t    vec4 dst;            \t\t    dst.x = (src_c.x - fsrc_c.x)*(256.0 / 255.0);\t\t    dst.y = fsrc_c.x / 255.0;            \t\t    dst.z = (src_c.y - fsrc_c.y)*(256.0 / 255.0);            dst.w = fsrc_c.y / 255.0;            \t\t    gl_FragColor = dst;        }",r.m_s_fshFragHazeRemoveDownsize2_2Proc="\t\tvarying vec2 textureCoordinate;\t    uniform sampler2D inputImageTexture;\t    uniform sampler2D guidanceImage;\t    uniform vec4 m;\t    uniform vec2 sft;        \t    vec4 get_sample(vec2 cd)\t    {\t\t    return texture2D(guidanceImage, textureCoordinate * m.xy + m.zw + sft * cd);\t    }        \t    void main()\t    {\t\t    vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, 1.0 / 4.0));            \t\t    float res = texture2D(inputImageTexture, textureCoordinate).x*256.0;            \t\t    res = clamp(res, 0.0, 255.996);            \t\t    float fres = floor(res);            \t\t    vec3 src_c = src.xyz*256.0*0.25;            \t\t    src_c = clamp(src_c, 0.0, 255.996);            \t\t    vec3 fsrc_c = floor(src_c);                        vec4 dst;            \t\t    dst.x = (src_c.z - fsrc_c.z)*(256.0 / 255.0);\t\t    dst.y = fsrc_c.z / 255.0;            \t\t    dst.z = (res - fres)*(256.0 / 255.0);\t\t    dst.w = fres / 255.0;            \t\t    gl_FragColor = dst;        }",r.m_s_fshFragHazeRemoveDownsize2_3Proc="\t\tvarying vec2 textureCoordinate;\t    uniform sampler2D inputImageTexture;\t    uniform sampler2D guidanceImage;\t    uniform vec4 m;\t    uniform vec2 sft;        \t    vec4 get_sample(vec2 cd)\t    {\t\t    return texture2D(guidanceImage, textureCoordinate * m.xy + m.zw + sft * cd);\t    }        \t    void main()\t    {\t\t    vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, 1.0 / 4.0));            \t\t    float res = texture2D(inputImageTexture, textureCoordinate).x;            \t\t    vec3 ip_c = src.xyz*res*256.0*0.25;            \t\t    ip_c = clamp(ip_c, 0.0, 255.996);            \t\t    vec3 fip_c = floor(ip_c);            \t\t    vec4 dst;            \t\t    dst.x = (ip_c.x - fip_c.x)*(256.0 / 255.0);\t\t    dst.y = fip_c.x / 255.0;            \t\t    dst.z = (ip_c.y - fip_c.y)*(256.0 / 255.0);\t\t    dst.w = fip_c.y / 255.0;                        gl_FragColor = dst;        }",r.m_s_fshFragHazeRemoveDownsize2_4Proc="\t\tvarying vec2 textureCoordinate;\t    uniform sampler2D inputImageTexture;\t    uniform sampler2D guidanceImage;\t    uniform vec4 m;\t    uniform vec2 sft;        \t    vec4 get_sample(vec2 cd)\t    {\t\t    return texture2D(guidanceImage, textureCoordinate * m.xy + m.zw + sft * cd);\t    }        \t    void main()\t    {\t\t    vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, 1.0 / 4.0));            \t\t    float res = texture2D(inputImageTexture, textureCoordinate).x;            \t\t    vec3 ip_c = src.xyz*res*256.0*0.25;            \t\t    ip_c = clamp(ip_c, 0.0, 255.996);            \t    \tvec3 fip_c = floor(ip_c);            \t\t    vec4 dst;            \t\t    dst.x = (ip_c.z - fip_c.z)*(256.0 / 255.0);\t\t    dst.y = fip_c.z / 255.0;            \t\t    dst.z = 0.0;            dst.w = 0.0;            \t\t    gl_FragColor = dst;        }",r.m_s_fshFragHazeRemoveDownsize2_5Proc="\t\tvarying vec2 textureCoordinate;\t    uniform sampler2D guidanceImage;\t    uniform vec4 m;\t    uniform vec2 sft;        \t    vec4 get_sample(vec2 cd)\t    {\t\t    return texture2D(guidanceImage, textureCoordinate * m.xy + m.zw + sft * cd);\t    }        \t    void main()\t    {\t\t    vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, 1.0 / 4.0));            \t\t    vec2 rggb = vec2(src.x*src.y*256.0*0.0625, src.y*src.z*256.0*0.0625);            \t\t    rggb = clamp(rggb, 0.0, 255.996);            \t\t    vec2 frggb = floor(rggb);            \t\t    vec4 dst;            \t\t    dst.x = (rggb.x - frggb.x)*(256.0 / 255.0);\t\t    dst.y = frggb.x / 255.0;            \t\t    dst.z = (rggb.y - frggb.y)*(256.0 / 255.0);            dst.w = frggb.y / 255.0;            \t\t    gl_FragColor = dst;\t    }",r.m_s_fshFragHazeRemoveDownsize2_6Proc="\t\tvarying vec2 textureCoordinate;\t    uniform sampler2D guidanceImage;\t    uniform vec4 m;\t    uniform vec2 sft;        \t    vec4 get_sample(vec2 cd)\t    {\t\t    return texture2D(guidanceImage, textureCoordinate * m.xy + m.zw + sft * cd);\t    }        \t    void main()\t    {\t\t    vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, 1.0 / 4.0));            \t\t    float rb = src.x*src.z*256.0*0.0625;            \t\t    rb = clamp(rb, 0.0, 255.996);            \t\t    float frb = floor(rb);            \t\t    float r2 = src.x*src.x*256.0*0.0625;            \t\t    float fr2 = floor(r2);            \t\t    vec4 dst;            \t\t    dst.x = (rb - frb)*(256.0 / 255.0);\t\t    dst.y = frb / 255.0;            \t\t    dst.z = (r2 - fr2)*(256.0 / 255.0);            dst.w = fr2 / 255.0;            \t\t    gl_FragColor = dst;\t    }",r.m_s_fshFragHazeRemoveDownsize2_7Proc="\t\tvarying vec2 textureCoordinate;\t    uniform sampler2D guidanceImage;\t    uniform vec4 m;\t    uniform vec2 sft;        \t    vec4 get_sample(vec2 cd)\t    {\t    \treturn texture2D(guidanceImage, textureCoordinate * m.xy + m.zw + sft * cd);\t    }        \t    void main()\t    {\t    \tvec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, -1.0 / 4.0));            src += get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0));\t\t    src += get_sample(vec2(1.0 / 4.0, 1.0 / 4.0));            \t\t    vec2 g2b2 = vec2(src.y*src.y*256.0*0.0625, src.z*src.z*256.0*0.0625);            \t\t    g2b2 = clamp(g2b2, 0.0, 255.996);            \t\t    vec2 fg2b2 = floor(g2b2);            \t\t    vec4 dst;            \t\t    dst.x = (g2b2.x - fg2b2.x)*(256.0 / 255.0);\t\t    dst.y = fg2b2.x / 255.0;            \t\t    dst.z = (g2b2.y - fg2b2.y)*(256.0 / 255.0);\t\t    dst.w = fg2b2.y / 255.0;            \t\t    gl_FragColor = dst;\t\t}",r.shader_list=[r.m_s_fshFragHazeRemoveDownsize2Proc,r.m_s_fshFragHazeRemoveDownsize2_1Proc,r.m_s_fshFragHazeRemoveDownsize2_2Proc,r.m_s_fshFragHazeRemoveDownsize2_3Proc,r.m_s_fshFragHazeRemoveDownsize2_4Proc,r.m_s_fshFragHazeRemoveDownsize2_5Proc,r.m_s_fshFragHazeRemoveDownsize2_6Proc,r.m_s_fshFragHazeRemoveDownsize2_7Proc],r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader[this.filter_num]||(this.m_shader[this.filter_num]=new v(null,this.shader_list[this.filter_num],this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader[this.filter_num],r,i,n);this.filter_num<5&&o.shader_texture("inputImageTexture",e[0]),o.shader_texture("guidanceImage",e[1]);var s={};s.m=this.m_m,s.sft=[1/r,1/i],o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("HazeRemoveDownsize2Proc: "+a)},e.prototype.destroy=function(){this.m_shader[this.filter_num]&&(this.m_shader[this.filter_num].destroy(),this.m_shader[this.filter_num]=null)},e.prototype.init=function(){},e}(Xt),Kr=function(t){function e(e){var r=t.call(this)||this;return r.m_atFlag=!1,r.m_atLight=0,r.m_amount=0,r.m_contrast=0,r.m_context=e,r.m_shader=null,r.m_s_fshFragHazeDownsizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;        uniform vec2 sft;                vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw + sft * cd);        }                void main()        {            vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));            src = min(get_sample(vec2(1.0 / 4.0, -1.0 / 4.0)),src);            src = min(get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0)),src);            src = min(get_sample(vec2(1.0 / 4.0, 1.0 / 4.0)),src);                        gl_FragColor = src;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_s_fshFragHazeDownsizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]);var s={};s.m=this.m_m,s.sft=[1/r,1/i],o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("HazeRemoveDownsizeProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),Jr=function(t){function e(e){var r=t.call(this)||this;return r.m_esp=0,r.filter_num=0,r.m_context=e,r.m_shader=[0,0,0],r.m_s_fshFragNewStructureSharpenFator="        varying vec2 textureCoordinate;        uniform sampler2D IPTexture;        uniform sampler2D lumTexture;        uniform float esp;                void main()        {            vec4 dst = texture2D(lumTexture, textureCoordinate)*vec4((255.0 / 256.0), 255.0, (255.0 / 256.0), 255.0);                        vec4 dst2 = texture2D(IPTexture,textureCoordinate)*vec4((255.0 / 256.0), 255.0, (255.0 / 256.0), 255.0);                        vec2 lum = dst.yw + dst.xz;            vec2 ip = dst2.yw + dst2.xz;                        float var = lum.y * 256.0 - lum.x * lum.x;                        var = max(var, 0.0);                        float mo = (ip.x * 256.0 - lum.x * ip.y);                        float a = mo /(var + esp * (65536.0 * 4.0));                        float b = ip.y - a*lum.x;                        vec2 dlum = vec2((a+32.0)*4.0, b);                        vec2 fdlum = floor(dlum);                        dst.xz = dlum - fdlum;            dst.yw = fdlum;                        dst *= vec4((256.0 / 255.0), 1.0 / 255.0, (256.0 / 255.0), 1.0 / 255.0);                        gl_FragColor = dst;        }",r.m_s_fshFragNewStructureSharpenFator2="        varying vec2 textureCoordinate;        uniform sampler2D rgTexture;        uniform sampler2D bpTexture;        uniform sampler2D ipripgTexture;        uniform sampler2D ipbTexture;        uniform sampler2D rggbTexture;        uniform sampler2D rbr2Texture;        uniform sampler2D g2b2Texture;                uniform float esp;                void main()        {            vec4 rgDst = texture2D(rgTexture, textureCoordinate);                        vec4 bpDst = texture2D(bpTexture, textureCoordinate);                        vec4 prpgDst = texture2D(ipripgTexture, textureCoordinate);                        vec4 pbDst = texture2D(ipbTexture, textureCoordinate);                        vec4 rggbDst = texture2D(rggbTexture, textureCoordinate);                        vec4 rbr2Dst = texture2D(rbr2Texture, textureCoordinate);                        vec4 g2b2Dst = texture2D(g2b2Texture, textureCoordinate);                        float tr = rgDst.x*(255.0 / 256.0) + rgDst.y*255.0;            float tg = rgDst.z*(255.0 / 256.0) + rgDst.w*255.0;            float tb = bpDst.x*(255.0 / 256.0) + bpDst.y*255.0;                        float trg = rggbDst.x*(255.0 / 256.0) + rggbDst.y*255.0;            float trb = rbr2Dst.x*(255.0 / 256.0) + rbr2Dst.y*255.0;            float tgb = rggbDst.z*(255.0 / 256.0) + rggbDst.w*255.0;                        float tr2 = rbr2Dst.z*(255.0 / 256.0) + rbr2Dst.w*255.0;            float tg2 = g2b2Dst.x*(255.0 / 256.0) + g2b2Dst.y*255.0;            float tb2 = g2b2Dst.z*(255.0 / 256.0) + g2b2Dst.w*255.0;                        float stp = bpDst.z*(255.0 / 256.0) + bpDst.w*255.0;            float tpr = prpgDst.x*(255.0 / 256.0) + prpgDst.y*255.0;            float tpg = prpgDst.z*(255.0 / 256.0) + prpgDst.w*255.0;            float tpb = pbDst.x*(255.0 / 256.0) + pbDst.y*255.0;                        float brg = (trg * 256.0 - tr * tg);            float brb = (trb * 256.0 - tr * tb);            float bgb = (tgb * 256.0 - tg * tb);                        float br2 = (tr2 * 256.0 - tr * tr + esp*65536.0);            float bg2 = (tg2 * 256.0 - tg * tg + esp*65536.0);            float bb2 = (tb2 * 256.0 - tb * tb + esp*65536.0);                        float ur = (tpr * 256.0 - stp * tr);            float ug = (tpg * 256.0 - stp * tg);            float ub = (tpb * 256.0 - stp * tb);                        float bs = br2*bgb*bgb + bg2*brb*brb + bb2*brg*brg - 2.0 * bgb*brb*brg - bb2*bg2*br2;                        float ar = (bgb*bgb - bb2*bg2)*ur + (bb2*brg - bgb*brb)*ug + (bg2*brb - bgb*brg)*ub;            float ag = (bb2*brg - bgb*brb)*ur + (brb*brb - bb2*br2)*ug + (bgb*br2 - brb*brg)*ub;                        bs = 1.0 / bs;                        bs = min(0.0, bs);                        ar *= bs;            ag *= bs;                        vec2 arag = vec2((ar + 64.0)*2.0, (ag + 64.0)*2.0);                        vec2 farag = floor(arag);                        vec4 dst;            dst.x = (arag.x - farag.x)*(256.0 / 255.0);            dst.y = farag.x / 255.0;            dst.z = (arag.y - farag.y)*(256.0 / 255.0);            dst.w = farag.y / 255.0;                        gl_FragColor = dst;        }",r.m_s_fshFragNewStructureSharpenFator3="        varying vec2 textureCoordinate;        uniform sampler2D rgTexture;        uniform sampler2D bpTexture;        uniform sampler2D ipripgTexture;        uniform sampler2D ipbTexture;        uniform sampler2D rggbTexture;        uniform sampler2D rbr2Texture;        uniform sampler2D g2b2Texture;                uniform float esp;        void main()        {            vec4 rgDst = texture2D(rgTexture, textureCoordinate);                        vec4 bpDst = texture2D(bpTexture, textureCoordinate);                        vec4 prpgDst = texture2D(ipripgTexture, textureCoordinate);                        vec4 pbDst = texture2D(ipbTexture, textureCoordinate);                        vec4 rggbDst = texture2D(rggbTexture, textureCoordinate);                        vec4 rbr2Dst = texture2D(rbr2Texture, textureCoordinate);                        vec4 g2b2Dst = texture2D(g2b2Texture, textureCoordinate);                        float tr = rgDst.x*(255.0 / 256.0) + rgDst.y*255.0;            float tg = rgDst.z*(255.0 / 256.0) + rgDst.w*255.0;            float tb = bpDst.x*(255.0 / 256.0) + bpDst.y*255.0;                        float trg = rggbDst.x*(255.0 / 256.0) + rggbDst.y*255.0;            float trb = rbr2Dst.x*(255.0 / 256.0) + rbr2Dst.y*255.0;            float tgb = rggbDst.z*(255.0 / 256.0) + rggbDst.w*255.0;                        float tr2 = rbr2Dst.z*(255.0 / 256.0) + rbr2Dst.w*255.0;            float tg2 = g2b2Dst.x*(255.0 / 256.0) + g2b2Dst.y*255.0;            float tb2 = g2b2Dst.z*(255.0 / 256.0) + g2b2Dst.w*255.0;                        float stp = bpDst.z*(255.0 / 256.0) + bpDst.w*255.0;            float tpr = prpgDst.x*(255.0 / 256.0) + prpgDst.y*255.0;            float tpg = prpgDst.z*(255.0 / 256.0) + prpgDst.w*255.0;            float tpb = pbDst.x*(255.0 / 256.0) + pbDst.y*255.0;                        float brg = (trg * 256.0 - tr * tg);            float brb = (trb * 256.0 - tr * tb);            float bgb = (tgb * 256.0 - tg * tb);                        float br2 = (tr2 * 256.0 - tr * tr + esp*65536.0) ;            float bg2 = (tg2 * 256.0 - tg * tg + esp*65536.0) ;            float bb2 = (tb2 * 256.0 - tb * tb + esp*65536.0) ;                        float ur = (tpr * 256.0 - stp * tr);            float ug = (tpg * 256.0 - stp * tg);            float ub = (tpb * 256.0 - stp * tb);                        float bs = br2*bgb*bgb + bg2*brb*brb + bb2*brg*brg - 2.0 * bgb*brb*brg - bb2*bg2*br2;                        float ar = (bgb*bgb - bb2*bg2)*ur + (bb2*brg - bgb*brb)*ug + (bg2*brb - bgb*brg)*ub;            float ag = (bb2*brg - bgb*brb)*ur + (brb*brb - bb2*br2)*ug + (bgb*br2 - brb*brg)*ub;            float ab = (bg2*brb - bgb*brg)*ur + (bgb*br2 - brb*brg)*ug + (brg*brg - bg2*br2)*ub;                        bs = 1.0 / bs;                        bs = min(0.0, bs);                        ar *= bs;            ag *= bs;            ab *= bs;                        float b = stp - ar*tr - ag*tg - ab*tb;                        b = b / 256.0;                        vec2 abb = vec2((ab + 64.0)*2.0, (b + 32.0)*4.0);                        vec2 fabb = floor(abb);                        vec4 dst;                        dst.x = (abb.x - fabb.x)*(256.0 / 255.0);            dst.y = fabb.x / 255.0;            dst.z = (abb.y - fabb.y)*(256.0 / 255.0);            dst.w = fabb.y / 255.0;                        gl_FragColor = dst;        }",r.factor_shader_list=[r.m_s_fshFragNewStructureSharpenFator,r.m_s_fshFragNewStructureSharpenFator2,r.m_s_fshFragNewStructureSharpenFator3],r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader[this.filter_num]||(this.m_shader[this.filter_num]=new v(null,this.factor_shader_list[this.filter_num],this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader[this.filter_num],r,i,n);o.shader_texture("rgTexture",e[0]),o.shader_texture("bpTexture",e[1]),o.shader_texture("ipripgTexture",e[2]),o.shader_texture("ipbTexture",e[3]),o.shader_texture("rggbTexture",e[4]),o.shader_texture("rbr2Texture",e[5]),o.shader_texture("g2b2Texture",e[6]);var s={};s.esp=this.m_esp,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("HazeRemoveFactorProc: "+a)},e.prototype.destroy=function(){this.m_shader[this.filter_num]&&(this.m_shader[this.filter_num].destroy(),this.m_shader[this.filter_num]=null)},e.prototype.init=function(){},e}(Xt),Qr=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.shader_procession=function(){return"        vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));        src = min(get_sample(vec2(1.0 / 4.0, -1.0 / 4.0)), src);        src = min(get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0)), src);        src = min(get_sample(vec2(1.0 / 4.0, 1.0 / 4.0)), src);                dst = src;"},e}(ue),Zr=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.shader_procession=function(){return"        vec4 src = get_sample(vec2(-3.0 / 8.0, -3.0 / 8.0));        src += get_sample(vec2(3.0 / 8.0, -3.0 / 8.0));        src += get_sample(vec2(-3.0 / 8.0, 3.0 / 8.0));        src += get_sample(vec2(3.0 / 8.0, 3.0 / 8.0));                src *= vec4(0.25);        vec2 dlum;        dlum.x = src.w*255.0 + src.z*(255.0 / 256.0);        dlum.y = src.y*255.0 + src.x*(255.0 / 256.0);                vec2 fdlum = floor(dlum);                src.z = (dlum.x - fdlum.x)*(256.0 / 255.0);        src.w = fdlum.x / 255.0;                src.x = (dlum.y - fdlum.y)*(256.0 / 255.0);        src.y = fdlum.y / 255.0;                dst = src;"},e}(ue),ti=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_s_fshFragHazeRemoveGuideMapProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D axayImageTexture;        uniform sampler2D azbImageTexture;        uniform vec4 m;                void main()        {            vec4 src = texture2D(inputImageTexture, textureCoordinate* m.xy+m.zw);                        vec4 axay = texture2D(axayImageTexture, textureCoordinate)*vec4((255.0 / 256.0), 255.0, (255.0 / 256.0), 255.0);                        vec4 azb = texture2D(azbImageTexture, textureCoordinate)*vec4((255.0 / 256.0), 255.0, (255.0 / 256.0), 255.0);                        vec3 a = vec3(axay.x + axay.y, axay.z + axay.w, azb.x + azb.y);            a = a/2.0 - 64.0;                        float b = azb.z + azb.w;            b = b/4.0 - 32.0;                        float res = a.x*src.x + a.y*src.y + a.z*src.z + b;                        gl_FragColor = vec4(vec3(res),1.0);        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_s_fshFragHazeRemoveGuideMapProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("axayImageTexture",e[1]),o.shader_texture("azbImageTexture",e[2]);var s={};s.m=this.m_m,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("HazeRemoveGuideMapProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),ei=function(t){function e(e){var r=t.call(this)||this;return r.m_atFlag=!1,r.m_atLight=0,r.m_amount=0,r.m_contrast=0,r.m_context=e,r.m_shader=null,r.m_s_fshFragHazeRemoveUpsizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D axayImageTexture;        uniform sampler2D azbImageTexture;                uniform vec4 m;        uniform float amount;        uniform float atLight;        uniform float atFlag;                void main()        {            vec4 src = texture2D(inputImageTexture, textureCoordinate);                        vec4 axay = texture2D(axayImageTexture, textureCoordinate*m.xy + m.zw);            vec4 azb = texture2D(azbImageTexture, textureCoordinate*m.xy + m.zw);                        vec3 a = vec3(axay.x*(255.0 / 256.0) + axay.y* 255.0, axay.z*(255.0 / 256.0) + axay.w* 255.0, azb.x*(255.0 / 256.0) + azb.y* 255.0);            a = a/2.0 - 64.0;                        float b = azb.z *(255.0 / 256.0) + azb.w* 255.0;            b = b/4.0 -32.0;                        float res = a.x*src.x + a.y*src.y + a.z*src.z + b;                        vec3 color_A = vec3(atLight);            float dehaze_adjust = clamp(1.0 / res, 1.0, 10.0) - 1.0;                        if (atFlag<0.1)                dehaze_adjust = float(dehaze_adjust < 1.0)*dehaze_adjust + float(dehaze_adjust >= 1.0)*pow(dehaze_adjust, 0.2);                        dehaze_adjust = dehaze_adjust + 1.0;            vec3 J = clamp(((src.rgb - color_A)*dehaze_adjust + color_A), 0.0, 1.0);                        float d = 1.0 - amount;            float mixv = pow(res, d);            vec3 result = mix(color_A, J, mixv);                        result = mix(src.rgb, result, abs(amount));                        gl_FragColor = vec4(result, 1.0);        }",r}return i(e,t),e.prototype.process=function(t,e,r){this.m_shader||(this.m_shader=new v(null,this.m_s_fshFragHazeRemoveUpsizeProc,this.m_context.context()));var i=new y(this.m_context.context(),null,this.m_shader,t.width,t.height,r);i.shader_texture("inputImageTexture",e[0]),i.shader_texture("axayImageTexture",e[1]),i.shader_texture("azbImageTexture",e[2]);var n={};n.atLight=this.m_atLight,this.m_atFlag?n.atFlag=1:n.atFlag=0,n.m=this.m_m,n.amount=this.m_amount,i.m_shader.uniforms(n),i.draw_to(t);var o=this.m_context.context().getError();if(o)throw new Error("HazeRemoveUpsizeProc: "+o)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),ri=function(){function t(t){this.m_pixel1=new Uint8Array(4),this.m_pixel2=new Uint8Array(4),this.m_pixel3=new Uint8Array(4),this.m_context=t}return t.prototype.process=function(t,e,r,i,n){var o=Math.floor(.3*r),s=Math.floor(.3*i),a=Math.floor(.5*r),c=Math.floor(.5*i),l=Math.floor(.8*r),u=Math.floor(.8*i),h=this.m_context.context();h.bindFramebuffer(h.FRAMEBUFFER,n),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,e[0],0),h.readPixels(o,s,1,1,h.RGBA,h.UNSIGNED_BYTE,this.m_pixel1),h.readPixels(a,c,1,1,h.RGBA,h.UNSIGNED_BYTE,this.m_pixel2),h.readPixels(l,u,1,1,h.RGBA,h.UNSIGNED_BYTE,this.m_pixel3);var f=this.m_context.context().getError();if(f)throw new Error("HazeMapUpProc: "+f)},t.prototype.pixelTest=function(t,e,r){return!(2<Math.abs(Math.floor(t[0])-Math.floor(this.m_pixel1[0]))||2<Math.abs(Math.floor(t[1])-Math.floor(this.m_pixel1[1]))||2<Math.abs(Math.floor(t[2])-Math.floor(this.m_pixel1[2]))||2<Math.abs(Math.floor(t[3])-Math.floor(this.m_pixel1[3]))||2<Math.abs(Math.floor(e[0])-Math.floor(this.m_pixel2[0]))||2<Math.abs(Math.floor(e[1])-Math.floor(this.m_pixel2[1]))||2<Math.abs(Math.floor(e[2])-Math.floor(this.m_pixel2[2]))||2<Math.abs(Math.floor(e[3])-Math.floor(this.m_pixel2[3]))||2<Math.abs(Math.floor(r[0])-Math.floor(this.m_pixel3[0]))||2<Math.abs(Math.floor(r[1])-Math.floor(this.m_pixel3[1]))||2<Math.abs(Math.floor(r[2])-Math.floor(this.m_pixel3[2]))||2<Math.abs(Math.floor(r[3])-Math.floor(this.m_pixel3[3])))},t}(),ii=function(t){function e(e){var r=t.call(this)||this;return r.m_atFlag=!1,r.m_atLight=0,r.m_amount=0,r.m_contrast=0,r.m_context=e,r.m_shader=null,r.m_s_fshFragHazeRemoveHistProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;                void main()        {            vec2 cod = textureCoordinate * m.xy + m.zw;                        vec4 src = texture2D(inputImageTexture, cod);                        vec4 hst = vec4(src.x);                        hst = (hst - vec4(-0.25, 0.0, 0.5, 0.75)) * vec4(8.0);                        hst = min(max(hst, 0.0), 4.0);                        hst = abs(hst - vec4(2.0));                        hst = hst - vec4(1.0);                        hst = hst * (hst * hst - vec4(3.0))* vec4(0.25) + vec4(0.5);                        gl_FragColor = hst;        }",r}return i(e,t),e.prototype.process=function(t,e,r){this.m_shader||(this.m_shader=new v(null,this.m_s_fshFragHazeRemoveHistProc,this.m_context.context()));var i=new y(this.m_context.context(),null,this.m_shader,t.width,t.height,r);i.shader_texture("inputImageTexture",e[0]);var n={};n.m=this.m_m,i.m_shader.uniforms(n),i.draw_to(t);var o=this.m_context.context().getError();if(o)throw new Error("HazeRemoveHistProc: "+o)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),ni=function(t){function e(e){var r=t.call(this)||this;return r.m_atFlag=!1,r.m_atLight=0,r.m_amount=0,r.m_contrast=0,r.m_context=e,r.m_shader=null,r.m_need_fac=!0,r.m_s_fshFragHazeRemoveGetALProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D hazeResTexture;        uniform vec4 m;        uniform float fac;                void main()        {            vec4 src = texture2D(inputImageTexture, textureCoordinate*m.xy + m.zw);                        float res = texture2D(hazeResTexture, textureCoordinate).x;                        float _fac = float(res < fac);                        gl_FragColor = src*vec4(_fac);        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_s_fshFragHazeRemoveGetALProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("hazeResTexture",e[2]);var s=new Uint8Array(16),a=this.m_context.context();a.bindFramebuffer(a.FRAMEBUFFER,n),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e[1],0),a.readPixels(0,0,2,2,a.RGBA,a.UNSIGNED_BYTE,s),this.m_need_fac&&(this.m_fac=this.get_fac(s));var c={};c.m=this.m_m,c.fac=this.m_fac,o.m_shader.uniforms(c),o.draw_to(t);var l=this.m_context.context().getError();if(l)throw new Error("HazeRemoveGetAtmosphericLightProc: "+l)},e.prototype.get_fac=function(t){var e=[t[0]+t[4]+t[8]+t[12]/1024,t[1]+t[5]+t[9]+t[13]/1024,0,t[2]+t[6]+t[10]+t[14]/1024,t[3]+t[7]+t[11]+t[15]/1024];e[2]=1-e[0]-e[1]-e[3]-e[4];for(var r=0,i=0,n=0;r<5&&(i+=e[r],0<r&&(n+=e[r-1]),!(.05<=i));++r);return r?(.05-n)/(i-n)*.25+.25*(r-1):0},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),oi=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.shader_procession=function(){return"        vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));        src = max(get_sample(vec2(1.0 / 4.0, -1.0 / 4.0)), src);        src = max(get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0)), src);        src = max(get_sample(vec2(1.0 / 4.0, 1.0 / 4.0)), src);                dst = src;"},e}(ue),si=function(){function t(t){this.m_context=t}return t.prototype.process=function(t,e,r){var i=new Uint8Array(16),n=this.m_context.context();n.bindFramebuffer(n.FRAMEBUFFER,r),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e[1],0),n.readPixels(0,0,2,2,n.RGBA,n.UNSIGNED_BYTE,i);for(var o=this.m_al=0;o<4;o++){var s=(.299*i[4*o]+.587*i[4*o+1]+.114*i[4*o+2])/256;this.m_al<s&&(this.m_al=s)}var a=this.m_context.context().getError();if(a)throw new Error("HazeRemoveAtmosphericLightTestProc: "+a)},t}(),ai=function(t){function e(e){var r=t.call(this)||this;return r.m_factor=0,r.m_context=e,r.m_shader=null,r.m_s_fshFragHazeRemoveIPUpProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D subImageTextureR;        uniform sampler2D subImageTextureD;        uniform float fac;                void main()        {            vec4 dst = texture2D(inputImageTexture, textureCoordinate);            vec2 slum;            slum.y = dst.w*255.0 + dst.z*(255.0 / 256.0);            slum.x = dst.y*255.0 + dst.x*(255.0 / 256.0);                        vec4 sub_r = texture2D(subImageTextureR, textureCoordinate);            vec2 rlum;            rlum.y = sub_r.w*255.0 + sub_r.z*(255.0 / 256.0);            rlum.x = sub_r.y*255.0 + sub_r.x*(255.0 / 256.0);                        vec4 sub_d = texture2D(subImageTextureD, textureCoordinate);            vec2 dlum;            dlum.y = sub_d.w*255.0 + sub_d.z*(255.0 / 256.0);            dlum.x = sub_d.y*255.0 + sub_d.x*(255.0 / 256.0);                        dlum = (slum - rlum)*fac + dlum;                        vec2 fdlum = floor(dlum);                        dst.x = (dlum.x - fdlum.x)*(256.0 / 255.0);            dst.y = fdlum.x / 255.0;                        dst.z = (dlum.y - fdlum.y)*(256.0 / 255.0);            dst.w = fdlum.y / 255.0;                        gl_FragColor = dst;        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_s_fshFragHazeRemoveIPUpProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("subImageTextureR",e[1]),o.shader_texture("subImageTextureD",e[2]);var s={};s.fac=this.m_factor,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("HazeRemoveIPUpProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),ci=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.s_fshFragHazeRemoveCoarseDownsizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform vec4 m;        uniform vec2 sft;                vec4 get_sample(vec2 cd)        {            return texture2D(inputImageTexture, textureCoordinate * m.xy + m.zw + sft * cd);        }                void main()        {                        vec4 src = get_sample(vec2(-1.0 / 4.0, -1.0 / 4.0));            src += get_sample(vec2(1.0 / 4.0, -1.0 / 4.0));            src += get_sample(vec2(-1.0 / 4.0, 1.0 / 4.0));            src += get_sample(vec2(1.0 / 4.0, 1.0 / 4.0));                        gl_FragColor = src*vec4(0.25);        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.s_fshFragHazeRemoveCoarseDownsizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]);var s={};s.m=this.m_m,s.sft=[1/r,1/i],o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("HazeRemoveCoarseUpsizeProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),li=function(t){function e(e){var r=t.call(this)||this;return r.m_dehaze=0,r.m_atFlag=!1,r.m_atLight=0,r.m_context=e,r.m_shader=null,r.m_s_fshFragHazeRemoveCoarseUpsizeProc="        varying vec2 textureCoordinate;        uniform sampler2D inputImageTexture;        uniform sampler2D map_t;                uniform vec4 m;        uniform float dehaze;        uniform float atLight;        uniform float atFlag;                float mix_scale = 0.5;                void main() {                        vec3 color_A = vec3(atLight);            vec3 base = texture2D(inputImageTexture, textureCoordinate).rgb;                        float res_t = texture2D(map_t, textureCoordinate*m.xy + m.zw).r;                        float dehaze_adjust = clamp(1.0 / res_t, 1.0, 10.0) - 1.0;            if (atFlag < 0.1)                dehaze_adjust = float(dehaze_adjust < 1.0)*dehaze_adjust + float(dehaze_adjust >= 1.0)*pow(dehaze_adjust, 0.2);            dehaze_adjust = dehaze_adjust + 1.0;            vec3 J = clamp(((base - color_A)*dehaze_adjust + color_A), 0.0, 1.0);                        float d = 1.0 - dehaze;            float mixv = pow(res_t, d);            vec3 result = mix(color_A, J, mixv);                        gl_FragColor = vec4(result, 1.0);        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_s_fshFragHazeRemoveCoarseUpsizeProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("inputImageTexture",e[0]),o.shader_texture("map_t",e[1]);var s={};s.m=this.m_m,s.dehaze=this.m_dehaze,s.atLight=this.m_atLight,this.m_atFlag?s.atFlag=1:s.atFlag=0,o.m_shader.uniforms(s),o.draw_to(t);var a=this.m_context.context().getError();if(a)throw new Error("HazeRemoveCoarseUpsizeProc: "+a)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),ui=function(t){function e(e){var r=t.call(this)||this;return r.m_context=e,r.m_shader=null,r.m_s_fshFragHazeRemoveBilateralHProc="        varying vec2 textureCoordinate;        uniform sampler2D hazeMapTexture;        uniform sampler2D inputImageTexture;                float random(vec3 scale, float seed) {            return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);        }                float sigma_s = 0.02;        float sigma_c = 0.2;        float filter_window = 0.1;        float guidedFilter(vec2 uv)        {                        float wsize = filter_window / 14.0;            float res_v = 0.0;            float res_w = 0.0;            vec3 center_g = texture2D(inputImageTexture, uv).rgb;            float sigma_i = 0.5*wsize*wsize / sigma_s / sigma_s;            float offset2 = random(vec3(12.9898, 78.233, 151.7182), 0.0);            float offset = random(vec3(151.7182, 12.9898, 78.233), 0.0);            for (float i = -7.0; i <= 7.0; i++) {                for (float j = -7.0; j <= 7.0; j++) {                    vec2 coord_sample = uv + vec2(float(i) + offset - 0.5, float(j) + offset2 - 0.5)*wsize;                    float tmp_v = texture2D(hazeMapTexture, coord_sample).r;                                        vec3 tmp_g = texture2D(inputImageTexture, coord_sample).rgb;                    vec3 diff_g = (tmp_g - center_g);                                        float tmp_w = exp(-(i*i + j*j)*sigma_i);                    tmp_w *= exp(-(dot(diff_g, diff_g) / 2.0 / sigma_c / sigma_c));                                        res_v += tmp_v*tmp_w;                    res_w += tmp_w;                }            }            float res = res_v / res_w;            return res;        }                void main() {                        float res_t = guidedFilter(textureCoordinate);            res_t = max(1e-3, min(1.0 - 1e-3, res_t));            gl_FragColor = vec4(res_t, res_t, res_t, res_t);        }",r}return i(e,t),e.prototype.process=function(t,e,r,i,n){this.m_shader||(this.m_shader=new v(null,this.m_s_fshFragHazeRemoveBilateralHProc,this.m_context.context()));var o=new y(this.m_context.context(),null,this.m_shader,r,i,n);o.shader_texture("hazeMapTexture",e[0]),o.shader_texture("inputImageTexture",e[1]),o.draw_to(t);var s=this.m_context.context().getError();if(s)throw new Error("HazeRemoveBilateralHProc: "+s)},e.prototype.destroy=function(){this.m_shader&&(this.m_shader.destroy(),this.m_shader=null)},e}(Xt),hi=function(){function t(t){this.m_atFlag=!1,this.m_atLight=0,this.m_radius=0,this.m_esp=0,this.m_flushed=!1,this.m_intensity=0,this.m_contrast=0,this.m_last_src="",this.m_precessing="",this.m_width=0,this.m_height=0,this.m_pyramid_gpu=null,this.m_pixel1=new Uint8Array(4),this.m_pixel2=new Uint8Array(4),this.m_pixel3=new Uint8Array(4),this.m_context=t,this.m_factor=new le,this.m_image_change_test_filter=new ri(this.m_context),this.m_downsize_filter=new Kr(this.m_context),this.m_map1_filter=new Wr(this.m_context),this.m_map2_filter=new Yr(this.m_context),this.m_downsize2_filter=new Gr(this.m_context),this.m_fator_filter=new Jr(this.m_context),this.m_down_filter=new Qr(this.m_context),this.m_down2_filter=new Zr(this.m_context),this.m_guidance_filter=new ti(this.m_context),this.m_upsize_filter=new ei(this.m_context),this.m_hst_filter=new ii(this.m_context),this.m_hst_down_filter=new Ue(this.m_context),this.m_al_filter=new ni(this.m_context),this.m_al_max_down_filter=new oi(this.m_context),this.m_al_test_filter=new si(this.m_context),this.m_up2_filter=new ai(this.m_context),this.m_coarse_downsize_filter=new ci(this.m_context),this.m_coarse_upsize_filter=new li(this.m_context),this.m_bilateral_filter=new ui(this.m_context)}return t.create=function(e){return new t(e)},t.prototype.get_name=function(){return t.parcerName},t.prototype.init=function(t){this.m_atFlag=t.test_symbol("atmosphericLight"),t.assume_symbol("radius"),this.m_radius=t.fetch_float(1e-4,16),t.assume_symbol("esp"),this.m_esp=.01*t.fetch_float(.001,100),t.get_log()!=this.m_last_src?(this.m_flushed=!0,this.m_precessing=t.get_log()):this.m_flushed=!1,t.assume_symbol("intensity"),this.m_intensity=t.fetch_float(-1,1),this.m_contrast=50,t.test_symbol("contrast")&&(this.m_contrast=100*t.fetch_float(0,1))},t.prototype.process=function(t,e,r){try{this.size_change(r.m_width,r.m_height),this.m_pyramid_gpu||(this.m_pyramid_gpu=new Se(this.m_context,this.m_factor,1024,!0,!1,2),this.m_last_src="");var i=e.new_temporary(),n=e.current();this.coarse_process(t,this.m_pyramid_gpu,i,n,r.m_width,r.m_height,r.m_frameBuffer),e.push_to_current();var o=this.m_context.context().getError();if(o)throw new Error("HazeRemove : "+o)}catch(t){throw new Error("HazeRemove process "+t)}},t.prototype.coarse_process=function(t,e,r,i,n,o,s){this.init(t);var a=new Array(7);if(this.m_flushed){a[0]=i,this.m_last_src="",e.load_from(this.m_coarse_downsize_filter,a,s),e.map_create(1),e.m_start=e.m_images.length-1,e.m_end=e.m_images.length,e.map_create(2),a[0]=e.m_images[e.m_images.length-1][0],this.m_map1_filter.process(e.m_images[e.m_images.length-1][1],a,e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,s),a[0]=e.m_images[e.m_images.length-1][1],this.m_map2_filter.process(e.m_images[e.m_images.length-1][2],a,e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,s),a[0]=e.m_images[e.m_images.length-1][2],a[1]=e.m_images[e.m_images.length-1][0],this.m_bilateral_filter.process(e.m_images[e.m_images.length-1][1],a,e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,s),a[0]=e.m_images[e.m_images.length-1][1],a[1]=e.m_images[e.m_images.length-1][0],e.map_create(3),this.m_bilateral_filter.process(e.m_images[e.m_images.length-1][3],a,e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,s),this.m_atLight=this.get_atmospheric_light(e,i,s);var c=this.m_last_src;this.m_last_src=this.m_precessing,this.m_precessing=c}this.m_factor.get_rev_trans(this.m_coarse_upsize_filter.m_m),this.m_atFlag?this.m_coarse_upsize_filter.m_atLight=this.m_atLight:this.m_coarse_upsize_filter.m_atLight=1,a[0]=i,a[1]=e.m_images[e.m_images.length-1][3],this.m_coarse_upsize_filter.m_dehaze=this.m_intensity,this.m_coarse_upsize_filter.m_atFlag=this.m_atFlag,this.m_coarse_upsize_filter.process(r,a,n,o,s)},t.prototype.inner_process=function(t,e,r,i,n,o,s,a){this.init(t);var c=new Array(7);if(!this.m_flushed&&(c[0]=i,this.m_image_change_test_filter.process(e.m_images[e.m_images.length-1][0],c,e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,a),!this.m_image_change_test_filter.pixelTest(this.m_pixel1,this.m_pixel2,this.m_pixel3))){for(var l=0;l<4;++l)this.m_pixel1[l]=this.m_image_change_test_filter.m_pixel1[l],this.m_pixel2[l]=this.m_image_change_test_filter.m_pixel2[l],this.m_pixel3[l]=this.m_image_change_test_filter.m_pixel3[l];this.m_flushed=!this.m_flushed}if(this.m_flushed){c[0]=i,this.m_image_change_test_filter.process(e.m_images[e.m_images.length-1][0],c,e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,a);for(l=0;l<4;++l)this.m_pixel1[l]=this.m_image_change_test_filter.m_pixel1[l],this.m_pixel2[l]=this.m_image_change_test_filter.m_pixel2[l],this.m_pixel3[l]=this.m_image_change_test_filter.m_pixel3[l];this.m_last_src="",e.load_from(this.m_downsize_filter,i,a),e.map_create(1),e.m_start=e.m_images.length-1,e.m_end=e.m_images.length,e.map_create(2),c[0]=e.m_images[e.m_images.length-1][0],this.m_map1_filter.process(e.m_images[e.m_images.length-1][1],c,e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,a),c[0]=e.m_images[e.m_images.length-1][1],this.m_map2_filter.process(e.m_images[e.m_images.length-1][2],c,e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,a),c[0]=e.m_images[e.m_images.length-1][2],c[1]=i,this.m_factor.get_trans(this.m_downsize2_filter.m_m);for(l=0;l<7;++l)this.m_downsize2_filter.filter_num=l+1,this.m_downsize2_filter.process(e.m_images[e.m_images.length-1][0],c,e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,a),this.draw_IP_image(e,a,this.m_down2_filter),e.m_start=e.m_images.length-1,e.m_end=e.m_images.length,e.map_create(3+l),this.m_context.copy_texture(e.m_images[e.m_images.length-1][3+l],e.m_images[e.m_images.length-1][1],e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,a);c[0]=e.m_images[e.m_images.length-1][3],c[1]=e.m_images[e.m_images.length-1][4],c[2]=e.m_images[e.m_images.length-1][5],c[3]=e.m_images[e.m_images.length-1][6],c[4]=e.m_images[e.m_images.length-1][7],c[5]=e.m_images[e.m_images.length-1][8],c[6]=e.m_images[e.m_images.length-1][9],this.m_fator_filter.m_esp=this.m_esp,this.m_fator_filter.filter_num=1,this.m_fator_filter.process(e.m_images[e.m_images.length-1][0],c,e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,a),this.draw_IP_image(e,a,this.m_down2_filter),this.m_fator_filter.filter_num=2,this.m_fator_filter.process(e.m_images[e.m_images.length-1][0],c,e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,a),this.m_context.copy_texture(e.m_images[e.m_images.length-1][2],e.m_images[e.m_images.length-1][1],e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,a),this.draw_IP_image(e,a,this.m_down2_filter),this.m_factor.get_trans(this.m_guidance_filter.m_m),c[0]=i,c[1]=e.m_images[e.m_images.length-1][2],c[2]=e.m_images[e.m_images.length-1][1],this.m_guidance_filter.process(e.m_images[e.m_images.length-1][3],c,e.m_size[e.m_images.length-1].width,e.m_size[e.m_images.length-1].height,a),this.m_atLight=this.get_atmospheric_light(e,i,a);for(l=0;l<7;++l)e.m_start=e.m_images.length-1,e.m_end=e.m_images.length;var u=this.m_last_src;this.m_last_src=this.m_precessing,this.m_precessing=u}this.m_factor.get_rev_trans(this.m_upsize_filter.m_m),this.m_atFlag?this.m_upsize_filter.m_atLight=this.m_atLight:this.m_upsize_filter.m_atLight=1,c[0]=i,c[1]=e.m_images[e.m_images.length-1][2],c[2]=e.m_images[e.m_images.length-1][1],this.m_upsize_filter.m_contrast=this.m_contrast,this.m_upsize_filter.m_amount=this.m_intensity,this.m_upsize_filter.m_atFlag=this.m_atFlag,this.m_upsize_filter.process(r,c,a)},t.prototype.draw_IP_image=function(t,e,r){t.draw_downward(r,e);for(var i=new Array(t.m_images.length),n=0;n<t.m_images.length;++n){var o=Math.floor(Math.max(t.m_size[n].width,t.m_size[n].height)/16)*this.m_radius;i[n]=Math.exp(-o*o)}for(n=1;n<t.m_images.length;++n)if(this.m_up2_filter.m_factor=i[n],t.m_base_level==n){var s=[t.m_base_images[0],t.m_images[n-1][0],t.m_images[n-1][1]];this.m_up2_filter.process(t.m_base_images[1],s,t.m_base_size,t.m_base_size,e),t.base_move_up(1,e)}else{s=[t.m_images[n][0],t.m_images[n-1][0],t.m_images[n-1][1]];1==n&&this.m_context.copy_texture(t.m_images[n-1][1],t.m_images[n-1][0],t.m_size[n-1].width,t.m_size[n-1].height,e),this.m_up2_filter.process(t.m_images[n][1],s,t.m_size[n].width,t.m_size[n].height,e)}},t.prototype.size_change=function(t,e){this.m_width==t&&this.m_height==e||(this.m_width=t,this.m_height=e,this.m_last_src="",this.cal_embed(this.m_factor,this.m_width,this.m_height),this.clear())},t.prototype.destroy=function(){},t.prototype.clear=function(){this.m_pyramid_gpu&&(this.m_pyramid_gpu.destroy(),this.m_pyramid_gpu=null)},t.prototype.get_atmospheric_light=function(t,e,r){var i=new Array(3);if(i[0]=t.m_images[t.m_images.length-1][3],this.m_factor.get_rev_trans(this.m_hst_filter.m_m),this.m_image_change_test_filter.process(t.m_images[t.m_images.length-1][0],i,t.m_size[t.m_images.length-1].width,t.m_size[t.m_images.length-1].height,r),t.draw_downward(this.m_hst_down_filter,r),this.m_factor.get_trans(this.m_al_filter.m_m),i[0]=e,i[1]=t.m_images[0][0],i[2]=t.m_images[t.m_images.length-1][3],this.m_al_filter.process(t.m_images[t.m_images.length-1][0],i,t.m_size[t.m_images.length-1].width,t.m_size[t.m_images.length-1].height,r),t.draw_downward(this.m_al_max_down_filter,r),this.m_al_test_filter.process(t.m_images[t.m_images.length-1][0],i,r),0!=this.m_al_test_filter.m_al)return this.m_al_test_filter.m_al;var n=this.m_al_filter.m_fac,o=Math.floor(4*n)/4+.5+.01;for(n+=.01;n<o&&(this.m_al_filter.m_need_fac=!1,this.m_al_filter.m_fac=n,this.m_al_filter.process(t.m_images[t.m_images.length-1][0],i,t.m_size[t.m_images.length-1].width,t.m_size[t.m_images.length-1].height,r),t.draw_downward(this.m_al_max_down_filter,r),this.m_al_test_filter.process(t.m_images[t.m_images.length-1][0],i,r),0==this.m_al_test_filter.m_al);n+=.01);return this.m_al_filter.m_need_fac=!0,this.m_al_test_filter.m_al},t.prototype.cal_embed=function(t,e,r){var i,n,o,s;r<=0||e<=0||(s=r<e?(i=32,n=Math.floor(32*r/e),32*r%e&&++n,o=32,Math.floor(32*r/e)):(i=Math.floor(32*e/r),(n=32)*e%r&&++i,o=Math.floor(32*e/r),32),t.m_src_width=e,t.m_src_height=r,t.m_dst_width=i,t.m_dst_height=n,t.m_x_start=0,t.m_y_start=0,t.m_emb_width=o,t.m_emb_height=s)},t.parcerName="hazeRemove",t}(),fi=function(){function t(t,e,r){var i,s;this.m_context=t,this.m_list=new Map;try{for(var a=n(e),c=a.next();!c.done;c=a.next()){var l=o(c.value,2),u=l[0],h=l[1];this.m_list.set(u,{loader:h,parcer:void 0})}}catch(t){i={error:t}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}}return t.prototype.get_name=function(){throw new Error("Method not implemented.")},t.prototype.process=function(t,e,r){var i=this.get_item(t);i.process(t,e,r)},t.prototype.destroy=function(){var t,e;try{for(var r=n(this.m_list.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.parcer&&o.parcer.destroy()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.get_item=function(t){var e=t.fetch_symbol(),r=this.m_list.get(e);if(!r)throw new Error("create_dispatch_parcer");r.parcer||(r.parcer=r.loader(this.m_context));var i="processing:";return i+=e,i+="\n",this.m_context.on_log(i),r.parcer},t.parcer_list=new Map([[ut.parcerName,ut.create],[ft.parcerName,ft.create],[gt.parcerName,gt.create],[vt.parcerName,vt.create],[Ce.parcerName,Ce.create],[Te.parcerName,Te.create],[Ie.parcerName,Ie.create],[Be.parcerName,Be.create],[ur.parcerName,ur.create],[Or.parcerName,Or.create],[kr.parcerName,kr.create],[Ar.parcerName,Ar.create],[Mr.parcerName,Mr.create],[zr.parcerName,zr.create],[Ir.parcerName,Ir.create],[Nr.parcerName,Nr.create],[Br.parcerName,Br.create],[$r.parcerName,$r.create],[Ur.parcerName,Ur.create],[Xr.parcerName,Xr.create],[hi.parcerName,hi.create]]),t.mix_log_parcer_list=new Map([[$e.parcerName,$e.create],[Xe.parcerName,Xe.create],[tr.parcerName,tr.create],[ir.parcerName,ir.create],[lr.parcerName,lr.create]]),t.basic_adjust_list=new Map([[wt.parcerName,wt.create],[St.parcerName,St.create],[Ct.parcerName,Ct.create],[Tt.parcerName,Tt.create],[Et.parcerName,Et.create],[yt.parcerName,yt.create],[Ot.parcerName,Ot.create],[kt.parcerName,kt.create],[At.parcerName,At.create],[Mt.parcerName,Mt.create],[Pt.parcerName,Pt.create],[Dt.parcerName,Dt.create],[jt.parcerName,jt.create],[zt.parcerName,zt.create],[It.parcerName,It.create],[Rt.parcerName,Rt.create],[Ft.parcerName,Ft.create],[Lt.parcerName,Lt.create],[bt.parcerName,bt.create],[xt.parcerName,xt.create],[Nt.parcerName,Nt.create],[Bt.parcerName,Bt.create],[$t.parcerName,$t.create],[Ut.parcerName,Ut.create],[qt.parcerName,qt.create],[Ht.parcerName,Ht.create],[Vt.parcerName,Vt.create],[Yt.parcerName,Yt.create],[Gt.parcerName,Gt.create],[Kt.parcerName,Kt.create],[Jt.parcerName,Jt.create],[Qt.parcerName,Qt.create],[Zt.parcerName,Zt.create],[te.parcerName,te.create],[ee.parcerName,ee.create],[re.parcerName,re.create],[ie.parcerName,ie.create],[ne.parcerName,ne.create],[oe.parcerName,oe.create],[se.parcerName,se.create],[ae.parcerName,ae.create],[ce.parcerName,ce.create]]),t.special_border_list=new Map([[Ee.parcerName,Ee.create],[Oe.parcerName,Oe.create],[ke.parcerName,ke.create],[Ae.parcerName,Ae.create],[Me.parcerName,Me.create],[ze.parcerName,ze.create],[Pe.parcerName,Pe.create],[De.parcerName,De.create],[je.parcerName,je.create]]),t.special_mix_color_list=new Map([[Pr.parcerName,Pr.create],[Dr.parcerName,Dr.create],[jr.parcerName,jr.create]]),t.border_list=new Map([[Rr.parcerName,Rr.create],[Fr.parcerName,Fr.create],[Lr.parcerName,Lr.create]]),t}(),mi=function(){function t(){this.serial=0,this.script="",this.processed=!1}return t.prototype.clear=function(){this.compressor&&this.compressor.destroy(),this.compressor=null,this.texture=null,this.processed=!1},t}(),di=function(){function t(t){this.m_script="",this.m_process_serial=0,this.m_view_serial=0,this.m_image_serial=0,this.m_process=null,this.m_parcer_list=null,this.m_mix_log_parcer_list=null,this.m_view_list=new Array,this.m_context=new d(t),this.m_preParcer=new _}return t.prototype.context=function(){return this.m_context},t.prototype.get_gl=function(){return this.m_context.context()},t.prototype.create_view=function(t){var e=new mi;return e.script=t,e.serial=++this.m_view_serial,(this.m_view_list[this.m_view_list.length]=e).serial},t.prototype.get_view_texture=function(t){var r=this.get_view_by_number(t);if(!r)return e.ViewInvalidSerial;if(!r.processed){var i=this.process_view(t);if(e.ProcessingSuccess!=i)return i}return this.load_view(r)},t.prototype.load_view=function(t,r){if(!t.processed)return e.InnerError;if(t.compressor,!t.texture)return e.InnerError;if(r){var i=this.m_process.size();return this.m_context.texture_to_texture(r,t.texture,this.get_frame_buffer(),i.width,i.height)?r:e.OpenGLError}return t.texture},t.prototype.set_image=function(t,e,r,i,n,o){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o=!0),(!t||e<=0||r<=0)&&(e=r=0,o&&t&&(this.m_context.delete_texture(t),t=null)),this.clear_view_list(),i||(this.m_view_list.length=0),this.m_process&&(this.m_process.destroy(),this.m_process=null),t&&(++this.m_image_serial,this.m_process_serial=0,this.m_process=new m(t,e,r,!n,o,this))},t.prototype.process_view=function(t){var r=this.get_view_by_number(t);if(!r)return e.ViewInvalidSerial;if(r.processed)return e.ProcessingSuccess;this.m_script=r.script;var i=this.process_image();return e.ProcessingSuccess!=i?i:this.m_process?(r.texture=this.m_process.get_result(),r.processed=!0,r.texture?e.ProcessingSuccess:e.InnerError):e.InnerError},t.prototype.process_image=function(){if(!this.m_process)return e.LoadSourceImageFailed;this.m_context.context().getError(),this.m_context.context().disable(this.m_context.context().BLEND),this.m_context.context().bindBuffer(this.m_context.context().ARRAY_BUFFER,null);try{this.process_image_template()}catch(t){return t}return this.m_context.context().finish(),this.m_context.context().getError(),e.ProcessingSuccess},t.prototype.process_image_template=function(){if(!this.m_process)throw"process image template";var t=this.m_process.size();++this.m_process_serial;var e,r=new dt(this.m_preParcer.parce(this.m_script)),i=new _t(r,this.m_process_serial);i.log_return(),i.log("Image serial number:"),i.log(this.m_image_serial),i.log_return(),i.log("Image size:"),i.log(t.width),i.log(t.height),i.log_return();var n=["layer",0],o=["start","swap","end",0];if(i.test_symbol("view")){var s=Math.floor(i.fetch_float()+.5),c=this.get_view_by_number(s);if(!c)throw i.error("Invalid view number",[s]),new Error("Invalid view number"+s);if(c.processed||i.error("View has not been processed",[s]),c.compressor&&!a(e=this.decompress_view(c)))throw Error(e);if(!a(e=this.load_view(c,this.m_process.prepare_empty())))throw Error(e);i.assume_semicolon()}else this.m_process.prepare();for(;!i.ended();){var l=i.lookup_symbol(n);switch(l){case 0:mt.LUV_MIX_LOG==i.m_mode&&i.error("can't use layer in mix log mode");var u=i.fetch_symbol(),h=i.lookup_symbol(o,!0);switch(h){case 0:this.m_process.new_channel(u);break;case 1:this.m_process.swap_channel(u);break;case 2:this.m_process.end_channel(u);break;default:throw Error("CGEScriptEngine::process_image_template")}break;default:var f=null;if(mt.SRGB==i.m_mode?(this.m_parcer_list||(this.m_parcer_list=new fi(this.m_context,fi.parcer_list)),f=this.m_parcer_list):mt.LUV_MIX_LOG==i.m_mode&&(this.m_mix_log_parcer_list||(this.m_mix_log_parcer_list=new fi(this.m_context,fi.mix_log_parcer_list)),f=this.m_mix_log_parcer_list),!f)throw"bad status mode";var m=new g(this.get_frame_buffer(),t.width,t.height);f.process(i,this.m_process,m)}i.assume_semicolon()}mt.LUV_MIX_LOG==i.m_mode&&i.error('use "toneMapEnd;" command before script end'),i.log("process success ! \n");var d=i.get_log();this.m_context.on_log(d)},t.prototype.get_frame_buffer=function(){return this.m_frame_buffer||(this.m_frame_buffer=this.m_context.context().createFramebuffer()),this.m_frame_buffer},t.prototype.get_view_by_number=function(t){var e=this,r=null;return this.find_view(t,function(t){r=e.m_view_list[t]}),r},t.prototype.get_max_pool_size=function(){return 3},t.prototype.create_new_texture=function(t,e,r){return this.m_context.create_new_texture(t,e,r)},t.prototype.copy_texture=function(t,e,r,i){this.m_context.copy_texture(t,e,r,i,this.get_frame_buffer())},t.prototype.set_lock_unlock_function=function(t,e){void 0===e&&(e=null),this.m_context.m_func_lock_image=t,this.m_context.m_func_unlock_image=e},t.prototype.get_src=function(){if(this.m_process)return this.m_process.get_src();throw new Error("process uninit")},t.prototype.fetch_view_texture=function(t){var r=this.get_view_by_number(t);if(!r)return e.ViewInvalidSerial;if(!r.processed){var i=this.process_view(t);return a(i)?(i=r.texture,r.clear(),i):e.ViewInvalidSerial}var n=this.load_view(r);return r.clear(),n},t.prototype.destroy_view=function(t){var e=this;this.find_view(t,function(t){var r=e.m_view_list[t];r.texture&&(e.m_process?e.m_process.put_tmp_image(r.texture):e.m_context.context().delete_texture(1,r.texture),r.compressor&&r.compressor.decompress_image_then_release(0,0),e.m_view_list.splice(t,1))})},t.prototype.get_image_size=function(){return this.m_process?this.m_process.size():{width:0,height:0}},t.prototype.clean=function(){this.m_parcer_list&&this.m_parcer_list.destroy(),this.m_parcer_list=null,this.m_mix_log_parcer_list&&this.m_mix_log_parcer_list.destroy(),this.m_mix_log_parcer_list=null},t.prototype.find_view=function(t,e){for(var r=0;r<this.m_view_list.length;++r)if(t==this.m_view_list[r].serial)return e(r),!0;return!1},t.prototype.decompress_view=function(t){if(t.texture||!this.m_process)return e.InnerError;t.texture=this.m_process.fetch_tmp_image();var r=t.compressor;return t.compressor=null,r.decompress_image_then_release(t.texture)?e.ProcessingSuccess:(this.m_process.put_tmp_image(t.texture),t.texture=null,t.processed=!1,e.OtherError)},t.prototype.clear_view_list=function(){var t=this;this.m_view_list.map(function(e){e.texture&&t.m_context.delete_texture(e.texture),e.compressor,e.texture=null,e.processed=!1})},t}(),pi=function(){function t(t){this.script=" ",this.view=0,this.engine=t}return t.prototype.destroy=function(){this.script="",this.view&&(this.engine.destroy_view(this.view),this.view=0)},t}(),_i=function(t,e){this.m_lock=!1,this.m_name=t,this.m_image=e},gi=function(){function t(t){this.m_model="",this.m_index=0,this.m_queue=new Array,this.m_firstStep=0,this.m_firstStepScript=new Array,this.m_wrapper=t}return t.prototype.destroy=function(){var t=this;"reshape"==this.m_model&&this.m_queue.forEach(function(e){t.m_wrapper.m_painter_engine.destroy_view(e.maskView)}),"blemish"!=this.m_model&&"redEyeRemove"!=this.m_model||this.m_firstStep&&this.m_wrapper.m_small_engine.destroy_view(this.m_firstStep),this.m_model="",this.m_index=0,this.m_queue=new Array},t.prototype.clone=function(){var e=new t(this.m_wrapper);return e.m_model=this.m_model,e.m_index=this.m_index,e.m_queue=this.m_queue.map(function(t){return Object.assign({},t)}),e},t}(),vi=function(){function t(t,e,r){void 0===e&&(e=100),this.m_small_canvas=null,this.m_clone_baisc_layer=0,this.m_resourceCache={},this.m_texture_pool=new Array,this.m_special_tex_pool=new Array,this.m_clone_history=new Array,this.m_matting_painter_view=0,this.m_magic_view=0,this.m_last_rotation_view=0,this.m_last_view=0,this.m_last_small_view=0,this.m_clone_cache=0,this.m_small=0,this.m_step=0,this.m_ratio=0,this.m_lastRenderId=0,this.m_canDrawimage=!0,this.m_painter_view={view:0,lock:!1},this.m_reshape_view=0,this.m_blemishFix_view=0,this.m_redEyeRemove_view=0,this.m_matting_blur=0,this.m_matting_crop=!1,this.m_reshapeStress=0,this.m_reshapeWidth=0,this.m_reshapeHeight=0,this.m_reshapeTrans=null,this.m_rotationWidth=0,this.m_rotationHeight=0,this.m_rotationState=new Array,this.m_last_rotation_handle="",this.m_cloneWidth=0,this.m_cloneHight=0,this.m_opacity=0,this.m_paintWidth=0,this.m_paintHight=0,this.m_bOpacity=0,this.m_paintTrans=null,this.m_polaroidWidth=0,this.m_polaroidHeight=0,this.m_polaroidCaptation=0,this.m_testwidth=0,this.m_testheight=0,this.m_test_callback=function(){},this.m_canvas=t,this.m_historyLength=e,this.m_publicPath=r,this.m_engine=new di(this.m_canvas._.gl),this.m_small_engine=new di(this.m_canvas._.gl),this.m_painter_engine=new di(this.m_canvas._.gl),this.m_special_engine=new di(this.m_canvas._.gl),this.m_handler_queue=new gi(this),this.m_basic_layer=new pi(this.m_engine),this.m_effect_layer=new pi(this.m_engine)}return t.check_CRM=function(t){return a(t)},t.prototype.set_image=function(t,e,r,i,n,o,s){var a=this;void 0===i&&(i=5e3),n&&(this.m_step=n);var c,l=e||t.width,u=r||t.height,h=0,f=0,m=Math.max(l,u);i<m?m==l?f=(h=i)*(u/l):h=(f=i)*(l/u):(f=u,h=l),f=Math.floor(f+.5),h=Math.floor(h+.5),this.m_ratio=h/l,t.name&&"engineTexture"==t.name?(c=this.m_engine.create_new_texture(l,u,!0),this.m_engine.copy_texture(c,t.texture,l,u)):(this.m_texture_for_canvas=this.m_canvas.texture(t),c=this.m_texture_for_canvas._.id),this.m_engine.set_image(c,l,u),this.m_small_engine.set_image(this.m_small_engine.create_new_texture(h,f,!0),h,f),this.m_small_engine.set_lock_unlock_function(function(t,e){return a.special_lock(t)});var d=this.m_small_engine.fetch_view_texture(this.m_small_engine.create_view("basicAdjust justDraw;"));if(this.m_small_engine.set_image(d,h,f),this.inner_clean(),o||this.apply_to_canvas(c,l,u),s){var p=this.m_engine.create_new_texture(l,u,!0);this.m_engine.copy_texture(p,c,l,u);var _=this.create_engine_texture(p,l,u,new gi(this));this.m_texture_pool.push(_)}},t.prototype.get_small_canvas=function(t,e){if(this.m_small_canvas||(this.m_small_canvas=document.createElement("canvas"),this.m_small_canvas.width=t,this.m_small_canvas.height=e),this.m_canvas.get_small_canvas_different()){var r=this.m_small_canvas.getContext("2d");r&&(r.clearRect(0,0,this.m_small_canvas.width,this.m_small_canvas.height),r.drawImage(this.m_canvas,0,0,this.m_small_canvas.width,this.m_small_canvas.height),this.m_canvas.set_small_canvas_noDiferent())}return this.m_small_canvas},t.prototype.get_canvas_image_v2=function(){var t=this.m_engine.get_gl();t.bindFramebuffer(t.FRAMEBUFFER,null);var e=document.createElement("canvas");e.width=this.m_canvas.width,e.height=this.m_canvas.height;var r=e.getContext("2d");if(!r)return e;var i=r.createImageData(e.width,e.height),n=e.width*e.height*4,o=new Uint8Array(n);t.readPixels(0,0,e.width,e.height,t.RGBA,t.UNSIGNED_BYTE,o);var s=t.getError();if(s)return e;for(var a=0,c=e.height-1;0<c;--c)for(var l=0;l<4*e.width;++l)i.data[a]=o[c*e.width*4+l],++a;return r.putImageData(i,0,0),e},t.prototype.set_canDrawImage=function(t){this.m_canDrawimage=t},t.prototype.get_canvas=function(){return this.m_canDrawimage?this.m_canvas:this.get_canvas_image_v2()},t.prototype.get_image_size=function(){return this.m_engine.get_image_size()},t.prototype.process_rule=function(t,e){this.m_last_small_view&&this.m_small_engine.destroy_view(this.m_last_small_view),this.m_last_small_view=this.m_small_engine.create_view(t);var r=this.m_small_engine.get_view_texture(this.m_last_small_view);a(r);var i=this.m_small_engine.get_image_size();e?this.apply_to_canvas(r,i.width,i.height):this.draw_to_canvas(r,i.width,i.height),this.m_interval_record&&this.m_interval_record.model,""!=t&&(this.m_interval_record={model:"rule",script:t})},t.prototype.destroy_view=function(t){this.m_engine.destroy_view(t)},t.prototype.get_view_texture=function(t){return this.m_engine.get_view_texture(t)},t.prototype.clean=function(){this.inner_clean(),this.m_handler_queue.destroy(),this.m_handler_queue=new gi(this),this.m_clone_history=[],this.m_painter_engine.clean(),this.m_painter_view={view:0,lock:!1},this.m_reshape_view=0,this.m_interval_record=null,this.m_matting_blur=0,this.m_matting_crop=!1;var t=this.m_engine.get_image_size(),e=this.m_engine.get_src();this.apply_to_canvas(e,t.width,t.height)},t.prototype.process_blemish=function(t,e,r){var i,n,o,s=this.m_small_engine.get_image_size();o=e?(i=t.x*s.width,n=t.y*s.height,t.radius*s.width):(i=Math.floor(t.x)*this.m_ratio,n=Math.floor(t.y)*this.m_ratio,Math.floor(t.radius)*this.m_ratio);var c=this.m_blemishFix_view,l=c?"view %1;".replace(/%1/,c.toString()):"";l+="basicAdjust blemishFix point %x %y radius %r;".replace(/%x/,i.toString()).replace(/%y/,n.toString()).replace(/%r/,o.toString()),this.m_blemishFix_view=this.m_small_engine.create_view(l);var u=this.m_small_engine.get_view_texture(this.m_blemishFix_view);this.m_small_engine.destroy_view(c),a(u),this.draw_to_canvas(u,s.width,s.height,r||function(){}),this.m_interval_record||(this.m_interval_record={model:"blemish",points:{x:i,y:n},radius:o})},t.prototype.process_redEyeRemove=function(t,e,r){var i=this.m_small_engine.get_image_size(),n=e?Math.floor(t.x*i.width):Math.floor(t.x),o=e?Math.floor(t.y*i.height):Math.floor(t.y),s=e?Math.floor(t.radius*i.width):Math.floor(t.radius),c=this.m_redEyeRemove_view,l=c?"view %1;".replace(/%1/,c.toString()):"";l+="basicAdjust redeyeRemove realPosition %x %y %r 3;".replace(/%x/,n.toString()).replace(/%y/,o.toString()).replace(/%r/,s.toString()),this.m_redEyeRemove_view=this.m_small_engine.create_view(l);var u=this.m_small_engine.get_view_texture(this.m_redEyeRemove_view);this.m_small_engine.destroy_view(c),a(u),this.draw_to_canvas(u,i.width,i.height,r||function(){}),this.m_interval_record={model:"redEyeRemove",point_obj:{x:n,y:o,radius:s}}},t.prototype.process_reshape=function(t,e,r){this.painter_size_change(),this.m_interval_record||(this.m_interval_record={model:"reshape",maskView:0,stress:0});var i=this.m_small_engine.get_image_size(),n=null,o={min:[],max:[],points:[]};if(t&&2<=t.points.length){var s=this.m_reshape_view,c=this.paint_reshape(t,o,r);n={min:o.min,max:o.max};var l=void 0;l=s?"view %1;".replace(/%1/,this.m_reshape_view.toString()):"basicAdjust dark;",l+=c,this.m_reshape_view=this.m_painter_engine.create_view(l),this.m_painter_engine.process_view(this.m_reshape_view),this.m_painter_engine.destroy_view(s)}var u=this.m_painter_engine.get_view_texture(this.m_reshape_view);return this.m_interval_record.stress=e,this.m_interval_record.maskView=this.m_reshape_view,this.m_reshape_view&&a(u)?void this.draw_reshape_to_canvas(this.m_small_engine.get_src(),u,e,i.width,i.height,n):null},t.prototype.render_source=function(t){var e,r;e=t?(r=this.m_small_engine.get_image_size(),this.m_small_engine.get_src()):(r=this.m_engine.get_image_size(),this.m_engine.get_src()),this.apply_to_canvas(e,r.width,r.height)},t.prototype.render_preview=function(t){var e=this.m_small_engine.get_image_size();if("basicRotate"===t&&this.m_rotationTex)this.draw_rotation_to_canvas(this.m_rotationTex,e.width,e.height);else{var r=this.m_small_engine.get_src();this.draw_to_canvas(r,e.width,e.height)}},t.prototype.texture_to_image=function(t,e){var r=this.m_engine.get_gl(),i=this.m_engine.get_frame_buffer();r.bindFramebuffer(r.FRAMEBUFFER,i),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0);var n=t.getContext("2d");if(!n)return!1;var o=n.createImageData(t.width,t.height),s=t.width*t.height*4,a=new Uint8Array(s);if(r.readPixels(0,0,t.width,t.height,r.RGBA,r.UNSIGNED_BYTE,a),r.getError())return!1;for(var c=0;c<s;c++)o.data[c]=a[c];return n.putImageData(o,0,0),t.toDataURL()},t.prototype.process_commond=function(t,e,r,i,n){void 0===n&&(n=!1);var s=[],a=[],c=t,l=c.substr(0),u=l.match(/\S+/g),h=0;if(u&&u.length)for(var f=0;f<u.length;f++)if(0<=u[f].indexOf(".jpg")||0<=u[f].indexOf(".jpeg")||0<=u[f].indexOf(".png")){if(this.m_engine.get_image_size().width<this.m_small){h=l.indexOf(u[f],h+1),s.push({index:h,small:!0}),a.push(u[f].substring(1,u[f].length-1));continue}s.push({index:h,small:!1}),a.push(u[f].substring(1,u[f].length-1))}(a=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t}(new Set(a))).length||this._process_effect(l,e,r,n,i),this.loadTextures(a,l,e,r,i,n,s)},t.prototype.refresh_clone=function(t){var e={x:0,y:0,dx:0,dy:0};e.x=t.x/this.m_ratio,e.y=t.y/this.m_ratio,e.dy=t.dy/this.m_ratio,e.dx=t.dx/this.m_ratio,this.m_clone_history.push({model:"refresh",points:e}),this._refresh_clone(t,"s")},t.prototype.process_clone_painter=function(t,e,r){"painter"==this.m_clone_history[this.m_clone_history.length-1].model?t&&this.m_clone_history[this.m_clone_history.length-1].point_obj?this.m_clone_history[this.m_clone_history.length-1].point_obj.points=this.m_clone_history[this.m_clone_history.length-1].point_obj.points.concat(t.points):this.m_clone_history[this.m_clone_history.length-1].opacity=e:this.m_clone_history.push({model:"painter",point_obj:t?{opacity:t.opacity,size:t.size,points:t.points,model:t.model}:null,opacity:e,relative:r}),this._process_clone_painter(t,e,r,"s")},t.prototype.redo=function(){var t=this;if(this.m_handler_queue.m_index!=this.m_handler_queue.m_queue.length){this.m_handler_queue.m_index+=1;var e=this.m_small_engine.get_image_size();if("reshape"==this.m_handler_queue.m_model){var r=this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].stress,i=this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].maskView;this.m_reshape_view&&this.m_painter_engine.destroy_view(this.m_reshape_view),this.m_reshape_view=this.m_painter_engine.create_view("view "+i.toString()+";"),this.m_painter_engine.process_view(this.m_reshape_view),this.draw_reshape_to_canvas(this.m_small_engine.get_src(),this.m_painter_engine.get_view_texture(i),r,e.width,e.height,null,!0)}if("blurPainter"==this.m_handler_queue.m_model){if(this.m_painter_view.view&&(this.m_painter_engine.destroy_view(this.m_painter_view.view),this.m_painter_view.view=0),!this.m_painter_view.view){this.painter_size_change();for(var n=0,o=0;o<=this.m_handler_queue.m_index-1;++o)if(this.m_handler_queue.m_queue[o].points){var s={};s.opacity=this.m_handler_queue.m_queue[o].opacity,s.size=this.m_handler_queue.m_queue[o].radius,s.points=this.m_handler_queue.m_queue[o].points,s.model=this.m_handler_queue.m_queue[o].pmodel;var c=n?"view "+n.toString()+";"+this.paint_alpha(s):"basicAdjust alphaInit intensity 0;"+this.paint_alpha(s);this.m_painter_view.view=this.m_painter_engine.create_view(c),this.m_painter_engine.process_view(this.m_painter_view.view),n&&this.m_painter_engine.destroy_view(n),n=this.m_painter_view.view}}this.m_small_engine.set_lock_unlock_function(function(e,r){if("painter"==r){var i=t.m_painter_engine.get_view_texture(t.m_painter_view.view);if(t.m_painter_view.lock=!0,!a(i))throw new Error("cannot find the painter cache");return i}if("reshape"!=r)return t.m_resourceCache[e].m_lock=!0,t.m_resourceCache[e].m_image;var n=t.m_painter_engine.get_view_texture(t.m_reshape_view);if(!a(n))throw new Error("cannot find the reshape cache");return n},function(e,r,i){"painter"!=i?t.m_resourceCache[e].m_lock=!1:t.m_painter_view.lock=!1}),this.m_basic_layer.script!=this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].basic_layer&&(this.m_basic_layer.destroy(),this.m_basic_layer.script=this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].basic_layer,this.m_basic_layer.view=this.m_small_engine.create_view(this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].basic_layer),this.m_small_engine.process_view(this.m_basic_layer.view)),this.m_last_small_view&&this.m_small_engine.destroy_view(this.m_last_small_view),this.m_last_small_view=this.m_small_engine.create_view((this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].top_layer?this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].top_layer:"")+"blend view %2 opacity cache alpha %3;".replace(/%2/,this.m_basic_layer.view.toString()).replace(/%3/,this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].bOpacity));var l=this.m_small_engine.get_view_texture(this.m_last_small_view);a(l);var u=this.m_small_engine.get_image_size();this.apply_to_canvas(l,u.width,u.height)}if("magic"==this.m_handler_queue.m_model&&(this.m_magic_view&&(this.m_small_engine.destroy_view(this.m_magic_view),this.m_magic_view=0),this.m_handler_queue.m_queue[this.m_handler_queue.m_index-2]&&this.m_handler_queue.m_queue[this.m_handler_queue.m_index-2].maskView&&(this.m_magic_view=this.m_small_engine.create_view("view "+this.m_handler_queue.m_queue[this.m_handler_queue.m_index-2].maskView+";"),this.m_small_engine.process_view(this.m_magic_view)),this._process_magic_painter_rule(this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1],!1,function(){}),this.m_interval_record=0,this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].maskView=this.m_small_engine.create_view("view "+this.m_magic_view+";"),this.m_small_engine.process_view(this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].maskView)),"blemish"==this.m_handler_queue.m_model){c=this.m_handler_queue.m_firstStep?"view "+this.m_handler_queue.m_firstStep.toString()+";":"";c+="basicAdjust blemishFix";for(o=0;o<=this.m_handler_queue.m_index-1;++o){var h=this.m_handler_queue.m_queue[o].points.x,f=this.m_handler_queue.m_queue[o].points.y,m=this.m_handler_queue.m_queue[o].radius;c+=" point %x %y radius %r".replace(/%x/,h.toString()).replace(/%y/,f.toString()).replace(/%r/,m.toString())}c+=";",this.m_small_engine.set_lock_unlock_function(function(e,r){if("painter"==r){var i=t.m_painter_engine.get_view_texture(t.m_painter_view.view);if(t.m_painter_view.lock=!0,!a(i))throw new Error("cannot find the painter cache");return i}if("reshape"!=r)return t.m_resourceCache[e].m_lock=!0,t.m_resourceCache[e].m_image;var n=t.m_painter_engine.get_view_texture(t.m_reshape_view);if(!a(n))throw new Error("cannot find the reshape cache");return n},function(e,r,i){"painter"!=i?t.m_resourceCache[e].m_lock=!1:t.m_painter_view.lock=!1}),this.m_blemishFix_view&&this.m_small_engine.destroy_view(this.m_blemishFix_view),this.m_blemishFix_view=this.m_small_engine.create_view(c);l=this.m_small_engine.get_view_texture(this.m_blemishFix_view);a(l);var d=this.m_small_engine.get_image_size();this.apply_to_canvas(l,d.width,d.height)}if("redEyeRemove"==this.m_handler_queue.m_model){for(c=this.m_handler_queue.m_firstStep?"view "+this.m_handler_queue.m_firstStep.toString()+";":"",o=0;o<=this.m_handler_queue.m_index-1;++o){h=this.m_handler_queue.m_queue[o].point_obj.x,f=this.m_handler_queue.m_queue[o].point_obj.y,m=this.m_handler_queue.m_queue[o].point_obj.radius;c+="basicAdjust redeyeRemove realPosition %x %y %r 3;".replace(/%x/,h.toString()).replace(/%y/,f.toString()).replace(/%r/,m.toString())}this.m_small_engine.set_lock_unlock_function(function(e,r){if("painter"==r){var i=t.m_painter_engine.get_view_texture(t.m_painter_view.view);if(t.m_painter_view.lock=!0,!a(i))throw new Error("cannot find the painter cache");return i}if("reshape"!=r)return t.m_resourceCache[e].m_lock=!0,t.m_resourceCache[e].m_image;var n=t.m_painter_engine.get_view_texture(t.m_reshape_view);if(!a(n))throw new Error("cannot find the reshape cache");return n},function(e,r,i){"painter"!=i?t.m_resourceCache[e].m_lock=!1:t.m_painter_view.lock=!1}),this.m_redEyeRemove_view&&(this.m_small_engine.destroy_view(this.m_redEyeRemove_view),this.m_redEyeRemove_view=0),this.m_redEyeRemove_view=this.m_small_engine.create_view(c);l=this.m_small_engine.get_view_texture(this.m_redEyeRemove_view);a(l);var p=this.m_small_engine.get_image_size();this.apply_to_canvas(l,p.width,p.height)}if("rotation"==this.m_handler_queue.m_model){this.m_last_rotation_view&&(this.m_small_engine.destroy_view(this.m_last_rotation_view),this.m_last_rotation_view=0);for(c="",l=void 0,o=0;o<this.m_handler_queue.m_index;++o)this.m_handler_queue.m_queue[o].script.match("basicAdjust")&&(c=this.m_handler_queue.m_queue[o].script);a(l=c?(this.m_last_rotation_view=this.m_small_engine.create_view(c),this.m_small_engine.get_view_texture(this.m_small_engine.create_view(c))):this.m_small_engine.get_src());var _=this.m_small_engine.get_image_size();this.draw_rotation_to_canvas(l,_.width,_.height)}if("rule"==this.m_handler_queue.m_model){this.m_small_engine.set_lock_unlock_function(function(e,r){if(r){var i=t.m_painter_engine.get_view_texture(t.m_painter_view.view);if(t.m_painter_view.lock=!0,!a(i))throw new Error("cannot find the painter cache");return i}return t.m_resourceCache[e].m_lock=!0,t.m_resourceCache[e].m_image},function(e,r,i){t.m_resourceCache[e].m_lock=!1,t.m_painter_view.lock=!1}),this.m_last_small_view&&this.m_small_engine.destroy_view(this.m_last_small_view),this.m_last_small_view=this.m_small_engine.create_view(this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].script);l=this.m_small_engine.get_view_texture(this.m_last_small_view);a(l);var g=this.m_small_engine.get_image_size();this.apply_to_canvas(l,g.width,g.height)}if("crop"==this.m_handler_queue.m_model){this.m_small_engine.set_lock_unlock_function(function(e,r){if(r){var i=t.m_painter_engine.get_view_texture(t.m_painter_view.view);if(t.m_painter_view.lock=!0,!a(i))throw new Error("cannot find the painter cache");return i}return t.m_resourceCache[e].m_lock=!0,t.m_resourceCache[e].m_image},function(e,r,i){t.m_resourceCache[e].m_lock=!1,t.m_painter_view.lock=!1});var v=this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].pos,y=this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].size;this.process_crop(v,y)}}},t.prototype.undo=function(){var t=this;if(this.m_handler_queue.m_index&&(this.m_handler_queue.m_index-=1,this.m_handler_queue.m_queue.length)){var e=this.m_small_engine.get_image_size();if(this.m_handler_queue.m_index){if("reshape"==this.m_handler_queue.m_model){var r=this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].stress,i=this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].maskView;this.m_reshape_view&&this.m_painter_engine.destroy_view(this.m_reshape_view),this.m_reshape_view=this.m_painter_engine.create_view("view "+i.toString()+";"),this.m_painter_engine.process_view(this.m_reshape_view),this.draw_reshape_to_canvas(this.m_small_engine.get_src(),this.m_painter_engine.get_view_texture(i),r,e.width,e.height,null,!0)}if("blurPainter"==this.m_handler_queue.m_model){this.m_painter_view.view&&(this.m_painter_engine.destroy_view(this.m_painter_view.view),this.m_painter_view.view=0),this.painter_size_change();for(var n=0,o=0;o<=this.m_handler_queue.m_index-1;++o)if(this.m_handler_queue.m_queue[o].points){var s={};s.opacity=this.m_handler_queue.m_queue[o].opacity,s.size=this.m_handler_queue.m_queue[o].radius,s.points=this.m_handler_queue.m_queue[o].points,s.model=this.m_handler_queue.m_queue[o].pmodel;var c=n?"view "+n.toString()+";"+this.paint_alpha(s):"basicAdjust alphaInit intensity 0;"+this.paint_alpha(s);this.m_painter_view.view=this.m_painter_engine.create_view(c),this.m_painter_engine.process_view(this.m_painter_view.view),n&&this.m_painter_engine.destroy_view(n),n=this.m_painter_view.view}this.m_small_engine.set_lock_unlock_function(function(e,r){if("painter"==r){var i=t.m_painter_engine.get_view_texture(t.m_painter_view.view);if(t.m_painter_view.lock=!0,!a(i))throw new Error("cannot find the painter cache");return i}if("reshape"!=r)return t.m_resourceCache[e].m_lock=!0,t.m_resourceCache[e].m_image;var n=t.m_painter_engine.get_view_texture(t.m_reshape_view);if(!a(n))throw new Error("cannot find the reshape cache");return n},function(e,r,i){"painter"!=i?t.m_resourceCache[e].m_lock=!1:t.m_painter_view.lock=!1}),this.m_basic_layer.script!=this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].basic_layer&&(this.m_basic_layer.destroy(),this.m_basic_layer.script=this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].basic_layer,this.m_basic_layer.view=this.m_small_engine.create_view(this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].basic_layer),this.m_small_engine.process_view(this.m_basic_layer.view)),this.m_last_small_view&&this.m_small_engine.destroy_view(this.m_last_small_view),this.m_last_small_view=this.m_small_engine.create_view((this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].top_layer?this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].top_layer:"")+"blend view %2 opacity cache alpha %3;".replace(/%2/,this.m_basic_layer.view.toString()).replace(/%3/,this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].bOpacity));var l=this.m_small_engine.get_view_texture(this.m_last_small_view);a(l);var u=this.m_small_engine.get_image_size();this.apply_to_canvas(l,u.width,u.height)}if("magic"==this.m_handler_queue.m_model){this.m_magic_view&&this.m_small_engine.destroy_view(this.m_magic_view),this.m_magic_view=this.m_small_engine.create_view("view "+this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].maskView+";"),this.m_small_engine.process_view(this.m_magic_view),this.m_handler_queue.m_queue[this.m_handler_queue.m_index]&&this.m_handler_queue.m_queue[this.m_handler_queue.m_index].maskView&&(this.m_small_engine.destroy_view(this.m_handler_queue.m_queue[this.m_handler_queue.m_index].maskView),this.m_handler_queue.m_queue[this.m_handler_queue.m_index].maskView=0),this.m_resourceCache.magic=new _i("magic",this.m_small_engine.fetch_view_texture(this.m_small_engine.create_view("view "+this.m_magic_view+";"))),this.m_small_engine.set_lock_unlock_function(function(e,r){if(r){var i=t.m_painter_engine.get_view_texture(t.m_painter_view.view);if(t.m_painter_view.lock=!0,!a(i))throw new Error("cannot find the painter cache");return i}return t.m_resourceCache[e].m_lock=!0,t.m_resourceCache[e].m_image},function(e,r,i){t.m_resourceCache[e].m_lock=!1,t.m_painter_view.lock=!1}),this.m_last_view&&this.m_engine.destroy_view(this.m_last_view),this.m_last_view=this.m_engine.create_view("blend texture file 'magic' align none "+this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].blendModel+" "+this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].blendOpacity.toString()+";");l=this.m_engine.fetch_view_texture(this.m_last_view);a(l);var h=this.m_engine.get_image_size();this.apply_to_canvas(l,h.width,h.height)}if("blemish"==this.m_handler_queue.m_model){c=this.m_handler_queue.m_firstStep?"view "+this.m_handler_queue.m_firstStep.toString()+";":"";c+="basicAdjust blemishFix";for(o=0;o<=this.m_handler_queue.m_index-1;++o){var f=this.m_handler_queue.m_queue[o].points.x,m=this.m_handler_queue.m_queue[o].points.y,d=this.m_handler_queue.m_queue[o].radius;c+=" point %x %y radius %r".replace(/%x/,f.toString()).replace(/%y/,m.toString()).replace(/%r/,d.toString())}c+=";",this.m_small_engine.set_lock_unlock_function(function(e,r){if("painter"==r){var i=t.m_painter_engine.get_view_texture(t.m_painter_view.view);if(t.m_painter_view.lock=!0,!a(i))throw new Error("cannot find the painter cache");return i}if("reshape"!=r)return t.m_resourceCache[e].m_lock=!0,t.m_resourceCache[e].m_image;var n=t.m_painter_engine.get_view_texture(t.m_reshape_view);if(!a(n))throw new Error("cannot find the reshape cache");return n},function(e,r,i){"painter"!=i?t.m_resourceCache[e].m_lock=!1:t.m_painter_view.lock=!1}),this.m_blemishFix_view&&(this.m_small_engine.destroy_view(this.m_blemishFix_view),this.m_blemishFix_view=0),this.m_blemishFix_view=this.m_small_engine.create_view(c);l=this.m_small_engine.get_view_texture(this.m_blemishFix_view);a(l);var p=this.m_small_engine.get_image_size();this.apply_to_canvas(l,p.width,p.height)}if("redEyeRemove"==this.m_handler_queue.m_model){for(c=this.m_handler_queue.m_firstStep?"view "+this.m_handler_queue.m_firstStep.toString()+";":"",o=0;o<=this.m_handler_queue.m_index-1;++o){f=this.m_handler_queue.m_queue[o].point_obj.x,m=this.m_handler_queue.m_queue[o].point_obj.y,d=this.m_handler_queue.m_queue[o].point_obj.radius;c+="basicAdjust redeyeRemove realPosition %x %y %r 3;".replace(/%x/,f.toString()).replace(/%y/,m.toString()).replace(/%r/,d.toString())}this.m_small_engine.set_lock_unlock_function(function(e,r){if("painter"==r){var i=t.m_painter_engine.get_view_texture(t.m_painter_view.view);if(t.m_painter_view.lock=!0,!a(i))throw new Error("cannot find the painter cache");return i}if("reshape"!=r)return t.m_resourceCache[e].m_lock=!0,t.m_resourceCache[e].m_image;var n=t.m_painter_engine.get_view_texture(t.m_reshape_view);if(!a(n))throw new Error("cannot find the reshape cache");return n},function(e,r,i){"painter"!=i?t.m_resourceCache[e].m_lock=!1:t.m_painter_view.lock=!1}),this.m_redEyeRemove_view&&(this.m_small_engine.destroy_view(this.m_redEyeRemove_view),this.m_redEyeRemove_view=0),this.m_redEyeRemove_view=this.m_small_engine.create_view(c);l=this.m_small_engine.get_view_texture(this.m_redEyeRemove_view);a(l);var _=this.m_small_engine.get_image_size();this.apply_to_canvas(l,_.width,_.height)}if("rotation"==this.m_handler_queue.m_model){this.m_last_rotation_view&&(this.m_small_engine.destroy_view(this.m_last_rotation_view),this.m_last_rotation_view=0);for(c="",l=void 0,o=0;o<this.m_handler_queue.m_index;++o)this.m_handler_queue.m_queue[o].script.match("basicAdjust")&&(c=this.m_handler_queue.m_queue[o].script);a(l=c?(this.m_last_rotation_view=this.m_small_engine.create_view(c),this.m_small_engine.get_view_texture(this.m_small_engine.create_view(c))):this.m_small_engine.get_src());var g=this.m_small_engine.get_image_size();this.draw_rotation_to_canvas(l,g.width,g.height)}if("effectRule"==this.m_handler_queue.m_model){this.m_small_engine.set_lock_unlock_function(function(e,r){if(r){var i=t.m_painter_engine.get_view_texture(t.m_painter_view.view);if(t.m_painter_view.lock=!0,!a(i))throw new Error("cannot find the painter cache");return i}return t.m_resourceCache[e].m_lock=!0,t.m_resourceCache[e].m_image},function(e,r,i){t.m_resourceCache[e].m_lock=!1,t.m_painter_view.lock=!1}),this.m_last_small_view&&this.m_small_engine.destroy_view(this.m_last_small_view),this.m_last_small_view=this.m_small_engine.create_view(this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].script);l=this.m_small_engine.get_view_texture(this.m_last_small_view);a(l);var v=this.m_small_engine.get_image_size();this.apply_to_canvas(l,v.width,v.height)}if("rule"==this.m_handler_queue.m_model){this.m_small_engine.set_lock_unlock_function(function(e,r){if(r){var i=t.m_painter_engine.get_view_texture(t.m_painter_view.view);if(t.m_painter_view.lock=!0,!a(i))throw new Error("cannot find the painter cache");return i}return t.m_resourceCache[e].m_lock=!0,t.m_resourceCache[e].m_image},function(e,r,i){t.m_resourceCache[e].m_lock=!1,t.m_painter_view.lock=!1}),this.m_last_small_view&&this.m_small_engine.destroy_view(this.m_last_small_view),this.m_last_small_view=this.m_small_engine.create_view(this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].script);l=this.m_small_engine.get_view_texture(this.m_last_small_view);a(l);var y=this.m_small_engine.get_image_size();this.apply_to_canvas(l,y.width,y.height)}if("crop"==this.m_handler_queue.m_model){this.m_small_engine.set_lock_unlock_function(function(e,r){if(r){var i=t.m_painter_engine.get_view_texture(t.m_painter_view.view);if(t.m_painter_view.lock=!0,!a(i))throw new Error("cannot find the painter cache");return i}return t.m_resourceCache[e].m_lock=!0,t.m_resourceCache[e].m_image},function(e,r,i){t.m_resourceCache[e].m_lock=!1,t.m_painter_view.lock=!1});var b=this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].pos,x=this.m_handler_queue.m_queue[this.m_handler_queue.m_index-1].size;this.process_crop(b,x)}}else if(this.m_painter_view.view&&(this.m_painter_engine.destroy_view(this.m_painter_view.view),this.m_painter_view.view=0),this.m_reshape_view&&(this.m_painter_engine.destroy_view(this.m_reshape_view),this.m_reshape_view=0),this.m_last_rotation_view&&(this.m_small_engine.destroy_view(this.m_last_rotation_view),this.m_last_rotation_view=0),this.m_blemishFix_view&&(this.m_small_engine.destroy_view(this.m_blemishFix_view),this.m_blemishFix_view=0),this.m_redEyeRemove_view&&(this.m_small_engine.destroy_view(this.m_redEyeRemove_view),this.m_redEyeRemove_view=0),this.m_magic_view&&(this.m_small_engine.destroy_view(this.m_magic_view),this.m_magic_view=0),"magic"==this.m_handler_queue.m_model&&this.m_handler_queue.m_queue[this.m_handler_queue.m_index]&&this.m_handler_queue.m_queue[this.m_handler_queue.m_index].maskView&&(this.m_small_engine.destroy_view(this.m_handler_queue.m_queue[this.m_handler_queue.m_index].maskView),this.m_handler_queue.m_queue[this.m_handler_queue.m_index].maskView=0),"crop"==this.m_handler_queue.m_model)this.apply_to_canvas(this.m_engine.get_src(),this.m_engine.get_image_size().width,this.m_engine.get_image_size().height);else if("blurPainter"==this.m_handler_queue.m_model){this.m_last_small_view&&this.m_small_engine.destroy_view(this.m_last_small_view),this.m_last_small_view=this.m_small_engine.create_view("blurSharpen amount -100 radius 0.1;");l=this.m_small_engine.get_view_texture(this.m_last_small_view);a(l);var w=this.m_small_engine.get_image_size();this.apply_to_canvas(l,w.width,w.height)}else this.apply_to_canvas(this.m_small_engine.get_src(),e.width,e.height)}},t.prototype.destroy_texture=function(t){if("engineTexture"!=t.name)return!1;var e=this.m_engine.get_gl();return e.deleteTexture(t.texture),t.texture=0,t.handlerQueue.destroy(),!0},t.prototype.apply_history_to_original_image=function(t,e,r,i){var n=this;void 0===t&&(t=!1),void 0===e&&(e=!1);var o=this.m_handler_queue;r&&(o=r);var s=0,c={width:0,height:0};if((o.m_queue.length||this.m_clone_history.length)&&"crop"!=o.m_model||"crop"==o.m_model&&this.m_last_special_tex&&(s=this.m_last_special_tex,this.m_last_special_tex=0,c.width=o.m_queue[o.m_queue.length-1].size[0],c.height=o.m_queue[o.m_queue.length-1].size[1]),"matting"==o.m_model){this.m_engine.set_lock_unlock_function(function(t,e){if("painter"==e){var r=n.m_painter_engine.get_view_texture(n.m_painter_view.view);if(n.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}if("reshape"==e){var i=n.m_painter_engine.get_view_texture(n.m_reshape_view);if(!a(i))throw new Error("cannot find the reshape cache");return i}if("matting"!=e)return n.m_resourceCache[t].m_lock=!0,n.m_resourceCache[t].m_image;var o=n.m_small_engine.get_view_texture(n.m_matting_painter_view);if(!a(o))throw new Error("cannot find the matting cache");return o},function(t,e,r){"painter"!=r?n.m_resourceCache[t].m_lock=!1:n.m_painter_view.lock=!1}),this.m_last_view&&this.m_engine.destroy_view(this.m_last_view);for(var l=0,u=0,h=0;h<this.m_handler_queue.m_queue.length&&(1==this.m_handler_queue.m_queue[h].model2?l=1:2==this.m_handler_queue.m_queue[h].model2&&(u=1),!l||!u);++h);l&&u?(this.m_last_view=this.m_engine.create_view("imageMatting used cache sharpenTimes 4 esp 0.007 iteration 4 alpha;"),this.m_engine.process_view(this.m_last_view),this.m_engine.destroy_view(this.m_last_view),this.m_last_view=this.m_engine.create_view("imageMatting used "+this.m_matting_painter_view.toString()+" sharpenTimes 2 esp 0.01 iteration 4 blurResult amount -70 radius "+.001*this.m_matting_blur+";")):this.m_last_view=this.m_engine.create_view(" ");var f=this.m_engine.fetch_view_texture(this.m_last_view);a(f);var m=this.m_engine.get_image_size();if(!e)if(this.m_matting_crop){var d=this.autoCrop(f,m.width,m.height,this.m_engine.get_frame_buffer());i&&i(d.trans)}else this.apply_to_canvas(f,m.width,m.height)}if("painter"==o.m_model){if(!this.m_painter_view.view){this.painter_size_change();var p=0;for(h=0;h<=o.m_index-1;++h){var _={};_.opacity=o.m_queue[h].opacity,_.size=o.m_queue[h].radius,_.points=o.m_queue[h].points,_.model=o.m_queue[h].pmodel;var g=p?"view "+p.toString()+";"+this.paint_alpha(_):"basicAdjust alphaInit ;"+this.paint_alpha(_);this.m_painter_view.view=this.m_painter_engine.create_view(g),this.m_painter_engine.process_view(this.m_painter_view.view),p&&this.m_painter_engine.destroy_view(p),p=this.m_painter_view.view}}this.m_engine.set_lock_unlock_function(function(t,e){if("painter"==e){var r=n.m_painter_engine.get_view_texture(n.m_painter_view.view);if(n.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}if("reshape"!=e)return n.m_resourceCache[t].m_lock=!0,n.m_resourceCache[t].m_image;var i=n.m_painter_engine.get_view_texture(n.m_reshape_view);if(!a(i))throw new Error("cannot find the reshape cache");return i},function(t,e,r){"painter"!=r?n.m_resourceCache[t].m_lock=!1:n.m_painter_view.lock=!1});var v=this.m_engine.create_view(o.m_queue[o.m_index-1].basic_layer);this.m_engine.process_view(v),this.m_last_view&&this.m_engine.destroy_view(this.m_last_view),this.m_last_view=this.m_engine.create_view((o.m_queue[o.m_index-1].top_layer?o.m_queue[o.m_index-1].top_layer:"")+"blend view %2 opacity cache ;".replace(/%2/,v.toString()));f=this.m_engine.fetch_view_texture(this.m_last_view);this.m_engine.destroy_view(v),a(f);m=this.m_engine.get_image_size();e||this.apply_to_canvas(f,m.width,m.height),s=f,c.width=m.width,c.height=m.height}if("blurPainter"==o.m_model){if(!this.m_painter_view.view)return!1;this.m_engine.set_lock_unlock_function(function(t,e){if("painter"==e){var r=n.m_painter_engine.get_view_texture(n.m_painter_view.view);if(n.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}if("reshape"!=e)return n.m_resourceCache[t].m_lock=!0,n.m_resourceCache[t].m_image;var i=n.m_painter_engine.get_view_texture(n.m_reshape_view);if(!a(i))throw new Error("cannot find the reshape cache");return i},function(t,e,r){"painter"!=r?n.m_resourceCache[t].m_lock=!1:n.m_painter_view.lock=!1});v=this.m_engine.create_view(o.m_queue[o.m_index-1].basic_layer);this.m_engine.process_view(v),this.m_last_view&&this.m_engine.destroy_view(this.m_last_view),this.m_last_view=this.m_engine.create_view((o.m_queue[o.m_index-1].top_layer?o.m_queue[o.m_index-1].top_layer:"")+"blend view %2 opacity cache alpha %3;".replace(/%2/,v.toString()).replace(/%3/,o.m_queue[o.m_index-1].bOpacity));f=this.m_engine.fetch_view_texture(this.m_last_view);this.m_engine.destroy_view(v),a(f);m=this.m_engine.get_image_size();e||this.apply_to_canvas(f,m.width,m.height)}if("magic"==o.m_model){this.m_resourceCache.magic=new _i("magic",this.m_small_engine.fetch_view_texture(this.m_small_engine.create_view("view "+this.m_magic_view+";"))),this.m_engine.set_lock_unlock_function(function(t,e){if(e){var r=n.m_painter_engine.get_view_texture(n.m_painter_view.view);if(n.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}return n.m_resourceCache[t].m_lock=!0,n.m_resourceCache[t].m_image},function(t,e,r){n.m_resourceCache[t].m_lock=!1,n.m_painter_view.lock=!1}),this.m_last_view&&this.m_engine.destroy_view(this.m_last_view),this.m_last_view=this.m_engine.create_view("blend texture file 'magic' align none "+o.m_queue[o.m_index-1].blendModel+ +o.m_queue[o.m_index-1].blendOpacity.toString()+";");f=this.m_engine.fetch_view_texture(this.m_last_view);a(f);m=this.m_engine.get_image_size();e||this.apply_to_canvas(f,m.width,m.height),this.inner_clean()}if("reshape"==o.m_model){if(1==this.m_ratio)return this.inner_clean(),o.destroy(),o=new gi(this),this.m_interval_record=null,this.m_painter_engine.clean(),this.m_painter_view={view:0,lock:!1},this.m_reshape_view=0,!1;if(!this.m_reshape_view){var y=0;for(h=0;h<=o.m_index-1;++h){_=void 0;_.radius=o.m_queue[h].radius,_.points=o.m_queue[h].points;g=y?"view "+y.toString()+";"+this.paint_reshape(_):"basicAdjust dark;"+this.paint_reshape(_);this.m_reshape_view=this.m_painter_engine.create_view(g),this.m_painter_engine.process_view(this.m_reshape_view),y&&this.m_painter_engine.destroy_view(y),y=this.m_painter_view.view}}var b=o.m_queue[o.m_index-1].stress;m=this.m_engine.get_image_size();return this.draw_reshape_to_canvas(this.m_engine.get_src(),this.m_painter_engine.get_view_texture(this.m_reshape_view),b,m.width,m.height,null,!0),this.inner_clean(),o.destroy(),o=new gi(this),this.m_interval_record=null,this.m_painter_engine.clean(),this.m_painter_view={view:0,lock:!1},this.m_reshape_view=0,!1}if("effectRule"==o.m_model)if(this.m_engine.set_lock_unlock_function(function(t,e){if(e){var r=n.m_painter_engine.get_view_texture(n.m_painter_view.view);if(n.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}return n.m_resourceCache[t].m_lock=!0,n.m_resourceCache[t].m_image},function(t,e,r){n.m_resourceCache[t].m_lock=!1,n.m_painter_view.lock=!1}),"normal"==o.m_queue[o.m_index-1].eModel){if(1==this.m_ratio&&null==r){var x=this.m_small_engine.fetch_view_texture(this.m_last_small_view);if(a(x)&&(s=x),c.width=this.m_small_engine.get_image_size().width,c.height=this.m_small_engine.get_image_size().height,this.inner_clean(),this.m_interval_record=null,this.m_painter_engine.clean(),this.m_painter_view={view:0,lock:!1},this.m_reshape_view=0,s){var w=this.create_engine_texture(s,c.width,c.height,o);return this.m_texture_pool.push(w),t?(o.destroy(),o=new gi(this),w):(o.destroy(),o=new gi(this),this.destroy_texture(w),!1)}return o.destroy(),o=new gi(this),!1}this.m_last_view&&this.m_engine.destroy_view(this.m_last_view),this.m_last_view=this.m_engine.create_view(o.m_queue[o.m_index-1].script);f=this.m_engine.fetch_view_texture(this.m_last_view);a(f);m=this.m_engine.get_image_size();e||this.apply_to_canvas(f,m.width,m.height),s=f,c.width=m.width,c.height=m.height}else{if(1==this.m_ratio&&null==r){x=this.m_last_special_tex;this.m_last_special_tex=0,a(x)&&(s=x);var S=this.m_engine.get_image_size(),C=o.m_queue[o.m_index-1].thickness*S.width,T=S.width+2*C,E=S.height+2*C;if(c.width=T,c.height=E,this.inner_clean(),this.m_interval_record=null,this.m_painter_engine.clean(),this.m_painter_view={view:0,lock:!1},this.m_reshape_view=0,s){w=this.create_engine_texture(s,c.width,c.height,o);return this.m_texture_pool.push(w),t?(o.destroy(),o=new gi(this),w):(o.destroy(),o=new gi(this),this.destroy_texture(w),!1)}return o.destroy(),o=new gi(this),!1}var O=this.m_engine.get_image_size(),k=o.m_queue[o.m_index-1].thickness*O.width,A=O.width+2*k,M=O.height+2*k,P=this.m_special_engine.create_new_texture(A,M,!0);this.m_special_engine.set_image(P,A,M),this.m_special_engine.set_lock_unlock_function(function(t,e){return n.special_lock(t)},function(t,e){n.m_resourceCache[t].m_lock=!1});var D=this.m_special_engine.create_view(o.m_queue[o.m_index-1].script);f=this.m_special_engine.fetch_view_texture(D);this.m_last_special_tex&&(this.clean_special_border_GLTextures(this.m_last_special_tex),this.m_last_special_tex=0),e||this.apply_to_canvas(f,A,M),s=f,c.width=A,c.height=M,this.m_special_engine.clean()}if("rule"==o.m_model){if(1==this.m_ratio&&null==r){x=this.m_small_engine.fetch_view_texture(this.m_last_small_view);if(a(x)&&(s=x),c.width=this.m_small_engine.get_image_size().width,c.height=this.m_small_engine.get_image_size().height,this.inner_clean(),this.m_interval_record=null,this.m_painter_engine.clean(),this.m_painter_view={view:0,lock:!1},this.m_reshape_view=0,s){w=this.create_engine_texture(s,c.width,c.height,o);return this.m_texture_pool.push(w),t?(o.destroy(),o=new gi(this),w):(o.destroy(),o=new gi(this),this.destroy_texture(w),!1)}return o.destroy(),o=new gi(this),!1}this.m_engine.set_lock_unlock_function(function(t,e){if(e){var r=n.m_painter_engine.get_view_texture(n.m_painter_view.view);if(n.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}return n.m_resourceCache[t].m_lock=!0,n.m_resourceCache[t].m_image},function(t,e,r){n.m_resourceCache[t].m_lock=!1,n.m_painter_view.lock=!1}),this.m_last_view&&this.m_engine.destroy_view(this.m_last_view),this.m_last_view=this.m_engine.create_view(o.m_queue[o.m_index-1].script);f=this.m_engine.fetch_view_texture(this.m_last_view);a(f);m=this.m_engine.get_image_size();e||this.apply_to_canvas(f,m.width,m.height),s=f,c.width=m.width,c.height=m.height}if("rotation"==o.m_model){this.m_last_view&&this.m_engine.destroy_view(this.m_last_view);for(g="",f=void 0,h=0;h<o.m_index;++h)o.m_queue[h].script.match("basicAdjust")&&(g=o.m_queue[h].script);a(f=g?this.m_engine.get_view_texture(this.m_engine.create_view(g)):this.m_engine.get_src());m=this.m_engine.get_image_size();this.draw_rotation_to_canvas(f,m.width,m.height)}if("blemish"==o.m_model){if(1==this.m_ratio&&null==r){x=this.m_small_engine.fetch_view_texture(this.m_blemishFix_view);if(a(x)&&(s=x),c.width=this.m_small_engine.get_image_size().width,c.height=this.m_small_engine.get_image_size().height,this.inner_clean(),this.m_interval_record=null,this.m_painter_engine.clean(),this.m_painter_view={view:0,lock:!1},this.m_reshape_view=0,s){w=this.create_engine_texture(s,c.width,c.height,o);return this.m_texture_pool.push(w),t?(o.destroy(),o=new gi(this),w):(o.destroy(),o=new gi(this),this.destroy_texture(w),!1)}return o.destroy(),o=new gi(this),!1}g="basicAdjust blemishFix";var j=[];o.m_queue.splice(o.m_index),j=o.m_firstStepScript&&o.m_firstStepScript.length?o.m_firstStepScript.concat(o.m_queue):o.m_queue;for(h=0;h<=j.length-1;++h){var z=j[h].points.x/this.m_ratio,I=j[h].points.y/this.m_ratio,R=j[h].radius/this.m_ratio;g+=" point %x %y radius %r".replace(/%x/,z.toString()).replace(/%y/,I.toString()).replace(/%r/,R.toString())}g+=";",this.m_engine.set_lock_unlock_function(function(t,e){if("painter"==e){var r=n.m_painter_engine.get_view_texture(n.m_painter_view.view);if(n.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}if("reshape"!=e)return n.m_resourceCache[t].m_lock=!0,n.m_resourceCache[t].m_image;var i=n.m_painter_engine.get_view_texture(n.m_reshape_view);if(!a(i))throw new Error("cannot find the reshape cache");return i},function(t,e,r){"painter"!=r?n.m_resourceCache[t].m_lock=!1:n.m_painter_view.lock=!1}),this.m_last_view&&this.m_engine.destroy_view(this.m_last_view),this.m_last_view=this.m_engine.create_view(g);f=this.m_engine.fetch_view_texture(this.m_last_view);a(f);m=this.m_engine.get_image_size();e||this.apply_to_canvas(f,m.width,m.height),s=f,c.width=m.width,c.height=m.height}if("redEyeRemove"==o.m_model){if(1==this.m_ratio&&null==r){x=this.m_small_engine.fetch_view_texture(this.m_redEyeRemove_view);if(a(x)&&(s=x),c.width=this.m_small_engine.get_image_size().width,c.height=this.m_small_engine.get_image_size().height,this.inner_clean(),this.m_interval_record=null,this.m_painter_engine.clean(),this.m_painter_view={view:0,lock:!1},this.m_reshape_view=0,s){w=this.create_engine_texture(s,c.width,c.height,o);return this.m_texture_pool.push(w),t?(o.destroy(),o=new gi(this),w):(o.destroy(),o=new gi(this),this.destroy_texture(w),!1)}return o.destroy(),o=new gi(this),!1}g="";var F=[];o.m_queue.splice(o.m_index),F=o.m_firstStepScript&&o.m_firstStepScript.length?o.m_firstStepScript.concat(o.m_queue):o.m_queue;for(h=0;h<=F.length-1;++h){z=F[h].point_obj.x/this.m_ratio,I=F[h].point_obj.y/this.m_ratio,R=F[h].point_obj.radius/this.m_ratio;g+="basicAdjust redeyeRemove realPosition %x %y %r 3;".replace(/%x/,z.toString()).replace(/%y/,I.toString()).replace(/%r/,R.toString())}this.m_engine.set_lock_unlock_function(function(t,e){if("painter"==e){var r=n.m_painter_engine.get_view_texture(n.m_painter_view.view);if(n.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}if("reshape"!=e)return n.m_resourceCache[t].m_lock=!0,n.m_resourceCache[t].m_image;var i=n.m_painter_engine.get_view_texture(n.m_reshape_view);if(!a(i))throw new Error("cannot find the reshape cache");return i},function(t,e,r){"painter"!=r?n.m_resourceCache[t].m_lock=!1:n.m_painter_view.lock=!1}),this.m_last_view&&this.m_engine.destroy_view(this.m_last_view),this.m_last_view=this.m_engine.create_view(g);f=this.m_engine.fetch_view_texture(this.m_last_view);a(f);m=this.m_engine.get_image_size();e||this.apply_to_canvas(f,m.width,m.height),s=f,c.width=m.width,c.height=m.height}if("polaroid"==o.m_model){this.m_engine.set_lock_unlock_function(function(t,e){if(e){var r=n.m_painter_engine.get_view_texture(n.m_painter_view.view);if(n.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}return n.m_resourceCache[t].m_lock=!0,n.m_resourceCache[t].m_image},function(t,e,r){n.m_resourceCache[t].m_lock=!1,n.m_painter_view.lock=!1}),this.m_last_view&&this.m_engine.destroy_view(this.m_last_view),this.m_last_view=this.m_engine.create_view(o.m_queue[o.m_index-1].script);f=this.m_engine.get_view_texture(this.m_last_view);a(f);m=this.m_engine.get_image_size();m.height+=o.m_queue[o.m_index-1].captation*m.width,this.draw_polaroid_to_canvas(f,m.width,m.height,o.m_queue[o.m_index-1].color,o.m_queue[o.m_index-1].captation*m.width)}if(this.m_clone_history.length){if(1==this.m_ratio)return void(this.m_clone_history=[]);this.m_painter_view.view&&(this.m_painter_engine.destroy_view(this.m_painter_view.view),this.m_painter_view.view=0),this.m_clone_baisc_layer&&(this.m_small_engine.destroy_view(this.m_clone_baisc_layer),this.m_clone_baisc_layer=0),this.m_clone_cache&&(this.m_small_engine.destroy_view(this.m_clone_cache),this.m_clone_cache=0);f=void 0;var L=void 0;for(h=0;h<this.m_clone_history.length;++h)null!=this.m_clone_history[h].opacity&&(L=this.m_clone_history[h].opacity),"painter"==this.m_clone_history[h].model?f=this._process_clone_painter(this.m_clone_history[h].point_obj,this.m_clone_history[h].opacity,this.m_clone_history[h].relative,"b",!0):this._refresh_clone(this.m_clone_history[h].points,"b");m=this.m_engine.get_image_size();return this.paint_clone_to_canvas(this.m_engine.get_src(),f,m.width,m.height,L,!0),void(this.m_clone_history=[])}if(this.inner_clean(),this.m_interval_record=null,this.m_painter_engine.clean(),this.m_painter_view={view:0,lock:!1},this.m_reshape_view=0,s){w=this.create_engine_texture(s,c.width,c.height,o);return this.m_texture_pool.push(w),t?(o.destroy(),o=new gi(this),w):(o.destroy(),o=new gi(this),this.destroy_texture(w),!1)}return o.destroy(),o=new gi(this),!1},t.prototype.refresh_record=function(){if(this.m_interval_record){if("painter"==this.m_interval_record.model)return this.push_to_handler_queue(),void(this.m_interval_record=0);if("blurPainter"==this.m_interval_record.model)return this.push_to_handler_queue(),void(this.m_interval_record=0);if("magic"==this.m_interval_record.model)return this.push_to_handler_queue(),void(this.m_interval_record=0);if("blemish"==this.m_interval_record.model)return this.push_to_handler_queue(),void(this.m_interval_record=0);if("rule"==this.m_interval_record.model)return this.push_to_handler_queue(),void(this.m_interval_record=0);if("effectRule"==this.m_interval_record.model)return this.push_to_handler_queue(),void(this.m_interval_record=0);if("reshape"==this.m_interval_record.model)return this.push_to_handler_queue(),void(this.m_interval_record=0);if("redEyeRemove"==this.m_interval_record.model)return this.push_to_handler_queue(),void(this.m_interval_record=0);if("polaroid"==this.m_interval_record.model)return this.push_to_handler_queue(),void(this.m_interval_record=0);if("effectRule"==this.m_interval_record.model)return this.push_to_handler_queue(),void(this.m_interval_record=0);if("crop"==this.m_interval_record.model)return this.push_to_handler_queue(),void(this.m_interval_record=0);if("matting"==this.m_interval_record.model)return this.push_to_handler_queue(),void(this.m_interval_record=0)}return this.m_last_rotation_handle?(this.m_interval_record={model:"rotation",script:this.m_last_rotation_handle},this.m_last_rotation_handle="",this.push_to_handler_queue(),void(this.m_interval_record=0)):null},t.prototype.auto_step=function(){if("reshape"!=this.m_handler_queue.m_model||!this.m_painter_view.view){var t=this.m_engine.get_image_size(),e=this.m_small_engine.get_image_size();this.m_step=t.width/e.width}},t.prototype.set_magic_resource=function(t,e){this.m_resourceCache[e]=new _i(e,t)},t.prototype.process_magic_painter_rule=function(t,e,r,i){var n=this;r=r||!1;var o=t.fileName,s=function(o,s,a){var c=new Image;c.src=o,c.complete?(n.m_resourceCache[s]=new _i(s,c),n._process_magic_painter_rule(t,r,e,i)):(c.onload=function(){n.m_resourceCache[s]=new _i(s,c),n._process_magic_painter_rule(t,r,e,i)},c.onerror=function(){throw new Error("connot find texture:"+s)})};this.m_resourceCache[o]?this._process_magic_painter_rule(t,r,e,i):function(t){n.loadPic(t,"effect",s)}(o)},t.prototype.process_painter_rule=function(t,e,r,i,n){void 0===i&&(i=!1),void 0===n&&(n=""),i=null!=i&&i,this.painter_size_change(),!i&&e&&this.m_basic_layer.script!=e&&(this.m_basic_layer.destroy(),this.m_basic_layer.script=e,this.m_basic_layer.view=this.m_engine.create_view(e),this.m_engine.process_view(this.m_basic_layer.view)),this.m_interval_record&&"painter"==this.m_interval_record.model?"painter"!=this.m_interval_record.model||(this.m_interval_record.basic_layer,this.m_basic_layer.script):(this.m_interval_record={model:"painter",points:new Array,radius:null,opacity:null,pmodel:null,basic_layer:e,top_layer:n},t&&(this.m_interval_record.opacity=t.opacity,this.m_interval_record.radius=t.size,this.m_interval_record.pmodel=t.model));var o={points:[],max:[],min:[]};if(t&&t.points.length){if(this.m_interval_record.opacity!=t.opacity||(this.m_interval_record.radius,t.size),this.m_painter_view.lock)return;var s=this.m_painter_view.view,a=(s?"view %1;".replace(/%1/,s.toString()):"basicAdjust alphaInit ;")+this.paint_alpha(t,o,r);this.m_painter_view.view=this.m_painter_engine.create_view(a),this.m_painter_engine.process_view(this.m_painter_view.view),this.m_painter_engine.destroy_view(s)}if(this.m_interval_record.points=this.m_interval_record.points.concat(o.points),!i){var c=this.m_engine.get_image_size(),l=2==o.min.length?{min:o.min,max:o.max}:null;this.paint_to_canvas(this.m_engine.get_src(),this.m_painter_engine.get_view_texture(this.m_painter_view.view),this.m_engine.get_view_texture(this.m_basic_layer.view),c.width,c.height,l)}},t.prototype.clean_matting_painter=function(){this.m_matting_painter_view&&(this.m_small_engine.destroy_view(this.m_matting_painter_view),this.m_matting_painter_view=0),this.m_handler_queue=new gi(this)},t.prototype.process_matting_painter=function(t,e,r,i){if(this.m_matting_painter_view||(this.m_matting_painter_view=this.m_small_engine.create_view("basicAdjust darkClear;"),this.m_small_engine.process_view(this.m_matting_painter_view)),this.m_interval_record&&"matting"==this.m_interval_record.model||(this.m_interval_record={model:"matting",model2:t,points:new Array,size:r,rel:i}),e&&e.length){this.m_interval_record.size!=r||this.m_interval_record.model2!=t||this.m_interval_record.rel;var n=this.m_matting_painter_view,o=new Array;switch(t){case 1:o=[255,0,0];break;case 2:o=[0,255,0];break;case 3:o=[0,0,0]}var s="view %1;".replace(/%1/,n.toString())+this.paint_color(e,r,o,i,t);this.m_matting_painter_view=this.m_small_engine.create_view(s),this.m_small_engine.process_view(this.m_matting_painter_view),this.m_small_engine.destroy_view(n)}this.m_interval_record.points=this.m_interval_record.points.concat(e)},t.prototype.set_matting_crop=function(t){this.m_matting_crop=t},t.prototype.process_matting=function(t,e,r){if(t){var i=this.m_small_engine.create_view("curve mixColor opacity 255 0 0 100 255;");this.m_small_engine.process_view(i);var n=this.m_small_engine.create_view("imageMatting used "+i.toString()+" sharpenTimes 1 esp 0.01 iteration 1 ;");return this.m_small_engine.process_view(n),this.m_small_engine.destroy_view(i),void this.m_small_engine.destroy_view(n)}if(!this.m_matting_painter_view)return e=null==e?0:(e+1)/1.5,void(this.m_matting_blur=e);null!=e?(e=null==e?0:(e+1)/1.5,this.m_matting_blur=e,r?this.process_rule("imageMatting used "+this.m_matting_painter_view.toString()+" sharpenTimes 2 esp 0.01 iteration 4 blurResult amount -100 radius "+.001*e+" crop ;"):this.process_rule("imageMatting used "+this.m_matting_painter_view.toString()+" sharpenTimes 2 esp 0.01 iteration 4 blurResult amount -100 radius "+.001*e+" ;")):r?this.process_rule("imageMatting used "+this.m_matting_painter_view.toString()+" sharpenTimes 2 esp 0.01 iteration 4 crop;"):this.process_rule("imageMatting used "+this.m_matting_painter_view.toString()+" sharpenTimes 2 esp 0.01 iteration 4 ;")},t.prototype.process_blur_brush_rule=function(t,e,r,i,n,o){var s=this;void 0===n&&(n=!1),void 0===o&&(o=""),this.painter_size_change(),!n&&e&&this.m_basic_layer.script!=e&&(this.m_basic_layer.destroy(),this.m_basic_layer.script=e,this.m_basic_layer.view=this.m_small_engine.create_view(e),this.m_small_engine.process_view(this.m_basic_layer.view)),this.m_interval_record&&"blurPainter"==this.m_interval_record.model||(this.m_interval_record={model:"blurPainter",points:new Array,radius:null,opacity:null,bOpacity:null,pmodel:null,basic_layer:e,top_layer:o}),t&&(this.m_interval_record.opacity=t.opacity,this.m_interval_record.radius=t.size,this.m_interval_record.pmodel=t.model),this.m_interval_record.bOpacity=r,this.m_interval_record.basic_layer=this.m_basic_layer.script;var c={points:[],max:[],min:[]};if(this.m_small_engine.set_lock_unlock_function(function(t,e){if("painter"==e){var r=s.m_painter_engine.get_view_texture(s.m_painter_view.view);if(s.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}if("reshape"!=e)return s.m_resourceCache[t].m_lock=!0,s.m_resourceCache[t].m_image;r=s.m_painter_engine.get_view_texture(s.m_reshape_view);if(!a(r))throw new Error("cannot find the reshape cache");return r},function(t,e,r){"painter"!=r?s.m_resourceCache[t].m_lock=!1:s.m_painter_view.lock=!1}),t&&t.points.length){if(this.m_interval_record.opacity!=t.opacity||(this.m_interval_record.radius,t.size),this.m_painter_view.lock)return;var l=this.m_painter_view.view,u=(l?"view %1;".replace(/%1/,l.toString()):"basicAdjust alphaInit intensity 0;")+this.paint_alpha(t,c,i,!0);this.m_painter_view.view=this.m_painter_engine.create_view(u),this.m_painter_engine.process_view(this.m_painter_view.view),this.m_painter_engine.destroy_view(l)}if(this.m_interval_record.points=this.m_interval_record.points.concat(c.points),!n){this.m_painter_view.view||(this.m_painter_view.view=this.m_painter_engine.create_view("basicAdjust alphaInit intensity 0;"),this.m_painter_engine.process_view(this.m_painter_view.view));var h=this.m_small_engine.get_image_size(),f=2==c.min.length?{min:c.min,max:c.max}:null;this.paint_to_canvas(this.m_small_engine.get_src(),this.m_painter_engine.get_view_texture(this.m_painter_view.view),this.m_small_engine.get_view_texture(this.m_basic_layer.view),h.width,h.height,f,r)}},t.prototype.process_rotation=function(t,e,r){if(void 0===e&&(e=0),"intensity"==t){var i=void 0;i=null!=r?"basicAdjust gribRotation %1 %2;".replace(/%1/,e.toString()).replace(/%2/,r.toString()):"basicAdjust rotation %1;".replace(/%1/,e.toString()),this.m_last_rotation_view&&this.m_small_engine.destroy_view(this.m_last_rotation_view),this.m_last_rotation_view=this.m_small_engine.create_view(i);var n=this.m_small_engine.get_view_texture(this.m_last_rotation_view);a(n);var o=this.m_small_engine.get_image_size();this.m_interval_record&&this.m_interval_record.model,this.m_last_rotation_handle=i;var s=Math.abs(10*e)%1800;90<(s/=10)&&(s=180-s),s=s/180*3.14159265358;var c=Math.sqrt(o.width/2*(o.width/2)+o.height/2*(o.height/2)),l=Math.min(o.width,o.height),u=Math.acos(l/2/c),h=u-s,f=l/2/Math.cos(h),m=f/c;return this.draw_rotation_to_canvas(n,o.width,o.height),1/m}this.m_last_rotation_handle=t;n=0,o=this.m_small_engine.get_image_size();n=this.m_last_rotation_view?this.m_small_engine.get_view_texture(this.m_last_rotation_view):this.m_small_engine.get_src(),this.draw_rotation_to_canvas(n,o.width,o.height)},t.prototype.process_polaroid=function(t,e,r){this.m_last_small_view&&this.m_small_engine.destroy_view(this.m_last_small_view),this.m_last_small_view=this.m_small_engine.create_view(t);var i=this.m_small_engine.get_view_texture(this.m_last_small_view);a(i);var n=this.m_small_engine.get_image_size();n.height+=r*n.width,this.draw_polaroid_to_canvas(i,n.width,n.height,e,r*n.width),this.m_interval_record={model:"polaroid",script:t,color:e,captation:r}},t.prototype.process_resize=function(t,e){var r=this;this.m_special_engine.set_lock_unlock_function(function(t,e){return r.special_lock(t)}),this.m_engine.get_image_size();var i=Math.min(t,e),n=Math.max(t,e);i<1&&(t=i==t?1:1/e*t,e=i==e?1:1/t*e),4e3<n&&(t=n==t?4e3:4e3/e*t,e=n==e?4e3:4e3/t*e);var o=this.m_special_engine.create_new_texture(t,e,!0);this.m_special_engine.set_image(o,t,e),this.m_last_special_tex&&(this.clean_special_border_GLTextures(this.m_last_special_tex),this.m_last_special_tex=0),this.m_last_special_tex=this.m_special_engine.fetch_view_texture(this.m_special_engine.create_view("basicAdjust justDraw;")),this.m_special_engine.clean(),this.m_interval_record={model:"resize"},this.apply_to_canvas(this.m_last_special_tex,t,e)},t.prototype.process_crop=function(t,e,r){var i=this;this.m_special_engine.set_lock_unlock_function(function(t,e){return i.special_lock(t)});var n=this.m_engine.get_image_size(),o=[],s=[];r?(o[0]=Math.floor(e[0]*n.width+.5),o[1]=Math.floor(e[1]*n.height+.5),s[0]=t[0]*n.width,s[1]=t[1]*n.height):(o=e,s=t);var a,c=this.m_special_engine.create_new_texture(o[0],o[1]);this.m_special_engine.set_image(c,o[0],o[1]),a="basicAdjust crop position "+s[0].toString()+" "+s[1].toString()+" srcSize "+n.width.toString()+" "+n.height.toString()+";",this.m_last_special_tex&&(this.clean_special_border_GLTextures(this.m_last_special_tex),this.m_last_special_tex=0),this.m_last_special_tex=this.m_special_engine.fetch_view_texture(this.m_special_engine.create_view(a)),this.m_special_engine.clean(),this.m_interval_record={model:"crop",pos:s,size:o},this.apply_to_canvas(this.m_last_special_tex,o[0],o[1])},t.prototype.process_outside_border=function(t,e,r,i){var n=[],o=t,s=o.substr(0),a=s.match(/\S+/g);if(a){for(var c=0;c<a.length;c++)(0<=a[c].indexOf(".jpg")||0<=a[c].indexOf(".jpeg")||0<=a[c].indexOf(".png"))&&n.push(a[c].substring(1,a[c].length-1));var l=e*this.m_small_engine.get_image_size().width;s=s.replace(/%th/,e.toString()),r&&(s=s.replace(/%r/,r[0].toString()).replace(/%g/,r[1].toString()).replace(/%b/,r[2].toString())),this.special_outside_border_loadTexture(n,s,i,l)}},t.prototype.inner_clean=function(){this.m_basic_layer.destroy(),this.m_effect_layer.destroy(),this.m_last_special_tex&&(this.clean_special_border_GLTextures(this.m_last_special_tex),this.m_last_special_tex=0),this.m_engine.clean(),this.m_special_engine.clean(),this.m_small_engine.clean(),this.m_magic_view&&(this.m_small_engine.destroy_view(this.m_magic_view),this.m_magic_view=0),this.m_last_view&&(this.m_engine.destroy_view(this.m_last_view),this.m_last_view=0),this.m_last_small_view&&(this.m_small_engine.destroy_view(this.m_last_small_view),this.m_last_small_view=0),this.m_matting_painter_view&&(this.m_small_engine.destroy_view(this.m_matting_painter_view),this.m_matting_painter_view=0),this.m_last_rotation_view&&(this.m_small_engine.destroy_view(this.m_last_rotation_view),this.m_last_rotation_view=0),this.m_last_rotation_handle="",this.m_blemishFix_view&&(this.m_small_engine.destroy_view(this.m_blemishFix_view),this.m_blemishFix_view=0),this.m_redEyeRemove_view&&(this.m_small_engine.destroy_view(this.m_redEyeRemove_view),this.m_redEyeRemove_view=0),this.m_clone_baisc_layer&&(this.m_small_engine.destroy_view(this.m_clone_baisc_layer),this.m_engine.destroy_view(this.m_clone_baisc_layer),this.m_clone_baisc_layer=0),this.m_clone_cache&&(this.m_small_engine.destroy_view(this.m_clone_cache),this.m_engine.destroy_view(this.m_clone_cache),this.m_clone_cache=0),this.m_rotationState=[],this.m_rotationTex=0},t.prototype.special_lock=function(t){if(t){var e=this.m_resourceCache[t];if(e)return e.m_lock=!0,e.m_image;throw new Error("special lock uncache url"+t)}return this.m_engine.get_src()},t.prototype.justTest=function(){this.m_canvas.update(this.m_testtex,this.m_testwidth,this.m_testheight),this.m_test_callback()},t.prototype.reshapeTest=function(){this.m_canvas.reshape(this.m_reshapeSrcTex,this.m_reshapeMapTex,this.m_reshapeStress,this.m_reshapeWidth,this.m_reshapeHeight,this.m_reshapeTrans),this.m_reshapeTrans=null},t.prototype.paintTest=function(){this.m_canvas.paint(this.m_paintSrcTex,this.m_paintAlphaTex,this.m_paintDstTex,this.m_paintWidth,this.m_paintHight,this.m_paintTrans,this.m_bOpacity),this.m_paintTrans=null},t.prototype.cloneTest=function(){this.m_canvas.paintClone(this.m_cloneSrcTex,this.m_cloneResultTex,this.m_cloneWidth,this.m_cloneHight,this.m_opacity)},t.prototype.polaroid=function(){this.m_canvas.drawPolariod(this.m_polaroidex,this.m_polaroidWidth,this.m_polaroidHeight,this.m_polaroidCaptation,this.m_polaroidColor)},t.prototype.autoCrop=function(t,e,r,i){return this.m_lastRenderId&&cancelAnimationFrame(this.m_lastRenderId),this.m_canvas.autoCrop(t,e,r,i)},t.prototype.paint_clone_to_canvas=function(t,e,r,i,n,o){var s=this;this.m_cloneSrcTex=t,this.m_cloneResultTex=e,this.m_cloneWidth=r,this.m_cloneHight=i,this.m_opacity=n,this.m_lastRenderId&&cancelAnimationFrame(this.m_lastRenderId),o?this.cloneTest():this.m_lastRenderId=requestAnimationFrame(function(){s.cloneTest()})},t.prototype.draw_polaroid_to_canvas=function(t,e,r,i,n){this.m_polaroidex=t,this.m_polaroidWidth=e,this.m_polaroidHeight=r,this.m_polaroidColor=i,null!=n&&(this.m_polaroidCaptation=n),this.polaroid()},t.prototype.draw_reshape_to_canvas=function(t,e,r,i,n,o,s){var a=this;s&&(this.m_lastRenderId&&cancelAnimationFrame(this.m_lastRenderId),this.m_reshapeSrcTex=t,this.m_reshapeMapTex=e,this.m_reshapeMapTex=e,this.m_reshapeStress=r,this.m_reshapeWidth=i,this.m_reshapeHeight=n,this.m_reshapeTrans=o,this.reshapeTest()),this.m_reshapeSrcTex=t,this.m_reshapeMapTex=e,this.m_reshapeStress=r,this.m_reshapeWidth=i,this.m_reshapeHeight=n,o&&this.m_reshapeTrans?(this.m_reshapeTrans.max[0]<o.max[0]&&(this.m_reshapeTrans.max[0]=o.max[0]),this.m_reshapeTrans.max[1]<o.max[1]&&(this.m_reshapeTrans.max[1]=o.max[1]),this.m_reshapeTrans.min[0]>o.min[0]&&(this.m_reshapeTrans.min[0]=o.min[0]),this.m_reshapeTrans.min[1]>o.max[1]&&(this.m_reshapeTrans.min[1]=o.max[1])):this.m_reshapeTrans=o,this.m_lastRenderId&&cancelAnimationFrame(this.m_lastRenderId),this.m_lastRenderId=requestAnimationFrame(function(){a.reshapeTest()})},t.prototype.draw_rotation_to_canvas=function(t,e,r){this.m_rotationTex=t,this.m_rotationWidth=e,this.m_rotationHeight=r,this.m_rotationState=this.m_handler_queue.m_queue.slice(0,this.m_handler_queue.m_index),this.m_last_rotation_handle&&this.m_rotationState.push({script:this.m_last_rotation_handle}),this.m_canvas.drawRotation(this.m_rotationTex,this.m_rotationWidth,this.m_rotationHeight,this.m_rotationState)},t.prototype.draw_to_canvas=function(t,e,r,i){var n=this;void 0===i&&(i=function(){}),this.m_testtex=t,this.m_testwidth=e,this.m_testheight=r,this.m_test_callback=i,this.m_lastRenderId&&cancelAnimationFrame(this.m_lastRenderId),this.m_lastRenderId=requestAnimationFrame(function(){n.justTest()})},t.prototype.apply_to_canvas=function(t,e,r){this.m_lastRenderId&&cancelAnimationFrame(this.m_lastRenderId),this.m_canvas.update(t,e,r)},t.prototype.paint_to_canvas=function(t,e,r,i,n,o,s){var a=this;void 0===s&&(s=0),this.m_paintSrcTex=t,this.m_paintAlphaTex=e,this.m_paintDstTex=r,this.m_paintWidth=i,this.m_paintHight=n,this.m_bOpacity=s,o&&(this.m_paintTrans?(this.m_paintTrans.max[0]<o.max[0]&&(this.m_paintTrans.max[0]=o.max[0]),this.m_paintTrans.max[1]<o.max[1]&&(this.m_paintTrans.max[1]=o.max[1]),this.m_paintTrans.min[0]>o.min[0]&&(this.m_paintTrans.min[0]=o.min[0]),this.m_paintTrans.min[1]>o.max[1]&&(this.m_paintTrans.min[1]=o.max[1])):this.m_paintTrans=o),this.m_lastRenderId&&cancelAnimationFrame(this.m_lastRenderId),this.m_lastRenderId=requestAnimationFrame(function(){a.paintTest()})},t.prototype.create_engine_texture=function(t,e,r,i){var n={texture:t,name:"engineTexture",width:e,height:r,handlerQueue:i.clone()};return n},t.prototype.paint_magic=function(t,e,r){var i="magicPainter %1 opacity %2 pointStride %4 texSize %6 outsideRadius %7 innerRadius %8 numRatio %9 file '%10' ";i=(i=(i=(i=(i=(i=(i=(i=i.replace(/%1/,t.pModel)).replace(/%2/,t.opacity)).replace(/%4/,t.pointStride)).replace(/%6/,t.texSize)).replace(/%7/,t.outsideRadius)).replace(/%8/,t.innerRadius)).replace(/%9/,t.numRatio)).replace(/%10/,t.fileName),null!=t.angle&&(i=i+"angle "+t.angle);var n=i,o=this.m_small_engine.get_image_size(),s=this.m_painter_engine.get_image_size(),a=r?s.width*t.size:t.size/(this.m_ratio*this.m_step),c=(this.m_ratio,this.m_step,Math.max(.2*a,1));n=(n=n.replace(/%2/,a.toString())).replace(/%s/,c.toString());for(var l=[],u=0;u<t.points.length;++u){var h=void 0,f=void 0;f=r?(h=t.points[u].x*o.width,t.points[u].y*o.height):(h=t.points[u].x,t.points[u].y),l.push({x:h,y:f}),n+=" point "+h.toString()+" "+f.toString()}return e&&(e.points=l),n+";"},t.prototype.paint_alpha=function(t,e,r,i){void 0===i&&(i=!1);var n,o="painter %3 opacity %1 pointSize %2 pointStride %s realPixel ",s=(o=o.replace(/%3/,t.model)).replace(/%1/,t.opacity.toString()),a=this.m_small_engine.get_image_size(),c=this.m_painter_engine.get_image_size(),l=Math.max(c.width,c.height),u=r?l*t.size:t.size/(this.m_ratio*this.m_step),h=u*(this.m_ratio*this.m_step);n="lucency"==t.model?Math.max(.13*u,1):Math.max(.25*u,1),s=(s=s.replace(/%2/,u.toString())).replace(/%s/,n.toString());for(var f=new Array,m=new Array,d=[],p=0;p<t.points.length;++p){var _=void 0,g=void 0,v=void 0,y=void 0;y=r?(_=t.points[p].x*c.width,g=t.points[p].y*c.height,v=t.points[p].x*a.width,t.points[p].y*a.height):(_=t.points[p].x/(this.m_ratio*this.m_step),g=t.points[p].y/(this.m_ratio*this.m_step),v=t.points[p].x,t.points[p].y),i?d.push(t.points[p]):d.push({x:_,y:g}),s+=" point "+_.toString()+" "+g.toString(),f.length&&m.length?(f[0]=f[0]>v?v:f[0],f[1]=f[1]>y?y:f[1],m[0]=m[0]<v?v:m[0],m[1]=m[1]<y?y:m[1]):(f=[v,y],m=[v,y])}var b=h/2;return f[0]=Math.min(Math.max(f[0]-b,0),a.width),f[1]=Math.min(Math.max(f[1]-b,0),a.height),m[0]=Math.min(Math.max(m[0]+b,0),a.width),m[1]=Math.min(Math.max(m[1]+b,0),a.height),e&&(e.points=d,e.min=f,e.max=m),s+";"},t.prototype.paint_reshape=function(t,e,r){void 0===r&&(r=!1);var i,n="basicAdjust reshapeMap realPixel",o=this.m_small_engine.get_image_size(),s=this.m_painter_engine.get_image_size();i=r?s.width*t.radius*1.6:1.6*t.radius/(this.m_ratio*this.m_step);for(var a=null,c=null,l=new Array,u=i*(this.m_ratio*this.m_step),h=0;h<t.points.length;++h){var f=void 0,m=void 0,d=void 0,p=void 0;p=r?(f=t.points[h].x*s.width,m=t.points[h].y*s.height,d=t.points[h].x*o.width,t.points[h].y*o.height):(f=t.points[h].x/(this.m_ratio*this.m_step),m=t.points[h].y/(this.m_ratio*this.m_step),d=t.points[h].x,t.points[h].y),l.push({x:f,y:m}),n+=" point stress 0.2 radius "+i.toString()+" "+f.toString()+" "+m.toString(),a&&c?(a[0]=a[0]>d?d:a[0],a[1]=a[1]>p?p:a[1],c[0]=c[0]<d?d:c[0],c[1]=c[1]<p?p:c[1]):(a=[d,p],c=[d,p])}return n+=";",a=[a[0]-u-this.m_step,a[1]-u-this.m_step],c=[c[0]+u+this.m_step,c[1]+u+this.m_step],a[0]=Math.min(Math.max(0,a[0]),o.width),a[1]=Math.min(Math.max(0,a[1]),o.height),c[0]=Math.min(Math.max(0,c[0]),o.width),c[1]=Math.min(Math.max(0,c[1]),o.height),e&&(e.min=a,e.max=c,e.points=l),n},t.prototype.paint_color=function(t,e,r,i,n){var o,s="colorPainter pointSize %3 %4 pointStride %s %5 %6 %7 %p ";s=(s=s.replace(/%3/,i?"relToWidth":" ")).replace(/%4/,e.toString()),o=3!=n?Math.max(.13*e,1):Math.max(.25*e,1),s=(s=(s=(s=(s=s.replace(/%s/,o.toString())).replace(/%5/,r[0].toString())).replace(/%6/,r[1].toString())).replace(/%7/,r[2].toString())).replace(/%p/,i?"coordinate":"realPixel");for(var a=0;a<t.length;++a){var c=void 0,l=void 0;c=t[a].x,l=t[a].y,s+=" point "+c.toString()+" "+l.toString()}return s+";"},t.prototype.painter_size_change=function(){var t=this.m_painter_engine.get_image_size(),e=this.m_engine.get_image_size(),r=e.width/this.m_step,i=e.height/this.m_step;t.width==r&&t.height==i||(this.m_painter_engine.set_image(this.m_painter_engine.create_new_texture(r,i,!0),r,i),this.m_painter_view={view:0,lock:!1})},t.prototype.process_effect=function(t,e,r,i,n,o){var s=this,c=function(t,e){if(e){var r=s.m_painter_engine.get_view_texture(s.m_painter_view.view);if(s.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}if(t){var i=s.m_resourceCache[t];if(i)return i.m_lock=!0,i.m_image}},l=function(t,e,r){if(t){var i=s.m_resourceCache[t];i&&(i.m_lock=!1,s.m_painter_view.lock=!1)}};n?this.m_engine.set_lock_unlock_function(c,l):this.m_small_engine.set_lock_unlock_function(c,l),this._process_effect(e,r,i,n,o)},t.prototype._process_effect=function(t,e,r,i,n){if(i){var o=null!=r?"layer op start;"+t+"layer op swap;blend layer op opacity "+r.toString()+";":t;e(this.m_engine.create_view(o))}else{this.m_effect_layer.script!=t&&(this.m_effect_layer.destroy(),this.m_effect_layer.script=t,this.m_effect_layer.view=this.m_small_engine.create_view(t),this.m_small_engine.process_view(this.m_effect_layer.view)),this.m_interval_record||(this.m_interval_record={model:"effectRule",eModel:"",script:""});var s,c=this.m_small_engine.get_image_size();if("effect"==n){this.m_last_small_view&&this.m_small_engine.destroy_view(this.m_last_small_view);var l=null!=r?"blend view "+this.m_effect_layer.view.toString()+" opacity "+r.toString()+";":"view "+this.m_effect_layer.view.toString()+";";this.m_interval_record.script=null!=r?"layer op start;"+this.m_effect_layer.script+"layer op swap;blend layer op opacity "+r.toString()+";":this.m_effect_layer.script,this.m_interval_record.eModel="normal",this.m_last_small_view=this.m_small_engine.create_view(l),a(s=this.m_small_engine.get_view_texture(this.m_last_small_view))}else this.m_interval_record.script=this.m_effect_layer.script,this.m_interval_record.eModel="normal",a(s=this.m_small_engine.get_view_texture(this.m_effect_layer.view)),e=e||function(){};this.draw_to_canvas(s,c.width,c.height,e)}},t.prototype._process_clone_painter=function(t,e,r,i,n){var o=this;this.painter_size_change(),this.m_painter_engine.get_image_size(),this.m_engine.get_image_size();var s,c="s"==i?this.m_small_engine:this.m_engine,l="painter";if(t&&t.points.length){if(this.m_painter_view.lock)return;"eraser"==t.model&&(l="eraser",t.model="lucency");var u=this.m_painter_view.view;this.m_painter_view.view=this.m_painter_engine.create_view((u?"view %1;".replace(/%1/,u.toString()):"basicAdjust alphaInit ;")+this.paint_alpha(t,null,r)),this.m_painter_engine.process_view(this.m_painter_view.view),this.m_painter_engine.destroy_view(u)}this.m_painter_view.view||(this.m_painter_view.view=this.m_painter_engine.create_view("basicAdjust alphaInit ;"),this.m_painter_engine.process_view(this.m_painter_view.view)),c.set_lock_unlock_function(function(t,e){if("painter"==e){var r=o.m_painter_engine.get_view_texture(o.m_painter_view.view);if(o.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}if("reshape"==e){var i=o.m_painter_engine.get_view_texture(o.m_reshape_view);if(!a(i))throw new Error("cannot find the reshape cache");return i}if(t){var n=o.m_resourceCache[t];if(n)return n.m_lock=!0,n.m_image}},function(t,e,r){"painter"==r&&(o.m_painter_view.lock=!1)}),a(s="s"==i?(this.m_last_small_view&&(c.destroy_view(this.m_last_small_view),this.m_last_small_view=0),this.m_last_small_view=c.create_view((this.m_clone_cache?"view %1;".replace(/%1/,this.m_clone_cache.toString()):"")+("basicAdjust cloneBlend view %2 cache '"+l+"' opacity 100 ;").replace(/%2/,this.m_clone_baisc_layer.toString())),c.get_view_texture(this.m_last_small_view)):(this.m_last_view&&(c.destroy_view(this.m_last_view),this.m_last_view=0),this.m_last_view=c.create_view((this.m_clone_cache?"view %1;".replace(/%1/,this.m_clone_cache.toString()):"")+("basicAdjust cloneBlend view %2 cache '"+l+"' opacity 100 ;").replace(/%2/,this.m_clone_baisc_layer.toString())),c.get_view_texture(this.m_last_view)));var h=c.get_image_size();if(n)return s;this.paint_clone_to_canvas(c.get_src(),s,h.width,h.height,e)},t.prototype._process_magic_painter_rule=function(t,e,r,i){var n=this;this.m_small_engine.set_lock_unlock_function(function(t,e){if(e){var r=n.m_painter_engine.get_view_texture(n.m_painter_view.view);if(n.m_painter_view.lock=!0,!a(r))throw new Error("cannot find the painter cache");return r}return n.m_resourceCache[t].m_lock=!0,n.m_resourceCache[t].m_image},function(t,e,r){n.m_resourceCache[t].m_lock=!1,n.m_painter_view.lock=!1}),this.m_interval_record&&"magic"==this.m_interval_record.model||(this.m_interval_record={model:"magic",pModel:"",opacity:0,pointSize:0,pointStride:0,texSize:0,outsideRadius:0,innerRadius:0,numRatio:0,fileName:"",blendModel:0,blendOpacity:0,points:new Array}),t&&(this.m_interval_record.pModel=t.pModel,this.m_interval_record.opacity=t.opacity,this.m_interval_record.pointSize=t.pointSize,this.m_interval_record.pointStride=t.pointStride,this.m_interval_record.texSize=t.texSize,this.m_interval_record.outsideRadius=t.outsideRadius,this.m_interval_record.innerRadius=t.innerRadius,this.m_interval_record.numRatio=t.numRatio,this.m_interval_record.fileName=t.fileName,this.m_interval_record.blendModel=t.blendModel,this.m_interval_record.blendOpacity=t.blendOpacity,null!=t.angle&&(this.m_interval_record.angle=t.angle));var o,s={points:[],max:[],min:[]};if(t&&t.points&&t.points.length){this.m_interval_record.opacity!=t.opacity||(this.m_interval_record.radius,t.size);var c=this.m_magic_view,l=(c?"view %1;".replace(/%1/,c.toString()):"basicAdjust darkClear ;")+this.paint_magic(t,s,e);this.m_magic_view=this.m_small_engine.create_view(l),this.m_small_engine.process_view(this.m_magic_view),this.m_small_engine.destroy_view(c)}if(this.m_interval_record.points=this.m_interval_record.points.concat(s.points),this.m_last_small_view&&this.m_small_engine.destroy_view(this.m_last_small_view),this.m_magic_view){o="blend view "+this.m_magic_view.toString()+" "+t.blendModel+" alpha ",o="opacity"==t.pModel?o+" reOpacity "+t.blendOpacity+";":o+t.blendOpacity+";",this.m_last_small_view=this.m_small_engine.create_view(o);var u=this.m_small_engine.get_view_texture(this.m_last_small_view),h=this.m_small_engine.get_image_size();this.apply_to_canvas(u,h.width,h.height),r&&r()}},t.prototype._refresh_clone=function(t,e){var r="s"==e?this.m_small_engine:this.m_engine;if(!t)return null;this.m_painter_view.view&&(this.m_painter_engine.destroy_view(this.m_painter_view.view),this.m_painter_view.view=0),"s"==e?(this.m_clone_cache&&this.m_last_small_view&&(r.destroy_view(this.m_clone_cache),this.m_clone_cache=0),this.m_last_small_view&&(this.m_clone_cache=this.m_last_small_view,this.m_last_small_view=0)):(this.m_clone_cache&&this.m_last_view&&(r.destroy_view(this.m_clone_cache),this.m_clone_cache=0),this.m_last_view&&(this.m_clone_cache=this.m_last_view,this.m_last_view=0)),this.m_clone_baisc_layer&&r.destroy_view(this.m_clone_baisc_layer);var i=(this.m_clone_cache?"view %1;".replace(/%1/,this.m_clone_cache.toString()):"")+"basicAdjust clone %x %y %dx %dy;".replace(/%x/,t.x.toString()).replace(/%y/,t.y.toString()).replace(/%dx/,t.dx.toString()).replace(/%dy/,t.dy.toString());this.m_clone_baisc_layer=r.create_view(i),r.process_view(this.m_clone_baisc_layer)},t.prototype.loadPic=function(t,e,r,i){var n=null,o=null;if(n=t.substring(0,t.length-4),-1!=t.indexOf(".png")){if("effect"==e)try{o=this.m_publicPath+"effect/img/cgeImg/"+n+".png",r(o,t,i)}catch(e){r(null,t,i)}else if("border"==e)try{o=this.m_publicPath+"frames/img/cgeImg/"+n+".png",r(o,t,i)}catch(e){r(null,t,i)}}else if(-1!=t.indexOf(".jpg"))if("effect"==e)try{o=this.m_publicPath+"effect/img/cgeImg/"+n+".jpg",r(o,t,i)}catch(e){r(null,t,i)}else if("border"==e)try{o=this.m_publicPath+"frames/img/cgeImg/"+n+".jpg",r(o,t,i)}catch(e){r(null,t,i)}},t.prototype.loadTextures=function(t,e,r,i,n,o,s){var a=this,l=0;if(null!=t&&0!=t.length)for(var u=function(u,f,m){if(!m.small||u){u||r(!1);var d=new Image;if(d.crossOrigin="anonymous",d.src=u,d.complete){if(l++,a.m_resourceCache[f]=new _i(f,d),l==t.length){for(var p=0;p<s.length;p++)if(s[p].small){e=c(e,s[p].index+1,"s_");for(var _=p+1;_<s.length;_++)s[_].index=s[_].index+2}a.process_effect(t,e,r,i,o,n)}}else d.onload=function(){if(l++,a.m_resourceCache[f]=new _i(f,d),l==t.length){for(var u=0;u<s.length;u++)if(s[u].small){e=c(e,s[u].index+1,"s_");for(var h=u+1;h<s.length;h++)s[h].index=s[h].index+2}a.process_effect(t,e,r,i,o,n)}},d.onerror=function(){d.src=u.replace("s_","")}}else{m.small=!1;var g=void 0;g=f.substring(2);var v=a.m_resourceCache[f];if(!v||v.m_lock||++l!=t.length)return void h(g,m);for(p=0;p<s.length;p++)if(s[p].small){e=c(e,s[p].index+1,"s_");for(_=p+1;_<s.length;_++)s[_].index=s[_].index+2}a.process_effect(t,e,r,i,o,n)}},h=function(t,e){a.loadPic(t,n,u,e)},f=0;f<t.length;f++)if(s[f].small){var m="s_"+t[f],d=this.m_resourceCache[m];if(d){if(d.m_lock||++l!=t.length)continue;for(var p=0;p<s.length;p++)if(s[p].small){e=c(e,s[p].index+1,"s_");for(var _=p+1;_<s.length;_++)s[_].index=s[_].index+2}return void this.process_effect(t,e,r,i,o,n)}h(m,s[f])}else{d=this.m_resourceCache[t[f]];if(d){if(!d.m_lock&&++l==t.length)return void this.process_effect(t,e,r,i,o,n);continue}h(t[f],s[f])}},t.prototype.clean_special_border_GLTextures=function(t){var e=this.m_special_engine.get_gl();e.deleteTexture(t)},t.prototype.push_to_handler_queue=function(){if(this.m_handler_queue.m_index!=this.m_handler_queue.m_queue.length){if(this.m_handler_queue.m_queue.length&&"reshape"==this.m_handler_queue.m_model)for(var t=this.m_handler_queue.m_index;t<this.m_handler_queue.m_queue.length;++t)this.m_painter_engine.destroy_view(this.m_handler_queue.m_queue[t].maskView);this.m_handler_queue.m_index||"redEyeRemove"!=this.m_handler_queue.m_model&&"blemish"!=this.m_handler_queue.m_model||this.m_handler_queue.m_firstStep&&(this.m_small_engine.destroy_view(this.m_handler_queue.m_firstStep),this.m_handler_queue.m_firstStep=0,this.m_handler_queue.m_firstStepScript=[]),this.m_handler_queue.m_queue.splice(this.m_handler_queue.m_index)}this.m_handler_queue.m_queue.length||(this.m_handler_queue.m_model=this.m_interval_record.model,"redEyeRemove"!=this.m_handler_queue.m_model&&"blemish"!=this.m_handler_queue.m_model||(this.m_handler_queue.m_firstStep=0,this.m_handler_queue.m_firstStepScript=[])),this.m_handler_queue.m_model,this.m_interval_record.model,this.m_handler_queue.m_queue.push(this.createHistoryObject(this.m_handler_queue.m_model)),this.m_handler_queue.m_queue.length>this.m_historyLength&&("reshape"==this.m_handler_queue.m_model&&this.m_painter_engine.destroy_view(this.m_handler_queue.m_queue[0].maskView),"redEyeRemove"!=this.m_handler_queue.m_model&&"blemish"!=this.m_handler_queue.m_model||("blemish"==this.m_handler_queue.m_model?this.merge_blemishFix_steps():this.merge_redEyeRemove_steps(),this.m_handler_queue.m_firstStepScript.push(this.m_handler_queue.m_queue[0])),this.m_handler_queue.m_queue.splice(0,1),--this.m_handler_queue.m_index),this.m_handler_queue.m_index++,this.m_interval_record=null},t.prototype.createHistoryObject=function(t){if("reshape"!=t)return this.m_interval_record;var e=void 0;return e=0==this.m_interval_record.maskView?{model:this.m_interval_record.model,stress:this.m_interval_record.stress,maskView:this.m_painter_engine.create_view("basicAdjust dark;")}:{model:this.m_interval_record.model,stress:this.m_interval_record.stress,maskView:this.m_painter_engine.create_view("view "+this.m_interval_record.maskView.toString()+";")},this.m_painter_engine.process_view(e.maskView),e},t.prototype.merge_blemishFix_steps=function(){var t=this.m_handler_queue.m_firstStep?"view "+this.m_handler_queue.m_firstStep.toString()+";":"";t+="basicAdjust blemishFix point "+this.m_handler_queue.m_queue[0].points.x.toString()+" "+this.m_handler_queue.m_queue[0].points.y.toString()+" radius "+this.m_handler_queue.m_queue[0].radius.toString()+";";var e=this.m_small_engine.create_view(t);this.m_small_engine.process_view(e),this.m_handler_queue.m_firstStep&&this.m_small_engine.destroy_view(this.m_handler_queue.m_firstStep),this.m_handler_queue.m_firstStep=e},t.prototype.merge_redEyeRemove_steps=function(){var t=this.m_handler_queue.m_firstStep?"view "+this.m_handler_queue.m_firstStep.toString()+";":"";t+="basicAdjust redeyeRemove realPosition "+this.m_handler_queue.m_queue[0].point_obj.x.toString()+" "+this.m_handler_queue.m_queue[0].point_obj.y.toString()+" "+this.m_handler_queue.m_queue[0].point_obj.radius.toString()+" 3;";var e=this.m_small_engine.create_view(t);this.m_small_engine.process_view(e),this.m_handler_queue.m_firstStep&&this.m_small_engine.destroy_view(this.m_handler_queue.m_firstStep),this.m_handler_queue.m_firstStep=e},t.prototype.loadBorderTexture=function(t,e){var r=null;r=t.substring(0,t.length-4),-1!=t.indexOf(".png")?e(this.m_publicPath+"frames/img/cgeImg/"+r+".png"):-1!=t.indexOf(".jpg")&&e(this.m_publicPath+"frames/img/cgeImg/"+r+".jpg")},t.prototype.special_outside_border_loadTexture=function(t,e,r,i){var n=this;this.m_interval_record||(this.m_interval_record={model:"effectRule",eModel:"",script:"",thickness:0}),this.m_interval_record.eModel="special",this.m_interval_record.script=e,this.m_interval_record.thickness=i/this.m_small_engine.get_image_size().width;for(var o=0,s=function(s){n.loadBorderTexture(s,function(a){var c=new Image;if(c.src=a,c.complete){if(o++,n.m_resourceCache[s]=new _i(s,c),o==t.length){var l=n.m_small_engine.get_image_size(),u=l.width+2*i,h=l.height+2*i,f=n.m_special_engine.create_new_texture(u,h,!0);n.m_special_engine.set_image(f,u,h),n.m_special_engine.set_lock_unlock_function(function(t,e){return n.special_lock(t)},function(t,e){n.m_resourceCache[t].m_lock=!1});var m=n.m_special_engine.create_view(e),d=n.m_special_engine.fetch_view_texture(m);m&&(n.m_last_special_tex&&(n.clean_special_border_GLTextures(n.m_last_special_tex),n.m_last_special_tex=0),n.m_last_special_tex=d,n.apply_to_canvas(n.m_last_special_tex,u,h),r&&r(u,h)),n.m_special_tex_pool.push(d),n.m_special_engine.clean()}}else c.onload=function(){if(o++,n.m_resourceCache[s]=new _i(s,c),o==t.length){n.m_resourceCache[s]=new _i(s,c);var a=n.m_small_engine.get_image_size(),l=a.width+2*i,u=a.height+2*i,h=n.m_special_engine.create_new_texture(l,u,!0);n.m_special_engine.set_image(h,l,u),n.m_special_engine.set_lock_unlock_function(function(t,e){return n.special_lock(t)},function(t,e){n.m_resourceCache[t].m_lock=!1});var f=n.m_special_engine.create_view(e),m=n.m_special_engine.fetch_view_texture(f);f&&(n.m_last_special_tex&&(n.clean_special_border_GLTextures(n.m_last_special_tex),n.m_last_special_tex=0),n.m_last_special_tex=m,n.apply_to_canvas(n.m_last_special_tex,l,u),r&&r(l,u)),n.m_special_tex_pool.push(m),n.m_special_engine.clean()}},c.onerror=function(){}})},a=0;a<t.length;a++){if(this.m_resourceCache[t[a]]){if(this.m_resourceCache[t[a]].m_lock||++o!=t.length)continue;this.m_interval_record||(this.m_interval_record={model:"effectRule",eModel:"",script:"",thickness:0}),this.m_interval_record.eModel="special",this.m_interval_record.script=e,this.m_interval_record.thickness=i/this.m_small_engine.get_image_size().width;var c=this.m_small_engine.get_image_size(),l=c.width+2*i,u=c.height+2*i,h=this.m_special_engine.create_new_texture(l,u,!0);this.m_special_engine.set_image(h,l,u),this.m_special_engine.set_lock_unlock_function(function(t,e){return n.special_lock(t)},function(t,e){n.m_resourceCache[t].m_lock=!1});var f=this.m_special_engine.create_view(e),m=this.m_special_engine.fetch_view_texture(f);return f&&(r&&r(l,u),this.m_last_special_tex&&(this.clean_special_border_GLTextures(this.m_last_special_tex),this.m_last_special_tex=0),this.m_last_special_tex=m,this.apply_to_canvas(this.m_last_special_tex,l,u)),this.m_special_tex_pool.push(m),void this.m_special_engine.clean()}s(t[a])}},t}();t.BigWrap=vi,Object.defineProperty(t,"__esModule",{value:!0})}(e)},a206:function(t,e,r){r("c165")("getOwnPropertyNames",function(){return r("565d").f})},a24c:function(t,e,r){var i=r("b808"),n=r("1ad4").set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,c="process"==r("71fa")(s);t.exports=function(){function t(){var t,i;for(c&&(t=s.domain)&&t.exit();e;){i=e.fn,e=e.next;try{i()}catch(t){throw e?l():r=void 0,t}}r=void 0,t&&t.enter()}var e,r,l;if(c)l=function(){s.nextTick(t)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);l=function(){u.then(t)}}else l=function(){n.call(i,t)};else{var h=!0,f=document.createTextNode("");new o(t).observe(f,{characterData:!0}),l=function(){f.data=h=!h}}return function(t){var i={fn:t,next:void 0};r&&(r.next=i),e||(e=i,l()),r=i}}},a274:function(t,e,r){var i=r("71fa"),n=r("b67f")("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?r:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},a2be:function(t,e,r){var i=r("d612"),n=r("4284"),o=r("c584");t.exports=function(t,e,r,s,a,c){var l=1&r,u=t.length,h=e.length;if(u!=h&&!(l&&u<h))return!1;var f=c.get(t);if(f&&c.get(e))return f==e;var m=-1,d=!0,p=2&r?new i:void 0;for(c.set(t,e),c.set(e,t);++m<u;){var _=t[m],g=e[m];if(s)var v=l?s(g,_,m,e,t,c):s(_,g,m,t,e,c);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!n(e,function(t,e){if(!o(p,e)&&(_===t||a(_,t,r,s,c)))return p.push(e)})){d=!1;break}}else if(_!==g&&!a(_,g,r,s,c)){d=!1;break}}return c.delete(t),c.delete(e),d}},a2db:function(t,e,r){var i=r("9e69"),n=i?i.prototype:void 0,o=n?n.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},a335:function(t,e,r){},a34a:function(t,e,r){t.exports=r("98b8")},a402:function(t,e,r){"use strict";var i=r("9ed1"),n=r("696b"),o=r("bf41"),s=r("4cf4"),a=r("d43f"),c=Object.assign;t.exports=!c||r("b629")(function(){var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(t){e[t]=t}),7!=c({},t)[r]||Object.keys(c({},e)).join("")!=i})?function(t,e){for(var r=s(t),c=arguments.length,l=1,u=n.f,h=o.f;l<c;)for(var f,m=a(arguments[l++]),d=u?i(m).concat(u(m)):i(m),p=d.length,_=0;_<p;)h.call(m,f=d[_++])&&(r[f]=m[f]);return r}:c},a438:function(t,e,r){r("07c8"),t.exports=r("a7d3").Object.setPrototypeOf},a454:function(t,e,r){var i=r("72f0"),n=r("3b4a"),o=r("cd9d"),s=n?function(t,e){return n(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:o;t.exports=s},a47f:function(t,e,r){t.exports=!r("7d95")&&!r("d782")(function(){return 7!=Object.defineProperty(r("12fd8")("div"),"a",{get:function(){return 7}}).a})},a481:function(t,e,r){"use strict";var i=r("cb7c"),n=r("4bf8"),o=r("9def"),s=r("4588"),a=r("0390"),c=r("5f1b"),l=Math.max,u=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g;r("214f")("replace",2,function(t,e,r,d){return[function(i,n){var o=t(this),s=null==i?void 0:i[e];return void 0!==s?s.call(i,o,n):r.call(String(o),i,n)},function(t,e){var n=d(r,t,this,e);if(n.done)return n.value;var h=i(t),f=String(this),m="function"==typeof e;m||(e=String(e));var _=h.global;if(_){var g=h.unicode;h.lastIndex=0}for(var v=[];;){var y=c(h,f);if(null===y)break;if(v.push(y),!_)break;""===String(y[0])&&(h.lastIndex=a(f,o(h.lastIndex),g))}for(var b,x="",w=0,S=0;S<v.length;S++){y=v[S];for(var C=String(y[0]),T=l(u(s(y.index),f.length),0),E=[],O=1;O<y.length;O++)E.push(void 0===(b=y[O])?b:String(b));var k=y.groups;if(m){var A=[C].concat(E,T,f);void 0!==k&&A.push(k);var M=String(e.apply(void 0,A))}else M=p(C,f,T,E,k,e);w<=T&&(x+=f.slice(w,T)+M,w=T+C.length)}return x+f.slice(w)}];function p(t,e,i,o,s,a){var c=i+t.length,l=o.length,u=m;return void 0!==s&&(s=n(s),u=f),r.call(a,u,function(r,n){var a;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(c);case"<":a=s[n.slice(1,-1)];break;default:var u=+n;if(0==u)return r;if(l<u){var f=h(u/10);return 0===f?r:f<=l?void 0===o[f-1]?n.charAt(1):o[f-1]+n.charAt(1):r}a=o[u-1]}return void 0===a?"":a})}})},a4bb:function(t,e,r){t.exports=r("fda6")},a524:function(t,e,r){var i=r("4245");t.exports=function(t){return i(this,t).has(t)}},a5ab:function(t,e,r){var i=r("a812"),n=Math.min;t.exports=function(t){return 0<t?n(i(t),9007199254740991):0}},a638:function(t,e){t.exports={}},a7425:function(t,e,r){"use strict";e.__esModule=!0,e.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},e.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e.isHtmlElement=function(t){return t&&t.nodeType===Node.ELEMENT_NODE},e.isFunction=function(t){return t&&"[object Function]"==={}.toString.call(t)},e.isUndefined=function(t){return void 0===t},e.isDefined=function(t){return null!=t}},a745:function(t,e,r){t.exports=r("d604")},a78e:function(t,e,r){var i,n;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){void 0===(n="function"==typeof(i=o)?i.call(e,r,e,t):i)||(t.exports=n),t.exports=o()}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}return function e(r){function i(e,n,o){var s;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(o=t({path:"/"},i.defaults,o)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}o.expires=o.expires?o.expires.toUTCString():"";try{s=JSON.stringify(n),/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in o)o[l]&&(c+="; "+l,!0!==o[l]&&(c+="="+o[l]));return document.cookie=e+"="+n+c}e||(s={});for(var u=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var m=u[f].split("="),d=m.slice(1).join("=");this.json||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var p=m[0].replace(h,decodeURIComponent);if(d=r.read?r.read(d,p):r(d,p)||d.replace(h,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(e){}if(e===p){s=d;break}e||(s[p]=d)}catch(e){}}return s}}return(i.set=i).get=function(t){return i.call(i,t)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,r){i(e,"",t(r,{expires:-1}))},i.withConverter=e,i}(function(){})})},a7cc:function(t,e,r){},a7d3:function(t,e){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},a812:function(t,e){var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:r)(t)}},a8db:function(t,e,r){"use strict";var i=r("e265"),n=r.n(i),o=r("a4bb"),s=r.n(o);function a(t,e){if(null==t)return{};var r,i,o=function(t,e){if(null==t)return{};var r,i,n={},o=s()(t);for(i=0;i<o.length;i++)r=o[i],0<=e.indexOf(r)||(n[r]=t[r]);return n}(t,e);if(n.a){var a=n()(t);for(i=0;i<a.length;i++)r=a[i],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}r.d(e,"a",function(){return a})},a8fc:function(t,e,r){var i=r("badf"),n=r("2c66");t.exports=function(t,e){return t&&t.length?n(t,i(e,2)):[]}},a900:function(t,e,r){"use strict";
/*!
 * iro.js v4.5.1
 * 2016-2019 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */var i=function(){},n={},o=[],s=[];function a(t,e){var r,n,a,c,l=arguments,u=s;for(c=arguments.length;2<c--;)o.push(l[c]);for(e&&null!=e.children&&(o.length||o.push(e.children),delete e.children);o.length;)if((n=o.pop())&&void 0!==n.pop)for(c=n.length;c--;)o.push(n[c]);else"boolean"==typeof n&&(n=null),(a="function"!=typeof t)&&(null==n?n="":"number"==typeof n?n=String(n):"string"!=typeof n&&(a=!1)),a&&r?u[u.length-1]+=n:u===s?u=[n]:u.push(n),r=a;var h=new i;return h.nodeName=t,h.children=u,h.attributes=null==e?void 0:e,h.key=null==e?void 0:e.key,h}function c(t,e){for(var r in e)t[r]=e[r];return t}function l(t,e){t&&("function"==typeof t?t(e):t.current=e)}var u="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,h=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,f=[];function m(t){!t._dirty&&(t._dirty=!0)&&1==f.push(t)&&u(d)}function d(){for(var t;t=f.pop();)t._dirty&&j(t)}function p(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function _(t){var e=c({},t.attributes);e.children=t.children;var r=t.nodeName.defaultProps;if(void 0!==r)for(var i in r)void 0===e[i]&&(e[i]=r[i]);return e}function g(t){var e=t.parentNode;e&&e.removeChild(t)}function v(t,e,r,i,n){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)l(r,null),l(i,t);else if("class"!==e||n)if("style"===e){if(i&&"string"!=typeof i&&"string"!=typeof r||(t.style.cssText=i||""),i&&"object"==typeof i){if("string"!=typeof r)for(var o in r)o in i||(t.style[o]="");for(var o in i)t.style[o]="number"==typeof i[o]&&!1===h.test(o)?i[o]+"px":i[o]}}else if("dangerouslySetInnerHTML"===e)i&&(t.innerHTML=i.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),i?r||t.addEventListener(e,y,s):t.removeEventListener(e,y,s),(t._listeners||(t._listeners={}))[e]=i}else if("list"!==e&&"type"!==e&&!n&&e in t){try{t[e]=null==i?"":i}catch(t){}null!=i&&!1!==i||"spellcheck"==e||t.removeAttribute(e)}else{var a=n&&e!==(e=e.replace(/^xlink:?/,""));null==i||!1===i?a?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof i&&(a?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),i):t.setAttribute(e,i))}else t.className=i||""}function y(t){return this._listeners[t.type](t)}var b=[],x=0,w=!1,S=!1;function C(){for(var t;t=b.shift();)t.componentDidMount&&t.componentDidMount()}function T(t,e,r,i,n,o){x++||(w=null!=n&&void 0!==n.ownerSVGElement,S=null!=t&&!("__preactattr_"in t));var s=E(t,e,r,i,o);return n&&s.parentNode!==n&&n.appendChild(s),--x||(S=!1,o||C()),s}function E(t,e,r,i,n){var o=t,s=w;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||n)?t.nodeValue!=e&&(t.nodeValue=e):(o=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),O(t,!0))),o.__preactattr_=!0,o;var a=e.nodeName;if("function"==typeof a)return function(t,e,r,i){for(var n=t&&t._component,o=n,s=t,a=n&&t._componentConstructor===e.nodeName,c=a,l=_(e);n&&!c&&(n=n._parentComponent);)c=n.constructor===e.nodeName;return n&&c&&(!i||n._component)?(D(n,l,3,r,i),t=n.base):(o&&!a&&(z(o),t=s=null),n=M(e.nodeName,l,r),t&&!n.nextBase&&(n.nextBase=t,s=null),D(n,l,1,r,i),t=n.base,s&&t!==s&&(s._component=null,O(s,!1))),t}(t,e,r,i);if(w="svg"===a||"foreignObject"!==a&&w,a=String(a),(!t||!p(t,a))&&(o=function(t,e){var r=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return r.normalizedNodeName=t,r}(a,w),t)){for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),O(t,!0)}var c=o.firstChild,l=o.__preactattr_,u=e.children;if(null==l){l=o.__preactattr_={};for(var h=o.attributes,f=h.length;f--;)l[h[f].name]=h[f].value}return!S&&u&&1===u.length&&"string"==typeof u[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=u[0]&&(c.nodeValue=u[0]):(u&&u.length||null!=c)&&function(t,e,r,i,n){var o,s,a,c,l,u,h,f,m=t.childNodes,d=[],_={},v=0,y=0,b=m.length,x=0,w=e?e.length:0;if(0!==b)for(var S=0;S<b;S++){var C=m[S],T=C.__preactattr_;null!=(k=w&&T?C._component?C._component.__key:T.key:null)?(v++,_[k]=C):(T||(void 0!==C.splitText?!n||C.nodeValue.trim():n))&&(d[x++]=C)}if(0!==w)for(S=0;S<w;S++){var k;if(c=e[S],(l=null)!=(k=c.key))v&&void 0!==_[k]&&(l=_[k],_[k]=void 0,v--);else if(y<x)for(o=y;o<x;o++)if(void 0!==d[o]&&(u=s=d[o],f=n,"string"==typeof(h=c)||"number"==typeof h?void 0!==u.splitText:"string"==typeof h.nodeName?!u._componentConstructor&&p(u,h.nodeName):f||u._componentConstructor===h.nodeName)){l=s,d[o]=void 0,o===x-1&&x--,o===y&&y++;break}l=E(l,c,r,i),a=m[S],l&&l!==t&&l!==a&&(null==a?t.appendChild(l):l===a.nextSibling?g(a):t.insertBefore(l,a))}if(v)for(var S in _)void 0!==_[S]&&O(_[S],!1);for(;y<=x;)void 0!==(l=d[x--])&&O(l,!1)}(o,u,r,i,S||null!=l.dangerouslySetInnerHTML),function(t,e,r){var i;for(i in r)e&&null!=e[i]||null==r[i]||v(t,i,r[i],r[i]=void 0,w);for(i in e)"children"===i||"innerHTML"===i||i in r&&e[i]===("value"===i||"checked"===i?t[i]:r[i])||v(t,i,r[i],r[i]=e[i],w)}(o,e.attributes,l),w=s,o}function O(t,e){var r=t._component;r?z(r):(null!=t.__preactattr_&&l(t.__preactattr_.ref,null),!1!==e&&null!=t.__preactattr_||g(t),k(t))}function k(t){for(t=t.lastChild;t;){var e=t.previousSibling;O(t,!0),t=e}}var A=[];function M(t,e,r){var i,n=A.length;for(t.prototype&&t.prototype.render?(i=new t(e,r),I.call(i,e,r)):((i=new I(e,r)).constructor=t,i.render=P);n--;)if(A[n].constructor===t)return i.nextBase=A[n].nextBase,A.splice(n,1),i;return i}function P(t,e,r){return this.constructor(t,r)}function D(t,e,r,i,o){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,i)),i&&i!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=i),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==r&&(1!==r&&!1===n.syncComponentUpdates&&t.base?m(t):j(t,1,o)),l(t.__ref,t))}function j(t,e,r,i){if(!t._disable){var n,o,s,a=t.props,l=t.state,u=t.context,h=t.prevProps||a,f=t.prevState||l,m=t.prevContext||u,d=t.base,p=t.nextBase,g=d||p,v=t._component,y=!1,w=m;if(t.constructor.getDerivedStateFromProps&&(l=c(c({},l),t.constructor.getDerivedStateFromProps(a,l)),t.state=l),d&&(t.props=h,t.state=f,t.context=m,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(a,l,u)?y=!0:t.componentWillUpdate&&t.componentWillUpdate(a,l,u),t.props=a,t.state=l,t.context=u),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!y){n=t.render(a,l,u),t.getChildContext&&(u=c(c({},u),t.getChildContext())),d&&t.getSnapshotBeforeUpdate&&(w=t.getSnapshotBeforeUpdate(h,f));var S,E,k=n&&n.nodeName;if("function"==typeof k){var A=_(n);(o=v)&&o.constructor===k&&A.key==o.__key?D(o,A,1,u,!1):(S=o,t._component=o=M(k,A,u),o.nextBase=o.nextBase||p,o._parentComponent=t,D(o,A,0,u,!1),j(o,1,r,!0)),E=o.base}else s=g,(S=v)&&(s=t._component=null),!g&&1!==e||(s&&(s._component=null),E=T(s,n,u,r||!d,g&&g.parentNode,!0));if(g&&E!==g&&o!==v){var P=g.parentNode;P&&E!==P&&(P.replaceChild(E,g),S||(g._component=null,O(g,!1)))}if(S&&z(S),(t.base=E)&&!i){for(var I=t,R=t;R=R._parentComponent;)(I=R).base=E;E._component=I,E._componentConstructor=I.constructor}}for(!d||r?b.push(t):y||t.componentDidUpdate&&t.componentDidUpdate(h,f,w);t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);x||i||C()}}function z(t){var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var r=t._component;r?z(r):e&&(null!=e.__preactattr_&&l(e.__preactattr_.ref,null),g(t.nextBase=e),A.push(t),k(e)),l(t.__ref,null)}function I(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function R(t,e,r,i){void 0===i&&(i={});for(var n=0;n<e.length;n++)t.addEventListener(e[n],r,i)}function F(t,e,r,i){void 0===i&&(i={});for(var n=0;n<e.length;n++)t.removeEventListener(e[n],r,i)}c(I.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=c(c({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),m(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),j(this,2)},render:function(){}});var L="mousedown",N="mousemove",B="mouseup",$="touchstart",U="touchmove",q="touchend",H=function(t){function e(e){t.call(this,e),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.componentDidMount=function(){R(this.base,[L,$],this,{passive:!1})},e.prototype.componentWillUnmount=function(){F(this.base,[L,$],this)},e.prototype.handleEvent=function(t){t.preventDefault();var e=t.touches?t.changedTouches[0]:t,r=e.clientX,i=e.clientY,n=this.base.getBoundingClientRect();switch(t.type){case L:case $:R(document,[N,U,B,q],this,{passive:!1}),this.handleInput(r,i,n,"START");break;case N:case U:this.handleInput(r,i,n,"MOVE");break;case B:case q:this.handleInput(r,i,n,"END"),F(document,[N,U,B,q],this,{passive:!1})}},e}(I);function V(t){var e=window.navigator.userAgent,r=/^((?!chrome|android).)*safari/i.test(e),i=/iPhone|iPod|iPad/i.test(e),n=window.location;return r||i?n.protocol+"//"+n.host+n.pathname+n.search+t:t}function X(t,e,r,i,n){var o=n-i<=180?0:1;return i*=Math.PI/180,n*=Math.PI/180,"M "+(t+r*Math.cos(n))+" "+(e+r*Math.sin(n))+" A "+r+" "+r+" 0 "+o+" 0 "+(t+r*Math.cos(i))+" "+(e+r*Math.sin(i))}function W(t){var e=t.r,r=t.url;return a("svg",{class:"iro__handle",x:t.x,y:t.y,style:{overflow:"visible"}},r&&a("use",Object.assign({},{xlinkHref:V(r)},t.origin)),!r&&a("circle",{class:"iro__handle__inner",r:e,fill:"none","stroke-width":2,stroke:"#000"}),!r&&a("circle",{class:"iro__handle__outer",r:e-2,fill:"none","stroke-width":2,stroke:"#fff"}))}W.defaultProps={x:0,y:0,r:8,url:null,origin:{x:0,y:0}};var Y=Array.apply(null,{length:360}).map(function(t,e){return e}),G=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._transformAngle=function(t,e){var r=this.props.wheelAngle;return((t="clockwise"===this.props.wheelDirection?-360+t-(e?-r:r):r-t)%360+360)%360},e.prototype.render=function(t){var e=this,r=t.width,i=t.borderWidth,n=t.handleRadius,o=t.color.hsv,s=r/2-i,c=this._transformAngle(o.h,!0)*(Math.PI/180),l=o.s/100*(s-t.padding-n-i),u=s+i,h=s+i;return a("svg",{class:"iro__wheel",width:r,height:r,style:{overflow:"visible",display:"block"}},a("defs",null,a("radialGradient",{id:this.uid},a("stop",{offset:"0%","stop-color":"#fff"}),a("stop",{offset:"100%","stop-color":"#fff","stop-opacity":"0"}))),a("g",{class:"iro__wheel__hue","stroke-width":s,fill:"none"},Y.map(function(t){return a("path",{key:t,d:X(u,h,s/2,t,t+1.5),stroke:"hsl("+e._transformAngle(t)+", 100%, 50%)"})})),a("circle",{class:"iro__wheel__saturation",cx:u,cy:h,r:s,fill:"url("+V("#"+this.uid)+")"}),t.wheelLightness&&a("circle",{class:"iro__wheel__lightness",cx:u,cy:h,r:s,fill:"#000",opacity:1-o.v/100}),a("circle",{class:"iro__wheel__border",cx:u,cy:h,r:s,fill:"none",stroke:t.borderColor,"stroke-width":i}),a(W,{r:n,url:t.handleSvg,origin:t.handleOrigin,x:u+l*Math.cos(c),y:h+l*Math.sin(c)}))},e.prototype.handleInput=function(t,e,r,i){var n=r.left,o=r.top,s=this.props,a=s.width/2,c=a-s.padding-s.handleRadius-s.borderWidth;t=a-(t-n),e=a-(e-o);var l=Math.atan2(e,t),u=this._transformAngle(Math.round(l*(180/Math.PI))+180),h=Math.min(Math.sqrt(t*t+e*e),c);s.onInput(i,{h:u,s:Math.round(100/c*h)})},e}(H);function K(t,e){var r=-1<t.indexOf("%"),i=parseFloat(t);return r?e/100*i:i}function J(t){return parseInt(t,16)}function Q(t){return t.toString(16).padStart(2,"0")}function Z(t){this._onChange=!1,this._value={h:0,s:0,v:0,a:1},t&&this.set(t)}var tt="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",et="[\\s|\\(]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")\\s*\\)?",rt="[\\s|\\(]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")\\s*\\)?",it=new RegExp("rgb"+et),nt=new RegExp("rgba"+rt),ot=new RegExp("hsl"+et),st=new RegExp("hsla"+rt),at="^(?:#?|0x?)",ct="([0-9a-fA-F]{1})",lt="([0-9a-fA-F]{2})",ut=new RegExp(at+ct+ct+ct+"$"),ht=new RegExp(at+ct+ct+ct+ct+"$"),ft=new RegExp(at+lt+lt+lt+"$"),mt=new RegExp(at+lt+lt+lt+lt+"$"),dt={hsv:{configurable:!0},rgb:{configurable:!0},hsl:{configurable:!0},rgbString:{configurable:!0},hexString:{configurable:!0},hslString:{configurable:!0}};Z.prototype.set=function(t){var e="string"==typeof t,r="object"==typeof t;if(e&&/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t))this.hexString=t;else if(e&&/^rgba?/.test(t))this.rgbString=t;else if(e&&/^hsla?/.test(t))this.hslString=t;else if(r&&t instanceof Z)this.hsv=t.hsv;else if(r&&"r"in t&&"g"in t&&"b"in t)this.rgb=t;else if(r&&"h"in t&&"s"in t&&"v"in t)this.hsv=t;else{if(!(r&&"h"in t&&"s"in t&&"l"in t))throw new Error("invalid color value");this.hsl=t}},Z.prototype.setChannel=function(t,e,r){var i;this[t]=Object.assign({},this[t],((i={})[e]=r,i))},Z.prototype.clone=function(){return new Z(this)},Z.hsvToRgb=function(t){var e=t.h/60,r=t.s/100,i=t.v/100,n=Math.floor(e),o=e-n,s=i*(1-r),a=i*(1-o*r),c=i*(1-(1-o)*r),l=n%6;return{r:255*[i,a,s,s,c,i][l],g:255*[c,i,i,a,s,s][l],b:255*[s,s,c,i,i,a][l]}},Z.rgbToHsv=function(t){var e,r=t.r/255,i=t.g/255,n=t.b/255,o=Math.max(r,i,n),s=Math.min(r,i,n),a=o-s,c=o,l=0===o?0:a/o;switch(o){case s:e=0;break;case r:e=(i-n)/a+(i<n?6:0);break;case i:e=(n-r)/a+2;break;case n:e=(r-i)/a+4}return{h:60*e,s:100*l,v:100*c}},Z.hsvToHsl=function(t){var e=t.s/100,r=t.v/100,i=(2-e)*r,n=i<=1?i:2-i,o=n<1e-9?0:e*r/n;return{h:t.h,s:100*o,l:50*i}},Z.hslToHsv=function(t){var e=2*t.l,r=t.s*(e<=100?e:200-e)/100,i=e+r<1e-9?0:2*r/(e+r);return{h:t.h,s:100*i,v:(e+r)/2}},dt.hsv.get=function(){var t=this._value;return{h:t.h,s:t.s,v:t.v}},dt.hsv.set=function(t){var e=this._value;if(t=Object.assign({},e,t),this._onChange){var r={};for(var i in e)r[i]=t[i]!=e[i];this._value=t,(r.h||r.s||r.v||r.a)&&this._onChange(this,r)}else this._value=t},dt.rgb.get=function(){var t=Z.hsvToRgb(this._value),e=t.r,r=t.g,i=t.b;return{r:Math.round(e),g:Math.round(r),b:Math.round(i)}},dt.rgb.set=function(t){this.hsv=Object.assign({},Z.rgbToHsv(t),{a:void 0===t.a?1:t.a})},dt.hsl.get=function(){var t=Z.hsvToHsl(this._value),e=t.h,r=t.s,i=t.l;return{h:Math.round(e),s:Math.round(r),l:Math.round(i)}},dt.hsl.set=function(t){this.hsv=Object.assign({},Z.hslToHsv(t),{a:void 0===t.a?1:t.a})},dt.rgbString.get=function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},dt.rgbString.set=function(t){var e,r,i,n,o=1;if((e=it.exec(t))?(r=K(e[1],255),i=K(e[2],255),n=K(e[3],255)):(e=nt.exec(t))&&(r=K(e[1],255),i=K(e[2],255),n=K(e[3],255),o=K(e[4],1)),!e)throw new Error("invalid rgb string");this.rgb={r:r,g:i,b:n,a:o}},dt.hexString.get=function(){var t=this.rgb;return"#"+Q(t.r)+Q(t.g)+Q(t.b)},dt.hexString.set=function(t){var e,r,i,n,o=255;if((e=ut.exec(t))?(r=17*J(e[1]),i=17*J(e[2]),n=17*J(e[3])):(e=ht.exec(t))?(r=17*J(e[1]),i=17*J(e[2]),n=17*J(e[3]),o=17*J(e[4])):(e=ft.exec(t))?(r=J(e[1]),i=J(e[2]),n=J(e[3])):(e=mt.exec(t))&&(r=J(e[1]),i=J(e[2]),n=J(e[3]),o=J(e[4])),!e)throw new Error("invalid hex string");this.rgb={r:r,g:i,b:n,a:o/255}},dt.hslString.get=function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},dt.hslString.set=function(t){var e,r,i,n,o=1;if((e=ot.exec(t))?(r=K(e[1],360),i=K(e[2],100),n=K(e[3],100)):(e=st.exec(t))&&(r=K(e[1],360),i=K(e[2],100),n=K(e[3],100),o=K(e[4],1)),!e)throw new Error("invalid hsl string");this.hsl={h:r,s:i,l:n,a:o}},Object.defineProperties(Z.prototype,dt);var pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.renderGradient=function(t){var e=t.color.hsv,r=[];switch(t.sliderType){case"hue":r=[{offset:"0",color:"#f00"},{offset:"16.666",color:"#ff0"},{offset:"33.333",color:"#0f0"},{offset:"50",color:"#0ff"},{offset:"66.666",color:"#00f"},{offset:"83.333",color:"#f0f"},{offset:"100",color:"#f00"}];break;case"saturation":var i=Z.hsvToHsl({h:e.h,s:0,v:e.v}),n=Z.hsvToHsl({h:e.h,s:100,v:e.v});r=[{offset:"0",color:"hsl("+i.h+", "+i.s+"%, "+i.l+"%)"},{offset:"100",color:"hsl("+n.h+", "+n.s+"%, "+n.l+"%)"}];break;case"value":r=[{offset:"0",color:"hsl("+(o=Z.hsvToHsl({h:e.h,s:e.s,v:100})).h+", "+o.s+"%, "+o.l+"%)"},{offset:"100",color:"#000"}];break;default:var o;r=[{offset:"0",color:"#000"},{offset:"100",color:"hsl("+(o=Z.hsvToHsl({h:e.h,s:e.s,v:100})).h+", "+o.s+"%, "+o.l+"%)"}]}return a("linearGradient",{id:this.uid},r.map(function(t){return a("stop",{offset:t.offset+"%","stop-color":t.color})}))},e.prototype.render=function(t){var e=t.width,r=t.sliderHeight,i=t.borderWidth,n=t.handleRadius;r=r||2*t.padding+2*n+2*i,this.width=e;var o,s=(this.height=r)/2,c=e-2*s,l=t.color.hsv;switch(t.sliderType){case"hue":o=l.h/=3.6;break;case"saturation":o=l.s;break;case"value":o=100-l.v;break;default:o=l.v}return a("svg",{class:"iro__slider",width:e,height:r,style:{marginTop:t.sliderMargin,overflow:"visible",display:"block"}},a("defs",null,this.renderGradient(t)),a("rect",{class:"iro__slider__value",rx:s,ry:s,x:i/2,y:i/2,width:e-i,height:r-i,"stroke-width":i,stroke:t.borderColor,fill:"url("+V("#"+this.uid)+")"}),a(W,{r:n,url:t.handleSvg,origin:t.handleOrigin,x:s+o/100*c,y:r/2}))},e.prototype.getValueFromPoint=function(t,e,r){var i=r.left,n=this.width-this.height;t-=i+this.height/2;var o=Math.max(Math.min(t,n),0);return Math.round(100/n*o)},e.prototype.handleInput=function(t,e,r,i){var n,o,s=this.getValueFromPoint(t,e,r);switch(this.props.sliderType){case"hue":o="h",s*=3.6;break;case"saturation":o="s";break;case"value":default:o="v"}this.props.onInput(i,((n={})[o]=s,n),"value"===this.props.sliderType)},e}(H),_t=function(t){function e(e){t.call(this,e),this.emitHook("init:before"),this._events={},this._deferredEvents={},this._colorUpdateActive=!1,this._colorUpdateSrc=null,this.id=e.id,this.color=new Z(e.color),this.deferredEmit("color:init",this.color,{h:!1,s:!1,v:!1,a:!1}),this.color._onChange=this.updateColor.bind(this),this.state=Object.assign({},e,{color:this.color,ref:void 0}),this.emitHook("init:state"),e.layout?this.layout=e.layout:this.layout=[{component:G,options:{}},{component:pt,options:{}}],this.emitHook("init:after")}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.on=function(t,e){var r=this,i=this._events;(Array.isArray(t)?t:[t]).forEach(function(t){r.emitHook("event:on",t,e),(i[t]||(i[t]=[])).push(e),r._deferredEvents[t]&&(r._deferredEvents[t].forEach(function(t){e.apply(null,t)}),r._deferredEvents[t]=[])})},e.prototype.off=function(t,e){var r=this;(Array.isArray(t)?t:[t]).forEach(function(t){var i=r._events[t];r.emitHook("event:off",t,e),i&&i.splice(i.indexOf(e),1)})},e.prototype.emit=function(t){for(var e,r=[],i=arguments.length-1;0<i--;)r[i]=arguments[i+1];(e=this).emitHook.apply(e,[t].concat(r));for(var n=this._events[t]||[],o=0;o<n.length;o++)n[o].apply(this,r)},e.prototype.deferredEmit=function(t){for(var e,r=[],i=arguments.length-1;0<i--;)r[i]=arguments[i+1];var n=this._deferredEvents;(e=this).emit.apply(e,[t].concat(r)),(n[t]||(n[t]=[])).push(r)},e.prototype.resize=function(t){this.setState({width:t})},e.prototype.reset=function(){this.color.set(this.props.color)},e.addHook=function(t,r){var i=e.pluginHooks;(i[t]||(i[t]=[])).push(r)},e.prototype.emitHook=function(t){for(var r=[],i=arguments.length-1;0<i--;)r[i]=arguments[i+1];for(var n=e.pluginHooks[t]||[],o=0;o<n.length;o++)n[o].apply(this,r)},e.prototype.onMount=function(t){this.el=t,this.deferredEmit("mount",this)},e.prototype.updateColor=function(t,e){this.emitHook("color:beforeUpdate",t,e),this.setState({color:t}),this.emitHook("color:afterUpdate",t,e),this._colorUpdateActive||(this._colorUpdateActive=!0,"input"==this._colorUpdateSrc&&this.emit("input:change",t,e),this.emit("color:change",t,e),this._colorUpdateActive=!1)},e.prototype.handleInput=function(t,e,r){"START"===t&&this.emit("input:start",this.color),"MOVE"===t&&this.emit("input:move",this.color),this._colorUpdateSrc="input",this.color.hsv=r?{v:100-e.v}:e,"END"===t&&this.emit("input:end",this.color),this._colorUpdateSrc=null},e.prototype.render=function(t,e){var r=this;return a("div",{class:"iro__colorPicker",id:t.id,style:{display:e.display,width:e.width}},this.layout.map(function(t){var i=t.component,n=t.options;return a(i,Object.assign({},e,n,{onInput:function(t,e,i){return r.handleInput(t,e,i)},parent:r}))}))},e}(I);_t.pluginHooks={},_t.defaultProps={width:300,height:300,handleRadius:8,handleSvg:null,handleOrigin:{x:0,y:0},color:"#fff",borderColor:"#fff",borderWidth:0,display:"block",id:null,wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderHeight:null,sliderMargin:12,padding:6,layout:null};var gt,vt=(yt.prototype=(gt=_t).prototype,Object.assign(yt,gt),yt.__component=gt,yt);function yt(t,e){var r=null,i=document.createElement("div");return function(t,e,r){T(r,t,{},!1,e,!1)}(a(gt,Object.assign({},{ref:function(t){return r=t}},e)),i),function(t){"loading"!==document.readyState?t():R(document,["DOMContentLoaded"],t)}(function(){var e=t instanceof Element?t:document.querySelector(t);e.appendChild(r.base),r.onMount(e)}),r}var bt,xt,wt=(xt=[],(bt={Color:Z,ColorPicker:vt,ui:{h:a,Component:H,Handle:W,Slider:pt,Wheel:G},util:{resolveUrl:V,createArcPath:X,parseUnit:K,parseHexInt:J,intToHex:Q},version:"4.5.1"}).use=function(t,e){void 0===e&&(e={}),-1<xt.indexOf(t)||(t(bt,e),xt.push(t))},bt.installedPlugins=xt,bt);e.a=wt},a994:function(t,e,r){var i=r("7d1f"),n=r("32f4"),o=r("ec69");t.exports=function(t){return i(t,o,n)}},a9f2:function(t,e,r){var i=r("9184");t.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,n){return t.call(e,r,i,n)}}return function(){return t.apply(e,arguments)}}},aa63:function(t,e,r){var i=r("5a88"),n=r("7bf0"),o=r("7a43"),s=r("7ba0"),a=r("577e"),c=r("d6c0"),l=r("924f"),u=r("7903"),h=r("34fc"),f=r("8d23"),m=r("c8aa"),d=r("9582"),p=r("bbf0"),_=r("befa"),g=r("eee55");function v(t,e,r){var i,n,o=t.size,s=d.getEncodedBits(e,r);for(i=0;i<15;i++)n=1==(s>>i&1),i<6?t.set(i,8,n,!0):i<8?t.set(i+1,8,n,!0):t.set(o-15+i,8,n,!0),i<8?t.set(8,o-i-1,n,!0):i<9?t.set(8,15-i-1+1,n,!0):t.set(8,15-i-1,n,!0);t.set(o-8,8,1,!0)}function y(t,e,r){var o=new s;r.forEach(function(e){o.put(e.mode.bit,4),o.put(e.getLength(),p.getCharCountIndicator(e.mode,t)),e.write(o)});var a=8*(n.getSymbolTotalCodewords(t)-h.getTotalCodewordsCount(t,e));for(o.getLengthInBits()+4<=a&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var c=(a-o.getLengthInBits())/8,l=0;l<c;l++)o.put(l%2?17:236,8);return function(t,e,r){for(var o=n.getSymbolTotalCodewords(e),s=h.getTotalCodewordsCount(e,r),a=o-s,c=h.getBlocksCount(e,r),l=c-o%c,u=Math.floor(o/c),m=Math.floor(a/c),d=m+1,p=u-m,_=new f(p),g=0,v=new Array(c),y=new Array(c),b=0,x=new i(t.buffer),w=0;w<c;w++){var S=w<l?m:d;v[w]=x.slice(g,g+S),y[w]=_.encode(v[w]),g+=S,b=Math.max(b,S)}var C,T,E=new i(o),O=0;for(C=0;C<b;C++)for(T=0;T<c;T++)C<v[T].length&&(E[O++]=v[T][C]);for(C=0;C<p;C++)for(T=0;T<c;T++)E[O++]=y[T][C];return E}(o,t,e)}function b(t,e,r,i){var o;if(g(t))o=_.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var s=e;if(!s){var h=_.rawSplit(t);s=m.getBestVersionForData(h,r)}o=_.fromString(t,s||40)}var f=m.getBestVersionForData(o,r);if(!f)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<f)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+f+".\n")}else e=f;var d=y(e,r,o),p=n.getSymbolSize(e),b=new a(p);return function(t,e){for(var r=t.size,i=l.getPositions(e),n=0;n<i.length;n++)for(var o=i[n][0],s=i[n][1],a=-1;a<=7;a++)if(!(o+a<=-1||r<=o+a))for(var c=-1;c<=7;c++)s+c<=-1||r<=s+c||(0<=a&&a<=6&&(0===c||6===c)||0<=c&&c<=6&&(0===a||6===a)||2<=a&&a<=4&&2<=c&&c<=4?t.set(o+a,s+c,!0,!0):t.set(o+a,s+c,!1,!0))}(b,e),function(t){for(var e=t.size,r=8;r<e-8;r++){var i=r%2==0;t.set(r,6,i,!0),t.set(6,r,i,!0)}}(b),function(t,e){for(var r=c.getPositions(e),i=0;i<r.length;i++)for(var n=r[i][0],o=r[i][1],s=-2;s<=2;s++)for(var a=-2;a<=2;a++)-2===s||2===s||-2===a||2===a||0===s&&0===a?t.set(n+s,o+a,!0,!0):t.set(n+s,o+a,!1,!0)}(b,e),v(b,r,0),7<=e&&function(t,e){for(var r,i,n,o=t.size,s=m.getEncodedBits(e),a=0;a<18;a++)r=Math.floor(a/3),i=a%3+o-8-3,n=1==(s>>a&1),t.set(r,i,n,!0),t.set(i,r,n,!0)}(b,e),function(t,e){for(var r=t.size,i=-1,n=r-1,o=7,s=0,a=r-1;0<a;a-=2)for(6===a&&a--;;){for(var c=0;c<2;c++)if(!t.isReserved(n,a-c)){var l=!1;s<e.length&&(l=1==(e[s]>>>o&1)),t.set(n,a-c,l),-1===--o&&(s++,o=7)}if((n+=i)<0||r<=n){n-=i,i=-i;break}}}(b,d),isNaN(i)&&(i=u.getBestMask(b,v.bind(null,b,r))),u.applyMask(i,b),v(b,r,i),{modules:b,version:e,errorCorrectionLevel:r,maskPattern:i,segments:o}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var r,i,s=o.M;return void 0!==e&&(s=o.from(e.errorCorrectionLevel,o.M),r=m.from(e.version),i=u.from(e.maskPattern),e.toSJISFunc&&n.setToSJISFunction(e.toSJISFunc)),b(t,r,s,i)}},aa77:function(t,e,r){function i(t,e,r){var i={},o=s(function(){return!!a[t]()||"​"!="​"[t]()}),c=i[t]=o?e(h):a[t];r&&(i[r]=c),n(n.P+n.F*o,"String",i)}var n=r("5ca1"),o=r("be13"),s=r("79e5"),a=r("fdef"),c="["+a+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),h=i.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=i},aab6:function(t,e,r){var i=r("e4e1").f,n=r("0f4a"),o=r("b67f")("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},aae3:function(t,e,r){var i=r("d3f4"),n=r("2d95"),o=r("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},ab4c:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},ac41:function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}},ac4d:function(t,e,r){r("3a72")("asyncIterator")},ac6a:function(t,e,r){for(var i=r("cadf"),n=r("0d58"),o=r("2aba"),s=r("7726"),a=r("32e9"),c=r("84f2"),l=r("2b4c"),u=l("iterator"),h=l("toStringTag"),f=c.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=n(m),p=0;p<d.length;p++){var _,g=d[p],v=m[g],y=s[g],b=y&&y.prototype;if(b&&(b[u]||a(b,u,f),b[h]||a(b,h,g),c[g]=f,v))for(_ in i)b[_]||o(b,_,i[_],!0)}},adf3:function(t,e,r){var i=r("560b");t.exports=function(t,e){var r=[];return i(t,!1,r.push,r,e),r}},aeb1:function(t,e,r){var i,n,o;n=[],void 0===(o="function"==typeof(i=function(){return function t(e,r,i){var n,o,s=window,a="application/octet-stream",c=i||a,l=e,u=!r&&!i&&l,h=document.createElement("a"),f=function(t){return String(t)},m=s.Blob||s.MozBlob||s.WebKitBlob||f,d=r||"download";if(m=m.call?m.bind(s):Blob,"true"===String(this)&&(c=(l=[l,c])[0],l=l[1]),u&&u.length<2048&&(d=u.split("/").pop().split("?")[0],h.href=u,-1!==h.href.indexOf(u))){var p=new XMLHttpRequest;return p.open("GET",u,!0),p.responseType="blob",p.onload=function(e){t(e.target.response,d,a)},setTimeout(function(){p.send()},0),p}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l)){if(!(2096103.424<l.length&&m!==f))return navigator.msSaveBlob?navigator.msSaveBlob(y(l),d):b(l);l=y(l),c=l.type||a}else if(/([\x80-\xff])/.test(l)){for(var _=0,g=new Uint8Array(l.length),v=g.length;_<v;++_)g[_]=l.charCodeAt(_);l=new m([g],{type:c})}function y(t){for(var e=t.split(/[:;,]/),r=e[1],i="base64"==e[2]?atob:decodeURIComponent,n=i(e.pop()),o=n.length,s=0,a=new Uint8Array(o);s<o;++s)a[s]=n.charCodeAt(s);return new m([a],{type:r})}function b(t,e){if("download"in h)return h.href=t,h.setAttribute("download",d),h.className="download-js-link",h.innerHTML="downloading...",h.style.display="none",document.body.appendChild(h),setTimeout(function(){h.click(),document.body.removeChild(h),!0===e&&setTimeout(function(){s.URL.revokeObjectURL(h.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,a)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var r=document.createElement("iframe");document.body.appendChild(r),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,a)),r.src=t,setTimeout(function(){document.body.removeChild(r)},333)}if(n=l instanceof m?l:new m([l],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(n,d);if(s.URL)b(s.URL.createObjectURL(n),!0);else{if("string"==typeof n||n.constructor===f)try{return b("data:"+c+";base64,"+s.btoa(n))}catch(e){return b("data:"+c+","+encodeURIComponent(n))}(o=new FileReader).onload=function(t){b(this.result)},o.readAsDataURL(n)}return!0}})?i.apply(e,n):i)||(t.exports=o)},af19:function(t,e,r){r("6316"),t.exports=r("a7d3").Reflect.get},af7e:function(t,e,r){r("50e9");var i=r("a7d3").Object;t.exports=function(t,e){return i.create(t,e)}},b047:function(t,e){t.exports=function(t){return function(e){return t(e)}}},b0b4:function(t,e,r){"use strict";r.d(e,"a",function(){return s});var i=r("85f2"),n=r.n(i);function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n()(t,i.key,i)}}function s(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}},b0bc:function(t,e){t.exports=function(t,e,r,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(r+": incorrect invocation!");return t}},b0c5:function(t,e,r){"use strict";var i=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},b0ee:function(t,e,r){},b1e5:function(t,e,r){var i=r("a994"),n=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,o,s,a){var c=1&r,l=i(t),u=l.length;if(u!=i(e).length&&!c)return!1;for(var h=u;h--;){var f=l[h];if(!(c?f in e:n.call(e,f)))return!1}var m=a.get(t);if(m&&a.get(e))return m==e;var d=!0;a.set(t,e),a.set(e,t);for(var p=c;++h<u;){var _=t[f=l[h]],g=e[f];if(o)var v=c?o(g,_,f,e,t,a):o(_,g,f,t,e,a);if(!(void 0===v?_===g||s(_,g,r,o,a):v)){d=!1;break}p=p||"constructor"==f}if(d&&!p){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(d=!1)}return a.delete(t),a.delete(e),d}},b218:function(t,e){t.exports=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}},b22a:function(t,e){t.exports={}},b258:function(t,e,r){r("d256"),r("12fd"),r("d127"),r("d24f"),t.exports=r("a7d3").Symbol},b311:function(t,e,r){
/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
var i;i=function(){return r={},t.m=e=[function(t,e,r){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t};function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=l(r(1)),a=l(r(3)),c=l(r(4));function l(t){return t&&t.__esModule?t:{default:t}}var u=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(h,a.default),n(h,[{key:"resolveOptions",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===i(e.container)?e.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,c.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return f("action",t)}},{key:"defaultTarget",value:function(t){var e=f("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return f("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(t){var e=0<arguments.length&&void 0!==t?t:["copy","cut"],r="string"==typeof e?[e]:e,i=!!document.queryCommandSupported;return r.forEach(function(t){i=i&&!!document.queryCommandSupported(t)}),i}}]),h);function h(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return r.resolveOptions(e),r.listenClick(t),r}function f(t,e){var r="data-clipboard-"+t;if(e.hasAttribute(r))return e.getAttribute(r)}t.exports=u},function(t,e,r){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t};function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s,a=r(2),c=(s=a)&&s.__esModule?s:{default:s},l=(n(u,[{key:"resolveOptions",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,c.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,c.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(t){var e=0<arguments.length&&void 0!==t?t:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),u);function u(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.resolveOptions(t),this.initSelection()}t.exports=l},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var r=t.hasAttribute("readonly");r||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),r||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),n=document.createRange();n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n),e=i.toString()}return e}},function(t,e){function r(){}r.prototype={on:function(t,e,r){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var i=this;function n(){i.off(t,n),e.apply(r,arguments)}return n._=e,this.on(t,n,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),i=0,n=r.length;i<n;i++)r[i].fn.apply(r[i].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),i=r[t],n=[];if(i&&e)for(var o=0,s=i.length;o<s;o++)i[o].fn!==e&&i[o].fn._!==e&&n.push(i[o]);return n.length?r[t]=n:delete r[t],this}},t.exports=r},function(t,e,r){var i=r(5),n=r(6);t.exports=function(t,e,r){if(!t&&!e&&!r)throw new Error("Missing required arguments");if(!i.string(e))throw new TypeError("Second argument must be a String");if(!i.fn(r))throw new TypeError("Third argument must be a Function");if(i.node(t))return function(t,e,r){return t.addEventListener(e,r),{destroy:function(){t.removeEventListener(e,r)}}}(t,e,r);if(i.nodeList(t))return function(t,e,r){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,r)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,r)})}}}(t,e,r);if(i.string(t))return function(t,e,r){return n(document.body,t,e,r)}(t,e,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var r=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===r||"[object HTMLCollection]"===r)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,r){var i=r(7);function n(t,e,r,n,o){var s=function(t,e,r,n){return function(r){r.delegateTarget=i(r.target,e),r.delegateTarget&&n.call(t,r)}}.apply(this,arguments);return t.addEventListener(r,s,o),{destroy:function(){t.removeEventListener(r,s,o)}}}t.exports=function(t,e,r,i,o){return"function"==typeof t.addEventListener?n.apply(null,arguments):"function"==typeof r?n.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return n(t,e,r,i,o)}))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}],t.c=r,t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:i})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(i,n,function(t){return e[t]}.bind(null,n));return i},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s=0);function t(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var e,r},t.exports=i()},b313:function(t,e,r){"use strict";var i=String.prototype.replace,n=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return i.call(t,n,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},b347:function(t,e,r){r("12fd"),r("93c4"),r("b42c"),r("edb9"),r("8747"),r("8a77"),r("261e"),t.exports=r("a7d3").Map},b35b:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},10:function(t,e){t.exports=r("2bb5")},114:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"el-switch",class:{"is-disabled":t.switchDisabled,"is-checked":t.checked},attrs:{role:"switch","aria-checked":t.checked,"aria-disabled":t.switchDisabled},on:{click:function(e){return e.preventDefault(),t.switchValue(e)}}},[r("input",{ref:"input",staticClass:"el-switch__input",attrs:{type:"checkbox",id:t.id,name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:t.switchDisabled},on:{change:t.handleChange,keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.switchValue(e):null}}}),t.inactiveIconClass||t.inactiveText?r("span",{class:["el-switch__label","el-switch__label--left",t.checked?"":"is-active"]},[t.inactiveIconClass?r("i",{class:[t.inactiveIconClass]}):t._e(),!t.inactiveIconClass&&t.inactiveText?r("span",{attrs:{"aria-hidden":t.checked}},[t._v(t._s(t.inactiveText))]):t._e()]):t._e(),r("span",{ref:"core",staticClass:"el-switch__core",style:{width:t.coreWidth+"px"}}),t.activeIconClass||t.activeText?r("span",{class:["el-switch__label","el-switch__label--right",t.checked?"is-active":""]},[t.activeIconClass?r("i",{class:[t.activeIconClass]}):t._e(),!t.activeIconClass&&t.activeText?r("span",{attrs:{"aria-hidden":!t.checked}},[t._v(t._s(t.activeText))]):t._e()]):t._e()])}r.r(e),i._withStripped=!0;var n=r(4),o=r.n(n),s=r(22),a=r.n(s),c=r(10),l=r.n(c),u={name:"ElSwitch",mixins:[a()("input"),l.a,o.a],inject:{elForm:{default:""}},props:{value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:String,inactiveText:String,activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String},data:function(){return{coreWidth:this.width}},created:function(){~[this.activeValue,this.inactiveValue].indexOf(this.value)||this.$emit("input",this.inactiveValue)},computed:{checked:function(){return this.value===this.activeValue},switchDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{checked:function(){this.$refs.input.checked=this.checked,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[this.value])}},methods:{handleChange:function(t){var e=this,r=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",r),this.$emit("change",r),this.$nextTick(function(){e.$refs.input.checked=e.checked})},setBackgroundColor:function(){var t=this.checked?this.activeColor:this.inactiveColor;this.$refs.core.style.borderColor=t,this.$refs.core.style.backgroundColor=t},switchValue:function(){this.switchDisabled||this.handleChange()},getMigratingConfig:function(){return{props:{"on-color":"on-color is renamed to active-color.","off-color":"off-color is renamed to inactive-color.","on-text":"on-text is renamed to active-text.","off-text":"off-text is renamed to inactive-text.","on-value":"on-value is renamed to active-value.","off-value":"off-value is renamed to inactive-value.","on-icon-class":"on-icon-class is renamed to active-icon-class.","off-icon-class":"off-icon-class is renamed to inactive-icon-class."}}}},mounted:function(){this.coreWidth=this.width||40,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.$refs.input.checked=this.checked}},h=r(0),f=Object(h.a)(u,i,[],!1,null,null,null);f.options.__file="packages/switch/src/component.vue";var m=f.exports;m.install=function(t){t.component(m.name,m)},e.default=m},22:function(t,e){t.exports=r("12f2")},4:function(t,e){t.exports=r("d010")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=114))},b367:function(t,e,r){var i=r("5524"),n=r("ef08"),o="__core-js_shared__",s=n[o]||(n[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:r("e444")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},b36f:function(t,e,r){var i=r("a274"),n=r("b67f")("iterator"),o=r("a638");t.exports=r("ca38").getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||o[i(t)]}},b370:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},10:function(t,e){t.exports=r("2bb5")},12:function(t,e){t.exports=r("417f")},127:function(t,e,r){"use strict";r.r(e);var i=r(12),n=r.n(i),o=r(4),s=r.n(o),a=r(10),c=r.n(a),l=r(18),u=r.n(l),h=r(45),f=r.n(h),m=r(3),d={name:"ElDropdown",componentName:"ElDropdown",mixins:[s.a,c.a],directives:{Clickoutside:n.a},components:{ElButton:u.a,ElButtonGroup:f.a},provide:function(){return{dropdown:this}},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom-end"},visibleArrow:{default:!0},showTimeout:{type:Number,default:250},hideTimeout:{type:Number,default:150},tabindex:{type:Number,default:0}},data:function(){return{timeout:null,visible:!1,triggerElm:null,menuItems:null,menuItemsArray:null,dropdownElm:null,focusing:!1,listId:"dropdown-menu-"+Object(m.generateId)()}},computed:{dropdownSize:function(){return this.size||(this.$ELEMENT||{}).size}},mounted:function(){this.$on("menu-item-click",this.handleMenuItemClick)},watch:{visible:function(t){this.broadcast("ElDropdownMenu","visible",t),this.$emit("visible-change",t)},focusing:function(t){var e=this.$el.querySelector(".el-dropdown-selfdefine");e&&(t?e.className+=" focusing":e.className=e.className.replace("focusing",""))}},methods:{getMigratingConfig:function(){return{props:{"menu-align":"menu-align is renamed to placement."}}},show:function(){var t=this;this.triggerElm.disabled||(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.visible=!0},"click"===this.trigger?0:this.showTimeout))},hide:function(){var t=this;this.triggerElm.disabled||(this.removeTabindex(),0<=this.tabindex&&this.resetTabindex(this.triggerElm),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.visible=!1},"click"===this.trigger?0:this.hideTimeout))},handleClick:function(){this.triggerElm.disabled||(this.visible?this.hide():this.show())},handleTriggerKeyDown:function(t){var e=t.keyCode;-1<[38,40].indexOf(e)?(this.removeTabindex(),this.resetTabindex(this.menuItems[0]),this.menuItems[0].focus(),t.preventDefault(),t.stopPropagation()):13===e?this.handleClick():-1<[9,27].indexOf(e)&&this.hide()},handleItemKeyDown:function(t){var e=t.keyCode,r=t.target,i=this.menuItemsArray.indexOf(r),n=this.menuItemsArray.length-1,o=void 0;-1<[38,40].indexOf(e)?(o=38===e?0!==i?i-1:0:i<n?i+1:n,this.removeTabindex(),this.resetTabindex(this.menuItems[o]),this.menuItems[o].focus(),t.preventDefault(),t.stopPropagation()):13===e?(this.triggerElmFocus(),r.click(),this.hideOnClick&&(this.visible=!1)):-1<[9,27].indexOf(e)&&(this.hide(),this.triggerElmFocus())},resetTabindex:function(t){this.removeTabindex(),t.setAttribute("tabindex","0")},removeTabindex:function(){this.triggerElm.setAttribute("tabindex","-1"),this.menuItemsArray.forEach(function(t){t.setAttribute("tabindex","-1")})},initAria:function(){this.dropdownElm.setAttribute("id",this.listId),this.triggerElm.setAttribute("aria-haspopup","list"),this.triggerElm.setAttribute("aria-controls",this.listId),this.splitButton||(this.triggerElm.setAttribute("role","button"),this.triggerElm.setAttribute("tabindex",this.tabindex),this.triggerElm.setAttribute("class",(this.triggerElm.getAttribute("class")||"")+" el-dropdown-selfdefine"))},initEvent:function(){var t=this,e=this.trigger,r=this.show,i=this.hide,n=this.handleClick,o=this.splitButton,s=this.handleTriggerKeyDown,a=this.handleItemKeyDown;this.triggerElm=o?this.$refs.trigger.$el:this.$slots.default[0].elm;var c=this.dropdownElm;this.triggerElm.addEventListener("keydown",s),c.addEventListener("keydown",a,!0),o||(this.triggerElm.addEventListener("focus",function(){t.focusing=!0}),this.triggerElm.addEventListener("blur",function(){t.focusing=!1}),this.triggerElm.addEventListener("click",function(){t.focusing=!1})),"hover"===e?(this.triggerElm.addEventListener("mouseenter",r),this.triggerElm.addEventListener("mouseleave",i),c.addEventListener("mouseenter",r),c.addEventListener("mouseleave",i)):"click"===e&&this.triggerElm.addEventListener("click",n)},handleMenuItemClick:function(t,e){this.hideOnClick&&(this.visible=!1),this.$emit("command",t,e)},triggerElmFocus:function(){this.triggerElm.focus&&this.triggerElm.focus()},initDomOperation:function(){this.dropdownElm=this.popperElm,this.menuItems=this.dropdownElm.querySelectorAll("[tabindex='-1']"),this.menuItemsArray=[].slice.call(this.menuItems),this.initEvent(),this.initAria()}},render:function(t){var e=this,r=this.hide,i=this.splitButton,n=this.type,o=this.dropdownSize,s=i?t("el-button-group",[t("el-button",{attrs:{type:n,size:o},nativeOn:{click:function(t){e.$emit("click",t),r()}}},[this.$slots.default]),t("el-button",{ref:"trigger",attrs:{type:n,size:o},class:"el-dropdown__caret-button"},[t("i",{class:"el-dropdown__icon el-icon-arrow-down"})])]):this.$slots.default;return t("div",{class:"el-dropdown",directives:[{name:"clickoutside",value:r}]},[s,this.$slots.dropdown])}},p=r(0),_=Object(p.a)(d,void 0,void 0,!1,null,null,null);_.options.__file="packages/dropdown/src/dropdown.vue";var g=_.exports;g.install=function(t){t.component(g.name,g)},e.default=g},18:function(t,e){t.exports=r("eedf")},3:function(t,e){t.exports=r("8122")},4:function(t,e){t.exports=r("d010")},45:function(t,e){t.exports=r("845f")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=127))},b3e7:function(t,e){t.exports=function(){}},b3ec:function(t,e,r){"use strict";var i=r("3adc"),n=r("f845");t.exports=function(t,e,r){e in t?i.f(t,e,n(0,r)):t[e]=r}},b42c:function(t,e,r){r("fa54");for(var i=r("da3c"),n=r("8ce0"),o=r("b22a"),s=r("1b55")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var l=a[c],u=i[l],h=u&&u.prototype;h&&!h[s]&&n(h,s,l),o[l]=o.Array}},b457:function(t,e){t.exports=!0},b4b0:function(t,e,r){var i=r("1a8c"),n=r("ffd6"),o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(n(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=a.test(t);return r||c.test(t)?l(t.slice(2),r?2:8):s.test(t)?NaN:+t}},b4c0:function(t,e,r){var i=r("cb5a");t.exports=function(t){var e=this.__data__,r=i(e,t);return r<0?void 0:e[r][1]}},b50d:function(t,e,r){"use strict";var i=r("c532"),n=r("467f"),o=r("30b5"),s=r("c345"),a=r("3934"),c=r("2d83"),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r("9fa6");t.exports=function(t){return new Promise(function(e,u){var h=t.data,f=t.headers;i.isFormData(h)&&delete f["Content-Type"];var m=new XMLHttpRequest,d="onreadystatechange",p=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in m||a(t.url)||(m=new window.XDomainRequest,d="onload",p=!0,m.onprogress=function(){},m.ontimeout=function(){}),t.auth){var _=t.auth.username||"",g=t.auth.password||"";f.Authorization="Basic "+l(_+":"+g)}if(m.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),m.timeout=t.timeout,m[d]=function(){if(m&&(4===m.readyState||p)&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in m?s(m.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?m.response:m.responseText,status:1223===m.status?204:m.status,statusText:1223===m.status?"No Content":m.statusText,headers:r,config:t,request:m};n(e,u,i),m=null}},m.onerror=function(){u(c("Network Error",t,null,m)),m=null},m.ontimeout=function(){u(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",m)),m=null},i.isStandardBrowserEnv()){var v=r("7aac"),y=(t.withCredentials||a(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in m&&i.forEach(f,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete f[e]:m.setRequestHeader(e,t)}),t.withCredentials&&(m.withCredentials=!0),t.responseType)try{m.responseType=t.responseType}catch(d){if("json"!==t.responseType)throw d}"function"==typeof t.onDownloadProgress&&m.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){m&&(m.abort(),u(t),m=null)}),void 0===h&&(h=null),m.send(h)})}},b54a:function(t,e,r){"use strict";r("386b")("link",function(t){return function(e){return t(this,"a","href",e)}})},b5a7:function(t,e,r){var i=r("0b07")(r("2b3e"),"DataView");t.exports=i},b5aa:function(t,e,r){var i=r("6e1f");t.exports=Array.isArray||function(t){return"Array"==i(t)}},b5c2:function(t,e,r){},b5cb:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},b604:function(t,e,r){"use strict";var i=r("d13f"),n=r("a7d3"),o=r("da3c"),s=r("302f"),a=r("decf");i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,n.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return a(e,t()).then(function(){return r})}:t,r?function(r){return a(e,t()).then(function(){throw r})}:t)}})},b629:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},b639:function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=r("1fb5"),n=r("9152"),o=r("e3db");function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,r);if("number"!=typeof t)return l(this,t,e,r);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}function l(t,e,r,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e),t}(t,e,r,i):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(e,r),n=(t=a(t,i)).write(e,r);return n!==i&&(t=t.slice(0,n)),t}(t,e,r):function(t,e){if(c.isBuffer(e)){var r=0|m(e.length);return 0===(t=a(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(u(e),t=a(t,e<0?0:0|m(e)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|m(e.length);t=a(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function m(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(t).length;default:if(i)return L(t).length;e=(""+e).toLowerCase(),i=!0}}function p(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function _(t,e,r,i,n){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:g(t,e,r,i,n);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):g(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function g(t,e,r,i,n){var o,s=1,a=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a/=s=2,c/=2,r/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(n){var u=-1;for(o=r;o<a;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(a<r+c&&(r=a-c),o=r;0<=o;o--){for(var h=!0,f=0;f<c;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function v(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?n<(i=Number(i))&&(i=n):i=n;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<i&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function y(t,e,r,i){return B(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function b(t,e,r,i){return B(function(t,e){for(var r,i,n,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}(e,t.length-r),t,r,i)}function x(t,e,r){return 0===e&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,r))}function w(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o,s,a,c,l=t[n],u=null,h=239<l?4:223<l?3:191<l?2:1;if(n+h<=r)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(o=t[n+1]))&&127<(c=(31&l)<<6|63&o)&&(u=c);break;case 3:o=t[n+1],s=t[n+2],128==(192&o)&&128==(192&s)&&2047<(c=(15&l)<<12|(63&o)<<6|63&s)&&(c<55296||57343<c)&&(u=c);break;case 4:o=t[n+1],s=t[n+2],a=t[n+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)&&c<1114112&&(u=c)}null===u?(u=65533,h=1):65535<u&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),n+=h}return function(t){var e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=S));return r}(i)}e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,r){return l(null,t,e,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,r){return function(t,e,r,i){return u(e),e<=0?a(t,e):void 0!==r?"string"==typeof i?a(t,e).fill(r,i):a(t,e).fill(r):a(t,e)}(null,t,e,r)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;var i=c.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var s=t[r];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,n),n+=s.length}return i},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?w(this,0,t):function(t,e,r){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return E(this,e,r);case"utf8":case"utf-8":return w(this,e,r);case"ascii":return C(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,r,i,n){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(n<=i&&r<=e)return 0;if(n<=i)return-1;if(r<=e)return 1;if(this===t)return 0;for(var o=(n>>>=0)-(i>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(i,n),u=t.slice(e,r),h=0;h<a;++h)if(l[h]!==u[h]){o=l[h],s=u[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return _(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return _(this,t,e,r,!1)},c.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-e;if((void 0===r||n<r)&&(r=n),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var o,s,a,c,l,u,h=!1;;)switch(i){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return l=e,u=r,B(L(t,(c=this).length-l),c,l,u);case"ascii":return y(this,t,e,r);case"latin1":case"binary":return y(this,t,e,r);case"base64":return o=this,s=e,a=r,B(N(t),o,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,t,e,r);default:if(h)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),h=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function C(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function T(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function E(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||i<r)&&(r=i);for(var n="",o=e;o<r;++o)n+=F(t[o]);return n}function O(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function k(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(r<t+e)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,r,i,n,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n<e||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function M(t,e,r,i){e<0&&(e=65535+e+1);for(var n=0,o=Math.min(t.length-r,2);n<o;++n)t[r+n]=(e&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function P(t,e,r,i){e<0&&(e=4294967295+e+1);for(var n=0,o=Math.min(t.length-r,4);n<o;++n)t[r+n]=e>>>8*(i?n:3-n)&255}function D(t,e,r,i){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(t,e,r,i,o){return o||D(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function z(t,e,r,i,o){return o||D(t,0,r,8),n.write(t,e,r,i,52,8),r+8}c.prototype.slice=function(t,e){var r,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=c.prototype;else{var n=e-t;r=new c(n,void 0);for(var o=0;o<n;++o)r[o]=this[o+t]}return r},c.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||k(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},c.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||k(t,e,this.length);for(var i=this[t+--e],n=1;0<e&&(n*=256);)i+=this[t+--e]*n;return i},c.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||k(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return(n*=128)<=i&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||k(t,e,this.length);for(var i=e,n=1,o=this[t+--i];0<i&&(n*=256);)o+=this[t+--i]*n;return(n*=128)<=o&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),n.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),n.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),n.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),n.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,r,i){t=+t,e|=0,r|=0,i||A(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},c.prototype.writeUIntBE=function(t,e,r,i){t=+t,e|=0,r|=0,i||A(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[e+n]=255&t;0<=--n&&(o*=256);)this[e+n]=t/o&255;return e+r},c.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);A(this,t,e,r,n-1,-n)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},c.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);A(this,t,e,r,n-1,-n)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;0<=--o&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,r){return j(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return j(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return z(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return z(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,i){if(r=r||0,i||0===i||(i=this.length),e>=t.length&&(e=t.length),e=e||0,0<i&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n,o=i-r;if(this===t&&r<e&&e<i)for(n=o-1;0<=n;--n)t[n+e]=this[n+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},c.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(t=t||0))for(o=e;o<r;++o)this[o]=t;else{var s=c.isBuffer(t)?t:L(new c(t,i).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var I=/[^+\/0-9A-Za-z-_]/g;function R(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(I,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function L(t,e){var r;e=e||1/0;for(var i=t.length,n=null,o=[],s=0;s<i;++s){if(55295<(r=t.charCodeAt(s))&&r<57344){if(!n){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===i){-1<(e-=3)&&o.push(239,191,189);continue}n=r;continue}if(r<56320){-1<(e-=3)&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&-1<(e-=3)&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function N(t){return i.toByteArray(R(t))}function B(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}}).call(this,r("c8ba"))},b67f:function(t,e,r){var i=r("312a")("wks"),n=r("c0f4"),o=r("b808").Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:n)("Symbol."+t))}).store=i},b6d0:function(t,e,r){t.exports=r("be39")},b760:function(t,e,r){var i=r("872a"),n=r("9638");t.exports=function(t,e,r){(void 0===r||n(t[e],r))&&(void 0!==r||e in t)||i(t,e,r)}},b77f:function(t,e,r){var i=r("0f89"),n=r("f159");t.exports=r("a7d3").getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},b808:function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},b8ce:function(t,e,r){var i=r("3818");t.exports=function(t){return i(t,4)}},b938:function(t,e,r){var i=r("ab4c");t.exports=function(t,e){if(!i(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!i(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},b9c7:function(t,e,r){r("e507"),t.exports=r("5524").Object.assign},ba01:function(t,e,r){t.exports=r("051b")},ba92:function(t,e,r){"use strict";var i=r("4bf8"),n=r("77f1"),o=r("9def");t.exports=[].copyWithin||function(t,e,r){var s=i(this),a=o(s.length),c=n(t,a),l=n(e,a),u=2<arguments.length?r:void 0,h=Math.min((void 0===u?a:n(u,a))-l,a-c),f=1;for(l<c&&c<l+h&&(f=-1,l+=h-1,c+=h-1);0<h--;)l in s?s[c]=s[l]:delete s[c],c+=f,l+=f;return s}},badf:function(t,e,r){var i=r("642a"),n=r("1838"),o=r("cd9d"),s=r("6747"),a=r("f9ce");t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?n(t[0],t[1]):i(t):a(t)}},bbc0:function(t,e,r){var i=r("6044"),n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return n.call(e,t)?e[t]:void 0}},bbc1:function(t,e,r){var i=r("7b25"),n="object"==typeof window?window:self,o=Object.keys(n).length,s=i(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+o.toString(36),4);t.exports=function(){return s}},bbf0:function(t,e,r){var i=r("27a3"),n=r("0425");e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!i.isValid(e))throw new Error("Invalid version: "+e);return 1<=e&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return n.testNumeric(t)?e.NUMERIC:n.testAlphanumeric(t)?e.ALPHANUMERIC:n.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return r}}},bc25:function(t,e,r){var i=r("f2fe");t.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,n){return t.call(e,r,i,n)}}return function(){return t.apply(e,arguments)}}},bc3a:function(t,e,r){t.exports=r("cee4")},bcdf:function(t,e){t.exports=function(){}},bd49:function(t,e,r){},bd86:function(t,e,r){"use strict";r.d(e,"a",function(){return o});var i=r("85f2"),n=r.n(i);function o(t,e,r){return e in t?n()(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},be13:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},be39:function(t,e,r){r("12fd"),r("93c4"),r("b42c"),r("08f1"),r("22b5"),r("1835"),r("3ae3"),t.exports=r("a7d3").Set},be5a:function(t,e,r){var i=r("312a")("keys"),n=r("c0f4");t.exports=function(t){return i[t]||(i[t]=n(t))}},befa:function(t,e,r){var i=r("bbf0"),n=r("dd7e"),o=r("9d94"),s=r("0196"),a=r("2f3a"),c=r("0425"),l=r("7bf0"),u=r("10b0");function h(t){return unescape(encodeURIComponent(t)).length}function f(t,e,r){for(var i,n=[];null!==(i=t.exec(r));)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function m(t){var e,r,n=f(c.NUMERIC,i.NUMERIC,t),o=f(c.ALPHANUMERIC,i.ALPHANUMERIC,t);return r=l.isKanjiModeEnabled()?(e=f(c.BYTE,i.BYTE,t),f(c.KANJI,i.KANJI,t)):(e=f(c.BYTE_KANJI,i.BYTE,t),[]),n.concat(o,e,r).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function d(t,e){switch(e){case i.NUMERIC:return n.getBitsLength(t);case i.ALPHANUMERIC:return o.getBitsLength(t);case i.KANJI:return a.getBitsLength(t);case i.BYTE:return s.getBitsLength(t)}}function p(t,e){var r,c=i.getBestModeForData(t);if((r=i.from(e,c))!==i.BYTE&&r.bit<c.bit)throw new Error('"'+t+'" cannot be encoded with mode '+i.toString(r)+".\n Suggested mode is: "+i.toString(c));switch(r!==i.KANJI||l.isKanjiModeEnabled()||(r=i.BYTE),r){case i.NUMERIC:return new n(t);case i.ALPHANUMERIC:return new o(t);case i.KANJI:return new a(t);case i.BYTE:return new s(t)}}e.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(p(e,null)):e.data&&t.push(p(e.data,e.mode)),t},[])},e.fromString=function(t,r){for(var n=function(t,e){for(var r={},n={start:{}},o=["start"],s=0;s<t.length;s++){for(var a=t[s],c=[],l=0;l<a.length;l++){var u=a[l],h=""+s+l;c.push(h),r[h]={node:u,lastCount:0},n[h]={};for(var f=0;f<o.length;f++){var m=o[f];r[m]&&r[m].node.mode===u.mode?(n[m][h]=d(r[m].lastCount+u.length,u.mode)-d(r[m].lastCount,u.mode),r[m].lastCount+=u.length):(r[m]&&(r[m].lastCount=u.length),n[m][h]=d(u.length,u.mode)+4+i.getCharCountIndicator(u.mode,e))}}o=c}for(f=0;f<o.length;f++)n[o[f]].end=0;return{map:n,table:r}}(function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];switch(n.mode){case i.NUMERIC:e.push([n,{data:n.data,mode:i.ALPHANUMERIC,length:n.length},{data:n.data,mode:i.BYTE,length:n.length}]);break;case i.ALPHANUMERIC:e.push([n,{data:n.data,mode:i.BYTE,length:n.length}]);break;case i.KANJI:e.push([n,{data:n.data,mode:i.BYTE,length:h(n.data)}]);break;case i.BYTE:e.push([{data:n.data,mode:i.BYTE,length:h(n.data)}])}}return e}(m(t,l.isKanjiModeEnabled())),r),o=u.find_path(n.map,"start","end"),s=[],a=1;a<o.length-1;a++)s.push(n.table[o[a]].node);return e.fromArray(function(t){return t.reduce(function(t,e){var r=0<=t.length-1?t[t.length-1]:null;return r&&r.mode===e.mode?t[t.length-1].data+=e.data:t.push(e),t},[])}(s))},e.rawSplit=function(t){return e.fromArray(m(t,l.isKanjiModeEnabled()))}},bf06:function(t,e,r){var i=r("02d7");t.exports=function(t,e){return new(i(t))(e)}},bf41:function(t,e){e.f={}.propertyIsEnumerable},c05f:function(t,e,r){var i=r("7b97"),n=r("1310");t.exports=function t(e,r,o,s,a){return e===r||(null==e||null==r||!n(e)&&!n(r)?e!=e&&r!=r:i(e,r,o,s,t,a))}},c098:function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&r.test(t))&&-1<t&&t%1==0&&t<e}},c0bb:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},116:function(t,e,r){"use strict";function i(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-collapse",attrs:{role:"tablist","aria-multiselectable":"true"}},[this._t("default")],2)}r.r(e),i._withStripped=!0;var n={name:"ElCollapse",componentName:"ElCollapse",props:{accordion:Boolean,value:{type:[Array,String,Number],default:function(){return[]}}},data:function(){return{activeNames:[].concat(this.value)}},provide:function(){return{collapse:this}},watch:{value:function(t){this.activeNames=[].concat(t)}},methods:{setActiveNames:function(t){t=[].concat(t);var e=this.accordion?t[0]:t;this.activeNames=t,this.$emit("input",e),this.$emit("change",e)},handleItemClick:function(t){if(this.accordion)this.setActiveNames(!this.activeNames[0]&&0!==this.activeNames[0]||this.activeNames[0]!==t.name?t.name:"");else{var e=this.activeNames.slice(0),r=e.indexOf(t.name);-1<r?e.splice(r,1):e.push(t.name),this.setActiveNames(e)}}},created:function(){this.$on("item-click",this.handleItemClick)}},o=r(0),s=Object(o.a)(n,i,[],!1,null,null,null);s.options.__file="packages/collapse/src/collapse.vue";var a=s.exports;a.install=function(t){t.component(a.name,a)},e.default=a}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=116))},c0d8:function(t,e,r){var i=r("3adc").f,n=r("43c8"),o=r("1b55")("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},c0f4:function(t,e){var r=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},c165:function(t,e,r){var i=r("d13f"),n=r("a7d3"),o=r("d782");t.exports=function(t,e){var r=(n.Object||{})[t]||Object[t],s={};s[t]=e(r),i(i.S+i.F*o(function(){r(1)}),"Object",s)}},c1c9:function(t,e,r){var i=r("a454"),n=r("f3c1")(i);t.exports=n},c227:function(t,e,r){var i=r("b22a"),n=r("1b55")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[n]===t)}},c284:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},88:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"el-progress",class:["el-progress--"+t.type,t.status?"is-"+t.status:"",{"el-progress--without-text":!t.showText,"el-progress--text-inside":t.textInside}],attrs:{role:"progressbar","aria-valuenow":t.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===t.type?r("div",{staticClass:"el-progress-bar"},[r("div",{staticClass:"el-progress-bar__outer",style:{height:t.strokeWidth+"px"}},[r("div",{staticClass:"el-progress-bar__inner",style:t.barStyle},[t.showText&&t.textInside?r("div",{staticClass:"el-progress-bar__innerText"},[t._v(t._s(t.content))]):t._e()])])]):r("div",{staticClass:"el-progress-circle",style:{height:t.width+"px",width:t.width+"px"}},[r("svg",{attrs:{viewBox:"0 0 100 100"}},[r("path",{staticClass:"el-progress-circle__track",style:t.trailPathStyle,attrs:{d:t.trackPath,stroke:"#e5e9f2","stroke-width":t.relativeStrokeWidth,fill:"none"}}),r("path",{staticClass:"el-progress-circle__path",style:t.circlePathStyle,attrs:{d:t.trackPath,stroke:t.stroke,fill:"none","stroke-linecap":"round","stroke-width":t.percentage?t.relativeStrokeWidth:0}})])]),t.showText&&!t.textInside?r("div",{staticClass:"el-progress__text",style:{fontSize:t.progressTextSize+"px"}},[t.status?r("i",{class:t.iconClass}):[t._v(t._s(t.content))]],2):t._e()])}r.r(e),i._withStripped=!0;var n={name:"ElProgress",props:{type:{type:String,default:"line",validator:function(t){return-1<["line","circle","dashboard"].indexOf(t)}},percentage:{type:Number,default:0,required:!0,validator:function(t){return 0<=t&&t<=100}},status:{type:String,validator:function(t){return-1<["success","exception","warning"].indexOf(t)}},strokeWidth:{type:Number,default:6},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var t={};return t.width=this.percentage+"%",t.backgroundColor=this.getCurrentColor(this.percentage),t},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var t=this.radius,e="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(e?"":"-")+t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"-":"")+2*t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"":"-")+2*t+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){return-1*this.perimeter*(1-this.rate)/2+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var t=void 0;if(this.color)t=this.getCurrentColor(this.percentage);else switch(this.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;case"warning":t="#e6a23c";break;default:t="#20a0ff"}return t},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"==typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(t){return"function"==typeof this.color?this.color(t):"string"==typeof this.color?this.color:this.getLevelColor(t)},getLevelColor:function(t){for(var e=this.getColorArray().sort(function(t,e){return t.percentage-e.percentage}),r=0;r<e.length;r++)if(e[r].percentage>t)return e[r].color;return e[e.length-1].color},getColorArray:function(){var t=this.color,e=100/t.length;return t.map(function(t,r){return"string"==typeof t?{color:t,progress:(r+1)*e}:t})}}},o=r(0),s=Object(o.a)(n,i,[],!1,null,null,null);s.options.__file="packages/progress/src/progress.vue";var a=s.exports;a.install=function(t){t.component(a.name,a)},e.default=a}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=88))},c2b6:function(t,e,r){var i=r("f8af"),n=r("5d89"),o=r("6f6c"),s=r("a2db"),a=r("c8fe");t.exports=function(t,e,r){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return i(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return n(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return o(t);case"[object Set]":return new c;case"[object Symbol]":return s(t)}}},c339:function(t,e,r){var i=r("0f4a"),n=r("4cf4"),o=r("be5a")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},c345:function(t,e,r){"use strict";var i=r("c532"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,s={};return t&&i.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),r=i.trim(t.substr(o+1)),e){if(s[e]&&0<=n.indexOf(e))return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([r]):s[e]?s[e]+", "+r:r}}),s}},c366:function(t,e,r){var i=r("6821"),n=r("9def"),o=r("77f1");t.exports=function(t){return function(e,r,s){var a,c=i(e),l=n(c.length),u=o(s,l);if(t&&r!=r){for(;u<l;)if((a=c[u++])!=a)return!0}else for(;u<l;u++)if((t||u in c)&&c[u]===r)return t||u||0;return!t&&-1}}},c3fc:function(t,e,r){var i=r("42a2"),n=r("1310");t.exports=function(t){return n(t)&&"[object Set]"==i(t)}},c401:function(t,e,r){"use strict";var i=r("c532");t.exports=function(t,e,r){return i.forEach(r,function(r){t=r(t,e)}),t}},c437:function(t,e,r){var i,n,o=r("e1f4"),s=r("2366"),a=0,c=0;t.exports=function(t,e,r){var l=e&&r||0,u=e||[],h=(t=t||{}).node||i,f=void 0!==t.clockseq?t.clockseq:n;if(null==h||null==f){var m=o();null==h&&(h=i=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==f&&(f=n=16383&(m[6]<<8|m[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),p=void 0!==t.nsecs?t.nsecs:c+1,_=d-a+(p-c)/1e4;if(_<0&&void 0===t.clockseq&&(f=f+1&16383),(_<0||a<d)&&void 0===t.nsecs&&(p=0),1e4<=p)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=d,n=f;var g=(1e4*(268435455&(d+=122192928e5))+(c=p))%4294967296;u[l++]=g>>>24&255,u[l++]=g>>>16&255,u[l++]=g>>>8&255,u[l++]=255&g;var v=d/4294967296*1e4&268435455;u[l++]=v>>>8&255,u[l++]=255&v,u[l++]=v>>>24&15|16,u[l++]=v>>>16&255,u[l++]=f>>>8|128,u[l++]=255&f;for(var y=0;y<6;++y)u[l+y]=h[y];return e||s(u)}},c532:function(t,e,r){"use strict";var i=r("1d2b"),n=r("044b"),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===o.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:n,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:c,isStream:function(t){return a(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function r(r,i){"object"==typeof e[i]&&"object"==typeof r?e[i]=t(e[i],r):e[i]=r}for(var i=0,n=arguments.length;i<n;i++)l(arguments[i],r);return e},extend:function(t,e,r){return l(e,function(e,n){t[n]=r&&"function"==typeof e?i(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},c584:function(t,e){t.exports=function(t,e){return t.has(e)}},c5f6:function(t,e,r){"use strict";function i(t){var e=c(t,!1);if("string"==typeof e&&2<e.length){var r,i,n,o=(e=y?e.trim():m(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+e}for(var s,a=e.slice(2),l=0,u=a.length;l<u;l++)if((s=a.charCodeAt(l))<48||n<s)return NaN;return parseInt(a,i)}}return+e}var n=r("7726"),o=r("69a8"),s=r("2d95"),a=r("5dbc"),c=r("6a99"),l=r("79e5"),u=r("9093").f,h=r("11e9").f,f=r("86cc").f,m=r("aa77").trim,d="Number",p=n[d],_=p,g=p.prototype,v=s(r("2aeb")(g))==d,y="trim"in String.prototype;if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof p&&(v?l(function(){g.valueOf.call(r)}):s(r)!=d)?a(new _(i(e)),r,p):i(e)};for(var b,x=r("9e1e")?u(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)o(_,b=x[w])&&!o(p,b)&&f(p,b,h(_,b));(p.prototype=g).constructor=p,r("2aba")(n,d,p)}},c609:function(t,e,r){"use strict";var i=r("d13f"),n=r("03ca"),o=r("75c9");i(i.S,"Promise",{try:function(t){var e=n.f(this),r=o(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},c64e:function(t,e,r){var i=r("e1f4"),n=r("2366");t.exports=function(t,e,r){var o=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||n(s)}},c69a:function(t,e,r){t.exports=!r("9e1e")&&!r("79e5")(function(){return 7!=Object.defineProperty(r("230e")("div"),"a",{get:function(){return 7}}).a})},c7ad:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},10:function(t,e){t.exports=r("2bb5")},11:function(t,e){t.exports=r("f3ad")},112:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:function(){return t.toggleDropDownVisible(!1)},expression:"() => toggleDropDownVisible(false)"}],ref:"reference",class:["el-cascader",t.realSize&&"el-cascader--"+t.realSize,{"is-disabled":t.isDisabled}],on:{mouseenter:function(e){t.inputHover=!0},mouseleave:function(e){t.inputHover=!1},click:function(){return t.toggleDropDownVisible(!t.readonly||void 0)},keydown:t.handleKeyDown}},[r("el-input",{ref:"input",class:{"is-focus":t.dropDownVisible},attrs:{size:t.realSize,placeholder:t.placeholder,readonly:t.readonly,disabled:t.isDisabled,"validate-event":!1},on:{focus:t.handleFocus,blur:t.handleBlur,input:t.handleInput},model:{value:t.multiple?t.presentText:t.inputValue,callback:function(e){t.multiple?t.presentText:t.inputValue=e},expression:"multiple ? presentText : inputValue"}},[r("template",{slot:"suffix"},[t.clearBtnVisible?r("i",{key:"clear",staticClass:"el-input__icon el-icon-circle-close",on:{click:function(e){return e.stopPropagation(),t.handleClear(e)}}}):r("i",{key:"arrow-down",class:["el-input__icon","el-icon-arrow-down",t.dropDownVisible&&"is-reverse"],on:{click:function(e){e.stopPropagation(),t.toggleDropDownVisible()}}})])],2),t.multiple?r("div",{staticClass:"el-cascader__tags"},[t._l(t.presentTags,function(e,i){return r("el-tag",{key:e.key,attrs:{type:"info",size:t.tagSize,hit:e.hitState,closable:e.closable,"disable-transitions":""},on:{close:function(e){t.deleteTag(i)}}},[r("span",[t._v(t._s(e.text))])])}),t.filterable&&!t.isDisabled?r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputValue,expression:"inputValue",modifiers:{trim:!0}}],staticClass:"el-cascader__search-input",attrs:{type:"text",placeholder:t.presentTags.length?"":t.placeholder},domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value.trim())},function(e){return t.handleInput(t.inputValue,e)}],click:function(e){e.stopPropagation(),t.toggleDropDownVisible(!0)},keydown:function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?t.handleDelete(e):null},blur:function(e){t.$forceUpdate()}}}):t._e()],2):t._e(),r("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.handleDropdownLeave}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.dropDownVisible,expression:"dropDownVisible"}],ref:"popper",class:["el-popper","el-cascader__dropdown",t.popperClass]},[r("el-cascader-panel",{directives:[{name:"show",rawName:"v-show",value:!t.filtering,expression:"!filtering"}],ref:"panel",attrs:{options:t.options,props:t.config,border:!1,"render-label":t.$scopedSlots.default},on:{"expand-change":t.handleExpandChange,close:function(e){t.toggleDropDownVisible(!1)}},model:{value:t.checkedValue,callback:function(e){t.checkedValue=e},expression:"checkedValue"}}),t.filterable?r("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.filtering,expression:"filtering"}],ref:"suggestionPanel",staticClass:"el-cascader__suggestion-panel",attrs:{tag:"ul","view-class":"el-cascader__suggestion-list"},nativeOn:{keydown:function(e){return t.handleSuggestionKeyDown(e)}}},[t.suggestions.length?t._l(t.suggestions,function(e,i){return r("li",{key:e.uid,class:["el-cascader__suggestion-item",e.checked&&"is-checked"],attrs:{tabindex:-1},on:{click:function(e){t.handleSuggestionClick(i)}}},[r("span",[t._v(t._s(e.text))]),e.checked?r("i",{staticClass:"el-icon-check"}):t._e()])}):t._t("empty",[r("li",{staticClass:"el-cascader__empty-text"},[t._v(t._s(t.t("el.cascader.noMatch")))])])],2):t._e()],1)])],1)}r.r(e),i._withStripped=!0;var n=r(5),o=r.n(n),s=r(12),a=r.n(s),c=r(4),l=r.n(c),u=r(6),h=r.n(u),f=r(10),m=r.n(f),d=r(11),p=r.n(d),_=r(36),g=r.n(_),v=r(13),y=r.n(v),b=r(50),x=r.n(b),w=r(39),S=r.n(w),C=r(20),T=r(3),E=r(19),O=r(21),k=r(15),A=r(16),M=r.n(A),P=S.a.keys,D={expandTrigger:{newProp:"expandTrigger",type:String},changeOnSelect:{newProp:"checkStrictly",type:Boolean},hoverThreshold:{newProp:"hoverThreshold",type:Number}},j={props:{placement:{type:String,default:"bottom-start"},appendToBody:o.a.props.appendToBody,visibleArrow:{type:Boolean,default:!0},arrowOffset:o.a.props.arrowOffset,offset:o.a.props.offset,boundariesPadding:o.a.props.boundariesPadding,popperOptions:o.a.props.popperOptions},methods:o.a.methods,data:o.a.data,beforeDestroy:o.a.beforeDestroy},z={medium:36,small:32,mini:28},I={name:"ElCascader",directives:{Clickoutside:a.a},mixins:[j,l.a,h.a,m.a],inject:{elForm:{default:""},elFormItem:{default:""}},components:{ElInput:p.a,ElTag:g.a,ElScrollbar:y.a,ElCascaderPanel:x.a},props:{value:{},options:Array,props:Object,size:String,placeholder:{type:String,default:function(){return Object(C.t)("el.cascader.placeholder")}},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:Function,separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,debounce:{type:Number,default:300},beforeFilter:{type:Function,default:function(){return function(){}}},popperClass:String},data:function(){return{dropDownVisible:!1,checkedValue:this.value||null,inputHover:!1,inputValue:null,presentText:null,presentTags:[],checkedNodes:[],filtering:!1,suggestions:[],inputInitialHeight:0,pressDeleteCount:0}},computed:{realSize:function(){var t=(this.elFormItem||{}).elFormItemSize;return this.size||t||(this.$ELEMENT||{}).size},tagSize:function(){return-1<["small","mini"].indexOf(this.realSize)?"mini":"small"},isDisabled:function(){return this.disabled||(this.elForm||{}).disabled},config:function(){var t=this.props||{},e=this.$attrs;return Object.keys(D).forEach(function(r){var i=D[r],n=i.newProp,o=i.type,s=e[r]||e[Object(T.kebabCase)(r)];Object(O.isDef)(r)&&!Object(O.isDef)(t[n])&&(o===Boolean&&""===s&&(s=!0),t[n]=s)}),t},multiple:function(){return this.config.multiple},leafOnly:function(){return!this.config.checkStrictly},readonly:function(){return!this.filterable||this.multiple},clearBtnVisible:function(){return!(!this.clearable||this.isDisabled||this.filtering||!this.inputHover)&&(this.multiple?!!this.checkedNodes.filter(function(t){return!t.isDisabled}).length:!!this.presentText)},panel:function(){return this.$refs.panel}},watch:{disabled:function(){this.computePresentContent()},value:function(t){Object(T.isEqual)(t,this.checkedValue)||(this.checkedValue=t,this.computePresentContent())},checkedValue:function(t){var e=this.value,r=this.dropDownVisible,i=this.config,n=i.checkStrictly,o=i.multiple;Object(T.isEqual)(t,e)&&!Object(E.isUndefined)(e)||(this.computePresentContent(),o||n||!r||this.toggleDropDownVisible(!1),this.$emit("input",t),this.$emit("change",t),this.dispatch("ElFormItem","el.form.change",[t]))},options:{handler:function(){this.$nextTick(this.computePresentContent)},deep:!0},presentText:function(t){this.inputValue=t},presentTags:function(t,e){this.multiple&&(t.length||e.length)&&this.$nextTick(this.updateStyle)},filtering:function(t){this.$nextTick(this.updatePopper)}},mounted:function(){var t=this,e=this.$refs.input;e&&e.$el&&(this.inputInitialHeight=e.$el.offsetHeight||z[this.realSize]||40),Object(T.isEmpty)(this.value)||this.computePresentContent(),this.filterHandler=M()(this.debounce,function(){var e=t.inputValue;if(e){var r=t.beforeFilter(e);r&&r.then?r.then(t.getSuggestions):!1!==r?t.getSuggestions():t.filtering=!1}else t.filtering=!1}),Object(k.addResizeListener)(this.$el,this.updateStyle)},beforeDestroy:function(){Object(k.removeResizeListener)(this.$el,this.updateStyle)},methods:{getMigratingConfig:function(){return{props:{"expand-trigger":"expand-trigger is removed, use `props.expandTrigger` instead.","change-on-select":"change-on-select is removed, use `props.checkStrictly` instead.","hover-threshold":"hover-threshold is removed, use `props.hoverThreshold` instead"},events:{"active-item-change":"active-item-change is renamed to expand-change"}}},toggleDropDownVisible:function(t){var e=this;if(!this.isDisabled){var r=this.dropDownVisible,i=this.$refs.input;(t=Object(O.isDef)(t)?t:!r)!==r&&((this.dropDownVisible=t)&&this.$nextTick(function(){e.updatePopper(),e.panel.scrollIntoView()}),i.$refs.input.setAttribute("aria-expanded",t),this.$emit("visible-change",t))}},handleDropdownLeave:function(){this.filtering=!1,this.inputValue=this.presentText},handleKeyDown:function(t){switch(t.keyCode){case P.enter:this.toggleDropDownVisible();break;case P.down:this.toggleDropDownVisible(!0),this.focusFirstNode(),t.preventDefault();break;case P.esc:case P.tab:this.toggleDropDownVisible(!1)}},handleFocus:function(t){this.$emit("focus",t)},handleBlur:function(t){this.$emit("blur",t)},handleInput:function(t,e){this.dropDownVisible||this.toggleDropDownVisible(!0),e&&e.isComposing||(t?this.filterHandler():this.filtering=!1)},handleClear:function(){this.presentText="",this.panel.clearCheckedNodes()},handleExpandChange:function(t){this.$nextTick(this.updatePopper.bind(this)),this.$emit("expand-change",t),this.$emit("active-item-change",t)},focusFirstNode:function(){var t=this;this.$nextTick(function(){var e=t.filtering,r=t.$refs,i=r.popper,n=r.suggestionPanel,o=null;o=e&&n?n.$el.querySelector(".el-cascader__suggestion-item"):i.querySelector(".el-cascader-menu").querySelector('.el-cascader-node[tabindex="-1"]'),o&&(o.focus(),e||o.click())})},computePresentContent:function(){var t=this;this.$nextTick(function(){t.config.multiple?(t.computePresentTags(),t.presentText=t.presentTags.length?" ":null):t.computePresentText()})},computePresentText:function(){var t=this.checkedValue,e=this.config;if(!Object(T.isEmpty)(t)){var r=this.panel.getNodeByValue(t);if(r&&(e.checkStrictly||r.isLeaf))return void(this.presentText=r.getText(this.showAllLevels,this.separator))}this.presentText=null},computePresentTags:function(){function t(t){return{node:t,key:t.uid,text:t.getText(i,n),hitState:!1,closable:!e&&!t.isDisabled}}var e=this.isDisabled,r=this.leafOnly,i=this.showAllLevels,n=this.separator,o=this.collapseTags,s=this.getCheckedNodes(r),a=[];if(s.length){var c=s[0],l=s.slice(1),u=l.length;a.push(t(c)),u&&(o?a.push({key:-1,text:"+ "+u,closable:!1}):l.forEach(function(e){return a.push(t(e))}))}this.checkedNodes=s,this.presentTags=a},getSuggestions:function(){var t=this,e=this.filterMethod;Object(E.isFunction)(e)||(e=function(t,e){return t.text.includes(e)});var r=this.panel.getFlattedNodes(this.leafOnly).filter(function(r){return!r.isDisabled&&(r.text=r.getText(t.showAllLevels,t.separator)||"",e(r,t.inputValue))});this.multiple?this.presentTags.forEach(function(t){t.hitState=!1}):r.forEach(function(e){e.checked=Object(T.isEqual)(t.checkedValue,e.getValueByOption())}),this.filtering=!0,this.suggestions=r,this.$nextTick(this.updatePopper)},handleSuggestionKeyDown:function(t){var e=t.keyCode,r=t.target;switch(e){case P.enter:r.click();break;case P.up:var i=r.previousElementSibling;i&&i.focus();break;case P.down:var n=r.nextElementSibling;n&&n.focus();break;case P.esc:case P.tab:this.toggleDropDownVisible(!1)}},handleDelete:function(){var t=this.inputValue,e=this.pressDeleteCount,r=this.presentTags,i=r.length-1,n=r[i];this.pressDeleteCount=t?0:e+1,n&&this.pressDeleteCount&&(n.hitState?this.deleteTag(i):n.hitState=!0)},handleSuggestionClick:function(t){var e=this.multiple,r=this.suggestions[t];if(e){var i=r.checked;r.doCheck(!i),this.panel.calculateMultiCheckedValue()}else this.checkedValue=r.getValueByOption(),this.toggleDropDownVisible(!1)},deleteTag:function(t){var e=this.checkedValue,r=e[t];this.checkedValue=e.filter(function(e,r){return r!==t}),this.$emit("remove-tag",r)},updateStyle:function(){var t=this.$el,e=this.inputInitialHeight;if(!this.$isServer&&t){var r=this.$refs.suggestionPanel,i=t.querySelector(".el-input__inner");if(i){var n=t.querySelector(".el-cascader__tags"),o=null;if(r&&(o=r.$el)&&(o.querySelector(".el-cascader__suggestion-list").style.minWidth=i.offsetWidth+"px"),n){var s=n.offsetHeight,a=Math.max(s+6,e)+"px";i.style.height=a,this.updatePopper()}}}},getCheckedNodes:function(t){return this.panel.getCheckedNodes(t)}}},R=r(0),F=Object(R.a)(I,i,[],!1,null,null,null);F.options.__file="packages/cascader/src/cascader.vue";var L=F.exports;L.install=function(t){t.component(L.name,L)},e.default=L},12:function(t,e){t.exports=r("417f")},13:function(t,e){t.exports=r("14e9")},15:function(t,e){t.exports=r("4010")},16:function(t,e){t.exports=r("0e15")},19:function(t,e){t.exports=r("a7425")},20:function(t,e){t.exports=r("4897")},21:function(t,e){t.exports=r("d397")},3:function(t,e){t.exports=r("8122")},36:function(t,e){t.exports=r("8bbc")},39:function(t,e){t.exports=r("e452")},4:function(t,e){t.exports=r("d010")},5:function(t,e){t.exports=r("e974")},50:function(t,e){t.exports=r("4726")},6:function(t,e){t.exports=r("6b7c")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=112))},c7ca:function(t,e,r){r("3a72")("observable")},c869:function(t,e,r){var i=r("0b07")(r("2b3e"),"Set");t.exports=i},c87c:function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(i.index=t.index,i.input=t.input),i}},c8aa:function(t,e,r){var i=r("7bf0"),n=r("34fc"),o=r("7a43"),s=r("bbf0"),a=r("27a3"),c=r("eee55"),l=i.getBCHDigit(7973);function u(t,e){return s.getCharCountIndicator(t,e)+4}function h(t,e){var r=0;return t.forEach(function(t){var i=u(t.mode,e);r+=i+t.getBitsLength()}),r}e.from=function(t,e){return a.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,r){if(!a.isValid(t))throw new Error("Invalid QR Code version");void 0===r&&(r=s.BYTE);var o=8*(i.getSymbolTotalCodewords(t)-n.getTotalCodewordsCount(t,e));if(r===s.MIXED)return o;var c=o-u(r,t);switch(r){case s.NUMERIC:return Math.floor(c/10*3);case s.ALPHANUMERIC:return Math.floor(c/11*2);case s.KANJI:return Math.floor(c/13);case s.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,r){var i,n=o.from(r,o.M);if(c(t)){if(1<t.length)return function(t,r){for(var i=1;i<=40;i++)if(h(t,i)<=e.getCapacity(i,r,s.MIXED))return i}(t,n);if(0===t.length)return 1;i=t[0]}else i=t;return function(t,r,i){for(var n=1;n<=40;n++)if(r<=e.getCapacity(n,i,t))return n}(i.mode,i.getLength(),n)},e.getEncodedBits=function(t){if(!a.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;0<=i.getBCHDigit(e)-l;)e^=7973<<i.getBCHDigit(e)-l;return t<<12|e}},c8af:function(t,e,r){"use strict";var i=r("c532");t.exports=function(t,e){i.forEach(t,function(r,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[i])})}},c8ba:function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},c8bb:function(t,e,r){t.exports=r("89ca")},c8fe:function(t,e,r){var i=r("f8af");t.exports=function(t,e){var r=e?i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},c901:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},ca38:function(t,e){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},ca5a:function(t,e){var r=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},cadf:function(t,e,r){"use strict";var i=r("9c6c"),n=r("d53b"),o=r("84f2"),s=r("6821");t.exports=r("01f9")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},cb5a:function(t,e,r){var i=r("9638");t.exports=function(t,e){for(var r=t.length;r--;)if(i(t[r][0],e))return r;return-1}},cb70:function(t,e,r){},cb7c:function(t,e,r){var i=r("d3f4");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},cbb5:function(t,e,r){},cc15:function(t,e,r){var i=r("b367")("wks"),n=r("8b1a"),o=r("ef08").Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:n)("Symbol."+t))}).store=i},cc1d:function(t,e,r){var i=r("58b9"),n=r("04cf"),o=r("4052");t.exports=function(t){return function(e,r,s){var a,c=i(e),l=n(c.length),u=o(s,l);if(t&&r!=r){for(;u<l;)if((a=c[u++])!=a)return!0}else for(;u<l;u++)if((t||u in c)&&c[u]===r)return t||u||0;return!t&&-1}}},cc20:function(t,e,r){"use strict";var i=r("9184");function n(t){var e,r;this.promise=new t(function(t,i){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=i}),this.resolve=i(e),this.reject=i(r)}t.exports.f=function(t){return new n(t)}},cc45:function(t,e,r){var i=r("1a2d"),n=r("b047"),o=r("99d3"),s=o&&o.isMap,a=s?n(s):i;t.exports=a},cd1c:function(t,e,r){var i=r("e8530");t.exports=function(t,e){return new(i(t))(e)}},cd9d:function(t,e){t.exports=function(t){return t}},ce10:function(t,e,r){var i=r("69a8"),n=r("6821"),o=r("c366")(!1),s=r("613b")("IE_PROTO");t.exports=function(t,e){var r,a=n(t),c=0,l=[];for(r in a)r!=s&&i(a,r)&&l.push(r);for(;e.length>c;)i(a,r=e[c++])&&(~o(l,r)||l.push(r));return l}},ce7a:function(t,e,r){var i=r("9c0e"),n=r("0983"),o=r("5a94")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},ce86:function(t,e,r){var i=r("9e69"),n=r("7948"),o=r("6747"),s=r("ffd6"),a=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return n(e,t)+"";if(s(e))return l?l.call(e):"";var r=e+"";return"0"==r&&1/e==-a?"-0":r}},cebc:function(t,e,r){"use strict";r.d(e,"a",function(){return u});var i=r("268f"),n=r.n(i),o=r("e265"),s=r.n(o),a=r("a4bb"),c=r.n(a),l=r("bd86");function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=c()(r);"function"==typeof s.a&&(i=i.concat(s()(r).filter(function(t){return n()(r,t).enumerable}))),i.forEach(function(e){Object(l.a)(t,e,r[e])})}return t}},cee4:function(t,e,r){"use strict";var i=r("c532"),n=r("1d2b"),o=r("0a06"),s=r("2444");function a(t){var e=new o(t),r=n(o.prototype.request,e);return i.extend(r,o.prototype,e),i.extend(r,e),r}var c=a(s);c.Axios=o,c.create=function(t){return a(i.merge(s,t))},c.Cancel=r("7a77"),c.CancelToken=r("8df4"),c.isCancel=r("2e67"),c.all=function(t){return Promise.all(t)},c.spread=r("0df6"),t.exports=c,t.exports.default=c},d010:function(t,e,r){"use strict";e.__esModule=!0,e.default={methods:{dispatch:function(t,e,r){for(var i=this.$parent||this.$root,n=i.$options.componentName;i&&(!n||n!==t);)(i=i.$parent)&&(n=i.$options.componentName);i&&i.$emit.apply(i,[e].concat(r))},broadcast:function(t,e,r){(function t(e,r,i){this.$children.forEach(function(n){n.$options.componentName===e?n.$emit.apply(n,[r].concat(i)):t.apply(n,[e,r].concat([i]))})}).call(this,t,e,r)}}}},d02c:function(t,e,r){var i=r("5e2e"),n=r("79bc"),o=r("7b83");t.exports=function(t,e){var r=this.__data__;if(r instanceof i){var s=r.__data__;if(!n||s.length<199)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(t,e),this.size=r.size,this}},d055:function(t,e,r){var i=r("67dd"),n=r("aa63"),o=r("4146"),s=r("4006");function a(t,e,r,o,s){var a=[].slice.call(arguments,1),c=a.length,l="function"==typeof a[c-1];if(!l&&!i())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(r=e,e=o=void 0):2!==c||e.getContext||(o=r,r=e,e=void 0),new Promise(function(i,s){try{var a=n.create(r,o);i(t(a,e,o))}catch(i){s(i)}})}if(c<2)throw new Error("Too few arguments provided");2===c?(s=r,r=e,e=o=void 0):3===c&&(e.getContext&&void 0===s?(s=o,o=void 0):(s=o,o=r,r=e,e=void 0));try{var u=n.create(r,o);s(null,t(u,e,o))}catch(a){s(a)}}e.create=n.create,e.toCanvas=a.bind(null,o.render),e.toDataURL=a.bind(null,o.renderToDataURL),e.toString=a.bind(null,function(t,e,r){return s.render(t,r)})},d127:function(t,e,r){r("0a0a")("asyncIterator")},d13f:function(t,e,r){var i=r("da3c"),n=r("a7d3"),o=r("bc25"),s=r("8ce0"),a=r("43c8"),c="prototype",l=function(t,e,r){var u,h,f,m=t&l.F,d=t&l.G,p=t&l.S,_=t&l.P,g=t&l.B,v=t&l.W,y=d?n:n[e]||(n[e]={}),b=y[c],x=d?i:p?i[e]:(i[e]||{})[c];for(u in d&&(r=e),r)(h=!m&&x&&void 0!==x[u])&&a(y,u)||(f=h?x[u]:r[u],y[u]=d&&"function"!=typeof x[u]?r[u]:g&&h?o(f,i):v&&x[u]==f?function(t){function e(e,r,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,i)}return t.apply(this,arguments)}return e[c]=t[c],e}(f):_&&"function"==typeof f?o(Function.call,f):f,_&&((y.virtual||(y.virtual={}))[u]=f,t&l.R&&b&&!b[u]&&s(b,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},d16a:function(t,e,r){var i=r("fc5e"),n=Math.min;t.exports=function(t){return 0<t?n(i(t),9007199254740991):0}},d180:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},113:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"el-collapse-item",class:{"is-active":t.isActive,"is-disabled":t.disabled}},[r("div",{attrs:{role:"tab","aria-expanded":t.isActive,"aria-controls":"el-collapse-content-"+t.id,"aria-describedby":"el-collapse-content-"+t.id}},[r("div",{staticClass:"el-collapse-item__header",class:{focusing:t.focusing,"is-active":t.isActive},attrs:{role:"button",id:"el-collapse-head-"+t.id,tabindex:t.disabled?void 0:0},on:{click:t.handleHeaderClick,keyup:function(e){return"button"in e||!t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.stopPropagation(),t.handleEnterClick(e)):null},focus:t.handleFocus,blur:function(e){t.focusing=!1}}},[t._t("title",[t._v(t._s(t.title))]),r("i",{staticClass:"el-collapse-item__arrow el-icon-arrow-right",class:{"is-active":t.isActive}})],2)]),r("el-collapse-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"el-collapse-item__wrap",attrs:{role:"tabpanel","aria-hidden":!t.isActive,"aria-labelledby":"el-collapse-head-"+t.id,id:"el-collapse-content-"+t.id}},[r("div",{staticClass:"el-collapse-item__content"},[t._t("default")],2)])])],1)}r.r(e),i._withStripped=!0;var n=r(28),o=r.n(n),s=r(4),a=r.n(s),c=r(3),l={name:"ElCollapseItem",componentName:"ElCollapseItem",mixins:[a.a],components:{ElCollapseTransition:o.a},data:function(){return{contentWrapStyle:{height:"auto",display:"block"},contentHeight:0,focusing:!1,isClick:!1,id:Object(c.generateId)()}},inject:["collapse"],props:{title:String,name:{type:[String,Number],default:function(){return this._uid}},disabled:Boolean},computed:{isActive:function(){return-1<this.collapse.activeNames.indexOf(this.name)}},methods:{handleFocus:function(){var t=this;setTimeout(function(){t.isClick?t.isClick=!1:t.focusing=!0},50)},handleHeaderClick:function(){this.disabled||(this.dispatch("ElCollapse","item-click",this),this.focusing=!1,this.isClick=!0)},handleEnterClick:function(){this.dispatch("ElCollapse","item-click",this)}}},u=r(0),h=Object(u.a)(l,i,[],!1,null,null,null);h.options.__file="packages/collapse/src/collapse-item.vue";var f=h.exports;f.install=function(t){t.component(f.name,f)},e.default=f},28:function(t,e){t.exports=r("5488")},3:function(t,e){t.exports=r("8122")},4:function(t,e){t.exports=r("d010")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=113))},d225:function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",function(){return i})},d233:function(t,e,r){"use strict";function i(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i)void 0!==t[i]&&(r[i]=t[i]);return r}var n=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();t.exports={arrayToObject:i,assign:function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],i=0;i<e.length;++i)for(var n=e[i],s=n.obj[n.prop],a=Object.keys(s),c=0;c<a.length;++c){var l=a[c],u=s[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(e.push({obj:s,prop:l}),r.push(u))}return function(t){for(;1<t.length;){var e=t.pop(),r=e.obj[e.prop];if(o(r)){for(var i=[],n=0;n<r.length;++n)void 0!==r[n]&&i.push(r[n]);e.obj[e.prop]=i}}}(e),t},decode:function(t,e,r){var i=t.replace(/\+/g," ");if("iso-8859-1"===r)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(t){return i}},encode:function(t,e,r){if(0===t.length)return t;var i="string"==typeof t?t:String(t);if("iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var n="",o=0;o<i.length;++o){var a=i.charCodeAt(o);45===a||46===a||95===a||126===a||48<=a&&a<=57||65<=a&&a<=90||97<=a&&a<=122?n+=i.charAt(o):a<128?n+=s[a]:a<2048?n+=s[192|a>>6]+s[128|63&a]:a<55296||57344<=a?n+=s[224|a>>12]+s[128|a>>6&63]+s[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&i.charCodeAt(o)),n+=s[240|a>>18]+s[128|a>>12&63]+s[128|a>>6&63]+s[128|63&a])}return n},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,r,s){if(!r)return e;if("object"!=typeof r){if(o(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(s&&(s.plainObjects||s.allowPrototypes)||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var a=e;return o(e)&&!o(r)&&(a=i(e,s)),o(e)&&o(r)?(r.forEach(function(r,i){if(n.call(e,i)){var o=e[i];o&&"object"==typeof o&&r&&"object"==typeof r?e[i]=t(o,r,s):e.push(r)}else e[i]=r}),e):Object.keys(r).reduce(function(e,i){var o=r[i];return n.call(e,i)?e[i]=t(e[i],o,s):e[i]=o,e},a)}}},d24f:function(t,e,r){r("0a0a")("observable")},d256:function(t,e,r){"use strict";function i(t){var e=V[t]=A(F[B]);return e._k=t,e}function n(t,e){C(t);for(var r,i=w(e=E(e)),n=0,o=i.length;n<o;)Z(t,r=i[n++],e[r]);return t}function o(t){var e=q.call(this,t=O(t,!0));return!(this===W&&u(V,t)&&!u(X,t))&&(!(e||!u(this,t)||!u(V,t)||u(this,$)&&this[$][t])||e)}function s(t,e){if(t=E(t),e=O(e,!0),t!==W||!u(V,e)||u(X,e)){var r=z(t,e);return!r||!u(V,e)||u(t,$)&&t[$][e]||(r.enumerable=!0),r}}function a(t){for(var e,r=R(E(t)),i=[],n=0;r.length>n;)u(V,e=r[n++])||e==$||e==d||i.push(e);return i}function c(t){for(var e,r=t===W,i=R(r?X:E(t)),n=[],o=0;i.length>o;)!u(V,e=i[o++])||r&&!u(W,e)||n.push(V[e]);return n}var l=r("da3c"),u=r("43c8"),h=r("7d95"),f=r("d13f"),m=r("2312"),d=r("6277").KEY,p=r("d782"),_=r("7772"),g=r("c0d8"),v=r("7b00"),y=r("1b55"),b=r("fda1"),x=r("0a0a"),w=r("d2d6"),S=r("b5aa"),C=r("0f89"),T=r("6f8a"),E=r("6a9b"),O=r("2ea1"),k=r("f845"),A=r("7108"),M=r("565d"),P=r("626e"),D=r("3adc"),j=r("7633"),z=P.f,I=D.f,R=M.f,F=l.Symbol,L=l.JSON,N=L&&L.stringify,B="prototype",$=y("_hidden"),U=y("toPrimitive"),q={}.propertyIsEnumerable,H=_("symbol-registry"),V=_("symbols"),X=_("op-symbols"),W=Object[B],Y="function"==typeof F,G=l.QObject,K=!G||!G[B]||!G[B].findChild,J=h&&p(function(){return 7!=A(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(t,e,r){var i=z(W,e);i&&delete W[e],I(t,e,r),i&&t!==W&&I(W,e,i)}:I,Q=Y&&"symbol"==typeof F.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof F},Z=function(t,e,r){return t===W&&Z(X,e,r),C(t),e=O(e,!0),C(r),u(V,e)?(r.enumerable?(u(t,$)&&t[$][e]&&(t[$][e]=!1),r=A(r,{enumerable:k(0,!1)})):(u(t,$)||I(t,$,k(1,{})),t[$][e]=!0),J(t,e,r)):I(t,e,r)};Y||(m((F=function(t){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var e=v(0<arguments.length?t:void 0),r=function(t){this===W&&r.call(X,t),u(this,$)&&u(this[$],e)&&(this[$][e]=!1),J(this,e,k(1,t))};return h&&K&&J(W,e,{configurable:!0,set:r}),i(e)})[B],"toString",function(){return this._k}),P.f=s,D.f=Z,r("d876").f=M.f=a,r("d74e").f=o,r("31c2").f=c,h&&!r("b457")&&m(W,"propertyIsEnumerable",o,!0),b.f=function(t){return i(y(t))}),f(f.G+f.W+f.F*!Y,{Symbol:F});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)y(tt[et++]);for(var rt=j(y.store),it=0;rt.length>it;)x(rt[it++]);f(f.S+f.F*!Y,"Symbol",{for:function(t){return u(H,t+="")?H[t]:H[t]=F(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var e in H)if(H[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),f(f.S+f.F*!Y,"Object",{create:function(t,e){return void 0===e?A(t):n(A(t),e)},defineProperty:Z,defineProperties:n,getOwnPropertyDescriptor:s,getOwnPropertyNames:a,getOwnPropertySymbols:c}),L&&f(f.S+f.F*(!Y||p(function(){var t=F();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,r,i=[t],n=1;n<arguments.length;)i.push(arguments[n++]);if(r=e=i[1],(T(e)||void 0!==t)&&!Q(t))return S(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Q(e))return e}),i[1]=e,N.apply(L,i)}}),F[B][U]||r("8ce0")(F[B],U,F[B].valueOf),g(F,"Symbol"),g(Math,"Math",!0),g(l.JSON,"JSON",!0)},d2c8:function(t,e,r){var i=r("aae3"),n=r("be13");t.exports=function(t,e,r){if(i(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(n(t))}},d2d6:function(t,e,r){var i=r("7633"),n=r("31c2"),o=r("d74e");t.exports=function(t){var e=i(t),r=n.f;if(r)for(var s,a=r(t),c=o.f,l=0;a.length>l;)c.call(t,s=a[l++])&&e.push(s);return e}},d327:function(t,e){t.exports=function(){return[]}},d370:function(t,e,r){var i=r("253c"),n=r("1310"),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(t){return n(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},d38f:function(t,e,r){var i=r("7d8a"),n=r("1b55")("iterator"),o=r("b22a");t.exports=r("a7d3").isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||o.hasOwnProperty(i(e))}},d397:function(t,e,r){"use strict";e.__esModule=!0,e.isDef=function(t){return null!=t},e.isKorean=function(t){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t)}},d3f4:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},d43f:function(t,e,r){var i=r("71fa");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},d4c0:function(t,e,r){var i=r("0d58"),n=r("2621"),o=r("52a7");t.exports=function(t){var e=i(t),r=n.f;if(r)for(var s,a=r(t),c=o.f,l=0;a.length>l;)c.call(t,s=a[l++])&&e.push(s);return e}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d604:function(t,e,r){r("1938"),t.exports=r("a7d3").Array.isArray},d612:function(t,e,r){var i=r("7b83"),n=r("7ed2"),o=r("dc0f");function s(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new i;++e<r;)this.add(t[e])}s.prototype.add=s.prototype.push=n,s.prototype.has=o,t.exports=s},d6c0:function(t,e,r){var i=r("7bf0").getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,r=i(t),n=145===r?26:2*Math.ceil((r-13)/(2*e-2)),o=[r-7],s=1;s<e-1;s++)o[s]=o[s-1]-n;return o.push(6),o.reverse()},e.getPositions=function(t){for(var r=[],i=e.getRowColCoords(t),n=i.length,o=0;o<n;o++)for(var s=0;s<n;s++)0===o&&0===s||0===o&&s===n-1||o===n-1&&0===s||r.push([i[o],i[s]]);return r}},d74e:function(t,e){e.f={}.propertyIsEnumerable},d782:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},d7ee:function(t,e,r){var i=r("c3fc"),n=r("b047"),o=r("99d3"),s=o&&o.isSet,a=s?n(s):i;t.exports=a},d876:function(t,e,r){var i=r("2695"),n=r("0029").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},d896:function(t,e,r){r("a206");var i=r("a7d3").Object;t.exports=function(t){return i.getOwnPropertyNames(t)}},d8db:function(t,e,r){var i=r("b808").document;t.exports=i&&i.documentElement},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d925:function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},d9a8:function(t,e){t.exports=function(t){return t!=t}},d9fc:function(t,e,r){"use strict";var i=r("569f"),n=r("ca38"),o=r("b808"),s=r("1aa7"),a=r("1c08");i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,n.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return a(e,t()).then(function(){return r})}:t,r?function(r){return a(e,t()).then(function(){throw r})}:t)}})},da03:function(t,e,r){var i=r("2b3e")["__core-js_shared__"];t.exports=i},da3c:function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},dc0f:function(t,e){t.exports=function(t){return this.__data__.has(t)}},dc57:function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},dcbc:function(t,e,r){var i=r("2aba");t.exports=function(t,e,r){for(var n in e)i(t,n,e[n],r);return t}},dcbe:function(t,e,r){var i=r("30c9"),n=r("1310");t.exports=function(t){return n(t)&&i(t)}},dcc3:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},dcdc:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},4:function(t,e){t.exports=r("d010")},98:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"el-checkbox",class:[t.border&&t.checkboxSize?"el-checkbox--"+t.checkboxSize:"",{"is-disabled":t.isDisabled},{"is-bordered":t.border},{"is-checked":t.isChecked}],attrs:{id:t.id}},[r("span",{staticClass:"el-checkbox__input",class:{"is-disabled":t.isDisabled,"is-checked":t.isChecked,"is-indeterminate":t.indeterminate,"is-focus":t.focus},attrs:{tabindex:!!t.indeterminate&&0,role:!!t.indeterminate&&"checkbox","aria-checked":!!t.indeterminate&&"mixed"}},[r("span",{staticClass:"el-checkbox__inner"}),t.trueLabel||t.falseLabel?r("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?-1<t._i(t.model,null):t._q(t.model,t.trueLabel)},on:{change:[function(e){var r=t.model,i=e.target,n=i.checked?t.trueLabel:t.falseLabel;if(Array.isArray(r)){var o=t._i(r,null);i.checked?o<0&&(t.model=r.concat([null])):-1<o&&(t.model=r.slice(0,o).concat(r.slice(o+1)))}else t.model=n},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",disabled:t.isDisabled,name:t.name},domProps:{value:t.label,checked:Array.isArray(t.model)?-1<t._i(t.model,t.label):t.model},on:{change:[function(e){var r=t.model,i=e.target,n=!!i.checked;if(Array.isArray(r)){var o=t.label,s=t._i(r,o);i.checked?s<0&&(t.model=r.concat([o])):-1<s&&(t.model=r.slice(0,s).concat(r.slice(s+1)))}else t.model=n},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}})]),t.$slots.default||t.label?r("span",{staticClass:"el-checkbox__label"},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2):t._e()])}r.r(e),i._withStripped=!0;var n=r(4),o={name:"ElCheckbox",mixins:[r.n(n).a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):(this.$emit("input",t),this.selfModel=t)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?-1<this.model.indexOf(this.label):null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){for(var t=this.$parent;t;){if("ElCheckboxGroup"===t.$options.componentName)return this._checkboxGroup=t,!0;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,r=t.min;return!(!e&&!r)&&this.model.length>=e&&!this.isChecked||this.model.length<=r&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||t}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var r=void 0;r=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",r,t),this.$nextTick(function(){e.isGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}}},s=r(0),a=Object(s.a)(o,i,[],!1,null,null,null);a.options.__file="packages/checkbox/src/checkbox.vue";var c=a.exports;c.install=function(t){t.component(c.name,c)},e.default=c}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=98))},dd04c:function(t,e,r){r("12fd"),r("93c4"),r("b42c"),r("5b5f"),r("b604"),r("c609"),t.exports=r("a7d3").Promise},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},dd7e:function(t,e,r){var i=r("bbf0");function n(t){this.mode=i.NUMERIC,this.data=t.toString()}n.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){var e,r,i;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),i=parseInt(r,10),t.put(i,10);var n=this.data.length-e;0<n&&(r=this.data.substr(e),i=parseInt(r,10),t.put(i,3*n+1))},t.exports=n},dd87:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},100:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return!t.lazy||t.loaded||t.active?r("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"el-tab-pane",attrs:{role:"tabpanel","aria-hidden":!t.active,id:"pane-"+t.paneName,"aria-labelledby":"tab-"+t.paneName}},[t._t("default")],2):t._e()}r.r(e),i._withStripped=!0;var n={name:"ElTabPane",componentName:"ElTabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean,lazy:Boolean},data:function(){return{index:null,loaded:!1}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){var t=this.$parent.currentName===(this.name||this.index);return t&&(this.loaded=!0),t},paneName:function(){return this.name||this.index}},updated:function(){this.$parent.$emit("tab-nav-update")}},o=r(0),s=Object(o.a)(n,i,[],!1,null,null,null);s.options.__file="packages/tabs/src/tab-pane.vue";var a=s.exports;a.install=function(t){t.component(a.name,a)},e.default=a}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=100))},decf:function(t,e,r){var i=r("0f89"),n=r("6f8a"),o=r("03ca");t.exports=function(t,e){if(i(t),n(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},defb:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},5:function(t,e){t.exports=r("e974")},78:function(t,e,r){"use strict";function i(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":this.doDestroy}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:this.showPopper,expression:"showPopper"}],staticClass:"el-dropdown-menu el-popper",class:[this.size&&"el-dropdown-menu--"+this.size]},[this._t("default")],2)])}r.r(e),i._withStripped=!0;var n=r(5),o={name:"ElDropdownMenu",componentName:"ElDropdownMenu",mixins:[r.n(n).a],props:{visibleArrow:{type:Boolean,default:!0},arrowOffset:{type:Number,default:0}},data:function(){return{size:this.dropdown.dropdownSize}},inject:["dropdown"],created:function(){var t=this;this.$on("updatePopper",function(){t.showPopper&&t.updatePopper()}),this.$on("visible",function(e){t.showPopper=e})},mounted:function(){this.dropdown.popperElm=this.popperElm=this.$el,this.referenceElm=this.dropdown.$el,this.dropdown.initDomOperation()},watch:{"dropdown.placement":{immediate:!0,handler:function(t){this.currentPlacement=t}}}},s=r(0),a=Object(s.a)(o,i,[],!1,null,null,null);a.options.__file="packages/dropdown/src/dropdown-menu.vue";var c=a.exports;c.install=function(t){t.component(c.name,c)},e.default=c}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=78))},df0a:function(t,e,r){function i(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}}function n(t){i.call(t.data)}var o,s,a,c=r("bc25"),l=r("196c"),u=r("103a"),h=r("12fd8"),f=r("da3c"),m=f.process,d=f.setImmediate,p=f.clearImmediate,_=f.MessageChannel,g=f.Dispatch,v=0,y={},b="onreadystatechange";d&&p||(d=function(t){for(var e=[],r=1;r<arguments.length;)e.push(arguments[r++]);return y[++v]=function(){l("function"==typeof t?t:Function(t),e)},o(v),v},p=function(t){delete y[t]},"process"==r("6e1f")(m)?o=function(t){m.nextTick(c(i,t,1))}:g&&g.now?o=function(t){g.now(c(i,t,1))}:_?(a=(s=new _).port2,s.port1.onmessage=n,o=c(a.postMessage,a,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(o=function(t){f.postMessage(t+"","*")},f.addEventListener("message",n,!1)):o=b in h("script")?function(t){u.appendChild(h("script"))[b]=function(){u.removeChild(this),i.call(t)}}:function(t){setTimeout(c(i,t,1),0)}),t.exports={set:d,clear:p}},df33:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},10:function(t,e){t.exports=r("2bb5")},110:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":t.afterEnter,"after-leave":t.afterLeave}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[r("div",{key:t.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":t.fullscreen,"el-dialog--center":t.center},t.customClass],style:t.style,attrs:{role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"}},[r("div",{staticClass:"el-dialog__header"},[t._t("title",[r("span",{staticClass:"el-dialog__title"},[t._v(t._s(t.title))])]),t.showClose?r("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.handleClose}},[r("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):t._e()],2),t.rendered?r("div",{staticClass:"el-dialog__body"},[t._t("default")],2):t._e(),t.$slots.footer?r("div",{staticClass:"el-dialog__footer"},[t._t("footer")],2):t._e()])])])}r.r(e),i._withStripped=!0;var n=r(14),o=r.n(n),s=r(10),a=r.n(s),c=r(4),l=r.n(c),u={name:"ElDialog",mixins:[o.a,l.a,a.a],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:function(){return{closed:!1,key:0}},watch:{visible:function(t){var e=this;t?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick(function(){e.$refs.dialog.scrollTop=0}),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick(function(){e.key++}))}},computed:{style:function(){var t={};return this.fullscreen||(t.marginTop=this.top,this.width&&(t.width=this.width)),t}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(t){!1!==t&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},h=r(0),f=Object(h.a)(u,i,[],!1,null,null,null);f.options.__file="packages/dialog/src/component.vue";var m=f.exports;m.install=function(t){t.component(m.name,m)},e.default=m},14:function(t,e){t.exports=r("5128")},4:function(t,e){t.exports=r("d010")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=110))},df7c:function(t,e,r){(function(t){function r(t,e){for(var r=0,i=t.length-1;0<=i;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;)t.unshift("..");return t}function i(t){return n.exec(t).slice(1)}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function o(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}e.resolve=function(){for(var e="",i=!1,n=arguments.length-1;-1<=n&&!i;n--){var s=0<=n?arguments[n]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,i="/"===s.charAt(0))}return(i?"/":"")+(e=r(o(e.split("/"),function(t){return!!t}),!i).join("/"))||"."},e.normalize=function(t){var i=e.isAbsolute(t),n="/"===s(t,-1);return(t=r(o(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&n&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return r<e?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var n=i(t.split("/")),o=i(r.split("/")),s=Math.min(n.length,o.length),a=s,c=0;c<s;c++)if(n[c]!==o[c]){a=c;break}var l=[];for(c=a;c<n.length;c++)l.push("..");return(l=l.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?r+(n=n&&n.substr(0,n.length-1)):"."},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r("4362"))},dfe5:function(t,e){},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e198:function(t,e,r){var i=r("ef08"),n=r("5524"),o=r("e444"),s=r("fcd4"),a=r("1a14").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},e1f4:function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);t.exports=function(){return r(i),i}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},e24b:function(t,e,r){var i=r("49f4"),n=r("1efc"),o=r("bbc0"),s=r("7a48"),a=r("2524");function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=n,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},e265:function(t,e,r){t.exports=r("5698")},e2c0:function(t,e,r){var i=r("e2e4"),n=r("d370"),o=r("6747"),s=r("c098"),a=r("b218"),c=r("f4d6");t.exports=function(t,e,r){for(var l=-1,u=(e=i(e,t)).length,h=!1;++l<u;){var f=c(e[l]);if(!(h=null!=t&&r(t,f)))break;t=t[f]}return h||++l!=u?h:!!(u=null==t?0:t.length)&&a(u)&&s(f,u)&&(o(t)||n(t))}},e2e4:function(t,e,r){var i=r("6747"),n=r("f608"),o=r("18d8"),s=r("76dd");t.exports=function(t,e){return i(t)?t:n(t,e)?[t]:o(s(t))}},e341:function(t,e,r){var i=r("d13f");i(i.S+i.F*!r("7d95"),"Object",{defineProperty:r("3adc").f})},e34a:function(t,e,r){function i(t){a(t,n,{value:{i:"O"+ ++c,w:{}}})}var n=r("8b1a")("meta"),o=r("7a41"),s=r("9c0e"),a=r("1a14").f,c=0,l=Object.isExtensible||function(){return!0},u=!r("4b8b")(function(){return l(Object.preventExtensions({}))}),h=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,n)){if(!l(t))return"F";if(!e)return"E";i(t)}return t[n].i},getWeak:function(t,e){if(!s(t,n)){if(!l(t))return!0;if(!e)return!1;i(t)}return t[n].w},onFreeze:function(t){return u&&h.NEED&&l(t)&&!s(t,n)&&i(t),t}}},e380:function(t,e,r){var i=r("7b83"),n="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(n);var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],o=r.cache;if(o.has(n))return o.get(n);var s=t.apply(this,i);return r.cache=o.set(n,s)||o,s};return r.cache=new(o.Cache||i),r}o.Cache=i,t.exports=o},e3db:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},e3f8:function(t,e,r){var i=r("656b");t.exports=function(t){return function(e){return i(e,t)}}},e444:function(t,e){t.exports=!0},e450:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},11:function(t,e){t.exports=r("f3ad")},111:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["el-input-number",t.inputNumberSize?"el-input-number--"+t.inputNumberSize:"",{"is-disabled":t.inputNumberDisabled},{"is-without-controls":!t.controls},{"is-controls-right":t.controlsAtRight}],on:{dragstart:function(t){t.preventDefault()}}},[t.controls?r("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":t.minDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.decrease(e):null}}},[r("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-down":"minus")})]):t._e(),t.controls?r("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":t.maxDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.increase(e):null}}},[r("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-up":"plus")})]):t._e(),r("el-input",{ref:"input",attrs:{value:t.displayValue,placeholder:t.placeholder,disabled:t.inputNumberDisabled,size:t.inputNumberSize,max:t.max,min:t.min,name:t.name,label:t.label},on:{blur:t.handleBlur,focus:t.handleFocus,input:t.handleInput,change:t.handleInputChange},nativeOn:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.increase(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.decrease(e)):null}]}})],1)}r.r(e),i._withStripped=!0;var n=r(11),o=r.n(n),s=r(22),a=r.n(s),c=r(30),l={name:"ElInputNumber",mixins:[a()("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:c.a},components:{ElInput:o.a},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(t){return 0<=t&&t===parseInt(t,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(t){var e=void 0===t?t:Number(t);if(void 0!==e){if(isNaN(e))return;if(this.stepStrictly){var r=this.getPrecision(this.step),i=Math.pow(10,r);e=Math.round(e/this.step)*i*this.step/i}void 0!==this.precision&&(e=this.toPrecision(e,this.precision))}e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),this.currentValue=e,this.userInput=null,this.$emit("input",e)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var t=this.value,e=this.step,r=this.getPrecision,i=this.precision,n=r(e);return void 0!==i?i:Math.max(r(t),n)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var t=this.currentValue;if("number"==typeof t){if(this.stepStrictly){var e=this.getPrecision(this.step),r=Math.pow(10,e);t=Math.round(t/this.step)*r*this.step/r}void 0!==this.precision&&(t=t.toFixed(this.precision))}return t}},methods:{toPrecision:function(t,e){return void 0===e&&(e=this.numPrecision),parseFloat(Math.round(t*Math.pow(10,e))/Math.pow(10,e))},getPrecision:function(t){if(void 0===t)return 0;var e=t.toString(),r=e.indexOf("."),i=0;return-1!==r&&(i=e.length-r-1),i},_increase:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var r=Math.pow(10,this.numPrecision);return this.toPrecision((r*t+r*e)/r)},_decrease:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var r=Math.pow(10,this.numPrecision);return this.toPrecision((r*t-r*e)/r)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var t=this.value||0,e=this._increase(t,this.step);this.setCurrentValue(e)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var t=this.value||0,e=this._decrease(t,this.step);this.setCurrentValue(e)}},handleBlur:function(t){this.$emit("blur",t)},handleFocus:function(t){this.$emit("focus",t)},setCurrentValue:function(t){var e=this.currentValue;"number"==typeof t&&void 0!==this.precision&&(t=this.toPrecision(t,this.precision)),t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),e!==t&&(this.userInput=null,this.$emit("input",t),this.$emit("change",t,e),this.currentValue=t)},handleInput:function(t){this.userInput=t},handleInputChange:function(t){var e=""===t?void 0:Number(t);isNaN(e)&&""!==t||this.setCurrentValue(e),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var t=this.$refs.input.$refs.input;t.setAttribute("role","spinbutton"),t.setAttribute("aria-valuemax",this.max),t.setAttribute("aria-valuemin",this.min),t.setAttribute("aria-valuenow",this.currentValue),t.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){this.$refs&&this.$refs.input&&this.$refs.input.$refs.input.setAttribute("aria-valuenow",this.currentValue)}},u=r(0),h=Object(u.a)(l,i,[],!1,null,null,null);h.options.__file="packages/input-number/src/input-number.vue";var f=h.exports;f.install=function(t){t.component(f.name,f)},e.default=f},2:function(t,e){t.exports=r("5924")},22:function(t,e){t.exports=r("12f2")},30:function(t,e,r){"use strict";var i=r(2);e.a={bind:function(t,e,r){function n(){return r.context[e.expression].apply()}function o(){Date.now()-a<100&&n(),clearInterval(s),s=null}var s=null,a=void 0;Object(i.on)(t,"mousedown",function(t){0===t.button&&(a=Date.now(),Object(i.once)(document,"mouseup",o),clearInterval(s),s=setInterval(n,100))})}}}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=111))},e452:function(t,e,r){"use strict";e.__esModule=!0;var i=i||{};i.Utils=i.Utils||{},i.Utils.focusFirstDescendant=function(t){for(var e=0;e<t.childNodes.length;e++){var r=t.childNodes[e];if(i.Utils.attemptFocus(r)||i.Utils.focusFirstDescendant(r))return!0}return!1},i.Utils.focusLastDescendant=function(t){for(var e=t.childNodes.length-1;0<=e;e--){var r=t.childNodes[e];if(i.Utils.attemptFocus(r)||i.Utils.focusLastDescendant(r))return!0}return!1},i.Utils.attemptFocus=function(t){if(!i.Utils.isFocusable(t))return!1;i.Utils.IgnoreUtilFocusChanges=!0;try{t.focus()}catch(t){}return i.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===t},i.Utils.isFocusable=function(t){if(0<t.tabIndex||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&"ignore"!==t.rel;case"INPUT":return"hidden"!==t.type&&"file"!==t.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},i.Utils.triggerEvent=function(t,e){var r=void 0;r=/^mouse|click/.test(e)?"MouseEvents":/^key/.test(e)?"KeyboardEvent":"HTMLEvents";for(var i=document.createEvent(r),n=arguments.length,o=Array(2<n?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s];return i.initEvent.apply(i,[e].concat(o)),t.dispatchEvent?t.dispatchEvent(i):t.fireEvent("on"+e,i),t},i.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27},e.default=i.Utils},e4a9:function(t,e,r){"use strict";function i(){return this}var n=r("b457"),o=r("d13f"),s=r("2312"),a=r("8ce0"),c=r("b22a"),l=r("5ce7"),u=r("c0d8"),h=r("ff0c"),f=r("1b55")("iterator"),m=!([].keys&&"next"in[].keys()),d="values";t.exports=function(t,e,r,p,_,g,v){function y(t){if(!m&&t in E)return E[t];switch(t){case"keys":case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}}l(r,e,p);var b,x,w,S=e+" Iterator",C=_==d,T=!1,E=t.prototype,O=E[f]||E["@@iterator"]||_&&E[_],k=O||y(_),A=_?C?y("entries"):k:void 0,M="Array"==e&&E.entries||O;if(M&&(w=h(M.call(new t)))!==Object.prototype&&w.next&&(u(w,S,!0),n||"function"==typeof w[f]||a(w,f,i)),C&&O&&O.name!==d&&(T=!0,k=function(){return O.call(this)}),n&&!v||!m&&!T&&E[f]||a(E,f,k),c[e]=k,c[S]=i,_)if(b={values:C?k:y(d),keys:g?k:y("keys"),entries:A},v)for(x in b)x in E||s(E,x,b[x]);else o(o.P+o.F*(m||T),e,b);return b}},e4e1:function(t,e,r){var i=r("27b2"),n=r("e830"),o=r("b938"),s=Object.defineProperty;e.f=r("45e2")?Object.defineProperty:function(t,e,r){if(i(t),e=o(e,!0),i(r),n)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},e507:function(t,e,r){var i=r("512c");i(i.S+i.F,"Object",{assign:r("072d")})},e523:function(t,e,r){var i=r("e4e1"),n=r("27b2"),o=r("9ed1");t.exports=r("45e2")?Object.defineProperties:function(t,e){n(t);for(var r,s=o(e),a=s.length,c=0;c<a;)i.f(t,r=s[c++],e[r]);return t}},e538:function(t,e,r){(function(t){var i=r("2b3e"),n=e&&!e.nodeType&&e,o=n&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===n?i.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,i=a?a(r):new t.constructor(r);return t.copy(i),i}}).call(this,r("62e4")(t))},e5fa:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},e612:function(t,e,r){},e62d:function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){if(o.default.prototype.$isServer)return 0;if(void 0!==s)return s;var t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var r=document.createElement("div");r.style.width="100%",t.appendChild(r);var i=r.offsetWidth;return t.parentNode.removeChild(t),s=e-i};var i,n=r("2b0e"),o=(i=n)&&i.__esModule?i:{default:i},s=void 0},e683:function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e6a1:function(t,e){t.exports=!1},e772:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},3:function(t,e){t.exports=r("8122")},33:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[r("span",[t._v(t._s(t.currentLabel))])])],2)}i._withStripped=!0;var n=r(4),o=r.n(n),s=r(3),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c={mixins:[o.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&0<this.select.multipleLimit}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var r=this.select,i=r.remote,n=r.valueKey;if(!this.created&&!i){if(n&&"object"===(void 0===t?"undefined":a(t))&&"object"===(void 0===e?"undefined":a(e))&&t[n]===e[n])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var r=this.select.valueKey;return Object(s.getValueByPath)(t,r)===Object(s.getValueByPath)(e,r)}return t===e},contains:function(t,e){var r=0<arguments.length&&void 0!==t?t:[],i=e;if(this.isObject){var n=this.select.valueKey;return r&&r.some(function(t){return Object(s.getValueByPath)(t,n)===Object(s.getValueByPath)(i,n)})}return r&&-1<r.indexOf(i)},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(s.escapeRegexpString)(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select.cachedOptions.indexOf(this);-1<t&&this.select.cachedOptions.splice(t,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},l=r(0),u=Object(l.a)(c,i,[],!1,null,null,null);u.options.__file="packages/select/src/option.vue",e.a=u.exports},4:function(t,e){t.exports=r("d010")},52:function(t,e,r){"use strict";r.r(e);var i=r(33);i.a.install=function(t){t.component(i.a.name,i.a)},e.default=i.a}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=52))},e814:function(t,e,r){t.exports=r("54aa")},e830:function(t,e,r){t.exports=!r("45e2")&&!r("b629")(function(){return 7!=Object.defineProperty(r("781f")("div"),"a",{get:function(){return 7}}).a})},e8530:function(t,e,r){var i=r("d3f4"),n=r("1169"),o=r("2b4c")("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},e960:function(t,e,r){},e974:function(t,e,r){"use strict";e.__esModule=!0;var i,n=r("2b0e"),o=(i=n)&&i.__esModule?i:{default:i},s=r("5128");function a(t){return t.stopPropagation()}var c=o.default.prototype.$isServer?function(){}:r("6167");e.default={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(t){this.showPopper=t,this.$emit("input",t)}},showPopper:function(t){this.disabled||(t?this.updatePopper():this.destroyPopper(),this.$emit("input",t))}},methods:{createPopper:function(){var t=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var e=this.popperOptions,r=this.popperElm=this.popperElm||this.popper||this.$refs.popper,i=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!i&&this.$slots.reference&&this.$slots.reference[0]&&(i=this.referenceElm=this.$slots.reference[0].elm),r&&i&&(this.visibleArrow&&this.appendArrow(r),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),e.placement=this.currentPlacement,e.offset=this.offset,e.arrowOffset=this.arrowOffset,this.popperJS=new c(i,r,e),this.popperJS.onCreate(function(e){t.$emit("created",t),t.resetTransformOrigin(),t.$nextTick(t.updatePopper)}),"function"==typeof e.onUpdate&&this.popperJS.onUpdate(e.onUpdate),this.popperJS._popper.style.zIndex=s.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",a))}},updatePopper:function(){var t=this.popperJS;t?(t.update(),t._popper&&(t._popper.style.zIndex=s.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(t){!this.popperJS||this.showPopper&&!t||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var t=this.popperJS._popper.getAttribute("x-placement").split("-")[0],e={top:"bottom",bottom:"top",left:"right",right:"left"}[t];this.popperJS._popper.style.transformOrigin="string"==typeof this.transformOrigin?this.transformOrigin:-1<["top","bottom"].indexOf(t)?"center "+e:e+" center"}},appendArrow:function(t){var e=void 0;if(!this.appended){for(var r in this.appended=!0,t.attributes)if(/^_v-/.test(t.attributes[r].name)){e=t.attributes[r].name;break}var i=document.createElement("div");e&&i.setAttribute(e,""),i.setAttribute("x-arrow",""),i.className="popper__arrow",t.appendChild(i)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",a),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},ea34:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},ea39:function(t,e,r){var i=r("bbc1"),n=r("7b25"),o=r("5a53"),s=0,a=4,c=36,l=Math.pow(c,a);function u(){return n((o()*l<<0).toString(c),a)}function h(){return s=s<l?s:0,++s-1}function f(){return"c"+(new Date).getTime().toString(c)+n(h().toString(c),a)+i()+(u()+u())}f.slug=function(){var t=(new Date).getTime().toString(36),e=h().toString(36).slice(-4),r=i().slice(0,1)+i().slice(-1),n=u().slice(-2);return t.slice(-2)+e+r+n},f.isCuid=function(t){return"string"==typeof t&&!!t.startsWith("c")},f.isSlug=function(t){if("string"!=typeof t)return!1;var e=t.length;return 7<=e&&e<=10},f.fingerprint=i,t.exports=f},eac5:function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},eb46:function(t,e,r){var i=r("bc25"),n=r("8bab"),o=r("0185"),s=r("a5ab"),a=r("bf06");t.exports=function(t,e){var r=1==t,c=2==t,l=3==t,u=4==t,h=6==t,f=5==t||h,m=e||a;return function(e,a,d){for(var p,_,g=o(e),v=n(g),y=i(a,d,3),b=s(v.length),x=0,w=r?m(e,b):c?m(e,0):void 0;x<b;x++)if((f||x in v)&&(_=y(p=v[x],x,g),t))if(r)w[x]=_;else if(_)switch(t){case 3:return!0;case 5:return p;case 6:return x;case 2:w.push(p)}else if(u)return!1;return h?-1:l||u?u:w}}},ebd6:function(t,e,r){var i=r("cb7c"),n=r("d8e8"),o=r("2b4c")("species");t.exports=function(t,e){var r,s=i(t).constructor;return void 0===s||null==(r=i(s)[o])?e:n(r)}},ec30:function(t,e,r){"use strict";if(r("9e1e")){var i=r("2d00"),n=r("7726"),o=r("79e5"),s=r("5ca1"),a=r("0f88"),c=r("ed0b"),l=r("9b43"),u=r("f605"),h=r("4630"),f=r("32e9"),m=r("dcbc"),d=r("4588"),p=r("9def"),_=r("09fa"),g=r("77f1"),v=r("6a99"),y=r("69a8"),b=r("23c6"),x=r("d3f4"),w=r("4bf8"),S=r("33a4"),C=r("2aeb"),T=r("38fd"),E=r("9093").f,O=r("27ee"),k=r("ca5a"),A=r("2b4c"),M=r("0a49"),P=r("c366"),D=r("ebd6"),j=r("cadf"),z=r("84f2"),I=r("5cc5"),R=r("7a56"),F=r("36bd"),L=r("ba92"),N=r("86cc"),B=r("11e9"),$=N.f,U=B.f,q=n.RangeError,H=n.TypeError,V=n.Uint8Array,X="ArrayBuffer",W="Shared"+X,Y="BYTES_PER_ELEMENT",G="prototype",K=Array[G],J=c.ArrayBuffer,Q=c.DataView,Z=M(0),tt=M(2),et=M(3),rt=M(4),it=M(5),nt=M(6),ot=P(!0),st=P(!1),at=j.values,ct=j.keys,lt=j.entries,ut=K.lastIndexOf,ht=K.reduce,ft=K.reduceRight,mt=K.join,dt=K.sort,pt=K.slice,_t=K.toString,gt=K.toLocaleString,vt=A("iterator"),yt=A("toStringTag"),bt=k("typed_constructor"),xt=k("def_constructor"),wt=a.CONSTR,St=a.TYPED,Ct=a.VIEW,Tt="Wrong length!",Et=M(1,function(t,e){return Pt(D(t,t[xt]),e)}),Ot=o(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),kt=!!V&&!!V[G].set&&o(function(){new V(1).set({})}),At=function(t,e){var r=d(t);if(r<0||r%e)throw q("Wrong offset!");return r},Mt=function(t){if(x(t)&&St in t)return t;throw H(t+" is not a typed array!")},Pt=function(t,e){if(!(x(t)&&bt in t))throw H("It is not a typed array constructor!");return new t(e)},Dt=function(t,e){return jt(D(t,t[xt]),e)},jt=function(t,e){for(var r=0,i=e.length,n=Pt(t,i);r<i;)n[r]=e[r++];return n},zt=function(t,e,r){$(t,e,{get:function(){return this._d[r]}})},It=function(t,e,r){var i,n,o,s,a,c,u=w(t),h=arguments.length,f=1<h?e:void 0,m=void 0!==f,d=O(u);if(null!=d&&!S(d)){for(c=d.call(u),o=[],i=0;!(a=c.next()).done;i++)o.push(a.value);u=o}for(m&&2<h&&(f=l(f,r,2)),i=0,n=p(u.length),s=Pt(this,n);i<n;i++)s[i]=m?f(u[i],i):u[i];return s},Rt=function(){for(var t=0,e=arguments.length,r=Pt(this,e);t<e;)r[t]=arguments[t++];return r},Ft=!!V&&o(function(){gt.call(new V(1))}),Lt=function(){return gt.apply(Ft?pt.call(Mt(this)):Mt(this),arguments)},Nt={copyWithin:function(t,e,r){return L.call(Mt(this),t,e,2<arguments.length?r:void 0)},every:function(t,e){return rt(Mt(this),t,1<arguments.length?e:void 0)},fill:function(t){return F.apply(Mt(this),arguments)},filter:function(t,e){return Dt(this,tt(Mt(this),t,1<arguments.length?e:void 0))},find:function(t,e){return it(Mt(this),t,1<arguments.length?e:void 0)},findIndex:function(t,e){return nt(Mt(this),t,1<arguments.length?e:void 0)},forEach:function(t,e){Z(Mt(this),t,1<arguments.length?e:void 0)},indexOf:function(t,e){return st(Mt(this),t,1<arguments.length?e:void 0)},includes:function(t,e){return ot(Mt(this),t,1<arguments.length?e:void 0)},join:function(t){return mt.apply(Mt(this),arguments)},lastIndexOf:function(t){return ut.apply(Mt(this),arguments)},map:function(t,e){return Et(Mt(this),t,1<arguments.length?e:void 0)},reduce:function(t){return ht.apply(Mt(this),arguments)},reduceRight:function(t){return ft.apply(Mt(this),arguments)},reverse:function(){for(var t,e=Mt(this).length,r=Math.floor(e/2),i=0;i<r;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t,e){return et(Mt(this),t,1<arguments.length?e:void 0)},sort:function(t){return dt.call(Mt(this),t)},subarray:function(t,e){var r=Mt(this),i=r.length,n=g(t,i);return new(D(r,r[xt]))(r.buffer,r.byteOffset+n*r.BYTES_PER_ELEMENT,p((void 0===e?i:g(e,i))-n))}},Bt=function(t,e){return Dt(this,pt.call(Mt(this),t,e))},$t=function(t,e){Mt(this);var r=At(e,1),i=this.length,n=w(t),o=p(n.length),s=0;if(i<o+r)throw q(Tt);for(;s<o;)this[r+s]=n[s++]},Ut={entries:function(){return lt.call(Mt(this))},keys:function(){return ct.call(Mt(this))},values:function(){return at.call(Mt(this))}},qt=function(t,e){return x(t)&&t[St]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ht=function(t,e){return qt(t,e=v(e,!0))?h(2,t[e]):U(t,e)},Vt=function(t,e,r){return!(qt(t,e=v(e,!0))&&x(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?$(t,e,r):(t[e]=r.value,t)};wt||(B.f=Ht,N.f=Vt),s(s.S+s.F*!wt,"Object",{getOwnPropertyDescriptor:Ht,defineProperty:Vt}),o(function(){_t.call({})})&&(_t=gt=function(){return mt.call(this)});var Xt=m({},Nt);m(Xt,Ut),f(Xt,vt,Ut.values),m(Xt,{slice:Bt,set:$t,constructor:function(){},toString:_t,toLocaleString:Lt}),zt(Xt,"buffer","b"),zt(Xt,"byteOffset","o"),zt(Xt,"byteLength","l"),zt(Xt,"length","e"),$(Xt,yt,{get:function(){return this[St]}}),t.exports=function(t,e,r,c){function l(t,r){$(t,r,{get:function(){return function(t,r){var i=t._d;return i.v[m](r*e+i.o,Ot)}(this,r)},set:function(t){return function(t,r,i){var n=t._d;c&&(i=(i=Math.round(i))<0?0:255<i?255:255&i),n.v[d](r*e+n.o,i,Ot)}(this,r,t)},enumerable:!0})}var h=t+((c=!!c)?"Clamped":"")+"Array",m="get"+t,d="set"+t,g=n[h],v=g||{},y=g&&T(g),w=!g||!a.ABV,S={},O=g&&g[G];w?(g=r(function(t,r,i,n){u(t,g,h,"_d");var o,s,a,c,m=0,d=0;if(x(r)){if(!(r instanceof J||(c=b(r))==X||c==W))return St in r?jt(g,r):It.call(g,r);o=r,d=At(i,e);var v=r.byteLength;if(void 0===n){if(v%e)throw q(Tt);if((s=v-d)<0)throw q(Tt)}else if(v<(s=p(n)*e)+d)throw q(Tt);a=s/e}else a=_(r),o=new J(s=a*e);for(f(t,"_d",{b:o,o:d,l:s,e:a,v:new Q(o)});m<a;)l(t,m++)}),O=g[G]=C(Xt),f(O,"constructor",g)):o(function(){g(1)})&&o(function(){new g(-1)})&&I(function(t){new g,new g(null),new g(1.5),new g(t)},!0)||(g=r(function(t,r,i,n){var o;return u(t,g,h),x(r)?r instanceof J||(o=b(r))==X||o==W?void 0!==n?new v(r,At(i,e),n):void 0!==i?new v(r,At(i,e)):new v(r):St in r?jt(g,r):It.call(g,r):new v(_(r))}),Z(y!==Function.prototype?E(v).concat(E(y)):E(v),function(t){t in g||f(g,t,v[t])}),g[G]=O,i||(O.constructor=g));var k=O[vt],A=!!k&&("values"==k.name||null==k.name),M=Ut.values;f(g,bt,!0),f(O,St,h),f(O,Ct,!0),f(O,xt,g),(c?new g(1)[yt]==h:yt in O)||$(O,yt,{get:function(){return h}}),S[h]=g,s(s.G+s.W+s.F*(g!=v),S),s(s.S,h,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o(function(){v.of.call(g,1)}),h,{from:It,of:Rt}),Y in O||f(O,Y,e),s(s.P,h,Nt),R(h),s(s.P+s.F*kt,h,{set:$t}),s(s.P+s.F*!A,h,Ut),i||O.toString==_t||(O.toString=_t),s(s.P+s.F*o(function(){new g(1).slice()}),h,{slice:Bt}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new g([1,2]).toLocaleString()})||!o(function(){O.toLocaleString.call([1,2])})),h,{toLocaleString:Lt}),z[h]=A?k:M,i||A||f(O,vt,M)}}else t.exports=function(){}},ec5b:function(t,e,r){r("e341");var i=r("a7d3").Object;t.exports=function(t,e,r){return i.defineProperty(t,e,r)}},ec69:function(t,e,r){var i=r("6fcd"),n=r("03dd"),o=r("30c9");t.exports=function(t){return o(t)?i(t):n(t)}},ec8c:function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},eca7:function(t,e,r){},ed0b:function(t,e,r){"use strict";var i=r("7726"),n=r("9e1e"),o=r("2d00"),s=r("0f88"),a=r("32e9"),c=r("dcbc"),l=r("79e5"),u=r("f605"),h=r("4588"),f=r("9def"),m=r("09fa"),d=r("9093").f,p=r("86cc").f,_=r("36bd"),g=r("7f20"),v="ArrayBuffer",y="DataView",b="prototype",x="Wrong index!",w=i[v],S=i[y],C=i.Math,T=i.RangeError,E=i.Infinity,O=w,k=C.abs,A=C.pow,M=C.floor,P=C.log,D=C.LN2,j="byteLength",z="byteOffset",I=n?"_b":"buffer",R=n?"_l":j,F=n?"_o":z;function L(t,e,r){var i,n,o,s=new Array(r),a=8*r-e-1,c=(1<<a)-1,l=c>>1,u=23===e?A(2,-24)-A(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=k(t))!=t||t===E?(n=t!=t?1:0,i=c):(i=M(P(t)/D),t*(o=A(2,-i))<1&&(i--,o*=2),2<=(t+=1<=i+l?u/o:u*A(2,1-l))*o&&(i++,o/=2),c<=i+l?(n=0,i=c):1<=i+l?(n=(t*o-1)*A(2,e),i+=l):(n=t*A(2,l-1)*A(2,e),i=0));8<=e;s[h++]=255&n,n/=256,e-=8);for(i=i<<e|n,a+=e;0<a;s[h++]=255&i,i/=256,a-=8);return s[--h]|=128*f,s}function N(t,e,r){var i,n=8*r-e-1,o=(1<<n)-1,s=o>>1,a=n-7,c=r-1,l=t[c--],u=127&l;for(l>>=7;0<a;u=256*u+t[c],c--,a-=8);for(i=u&(1<<-a)-1,u>>=-a,a+=e;0<a;i=256*i+t[c],c--,a-=8);if(0===u)u=1-s;else{if(u===o)return i?NaN:l?-E:E;i+=A(2,e),u-=s}return(l?-1:1)*i*A(2,u-e)}function B(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function $(t){return[255&t]}function U(t){return[255&t,t>>8&255]}function q(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function H(t){return L(t,52,8)}function V(t){return L(t,23,4)}function X(t,e,r){p(t[b],e,{get:function(){return this[r]}})}function W(t,e,r,i){var n=m(+r);if(n+e>t[R])throw T(x);var o=t[I]._b,s=n+t[F],a=o.slice(s,s+e);return i?a:a.reverse()}function Y(t,e,r,i,n,o){var s=m(+r);if(s+e>t[R])throw T(x);for(var a=t[I]._b,c=s+t[F],l=i(+n),u=0;u<e;u++)a[c+u]=l[o?u:e-u-1]}if(s.ABV){if(!l(function(){w(1)})||!l(function(){new w(-1)})||l(function(){return new w,new w(1.5),new w(NaN),w.name!=v})){for(var G,K=(w=function(t){return u(this,w),new O(m(t))})[b]=O[b],J=d(O),Q=0;J.length>Q;)(G=J[Q++])in w||a(w,G,O[G]);o||(K.constructor=w)}var Z=new S(new w(2)),tt=S[b].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||c(S[b],{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else w=function(t){u(this,w,v);var e=m(t);this._b=_.call(new Array(e),0),this[R]=e},S=function(t,e,r){u(this,S,y),u(t,w,y);var i=t[R],n=h(e);if(n<0||i<n)throw T("Wrong offset!");if(i<n+(r=void 0===r?i-n:f(r)))throw T("Wrong length!");this[I]=t,this[F]=n,this[R]=r},n&&(X(w,j,"_l"),X(S,"buffer","_b"),X(S,j,"_l"),X(S,z,"_o")),c(S[b],{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t,e){var r=W(this,2,t,e);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t,e){var r=W(this,2,t,e);return r[1]<<8|r[0]},getInt32:function(t,e){return B(W(this,4,t,e))},getUint32:function(t,e){return B(W(this,4,t,e))>>>0},getFloat32:function(t,e){return N(W(this,4,t,e),23,4)},getFloat64:function(t,e){return N(W(this,8,t,e),52,8)},setInt8:function(t,e){Y(this,1,t,$,e)},setUint8:function(t,e){Y(this,1,t,$,e)},setInt16:function(t,e,r){Y(this,2,t,U,e,r)},setUint16:function(t,e,r){Y(this,2,t,U,e,r)},setInt32:function(t,e,r){Y(this,4,t,q,e,r)},setUint32:function(t,e,r){Y(this,4,t,q,e,r)},setFloat32:function(t,e,r){Y(this,4,t,V,e,r)},setFloat64:function(t,e,r){Y(this,8,t,H,e,r)}});g(w,v),g(S,y),a(S[b],s.VIEW,!0),e[v]=w,e[y]=S},ed0f:function(t,e,r){function i(){}var n=r("27b2"),o=r("e523"),s=r("49c1"),a=r("be5a")("IE_PROTO"),c="prototype",l=function(){var t,e=r("781f")("iframe"),i=s.length;for(e.style.display="none",r("d8db").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l[c][s[i]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(i[c]=n(t),r=new i,i[c]=null,r[a]=t):r=l(),void 0===e?r:o(r,e)}},edb9:function(t,e,r){"use strict";var i=r("0780"),n=r("1fca");t.exports=r("f2f6")("Map",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{get:function(t){var e=i.getEntry(n(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(n(this,"Map"),0===t?0:t,e)}},i,!0)},edfa:function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,i){r[++e]=[i,t]}),r}},eec7:function(t,e,r){"use strict";var i=r("ed0f"),n=r("dcc3"),o=r("aab6"),s={};r("a0a8")(s,r("b67f")("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=i(s,{next:n(1,r)}),o(t,e+" Iterator")}},eed6:function(t,e,r){var i=r("2c66");t.exports=function(t){return t&&t.length?i(t):[]}},eedf:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},118:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?r("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?r("i",{class:t.icon}):t._e(),t.$slots.default?r("span",[t._t("default")],2):t._e()])}r.r(e),i._withStripped=!0;var n={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},o=r(0),s=Object(o.a)(n,i,[],!1,null,null,null);s.options.__file="packages/button/src/button.vue";var a=s.exports;a.install=function(t){t.component(a.name,a)},e.default=a}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=118))},eee55:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},ef08:function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},ef26:function(t,e){t.exports=function(t,e,r){var i=void 0===r;switch(e.length){case 0:return i?t():t.call(r);case 1:return i?t(e[0]):t.call(r,e[0]);case 2:return i?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},ef5d:function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},efb6:function(t,e,r){var i=r("5e2e");t.exports=function(){this.__data__=new i,this.size=0}},f0d9:function(t,e,r){"use strict";e.__esModule=!0,e.default={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"}}}},f159:function(t,e,r){var i=r("7d8a"),n=r("1b55")("iterator"),o=r("b22a");t.exports=r("a7d3").getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||o[i(t)]}},f26d:function(t,e,r){var i=r("a638"),n=r("b67f")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[n]===t)}},f2f6:function(t,e,r){"use strict";var i=r("da3c"),n=r("d13f"),o=r("6277"),s=r("d782"),a=r("8ce0"),c=r("3904"),l=r("560b"),u=r("b0bc"),h=r("6f8a"),f=r("c0d8"),m=r("3adc").f,d=r("eb46")(0),p=r("7d95");t.exports=function(t,e,r,_,g,v){var y=i[t],b=y,x=g?"set":"add",w=b&&b.prototype,S={};return p&&"function"==typeof b&&(v||w.forEach&&!s(function(){(new b).entries().next()}))?(b=e(function(e,r){u(e,b,t,"_c"),e._c=new y,null!=r&&l(r,g,e[x],e)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!v||"clear"!=t)&&a(b.prototype,t,function(r,i){if(u(this,b,t),!e&&v&&!h(r))return"get"==t&&void 0;var n=this._c[t](0===r?0:r,i);return e?this:n})}),v||m(b.prototype,"size",{get:function(){return this._c.size}})):(b=_.getConstructor(e,t,g,x),c(b.prototype,r),o.NEED=!0),f(b,t),S[t]=b,n(n.G+n.W+n.F,S),v||_.setStrong(b,t,g),b}},f2fe:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},f3ad:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},10:function(t,e){t.exports=r("2bb5")},21:function(t,e){t.exports=r("d397")},4:function(t,e){t.exports=r("d010")},74:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?r("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?r("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?r("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?r("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?r("span",{staticClass:"el-input__suffix"},[r("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?r("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?r("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(t){t.preventDefault()},click:t.clear}}):t._e(),t.showPwdVisible?r("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?r("span",{staticClass:"el-input__count"},[r("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?r("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?r("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:r("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?r("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)}r.r(e),i._withStripped=!0;var n=r(4),o=r.n(n),s=r(10),a=r.n(s),c=void 0,l=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function u(t,e,r){var i=1<arguments.length&&void 0!==e?e:1,n=2<arguments.length&&void 0!==r?r:null;c||(c=document.createElement("textarea"),document.body.appendChild(c));var o=function(t){var e=window.getComputedStyle(t),r=e.getPropertyValue("box-sizing"),i=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),n=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:l.map(function(t){return t+":"+e.getPropertyValue(t)}).join(";"),paddingSize:i,borderSize:n,boxSizing:r}}(t),s=o.paddingSize,a=o.borderSize,u=o.boxSizing,h=o.contextStyle;c.setAttribute("style",h+";\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n"),c.value=t.value||t.placeholder||"";var f=c.scrollHeight,m={};"border-box"===u?f+=a:"content-box"===u&&(f-=s),c.value="";var d=c.scrollHeight-s;if(null!==i){var p=d*i;"border-box"===u&&(p=p+s+a),f=Math.max(p,f),m.minHeight=p+"px"}if(null!==n){var _=d*n;"border-box"===u&&(_=_+s+a),f=Math.min(_,f)}return m.height=f+"px",c.parentNode&&c.parentNode.removeChild(c),c=null,m}var h=r(9),f=r.n(h),m=r(21),d={name:"ElInput",componentName:"ElInput",mixins:[o.a,a.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return f()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(t){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var t=this;this.$nextTick(function(){t.setNativeInputValue(),t.resizeTextarea(),t.updateIconOffset()})}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type)if(t){var e=t.minRows,r=t.maxRows;this.textareaCalcStyle=u(this.$refs.textarea,e,r)}else this.textareaCalcStyle={minHeight:u(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var t=this.getInput();t&&t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(t){var e=t.target.value,r=e[e.length-1]||"";this.isComposing=!Object(m.isKorean)(r)},handleCompositionEnd:function(t){this.isComposing&&(this.isComposing=!1,this.handleInput(t))},handleInput:function(t){this.isComposing||t.target.value!==this.nativeInputValue&&(this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(t){this.$emit("change",t.target.value)},calcIconOffset:function(t){var e=[].slice.call(this.$el.querySelectorAll(".el-input__"+t)||[]);if(e.length){for(var r=null,i=0;i<e.length;i++)if(e[i].parentNode===this.$el){r=e[i];break}if(r){var n={suffix:"append",prefix:"prepend"}[t];this.$slots[n]?r.style.transform="translateX("+("suffix"===t?"-":"")+this.$el.querySelector(".el-input-group__"+n).offsetWidth+"px)":r.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},p=r(0),_=Object(p.a)(d,i,[],!1,null,null,null);_.options.__file="packages/input/src/input.vue";var g=_.exports;g.install=function(t){t.component(g.name,g)},e.default=g},9:function(t,e){t.exports=r("7f4d")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=74))},f3c1:function(t,e){var r=Date.now;t.exports=function(t){var e=0,i=0;return function(){var n=r(),o=16-(n-i);if(i=n,0<o){if(800<=++e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},f3e0:function(t,e,r){var i=r("0185"),n=r("7633");r("c165")("keys",function(){return function(t){return n(i(t))}})},f494:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},115:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"el-radio",class:[t.border&&t.radioSize?"el-radio--"+t.radioSize:"",{"is-disabled":t.isDisabled},{"is-focus":t.focus},{"is-bordered":t.border},{"is-checked":t.model===t.label}],attrs:{role:"radio","aria-checked":t.model===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.model=t.isDisabled?t.model:t.label}}},[r("span",{staticClass:"el-radio__input",class:{"is-disabled":t.isDisabled,"is-checked":t.model===t.label}},[r("span",{staticClass:"el-radio__inner"}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{focus:function(e){t.focus=!0},blur:function(e){t.focus=!1},change:[function(e){t.model=t.label},t.handleChange]}})]),r("span",{staticClass:"el-radio__label",on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])}r.r(e),i._withStripped=!0;var n=r(4),o={name:"ElRadio",mixins:[r.n(n).a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){for(var t=this.$parent;t;){if("ElRadioGroup"===t.$options.componentName)return this._radioGroup=t,!0;t=t.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(t){this.isGroup?this.dispatch("ElRadioGroup","input",[t]):this.$emit("input",t),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||t},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.model),t.isGroup&&t.dispatch("ElRadioGroup","handleChange",t.model)})}}},s=r(0),a=Object(s.a)(o,i,[],!1,null,null,null);a.options.__file="packages/radio/src/radio.vue";var c=a.exports;c.install=function(t){t.component(c.name,c)},e.default=c},4:function(t,e){t.exports=r("d010")}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=115))},f499:function(t,e,r){t.exports=r("1c01")},f4d6:function(t,e,r){var i=r("ffd6");t.exports=function(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},f529:function(t,e,r){function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o;t.exports=(o={},i.m=n={0:function(t,e,r){"use strict";function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}r.d(e,"a",function(){return i})},14:function(t,e){t.exports=r("5128")},23:function(t,e){t.exports=r("41f8")},7:function(t,e){t.exports=r("2b0e")},73:function(t,e,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":t.handleAfterLeave}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["el-message",t.type&&!t.iconClass?"el-message--"+t.type:"",t.center?"is-center":"",t.showClose?"is-closable":"",t.customClass],style:t.positionStyle,attrs:{role:"alert"},on:{mouseenter:t.clearTimer,mouseleave:t.startTimer}},[t.iconClass?r("i",{class:t.iconClass}):r("i",{class:t.typeClass}),t._t("default",[t.dangerouslyUseHTMLString?r("p",{staticClass:"el-message__content",domProps:{innerHTML:t._s(t.message)}}):r("p",{staticClass:"el-message__content"},[t._v(t._s(t.message))])]),t.showClose?r("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:t.close}}):t._e()],2)])}r.r(e);var n=r(7),o=r.n(n);i._withStripped=!0;var s={success:"success",info:"info",warning:"warning",error:"error"},a={data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-"+s[this.type]:""},positionStyle:function(){return{top:this.verticalOffset+"px"}}},watch:{closed:function(t){t&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var t=this;0<this.duration&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration))},keydown:function(t){27===t.keyCode&&(this.closed||this.close())}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},c=r(0),l=Object(c.a)(a,i,[],!1,null,null,null);function u(t){if(!o.a.prototype.$isServer){"string"==typeof(t=t||{})&&(t={message:t});var e=t.onClose,r="message_"+g++;t.onClose=function(){u.close(r,e)},(p=new d({data:t})).id=r,Object(m.isVNode)(p.message)&&(p.$slots.default=[p.message],p.message=null),p.$mount(),document.body.appendChild(p.$el);var i=t.offset||20;return _.forEach(function(t){i+=t.$el.offsetHeight+16}),p.verticalOffset=i,p.visible=!0,p.$el.style.zIndex=f.PopupManager.nextZIndex(),_.push(p),p}}l.options.__file="packages/message/src/main.vue";var h=l.exports,f=r(14),m=r(23),d=o.a.extend(h),p=void 0,_=[],g=1;["success","warning","info","error"].forEach(function(t){u[t]=function(e){return"string"==typeof e&&(e={message:e}),e.type=t,u(e)}}),u.close=function(t,e){for(var r=_.length,i=-1,n=0;n<r;n++)if(t===_[n].id){i=n,"function"==typeof e&&e(_[n]),_.splice(n,1);break}if(!(r<=1||-1===i||i>_.length-1))for(var o=_[i].$el.offsetHeight,s=i;s<r-1;s++){var a=_[s].$el;a.style.top=parseInt(a.style.top,10)-o-16+"px"}},u.closeAll=function(){for(var t=_.length-1;0<=t;t--)_[t].close()};var v=u;e.default=v}},i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=73))},f559:function(t,e,r){"use strict";var i=r("5ca1"),n=r("9def"),o=r("d2c8"),s="startsWith",a=""[s];i(i.P+i.F*r("5147")(s),"String",{startsWith:function(t,e){var r=o(this,t,s),i=n(Math.min(1<arguments.length?e:void 0,r.length)),c=String(t);return a?a.call(r,c,i):r.slice(i,i+c.length)===c}})},f568:function(t,e,r){var i=r("3adc"),n=r("0f89"),o=r("7633");t.exports=r("7d95")?Object.defineProperties:function(t,e){n(t);for(var r,s=o(e),a=s.length,c=0;c<a;)i.f(t,r=s[c++],e[r]);return t}},f5df:function(t,e,r){},f605:function(t,e){t.exports=function(t,e,r,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(r+": incorrect invocation!");return t}},f608:function(t,e,r){var i=r("6747"),n=r("ffd6"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!n(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},f678:function(t,e,r){var i=r("8384"),n=r("b4b0");t.exports=function(t,e,r){return void 0===r&&(r=e,e=void 0),void 0!==r&&(r=(r=n(r))==r?r:0),void 0!==e&&(e=(e=n(e))==e?e:0),i(n(t),e,r)}},f6b4:function(t,e,r){"use strict";var i=r("c532");function n(){this.handlers=[]}n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=n},f6d7:function(t,e,r){var i=r("0f4a"),n=r("58b9"),o=r("cc1d")(!1),s=r("be5a")("IE_PROTO");t.exports=function(t,e){var r,a=n(t),c=0,l=[];for(r in a)r!=s&&i(a,r)&&l.push(r);for(;e.length>c;)i(a,r=e[c++])&&(~o(l,r)||l.push(r));return l}},f845:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},f893:function(t,e,r){t.exports={default:r("8119"),__esModule:!0}},f8af:function(t,e,r){var i=r("2474");t.exports=function(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}},f909:function(t,e,r){var i=r("7e64"),n=r("b760"),o=r("72af"),s=r("4f50"),a=r("1a8c"),c=r("9934"),l=r("8adb");t.exports=function t(e,r,u,h,f){e!==r&&o(r,function(o,c){if(a(o))f=f||new i,s(e,r,c,u,t,h,f);else{var m=h?h(l(e,c),o,c+"",e,r,f):void 0;void 0===m&&(m=o),n(e,c,m)}},c)}},f9ce:function(t,e,r){var i=r("ef5d"),n=r("e3f8"),o=r("f608"),s=r("f4d6");t.exports=function(t){return o(t)?i(s(t)):n(t)}},fa21:function(t,e,r){var i=r("7530"),n=r("2dcb"),o=r("eac5");t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:i(n(t))}},fa2d:function(t,e,r){"use strict";function i(){return this}var n=r("e6a1"),o=r("569f"),s=r("1f51"),a=r("a0a8"),c=r("a638"),l=r("eec7"),u=r("aab6"),h=r("c339"),f=r("b67f")("iterator"),m=!([].keys&&"next"in[].keys()),d="values";t.exports=function(t,e,r,p,_,g,v){function y(t){if(!m&&t in E)return E[t];switch(t){case"keys":case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}}l(r,e,p);var b,x,w,S=e+" Iterator",C=_==d,T=!1,E=t.prototype,O=E[f]||E["@@iterator"]||_&&E[_],k=O||y(_),A=_?C?y("entries"):k:void 0,M="Array"==e&&E.entries||O;if(M&&(w=h(M.call(new t)))!==Object.prototype&&w.next&&(u(w,S,!0),n||"function"==typeof w[f]||a(w,f,i)),C&&O&&O.name!==d&&(T=!0,k=function(){return O.call(this)}),n&&!v||!m&&!T&&E[f]||a(E,f,k),c[e]=k,c[S]=i,_)if(b={values:C?k:y(d),keys:g?k:y("keys"),entries:A},v)for(x in b)x in E||s(E,x,b[x]);else o(o.P+o.F*(m||T),e,b);return b}},fa54:function(t,e,r){"use strict";var i=r("b3e7"),n=r("245b"),o=r("b22a"),s=r("6a9b");t.exports=r("e4a9")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},fa5b:function(t,e,r){t.exports=r("5537")("native-function-to-string",Function.toString)},faa1:function(t,e,r){"use strict";var i,n="object"==typeof Reflect?Reflect:null,o=n&&"function"==typeof n.apply?n.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};i=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}((t.exports=a).EventEmitter=a).prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function u(t,e,r,i){var n,o,s;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),0<(n=l(t))&&s.length>n&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,console&&console.warn}return t}function h(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}.bind(i);return n.listener=r,i.wrapFn=n}function f(t,e,r){var i=t._events;if(void 0===i)return[];var n=i[e];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(n):d(n,n.length)}function m(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var s;if(0<e.length&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=n[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var l=c.length,u=d(c,l);for(r=0;r<l;++r)o(u[r],this,e)}return!0},a.prototype.on=a.prototype.addListener=function(t,e){return u(this,t,e,!1)},a.prototype.prependListener=function(t,e){return u(this,t,e,!0)},a.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,h(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,h(this,t,e)),this},a.prototype.off=a.prototype.removeListener=function(t,e){var r,i,n,o,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(i=this._events))return this;if(void 0===(r=i[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(n=-1,o=r.length-1;0<=o;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(i[t]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;0<=i;i--)this.removeListener(t,e[i]);return this},a.prototype.listeners=function(t){return f(this,t,!0)},a.prototype.rawListeners=function(t){return f(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return 0<this._eventsCount?i(this._events):[]}},fab2:function(t,e,r){var i=r("7726").document;t.exports=i&&i.documentElement},faf5:function(t,e,r){t.exports=!r("0bad")&&!r("4b8b")(function(){return 7!=Object.defineProperty(r("05f5")("div"),"a",{get:function(){return 7}}).a})},fba5:function(t,e,r){var i=r("cb5a");t.exports=function(t){return-1<i(this.__data__,t)}},fc5e:function(t,e){var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:r)(t)}},fcd4:function(t,e,r){e.f=r("cc15")},fda1:function(t,e,r){e.f=r("1b55")},fda6:function(t,e,r){r("f3e0"),t.exports=r("a7d3").Object.keys},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},fe07:function(t,e,r){},fed5:function(t,e){e.f=Object.getOwnPropertySymbols},ff0c:function(t,e,r){var i=r("43c8"),n=r("0185"),o=r("5d8f")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},ffd6:function(t,e,r){var i=r("3729"),n=r("1310");t.exports=function(t){return"symbol"==typeof t||n(t)&&"[object Symbol]"==i(t)}}}]);